function ip(e,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function op(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tm={exports:{}},ul={},sm={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fn=Symbol.for("react.element"),cp=Symbol.for("react.portal"),dp=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),xp=Symbol.for("react.provider"),pp=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),fp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),id=Symbol.iterator;function vp(e){return e===null||typeof e!="object"?null:(e=id&&e[id]||e["@@iterator"],typeof e=="function"?e:null)}var rm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nm=Object.assign,am={};function Tr(e,s,r){this.props=e,this.context=s,this.refs=am,this.updater=r||rm}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};Tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lm(){}lm.prototype=Tr.prototype;function Co(e,s,r){this.props=e,this.context=s,this.refs=am,this.updater=r||rm}var Eo=Co.prototype=new lm;Eo.constructor=Co;nm(Eo,Tr.prototype);Eo.isPureReactComponent=!0;var od=Array.isArray,im=Object.prototype.hasOwnProperty,Ao={current:null},om={key:!0,ref:!0,__self:!0,__source:!0};function cm(e,s,r){var n,a={},l=null,i=null;if(s!=null)for(n in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)im.call(s,n)&&!om.hasOwnProperty(n)&&(a[n]=s[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Fn,type:e,key:l,ref:i,props:a,_owner:Ao.current}}function bp(e,s){return{$$typeof:Fn,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function Ro(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fn}function jp(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var cd=/\/+/g;function Fl(e,s){return typeof e=="object"&&e!==null&&e.key!=null?jp(""+e.key):s.toString(36)}function va(e,s,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Fn:case cp:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Fl(i,0):n,od(a)?(r="",e!=null&&(r=e.replace(cd,"$&/")+"/"),va(a,s,r,"",function(u){return u})):a!=null&&(Ro(a)&&(a=bp(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(cd,"$&/")+"/")+e)),s.push(a)),1;if(i=0,n=n===""?".":n+":",od(e))for(var o=0;o<e.length;o++){l=e[o];var c=n+Fl(l,o);i+=va(l,s,r,c,a)}else if(c=vp(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=n+Fl(l,o++),i+=va(l,s,r,c,a);else if(l==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function Jn(e,s,r){if(e==null)return e;var n=[],a=0;return va(e,n,"","",function(l){return s.call(r,l,a++)}),n}function Np(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},ba={transition:null},wp={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ba,ReactCurrentOwner:Ao};function dm(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Jn,forEach:function(e,s,r){Jn(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return Jn(e,function(){s++}),s},toArray:function(e){return Jn(e,function(s){return s})||[]},only:function(e){if(!Ro(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Tr;Q.Fragment=dp;Q.Profiler=mp;Q.PureComponent=Co;Q.StrictMode=up;Q.Suspense=gp;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wp;Q.act=dm;Q.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nm({},e.props),a=e.key,l=e.ref,i=e._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=Ao.current),s.key!==void 0&&(a=""+s.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in s)im.call(s,c)&&!om.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Fn,type:e.type,key:a,ref:l,props:n,_owner:i}};Q.createContext=function(e){return e={$$typeof:pp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xp,_context:e},e.Consumer=e};Q.createElement=cm;Q.createFactory=function(e){var s=cm.bind(null,e);return s.type=e,s};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:hp,render:e}};Q.isValidElement=Ro;Q.lazy=function(e){return{$$typeof:yp,_payload:{_status:-1,_result:e},_init:Np}};Q.memo=function(e,s){return{$$typeof:fp,type:e,compare:s===void 0?null:s}};Q.startTransition=function(e){var s=ba.transition;ba.transition={};try{e()}finally{ba.transition=s}};Q.unstable_act=dm;Q.useCallback=function(e,s){return Be.current.useCallback(e,s)};Q.useContext=function(e){return Be.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};Q.useEffect=function(e,s){return Be.current.useEffect(e,s)};Q.useId=function(){return Be.current.useId()};Q.useImperativeHandle=function(e,s,r){return Be.current.useImperativeHandle(e,s,r)};Q.useInsertionEffect=function(e,s){return Be.current.useInsertionEffect(e,s)};Q.useLayoutEffect=function(e,s){return Be.current.useLayoutEffect(e,s)};Q.useMemo=function(e,s){return Be.current.useMemo(e,s)};Q.useReducer=function(e,s,r){return Be.current.useReducer(e,s,r)};Q.useRef=function(e){return Be.current.useRef(e)};Q.useState=function(e){return Be.current.useState(e)};Q.useSyncExternalStore=function(e,s,r){return Be.current.useSyncExternalStore(e,s,r)};Q.useTransition=function(){return Be.current.useTransition()};Q.version="18.3.1";sm.exports=Q;var v=sm.exports;const Po=op(v),kp=ip({__proto__:null,default:Po},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=v,_p=Symbol.for("react.element"),Cp=Symbol.for("react.fragment"),Ep=Object.prototype.hasOwnProperty,Ap=Sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rp={key:!0,ref:!0,__self:!0,__source:!0};function um(e,s,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(n in s)Ep.call(s,n)&&!Rp.hasOwnProperty(n)&&(a[n]=s[n]);if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:_p,type:e,key:l,ref:i,props:a,_owner:Ap.current}}ul.Fragment=Cp;ul.jsx=um;ul.jsxs=um;tm.exports=ul;var t=tm.exports,bi={},mm={exports:{}},nt={},xm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s($,P){var M=$.length;$.push(P);e:for(;0<M;){var z=M-1>>>1,H=$[z];if(0<a(H,P))$[z]=P,$[M]=H,M=z;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var P=$[0],M=$.pop();if(M!==P){$[0]=M;e:for(var z=0,H=$.length,ee=H>>>1;z<ee;){var re=2*(z+1)-1,Ve=$[re],W=re+1,Le=$[W];if(0>a(Ve,M))W<H&&0>a(Le,Ve)?($[z]=Le,$[W]=M,z=W):($[z]=Ve,$[re]=M,z=re);else if(W<H&&0>a(Le,M))$[z]=Le,$[W]=M,z=W;else break e}}return P}function a($,P){var M=$.sortIndex-P.sortIndex;return M!==0?M:$.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,p=null,y=3,b=!1,h=!1,g=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f($){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=$)n(u),P.sortIndex=P.expirationTime,s(c,P);else break;P=r(u)}}function k($){if(g=!1,f($),!h)if(r(c)!==null)h=!0,Z(C);else{var P=r(u);P!==null&&ue(k,P.startTime-$)}}function C($,P){h=!1,g&&(g=!1,m(N),N=-1),b=!0;var M=y;try{for(f(P),p=r(c);p!==null&&(!(p.expirationTime>P)||$&&!S());){var z=p.callback;if(typeof z=="function"){p.callback=null,y=p.priorityLevel;var H=z(p.expirationTime<=P);P=e.unstable_now(),typeof H=="function"?p.callback=H:p===r(c)&&n(c),f(P)}else n(c);p=r(c)}if(p!==null)var ee=!0;else{var re=r(u);re!==null&&ue(k,re.startTime-P),ee=!1}return ee}finally{p=null,y=M,b=!1}}var _=!1,w=null,N=-1,E=5,A=-1;function S(){return!(e.unstable_now()-A<E)}function U(){if(w!==null){var $=e.unstable_now();A=$;var P=!0;try{P=w(!0,$)}finally{P?I():(_=!1,w=null)}}else _=!1}var I;if(typeof x=="function")I=function(){x(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=U,I=function(){V.postMessage(null)}}else I=function(){j(U,0)};function Z($){w=$,_||(_=!0,I())}function ue($,P){N=j(function(){$(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){h||b||(h=!0,Z(C))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(y){case 1:case 2:case 3:var P=3;break;default:P=y}var M=y;y=P;try{return $()}finally{y=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,P){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var M=y;y=$;try{return P()}finally{y=M}},e.unstable_scheduleCallback=function($,P,M){var z=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?z+M:z):M=z,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=M+H,$={id:d++,callback:P,priorityLevel:$,startTime:M,expirationTime:H,sortIndex:-1},M>z?($.sortIndex=M,s(u,$),r(c)===null&&$===r(u)&&(g?(m(N),N=-1):g=!0,ue(k,M-z))):($.sortIndex=H,s(c,$),h||b||(h=!0,Z(C))),$},e.unstable_shouldYield=S,e.unstable_wrapCallback=function($){var P=y;return function(){var M=y;y=P;try{return $.apply(this,arguments)}finally{y=M}}}})(pm);xm.exports=pm;var Pp=xm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp=v,rt=Pp;function D(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hm=new Set,pn={};function Gs(e,s){Nr(e,s),Nr(e+"Capture",s)}function Nr(e,s){for(pn[e]=s,e=0;e<s.length;e++)hm.add(s[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ji=Object.prototype.hasOwnProperty,Tp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dd={},ud={};function Mp(e){return ji.call(ud,e)?!0:ji.call(dd,e)?!1:Tp.test(e)?ud[e]=!0:(dd[e]=!0,!1)}function Op(e,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ip(e,s,r,n){if(s===null||typeof s>"u"||Op(e,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function He(e,s,r,n,a,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];Pe[s]=new He(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lo=/[\-:]([a-z])/g;function To(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(Lo,To);Pe[s]=new He(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(Lo,To);Pe[s]=new He(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(Lo,To);Pe[s]=new He(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mo(e,s,r,n){var a=Pe.hasOwnProperty(s)?Pe[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(Ip(s,r,a,n)&&(r=null),n||a===null?Mp(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,s,r):e.setAttribute(s,r))))}var Qt=Lp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yn=Symbol.for("react.element"),er=Symbol.for("react.portal"),tr=Symbol.for("react.fragment"),Oo=Symbol.for("react.strict_mode"),Ni=Symbol.for("react.profiler"),gm=Symbol.for("react.provider"),fm=Symbol.for("react.context"),Io=Symbol.for("react.forward_ref"),wi=Symbol.for("react.suspense"),ki=Symbol.for("react.suspense_list"),Do=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),ym=Symbol.for("react.offscreen"),md=Symbol.iterator;function Br(e){return e===null||typeof e!="object"?null:(e=md&&e[md]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,$l;function Zr(e){if($l===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);$l=s&&s[1]||""}return`
`+$l+e}var Ul=!1;function zl(e,s){if(!e||Ul)return"";Ul=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(u){var n=u}Reflect.construct(e,[],s)}else{try{s.call()}catch(u){n=u}e.call(s.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Ul=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zr(e):""}function Dp(e){switch(e.tag){case 5:return Zr(e.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 2:case 15:return e=zl(e.type,!1),e;case 11:return e=zl(e.type.render,!1),e;case 1:return e=zl(e.type,!0),e;default:return""}}function Si(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tr:return"Fragment";case er:return"Portal";case Ni:return"Profiler";case Oo:return"StrictMode";case wi:return"Suspense";case ki:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fm:return(e.displayName||"Context")+".Consumer";case gm:return(e._context.displayName||"Context")+".Provider";case Io:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Do:return s=e.displayName||null,s!==null?s:Si(e.type)||"Memo";case Jt:s=e._payload,e=e._init;try{return Si(e(s))}catch{}}return null}function Fp(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Si(s);case 8:return s===Oo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ms(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vm(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $p(e){var s=vm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),n=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Xn(e){e._valueTracker||(e._valueTracker=$p(e))}function bm(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return e&&(n=vm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(s.setValue(e),!0):!1}function Da(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _i(e,s){var r=s.checked;return pe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function xd(e,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=ms(s.value!=null?s.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function jm(e,s){s=s.checked,s!=null&&Mo(e,"checked",s,!1)}function Ci(e,s){jm(e,s);var r=ms(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?Ei(e,s.type,r):s.hasOwnProperty("defaultValue")&&Ei(e,s.type,ms(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function pd(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ei(e,s,r){(s!=="number"||Da(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var en=Array.isArray;function xr(e,s,r,n){if(e=e.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=s.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ms(r),s=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}s!==null||e[a].disabled||(s=e[a])}s!==null&&(s.selected=!0)}}function Ai(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(D(91));return pe({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hd(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(D(92));if(en(r)){if(1<r.length)throw Error(D(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:ms(r)}}function Nm(e,s){var r=ms(s.value),n=ms(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gd(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function wm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ri(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?wm(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zn,km=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(s,r,n,a)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Zn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function hn(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Up=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(e){Up.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),nn[s]=nn[e]})});function Sm(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||nn.hasOwnProperty(e)&&nn[e]?(""+s).trim():s+"px"}function _m(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Sm(r,s[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var zp=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pi(e,s){if(s){if(zp[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(D(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(D(61))}if(s.style!=null&&typeof s.style!="object")throw Error(D(62))}}function Li(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ti=null;function Fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mi=null,pr=null,hr=null;function fd(e){if(e=zn(e)){if(typeof Mi!="function")throw Error(D(280));var s=e.stateNode;s&&(s=gl(s),Mi(e.stateNode,e.type,s))}}function Cm(e){pr?hr?hr.push(e):hr=[e]:pr=e}function Em(){if(pr){var e=pr,s=hr;if(hr=pr=null,fd(e),s)for(e=0;e<s.length;e++)fd(s[e])}}function Am(e,s){return e(s)}function Rm(){}var Bl=!1;function Pm(e,s,r){if(Bl)return e(s,r);Bl=!0;try{return Am(e,s,r)}finally{Bl=!1,(pr!==null||hr!==null)&&(Rm(),Em())}}function gn(e,s){var r=e.stateNode;if(r===null)return null;var n=gl(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,s,typeof r));return r}var Oi=!1;if(Bt)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Oi=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Oi=!1}function Bp(e,s,r,n,a,l,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{s.apply(r,u)}catch(d){this.onError(d)}}var an=!1,Fa=null,$a=!1,Ii=null,Hp={onError:function(e){an=!0,Fa=e}};function Vp(e,s,r,n,a,l,i,o,c){an=!1,Fa=null,Bp.apply(Hp,arguments)}function qp(e,s,r,n,a,l,i,o,c){if(Vp.apply(this,arguments),an){if(an){var u=Fa;an=!1,Fa=null}else throw Error(D(198));$a||($a=!0,Ii=u)}}function Qs(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function Lm(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function yd(e){if(Qs(e)!==e)throw Error(D(188))}function Wp(e){var s=e.alternate;if(!s){if(s=Qs(e),s===null)throw Error(D(188));return s!==e?null:e}for(var r=e,n=s;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return yd(a),e;if(l===n)return yd(a),s;l=l.sibling}throw Error(D(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:s}function Tm(e){return e=Wp(e),e!==null?Mm(e):null}function Mm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=Mm(e);if(s!==null)return s;e=e.sibling}return null}var Om=rt.unstable_scheduleCallback,vd=rt.unstable_cancelCallback,Gp=rt.unstable_shouldYield,Qp=rt.unstable_requestPaint,ge=rt.unstable_now,Kp=rt.unstable_getCurrentPriorityLevel,$o=rt.unstable_ImmediatePriority,Im=rt.unstable_UserBlockingPriority,Ua=rt.unstable_NormalPriority,Jp=rt.unstable_LowPriority,Dm=rt.unstable_IdlePriority,ml=null,Rt=null;function Yp(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(ml,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:eh,Xp=Math.log,Zp=Math.LN2;function eh(e){return e>>>=0,e===0?32:31-(Xp(e)/Zp|0)|0}var ea=64,ta=4194304;function tn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function za(e,s){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=tn(o):(l&=i,l!==0&&(n=tn(l)))}else i=r&~a,i!==0?n=tn(i):l!==0&&(n=tn(l));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,l=s&-s,a>=l||a===16&&(l&4194240)!==0))return s;if(n&4&&(n|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=n;0<s;)r=31-bt(s),a=1<<r,n|=e[r],s&=~a;return n}function th(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sh(e,s){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-bt(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=th(o,s)):c<=s&&(e.expiredLanes|=o),l&=~o}}function Di(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fm(){var e=ea;return ea<<=1,!(ea&4194240)&&(ea=64),e}function Hl(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function $n(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-bt(s),e[s]=r}function rh(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-bt(r),l=1<<a;s[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function Uo(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var n=31-bt(r),a=1<<n;a&s|e[n]&s&&(e[n]|=s),r&=~a}}var te=0;function $m(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Um,zo,zm,Bm,Hm,Fi=!1,sa=[],rs=null,ns=null,as=null,fn=new Map,yn=new Map,Xt=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bd(e,s){switch(e){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":fn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(s.pointerId)}}function Vr(e,s,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},s!==null&&(s=zn(s),s!==null&&zo(s)),e):(e.eventSystemFlags|=n,s=e.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),e)}function ah(e,s,r,n,a){switch(s){case"focusin":return rs=Vr(rs,e,s,r,n,a),!0;case"dragenter":return ns=Vr(ns,e,s,r,n,a),!0;case"mouseover":return as=Vr(as,e,s,r,n,a),!0;case"pointerover":var l=a.pointerId;return fn.set(l,Vr(fn.get(l)||null,e,s,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,yn.set(l,Vr(yn.get(l)||null,e,s,r,n,a)),!0}return!1}function Vm(e){var s=_s(e.target);if(s!==null){var r=Qs(s);if(r!==null){if(s=r.tag,s===13){if(s=Lm(r),s!==null){e.blockedOn=s,Hm(e.priority,function(){zm(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ja(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=$i(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ti=n,r.target.dispatchEvent(n),Ti=null}else return s=zn(r),s!==null&&zo(s),e.blockedOn=r,!1;s.shift()}return!0}function jd(e,s,r){ja(e)&&r.delete(s)}function lh(){Fi=!1,rs!==null&&ja(rs)&&(rs=null),ns!==null&&ja(ns)&&(ns=null),as!==null&&ja(as)&&(as=null),fn.forEach(jd),yn.forEach(jd)}function qr(e,s){e.blockedOn===s&&(e.blockedOn=null,Fi||(Fi=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,lh)))}function vn(e){function s(a){return qr(a,e)}if(0<sa.length){qr(sa[0],e);for(var r=1;r<sa.length;r++){var n=sa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(rs!==null&&qr(rs,e),ns!==null&&qr(ns,e),as!==null&&qr(as,e),fn.forEach(s),yn.forEach(s),r=0;r<Xt.length;r++)n=Xt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xt.length&&(r=Xt[0],r.blockedOn===null);)Vm(r),r.blockedOn===null&&Xt.shift()}var gr=Qt.ReactCurrentBatchConfig,Ba=!0;function ih(e,s,r,n){var a=te,l=gr.transition;gr.transition=null;try{te=1,Bo(e,s,r,n)}finally{te=a,gr.transition=l}}function oh(e,s,r,n){var a=te,l=gr.transition;gr.transition=null;try{te=4,Bo(e,s,r,n)}finally{te=a,gr.transition=l}}function Bo(e,s,r,n){if(Ba){var a=$i(e,s,r,n);if(a===null)Zl(e,s,n,Ha,r),bd(e,n);else if(ah(a,e,s,r,n))n.stopPropagation();else if(bd(e,n),s&4&&-1<nh.indexOf(e)){for(;a!==null;){var l=zn(a);if(l!==null&&Um(l),l=$i(e,s,r,n),l===null&&Zl(e,s,n,Ha,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Zl(e,s,n,null,r)}}var Ha=null;function $i(e,s,r,n){if(Ha=null,e=Fo(n),e=_s(e),e!==null)if(s=Qs(e),s===null)e=null;else if(r=s.tag,r===13){if(e=Lm(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return Ha=e,null}function qm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kp()){case $o:return 1;case Im:return 4;case Ua:case Jp:return 16;case Dm:return 536870912;default:return 16}default:return 16}}var es=null,Ho=null,Na=null;function Wm(){if(Na)return Na;var e,s=Ho,r=s.length,n,a="value"in es?es.value:es.textContent,l=a.length;for(e=0;e<r&&s[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&s[r-n]===a[l-n];n++);return Na=a.slice(e,1<n?1-n:void 0)}function wa(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function ra(){return!0}function Nd(){return!1}function at(e){function s(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ra:Nd,this.isPropagationStopped=Nd,this}return pe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),s}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=at(Mr),Un=pe({},Mr,{view:0,detail:0}),ch=at(Un),Vl,ql,Wr,xl=pe({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wr&&(Wr&&e.type==="mousemove"?(Vl=e.screenX-Wr.screenX,ql=e.screenY-Wr.screenY):ql=Vl=0,Wr=e),Vl)},movementY:function(e){return"movementY"in e?e.movementY:ql}}),wd=at(xl),dh=pe({},xl,{dataTransfer:0}),uh=at(dh),mh=pe({},Un,{relatedTarget:0}),Wl=at(mh),xh=pe({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),ph=at(xh),hh=pe({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gh=at(hh),fh=pe({},Mr,{data:0}),kd=at(fh),yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jh(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=bh[e])?!!s[e]:!1}function qo(){return jh}var Nh=pe({},Un,{key:function(e){if(e.key){var s=yh[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qo,charCode:function(e){return e.type==="keypress"?wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wh=at(Nh),kh=pe({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=at(kh),Sh=pe({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qo}),_h=at(Sh),Ch=pe({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eh=at(Ch),Ah=pe({},xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rh=at(Ah),Ph=[9,13,27,32],Wo=Bt&&"CompositionEvent"in window,ln=null;Bt&&"documentMode"in document&&(ln=document.documentMode);var Lh=Bt&&"TextEvent"in window&&!ln,Gm=Bt&&(!Wo||ln&&8<ln&&11>=ln),_d=" ",Cd=!1;function Qm(e,s){switch(e){case"keyup":return Ph.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Km(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function Th(e,s){switch(e){case"compositionend":return Km(s);case"keypress":return s.which!==32?null:(Cd=!0,_d);case"textInput":return e=s.data,e===_d&&Cd?null:e;default:return null}}function Mh(e,s){if(sr)return e==="compositionend"||!Wo&&Qm(e,s)?(e=Wm(),Na=Ho=es=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gm&&s.locale!=="ko"?null:s.data;default:return null}}var Oh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Oh[e.type]:s==="textarea"}function Jm(e,s,r,n){Cm(n),s=Va(s,"onChange"),0<s.length&&(r=new Vo("onChange","change",null,r,n),e.push({event:r,listeners:s}))}var on=null,bn=null;function Ih(e){ix(e,0)}function pl(e){var s=ar(e);if(bm(s))return e}function Dh(e,s){if(e==="change")return s}var Ym=!1;if(Bt){var Gl;if(Bt){var Ql="oninput"in document;if(!Ql){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),Ql=typeof Ad.oninput=="function"}Gl=Ql}else Gl=!1;Ym=Gl&&(!document.documentMode||9<document.documentMode)}function Rd(){on&&(on.detachEvent("onpropertychange",Xm),bn=on=null)}function Xm(e){if(e.propertyName==="value"&&pl(bn)){var s=[];Jm(s,bn,e,Fo(e)),Pm(Ih,s)}}function Fh(e,s,r){e==="focusin"?(Rd(),on=s,bn=r,on.attachEvent("onpropertychange",Xm)):e==="focusout"&&Rd()}function $h(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pl(bn)}function Uh(e,s){if(e==="click")return pl(s)}function zh(e,s){if(e==="input"||e==="change")return pl(s)}function Bh(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var kt=typeof Object.is=="function"?Object.is:Bh;function jn(e,s){if(kt(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ji.call(s,a)||!kt(e[a],s[a]))return!1}return!0}function Pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,s){var r=Pd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=s&&n>=s)return{node:r,offset:s-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pd(r)}}function Zm(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Zm(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function ex(){for(var e=window,s=Da();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=Da(e.document)}return s}function Go(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Hh(e){var s=ex(),r=e.focusedElem,n=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&Zm(r.ownerDocument.documentElement,r)){if(n!==null&&Go(r)){if(s=n.start,e=n.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=Ld(r,l);var i=Ld(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(s),e.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vh=Bt&&"documentMode"in document&&11>=document.documentMode,rr=null,Ui=null,cn=null,zi=!1;function Td(e,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zi||rr==null||rr!==Da(n)||(n=rr,"selectionStart"in n&&Go(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cn&&jn(cn,n)||(cn=n,n=Va(Ui,"onSelect"),0<n.length&&(s=new Vo("onSelect","select",null,s,r),e.push({event:s,listeners:n}),s.target=rr)))}function na(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var nr={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},Kl={},tx={};Bt&&(tx=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function hl(e){if(Kl[e])return Kl[e];if(!nr[e])return e;var s=nr[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in tx)return Kl[e]=s[r];return e}var sx=hl("animationend"),rx=hl("animationiteration"),nx=hl("animationstart"),ax=hl("transitionend"),lx=new Map,Md="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(e,s){lx.set(e,s),Gs(s,[e])}for(var Jl=0;Jl<Md.length;Jl++){var Yl=Md[Jl],qh=Yl.toLowerCase(),Wh=Yl[0].toUpperCase()+Yl.slice(1);hs(qh,"on"+Wh)}hs(sx,"onAnimationEnd");hs(rx,"onAnimationIteration");hs(nx,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(ax,"onTransitionEnd");Nr("onMouseEnter",["mouseout","mouseover"]);Nr("onMouseLeave",["mouseout","mouseover"]);Nr("onPointerEnter",["pointerout","pointerover"]);Nr("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gh=new Set("cancel close invalid load scroll toggle".split(" ").concat(sn));function Od(e,s,r){var n=e.type||"unknown-event";e.currentTarget=r,qp(n,s,void 0,e),e.currentTarget=null}function ix(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(s)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;Od(a,o,u),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;Od(a,o,u),l=c}}}if($a)throw e=Ii,$a=!1,Ii=null,e}function le(e,s){var r=s[Wi];r===void 0&&(r=s[Wi]=new Set);var n=e+"__bubble";r.has(n)||(ox(s,e,2,!1),r.add(n))}function Xl(e,s,r){var n=0;s&&(n|=4),ox(r,e,n,s)}var aa="_reactListening"+Math.random().toString(36).slice(2);function Nn(e){if(!e[aa]){e[aa]=!0,hm.forEach(function(r){r!=="selectionchange"&&(Gh.has(r)||Xl(r,!1,e),Xl(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[aa]||(s[aa]=!0,Xl("selectionchange",!1,s))}}function ox(e,s,r,n){switch(qm(s)){case 1:var a=ih;break;case 4:a=oh;break;default:a=Bo}r=a.bind(null,s,r,e),a=void 0,!Oi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(s,r,{capture:!0,passive:a}):e.addEventListener(s,r,!0):a!==void 0?e.addEventListener(s,r,{passive:a}):e.addEventListener(s,r,!1)}function Zl(e,s,r,n,a){var l=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=_s(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}Pm(function(){var u=l,d=Fo(r),p=[];e:{var y=lx.get(e);if(y!==void 0){var b=Vo,h=e;switch(e){case"keypress":if(wa(r)===0)break e;case"keydown":case"keyup":b=wh;break;case"focusin":h="focus",b=Wl;break;case"focusout":h="blur",b=Wl;break;case"beforeblur":case"afterblur":b=Wl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=_h;break;case sx:case rx:case nx:b=ph;break;case ax:b=Eh;break;case"scroll":b=ch;break;case"wheel":b=Rh;break;case"copy":case"cut":case"paste":b=gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Sd}var g=(s&4)!==0,j=!g&&e==="scroll",m=g?y!==null?y+"Capture":null:y;g=[];for(var x=u,f;x!==null;){f=x;var k=f.stateNode;if(f.tag===5&&k!==null&&(f=k,m!==null&&(k=gn(x,m),k!=null&&g.push(wn(x,k,f)))),j)break;x=x.return}0<g.length&&(y=new b(y,h,null,r,d),p.push({event:y,listeners:g}))}}if(!(s&7)){e:{if(y=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",y&&r!==Ti&&(h=r.relatedTarget||r.fromElement)&&(_s(h)||h[Ht]))break e;if((b||y)&&(y=d.window===d?d:(y=d.ownerDocument)?y.defaultView||y.parentWindow:window,b?(h=r.relatedTarget||r.toElement,b=u,h=h?_s(h):null,h!==null&&(j=Qs(h),h!==j||h.tag!==5&&h.tag!==6)&&(h=null)):(b=null,h=u),b!==h)){if(g=wd,k="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=Sd,k="onPointerLeave",m="onPointerEnter",x="pointer"),j=b==null?y:ar(b),f=h==null?y:ar(h),y=new g(k,x+"leave",b,r,d),y.target=j,y.relatedTarget=f,k=null,_s(d)===u&&(g=new g(m,x+"enter",h,r,d),g.target=f,g.relatedTarget=j,k=g),j=k,b&&h)t:{for(g=b,m=h,x=0,f=g;f;f=Zs(f))x++;for(f=0,k=m;k;k=Zs(k))f++;for(;0<x-f;)g=Zs(g),x--;for(;0<f-x;)m=Zs(m),f--;for(;x--;){if(g===m||m!==null&&g===m.alternate)break t;g=Zs(g),m=Zs(m)}g=null}else g=null;b!==null&&Id(p,y,b,g,!1),h!==null&&j!==null&&Id(p,j,h,g,!0)}}e:{if(y=u?ar(u):window,b=y.nodeName&&y.nodeName.toLowerCase(),b==="select"||b==="input"&&y.type==="file")var C=Dh;else if(Ed(y))if(Ym)C=zh;else{C=$h;var _=Fh}else(b=y.nodeName)&&b.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(C=Uh);if(C&&(C=C(e,u))){Jm(p,C,r,d);break e}_&&_(e,y,u),e==="focusout"&&(_=y._wrapperState)&&_.controlled&&y.type==="number"&&Ei(y,"number",y.value)}switch(_=u?ar(u):window,e){case"focusin":(Ed(_)||_.contentEditable==="true")&&(rr=_,Ui=u,cn=null);break;case"focusout":cn=Ui=rr=null;break;case"mousedown":zi=!0;break;case"contextmenu":case"mouseup":case"dragend":zi=!1,Td(p,r,d);break;case"selectionchange":if(Vh)break;case"keydown":case"keyup":Td(p,r,d)}var w;if(Wo)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else sr?Qm(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Gm&&r.locale!=="ko"&&(sr||N!=="onCompositionStart"?N==="onCompositionEnd"&&sr&&(w=Wm()):(es=d,Ho="value"in es?es.value:es.textContent,sr=!0)),_=Va(u,N),0<_.length&&(N=new kd(N,e,null,r,d),p.push({event:N,listeners:_}),w?N.data=w:(w=Km(r),w!==null&&(N.data=w)))),(w=Lh?Th(e,r):Mh(e,r))&&(u=Va(u,"onBeforeInput"),0<u.length&&(d=new kd("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:u}),d.data=w))}ix(p,s)})}function wn(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Va(e,s){for(var r=s+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=gn(e,r),l!=null&&n.unshift(wn(e,l,a)),l=gn(e,s),l!=null&&n.push(wn(e,l,a))),e=e.return}return n}function Zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Id(e,s,r,n,a){for(var l=s._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=gn(r,l),c!=null&&i.unshift(wn(r,c,o))):a||(c=gn(r,l),c!=null&&i.push(wn(r,c,o)))),r=r.return}i.length!==0&&e.push({event:s,listeners:i})}var Qh=/\r\n?/g,Kh=/\u0000|\uFFFD/g;function Dd(e){return(typeof e=="string"?e:""+e).replace(Qh,`
`).replace(Kh,"")}function la(e,s,r){if(s=Dd(s),Dd(e)!==s&&r)throw Error(D(425))}function qa(){}var Bi=null,Hi=null;function Vi(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qi=typeof setTimeout=="function"?setTimeout:void 0,Jh=typeof clearTimeout=="function"?clearTimeout:void 0,Fd=typeof Promise=="function"?Promise:void 0,Yh=typeof queueMicrotask=="function"?queueMicrotask:typeof Fd<"u"?function(e){return Fd.resolve(null).then(e).catch(Xh)}:qi;function Xh(e){setTimeout(function(){throw e})}function ei(e,s){var r=s,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),vn(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);vn(s)}function ls(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function $d(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),At="__reactFiber$"+Or,kn="__reactProps$"+Or,Ht="__reactContainer$"+Or,Wi="__reactEvents$"+Or,Zh="__reactListeners$"+Or,eg="__reactHandles$"+Or;function _s(e){var s=e[At];if(s)return s;for(var r=e.parentNode;r;){if(s=r[Ht]||r[At]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=$d(e);e!==null;){if(r=e[At])return r;e=$d(e)}return s}e=r,r=e.parentNode}return null}function zn(e){return e=e[At]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function gl(e){return e[kn]||null}var Gi=[],lr=-1;function gs(e){return{current:e}}function ie(e){0>lr||(e.current=Gi[lr],Gi[lr]=null,lr--)}function se(e,s){lr++,Gi[lr]=e.current,e.current=s}var xs={},De=gs(xs),Qe=gs(!1),Os=xs;function wr(e,s){var r=e.type.contextTypes;if(!r)return xs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=s[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ke(e){return e=e.childContextTypes,e!=null}function Wa(){ie(Qe),ie(De)}function Ud(e,s,r){if(De.current!==xs)throw Error(D(168));se(De,s),se(Qe,r)}function cx(e,s,r){var n=e.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(D(108,Fp(e)||"Unknown",a));return pe({},r,n)}function Ga(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xs,Os=De.current,se(De,e),se(Qe,Qe.current),!0}function zd(e,s,r){var n=e.stateNode;if(!n)throw Error(D(169));r?(e=cx(e,s,Os),n.__reactInternalMemoizedMergedChildContext=e,ie(Qe),ie(De),se(De,e)):ie(Qe),se(Qe,r)}var It=null,fl=!1,ti=!1;function dx(e){It===null?It=[e]:It.push(e)}function tg(e){fl=!0,dx(e)}function fs(){if(!ti&&It!==null){ti=!0;var e=0,s=te;try{var r=It;for(te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}It=null,fl=!1}catch(a){throw It!==null&&(It=It.slice(e+1)),Om($o,fs),a}finally{te=s,ti=!1}}return null}var ir=[],or=0,Qa=null,Ka=0,lt=[],it=0,Is=null,Dt=1,Ft="";function ws(e,s){ir[or++]=Ka,ir[or++]=Qa,Qa=e,Ka=s}function ux(e,s,r){lt[it++]=Dt,lt[it++]=Ft,lt[it++]=Is,Is=e;var n=Dt;e=Ft;var a=32-bt(n)-1;n&=~(1<<a),r+=1;var l=32-bt(s)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Dt=1<<32-bt(s)+a|r<<a|n,Ft=l+e}else Dt=1<<l|r<<a|n,Ft=e}function Qo(e){e.return!==null&&(ws(e,1),ux(e,1,0))}function Ko(e){for(;e===Qa;)Qa=ir[--or],ir[or]=null,Ka=ir[--or],ir[or]=null;for(;e===Is;)Is=lt[--it],lt[it]=null,Ft=lt[--it],lt[it]=null,Dt=lt[--it],lt[it]=null}var st=null,et=null,ce=!1,ft=null;function mx(e,s){var r=ot(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function Bd(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,st=e,et=ls(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,st=e,et=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Is!==null?{id:Dt,overflow:Ft}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=ot(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,st=e,et=null,!0):!1;default:return!1}}function Qi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ki(e){if(ce){var s=et;if(s){var r=s;if(!Bd(e,s)){if(Qi(e))throw Error(D(418));s=ls(r.nextSibling);var n=st;s&&Bd(e,s)?mx(n,r):(e.flags=e.flags&-4097|2,ce=!1,st=e)}}else{if(Qi(e))throw Error(D(418));e.flags=e.flags&-4097|2,ce=!1,st=e}}}function Hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function ia(e){if(e!==st)return!1;if(!ce)return Hd(e),ce=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Vi(e.type,e.memoizedProps)),s&&(s=et)){if(Qi(e))throw xx(),Error(D(418));for(;s;)mx(e,s),s=ls(s.nextSibling)}if(Hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){et=ls(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}et=null}}else et=st?ls(e.stateNode.nextSibling):null;return!0}function xx(){for(var e=et;e;)e=ls(e.nextSibling)}function kr(){et=st=null,ce=!1}function Jo(e){ft===null?ft=[e]:ft.push(e)}var sg=Qt.ReactCurrentBatchConfig;function Gr(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,e));var a=n,l=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},s._stringRef=l,s)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function oa(e,s){throw e=Object.prototype.toString.call(s),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Vd(e){var s=e._init;return s(e._payload)}function px(e){function s(m,x){if(e){var f=m.deletions;f===null?(m.deletions=[x],m.flags|=16):f.push(x)}}function r(m,x){if(!e)return null;for(;x!==null;)s(m,x),x=x.sibling;return null}function n(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function a(m,x){return m=ds(m,x),m.index=0,m.sibling=null,m}function l(m,x,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<x?(m.flags|=2,x):f):(m.flags|=2,x)):(m.flags|=1048576,x)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,x,f,k){return x===null||x.tag!==6?(x=oi(f,m.mode,k),x.return=m,x):(x=a(x,f),x.return=m,x)}function c(m,x,f,k){var C=f.type;return C===tr?d(m,x,f.props.children,k,f.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Jt&&Vd(C)===x.type)?(k=a(x,f.props),k.ref=Gr(m,x,f),k.return=m,k):(k=Ra(f.type,f.key,f.props,null,m.mode,k),k.ref=Gr(m,x,f),k.return=m,k)}function u(m,x,f,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==f.containerInfo||x.stateNode.implementation!==f.implementation?(x=ci(f,m.mode,k),x.return=m,x):(x=a(x,f.children||[]),x.return=m,x)}function d(m,x,f,k,C){return x===null||x.tag!==7?(x=Ls(f,m.mode,k,C),x.return=m,x):(x=a(x,f),x.return=m,x)}function p(m,x,f){if(typeof x=="string"&&x!==""||typeof x=="number")return x=oi(""+x,m.mode,f),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yn:return f=Ra(x.type,x.key,x.props,null,m.mode,f),f.ref=Gr(m,null,x),f.return=m,f;case er:return x=ci(x,m.mode,f),x.return=m,x;case Jt:var k=x._init;return p(m,k(x._payload),f)}if(en(x)||Br(x))return x=Ls(x,m.mode,f,null),x.return=m,x;oa(m,x)}return null}function y(m,x,f,k){var C=x!==null?x.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return C!==null?null:o(m,x,""+f,k);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Yn:return f.key===C?c(m,x,f,k):null;case er:return f.key===C?u(m,x,f,k):null;case Jt:return C=f._init,y(m,x,C(f._payload),k)}if(en(f)||Br(f))return C!==null?null:d(m,x,f,k,null);oa(m,f)}return null}function b(m,x,f,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(f)||null,o(x,m,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Yn:return m=m.get(k.key===null?f:k.key)||null,c(x,m,k,C);case er:return m=m.get(k.key===null?f:k.key)||null,u(x,m,k,C);case Jt:var _=k._init;return b(m,x,f,_(k._payload),C)}if(en(k)||Br(k))return m=m.get(f)||null,d(x,m,k,C,null);oa(x,k)}return null}function h(m,x,f,k){for(var C=null,_=null,w=x,N=x=0,E=null;w!==null&&N<f.length;N++){w.index>N?(E=w,w=null):E=w.sibling;var A=y(m,w,f[N],k);if(A===null){w===null&&(w=E);break}e&&w&&A.alternate===null&&s(m,w),x=l(A,x,N),_===null?C=A:_.sibling=A,_=A,w=E}if(N===f.length)return r(m,w),ce&&ws(m,N),C;if(w===null){for(;N<f.length;N++)w=p(m,f[N],k),w!==null&&(x=l(w,x,N),_===null?C=w:_.sibling=w,_=w);return ce&&ws(m,N),C}for(w=n(m,w);N<f.length;N++)E=b(w,m,N,f[N],k),E!==null&&(e&&E.alternate!==null&&w.delete(E.key===null?N:E.key),x=l(E,x,N),_===null?C=E:_.sibling=E,_=E);return e&&w.forEach(function(S){return s(m,S)}),ce&&ws(m,N),C}function g(m,x,f,k){var C=Br(f);if(typeof C!="function")throw Error(D(150));if(f=C.call(f),f==null)throw Error(D(151));for(var _=C=null,w=x,N=x=0,E=null,A=f.next();w!==null&&!A.done;N++,A=f.next()){w.index>N?(E=w,w=null):E=w.sibling;var S=y(m,w,A.value,k);if(S===null){w===null&&(w=E);break}e&&w&&S.alternate===null&&s(m,w),x=l(S,x,N),_===null?C=S:_.sibling=S,_=S,w=E}if(A.done)return r(m,w),ce&&ws(m,N),C;if(w===null){for(;!A.done;N++,A=f.next())A=p(m,A.value,k),A!==null&&(x=l(A,x,N),_===null?C=A:_.sibling=A,_=A);return ce&&ws(m,N),C}for(w=n(m,w);!A.done;N++,A=f.next())A=b(w,m,N,A.value,k),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?N:A.key),x=l(A,x,N),_===null?C=A:_.sibling=A,_=A);return e&&w.forEach(function(U){return s(m,U)}),ce&&ws(m,N),C}function j(m,x,f,k){if(typeof f=="object"&&f!==null&&f.type===tr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Yn:e:{for(var C=f.key,_=x;_!==null;){if(_.key===C){if(C=f.type,C===tr){if(_.tag===7){r(m,_.sibling),x=a(_,f.props.children),x.return=m,m=x;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Jt&&Vd(C)===_.type){r(m,_.sibling),x=a(_,f.props),x.ref=Gr(m,_,f),x.return=m,m=x;break e}r(m,_);break}else s(m,_);_=_.sibling}f.type===tr?(x=Ls(f.props.children,m.mode,k,f.key),x.return=m,m=x):(k=Ra(f.type,f.key,f.props,null,m.mode,k),k.ref=Gr(m,x,f),k.return=m,m=k)}return i(m);case er:e:{for(_=f.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===f.containerInfo&&x.stateNode.implementation===f.implementation){r(m,x.sibling),x=a(x,f.children||[]),x.return=m,m=x;break e}else{r(m,x);break}else s(m,x);x=x.sibling}x=ci(f,m.mode,k),x.return=m,m=x}return i(m);case Jt:return _=f._init,j(m,x,_(f._payload),k)}if(en(f))return h(m,x,f,k);if(Br(f))return g(m,x,f,k);oa(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,x!==null&&x.tag===6?(r(m,x.sibling),x=a(x,f),x.return=m,m=x):(r(m,x),x=oi(f,m.mode,k),x.return=m,m=x),i(m)):r(m,x)}return j}var Sr=px(!0),hx=px(!1),Ja=gs(null),Ya=null,cr=null,Yo=null;function Xo(){Yo=cr=Ya=null}function Zo(e){var s=Ja.current;ie(Ja),e._currentValue=s}function Ji(e,s,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),e===r)break;e=e.return}}function fr(e,s){Ya=e,Yo=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(Ge=!0),e.firstContext=null)}function ut(e){var s=e._currentValue;if(Yo!==e)if(e={context:e,memoizedValue:s,next:null},cr===null){if(Ya===null)throw Error(D(308));cr=e,Ya.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return s}var Cs=null;function ec(e){Cs===null?Cs=[e]:Cs.push(e)}function gx(e,s,r,n){var a=s.interleaved;return a===null?(r.next=r,ec(s)):(r.next=a.next,a.next=r),s.interleaved=r,Vt(e,n)}function Vt(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yt=!1;function tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fx(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function is(e,s,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,Vt(e,r)}return a=n.interleaved,a===null?(s.next=s,ec(n)):(s.next=a.next,a.next=s),n.interleaved=s,Vt(e,r)}function ka(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=e.pendingLanes,r|=n,s.lanes=r,Uo(e,r)}}function qd(e,s){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=s:l=l.next=s}else a=l=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function Xa(e,s,r,n){var a=e.updateQueue;Yt=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?l=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(l!==null){var p=a.baseState;i=0,d=u=c=null,o=l;do{var y=o.lane,b=o.eventTime;if((n&y)===y){d!==null&&(d=d.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,g=o;switch(y=s,b=r,g.tag){case 1:if(h=g.payload,typeof h=="function"){p=h.call(b,p,y);break e}p=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,y=typeof h=="function"?h.call(b,p,y):h,y==null)break e;p=pe({},p,y);break e;case 2:Yt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,y=a.effects,y===null?a.effects=[o]:y.push(o))}else b={eventTime:b,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=b,c=p):d=d.next=b,i|=y;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;y=o,o=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);if(d===null&&(c=p),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,s=a.shared.interleaved,s!==null){a=s;do i|=a.lane,a=a.next;while(a!==s)}else l===null&&(a.shared.lanes=0);Fs|=i,e.lanes=i,e.memoizedState=p}}function Wd(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var n=e[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(D(191,a));a.call(n)}}}var Bn={},Pt=gs(Bn),Sn=gs(Bn),_n=gs(Bn);function Es(e){if(e===Bn)throw Error(D(174));return e}function sc(e,s){switch(se(_n,s),se(Sn,e),se(Pt,Bn),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ri(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=Ri(s,e)}ie(Pt),se(Pt,s)}function _r(){ie(Pt),ie(Sn),ie(_n)}function yx(e){Es(_n.current);var s=Es(Pt.current),r=Ri(s,e.type);s!==r&&(se(Sn,e),se(Pt,r))}function rc(e){Sn.current===e&&(ie(Pt),ie(Sn))}var me=gs(0);function Za(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var si=[];function nc(){for(var e=0;e<si.length;e++)si[e]._workInProgressVersionPrimary=null;si.length=0}var Sa=Qt.ReactCurrentDispatcher,ri=Qt.ReactCurrentBatchConfig,Ds=0,xe=null,we=null,Se=null,el=!1,dn=!1,Cn=0,rg=0;function Te(){throw Error(D(321))}function ac(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!kt(e[r],s[r]))return!1;return!0}function lc(e,s,r,n,a,l){if(Ds=l,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Sa.current=e===null||e.memoizedState===null?ig:og,e=r(n,a),dn){l=0;do{if(dn=!1,Cn=0,25<=l)throw Error(D(301));l+=1,Se=we=null,s.updateQueue=null,Sa.current=cg,e=r(n,a)}while(dn)}if(Sa.current=tl,s=we!==null&&we.next!==null,Ds=0,Se=we=xe=null,el=!1,s)throw Error(D(300));return e}function ic(){var e=Cn!==0;return Cn=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?xe.memoizedState=Se=e:Se=Se.next=e,Se}function mt(){if(we===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var s=Se===null?xe.memoizedState:Se.next;if(s!==null)Se=s,we=e;else{if(e===null)throw Error(D(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Se===null?xe.memoizedState=Se=e:Se=Se.next=e}return Se}function En(e,s){return typeof s=="function"?s(e):s}function ni(e){var s=mt(),r=s.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=we,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,u=l;do{var d=u.lane;if((Ds&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=p,i=n):c=c.next=p,xe.lanes|=d,Fs|=d}u=u.next}while(u!==null&&u!==l);c===null?i=n:c.next=o,kt(n,s.memoizedState)||(Ge=!0),s.memoizedState=n,s.baseState=i,s.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,xe.lanes|=l,Fs|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function ai(e){var s=mt(),r=s.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=s.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);kt(l,s.memoizedState)||(Ge=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,n]}function vx(){}function bx(e,s){var r=xe,n=mt(),a=s(),l=!kt(n.memoizedState,a);if(l&&(n.memoizedState=a,Ge=!0),n=n.queue,oc(wx.bind(null,r,n,e),[e]),n.getSnapshot!==s||l||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,An(9,Nx.bind(null,r,n,a,s),void 0,null),_e===null)throw Error(D(349));Ds&30||jx(r,s,a)}return a}function jx(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=xe.updateQueue,s===null?(s={lastEffect:null,stores:null},xe.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function Nx(e,s,r,n){s.value=r,s.getSnapshot=n,kx(s)&&Sx(e)}function wx(e,s,r){return r(function(){kx(s)&&Sx(e)})}function kx(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!kt(e,r)}catch{return!0}}function Sx(e){var s=Vt(e,1);s!==null&&jt(s,e,1,-1)}function Gd(e){var s=Et();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:e},s.queue=e,e=e.dispatch=lg.bind(null,xe,e),[s.memoizedState,e]}function An(e,s,r,n){return e={tag:e,create:s,destroy:r,deps:n,next:null},s=xe.updateQueue,s===null?(s={lastEffect:null,stores:null},xe.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,s.lastEffect=e)),e}function _x(){return mt().memoizedState}function _a(e,s,r,n){var a=Et();xe.flags|=e,a.memoizedState=An(1|s,r,void 0,n===void 0?null:n)}function yl(e,s,r,n){var a=mt();n=n===void 0?null:n;var l=void 0;if(we!==null){var i=we.memoizedState;if(l=i.destroy,n!==null&&ac(n,i.deps)){a.memoizedState=An(s,r,l,n);return}}xe.flags|=e,a.memoizedState=An(1|s,r,l,n)}function Qd(e,s){return _a(8390656,8,e,s)}function oc(e,s){return yl(2048,8,e,s)}function Cx(e,s){return yl(4,2,e,s)}function Ex(e,s){return yl(4,4,e,s)}function Ax(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Rx(e,s,r){return r=r!=null?r.concat([e]):null,yl(4,4,Ax.bind(null,s,e),r)}function cc(){}function Px(e,s){var r=mt();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&ac(s,n[1])?n[0]:(r.memoizedState=[e,s],e)}function Lx(e,s){var r=mt();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&ac(s,n[1])?n[0]:(e=e(),r.memoizedState=[e,s],e)}function Tx(e,s,r){return Ds&21?(kt(r,s)||(r=Fm(),xe.lanes|=r,Fs|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=r)}function ng(e,s){var r=te;te=r!==0&&4>r?r:4,e(!0);var n=ri.transition;ri.transition={};try{e(!1),s()}finally{te=r,ri.transition=n}}function Mx(){return mt().memoizedState}function ag(e,s,r){var n=cs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ox(e))Ix(s,r);else if(r=gx(e,s,r,n),r!==null){var a=$e();jt(r,e,n,a),Dx(r,s,n)}}function lg(e,s,r){var n=cs(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ox(e))Ix(s,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,kt(o,i)){var c=s.interleaved;c===null?(a.next=a,ec(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=gx(e,s,a,n),r!==null&&(a=$e(),jt(r,e,n,a),Dx(r,s,n))}}function Ox(e){var s=e.alternate;return e===xe||s!==null&&s===xe}function Ix(e,s){dn=el=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function Dx(e,s,r){if(r&4194240){var n=s.lanes;n&=e.pendingLanes,r|=n,s.lanes=r,Uo(e,r)}}var tl={readContext:ut,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},ig={readContext:ut,useCallback:function(e,s){return Et().memoizedState=[e,s===void 0?null:s],e},useContext:ut,useEffect:Qd,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,_a(4194308,4,Ax.bind(null,s,e),r)},useLayoutEffect:function(e,s){return _a(4194308,4,e,s)},useInsertionEffect:function(e,s){return _a(4,2,e,s)},useMemo:function(e,s){var r=Et();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var n=Et();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=ag.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var s=Et();return e={current:e},s.memoizedState=e},useState:Gd,useDebugValue:cc,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Gd(!1),s=e[0];return e=ng.bind(null,e[1]),Et().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var n=xe,a=Et();if(ce){if(r===void 0)throw Error(D(407));r=r()}else{if(r=s(),_e===null)throw Error(D(349));Ds&30||jx(n,s,r)}a.memoizedState=r;var l={value:r,getSnapshot:s};return a.queue=l,Qd(wx.bind(null,n,l,e),[e]),n.flags|=2048,An(9,Nx.bind(null,n,l,r,s),void 0,null),r},useId:function(){var e=Et(),s=_e.identifierPrefix;if(ce){var r=Ft,n=Dt;r=(n&~(1<<32-bt(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=Cn++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=rg++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},og={readContext:ut,useCallback:Px,useContext:ut,useEffect:oc,useImperativeHandle:Rx,useInsertionEffect:Cx,useLayoutEffect:Ex,useMemo:Lx,useReducer:ni,useRef:_x,useState:function(){return ni(En)},useDebugValue:cc,useDeferredValue:function(e){var s=mt();return Tx(s,we.memoizedState,e)},useTransition:function(){var e=ni(En)[0],s=mt().memoizedState;return[e,s]},useMutableSource:vx,useSyncExternalStore:bx,useId:Mx,unstable_isNewReconciler:!1},cg={readContext:ut,useCallback:Px,useContext:ut,useEffect:oc,useImperativeHandle:Rx,useInsertionEffect:Cx,useLayoutEffect:Ex,useMemo:Lx,useReducer:ai,useRef:_x,useState:function(){return ai(En)},useDebugValue:cc,useDeferredValue:function(e){var s=mt();return we===null?s.memoizedState=e:Tx(s,we.memoizedState,e)},useTransition:function(){var e=ai(En)[0],s=mt().memoizedState;return[e,s]},useMutableSource:vx,useSyncExternalStore:bx,useId:Mx,unstable_isNewReconciler:!1};function ht(e,s){if(e&&e.defaultProps){s=pe({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function Yi(e,s,r,n){s=e.memoizedState,r=r(n,s),r=r==null?s:pe({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vl={isMounted:function(e){return(e=e._reactInternals)?Qs(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var n=$e(),a=cs(e),l=Ut(n,a);l.payload=s,r!=null&&(l.callback=r),s=is(e,l,a),s!==null&&(jt(s,e,a,n),ka(s,e,a))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var n=$e(),a=cs(e),l=Ut(n,a);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=is(e,l,a),s!==null&&(jt(s,e,a,n),ka(s,e,a))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=$e(),n=cs(e),a=Ut(r,n);a.tag=2,s!=null&&(a.callback=s),s=is(e,a,n),s!==null&&(jt(s,e,n,r),ka(s,e,n))}};function Kd(e,s,r,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):s.prototype&&s.prototype.isPureReactComponent?!jn(r,n)||!jn(a,l):!0}function Fx(e,s,r){var n=!1,a=xs,l=s.contextType;return typeof l=="object"&&l!==null?l=ut(l):(a=Ke(s)?Os:De.current,n=s.contextTypes,l=(n=n!=null)?wr(e,a):xs),s=new s(r,l),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=vl,e.stateNode=s,s._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),s}function Jd(e,s,r,n){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==e&&vl.enqueueReplaceState(s,s.state,null)}function Xi(e,s,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},tc(e);var l=s.contextType;typeof l=="object"&&l!==null?a.context=ut(l):(l=Ke(s)?Os:De.current,a.context=wr(e,l)),a.state=e.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(Yi(e,s,l,r),a.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&vl.enqueueReplaceState(a,a.state,null),Xa(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Cr(e,s){try{var r="",n=s;do r+=Dp(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:s,stack:a,digest:null}}function li(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function Zi(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var dg=typeof WeakMap=="function"?WeakMap:Map;function $x(e,s,r){r=Ut(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){rl||(rl=!0,co=n),Zi(e,s)},r}function Ux(e,s,r){r=Ut(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){Zi(e,s)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Zi(e,s),typeof n!="function"&&(os===null?os=new Set([this]):os.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),r}function Yd(e,s,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dg;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),e=kg.bind(null,e,s,r),s.then(e,e))}function Xd(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Zd(e,s,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Ut(-1,1),s.tag=2,is(r,s,1))),r.lanes|=1),e)}var ug=Qt.ReactCurrentOwner,Ge=!1;function Fe(e,s,r,n){s.child=e===null?hx(s,null,r,n):Sr(s,e.child,r,n)}function eu(e,s,r,n,a){r=r.render;var l=s.ref;return fr(s,a),n=lc(e,s,r,n,l,a),r=ic(),e!==null&&!Ge?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,qt(e,s,a)):(ce&&r&&Qo(s),s.flags|=1,Fe(e,s,n,a),s.child)}function tu(e,s,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!fc(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,zx(e,s,l,n,a)):(e=Ra(r.type,null,n,s,s.mode,a),e.ref=s.ref,e.return=s,s.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:jn,r(i,n)&&e.ref===s.ref)return qt(e,s,a)}return s.flags|=1,e=ds(l,n),e.ref=s.ref,e.return=s,s.child=e}function zx(e,s,r,n,a){if(e!==null){var l=e.memoizedProps;if(jn(l,n)&&e.ref===s.ref)if(Ge=!1,s.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(Ge=!0);else return s.lanes=e.lanes,qt(e,s,a)}return eo(e,s,r,n,a)}function Bx(e,s,r){var n=s.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(ur,Ze),Ze|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,se(ur,Ze),Ze|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,se(ur,Ze),Ze|=n}else l!==null?(n=l.baseLanes|r,s.memoizedState=null):n=r,se(ur,Ze),Ze|=n;return Fe(e,s,a,r),s.child}function Hx(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function eo(e,s,r,n,a){var l=Ke(r)?Os:De.current;return l=wr(s,l),fr(s,a),r=lc(e,s,r,n,l,a),n=ic(),e!==null&&!Ge?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,qt(e,s,a)):(ce&&n&&Qo(s),s.flags|=1,Fe(e,s,r,a),s.child)}function su(e,s,r,n,a){if(Ke(r)){var l=!0;Ga(s)}else l=!1;if(fr(s,a),s.stateNode===null)Ca(e,s),Fx(s,r,n),Xi(s,r,n,a),n=!0;else if(e===null){var i=s.stateNode,o=s.memoizedProps;i.props=o;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=ut(u):(u=Ke(r)?Os:De.current,u=wr(s,u));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Jd(s,i,n,u),Yt=!1;var y=s.memoizedState;i.state=y,Xa(s,n,i,a),c=s.memoizedState,o!==n||y!==c||Qe.current||Yt?(typeof d=="function"&&(Yi(s,r,d,n),c=s.memoizedState),(o=Yt||Kd(s,r,o,n,y,c,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),i.props=n,i.state=c,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{i=s.stateNode,fx(e,s),o=s.memoizedProps,u=s.type===s.elementType?o:ht(s.type,o),i.props=u,p=s.pendingProps,y=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=ut(c):(c=Ke(r)?Os:De.current,c=wr(s,c));var b=r.getDerivedStateFromProps;(d=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||y!==c)&&Jd(s,i,n,c),Yt=!1,y=s.memoizedState,i.state=y,Xa(s,n,i,a);var h=s.memoizedState;o!==p||y!==h||Qe.current||Yt?(typeof b=="function"&&(Yi(s,r,b,n),h=s.memoizedState),(u=Yt||Kd(s,r,u,n,y,h,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,h,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=h),i.props=n,i.state=h,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(s.flags|=1024),n=!1)}return to(e,s,r,n,l,a)}function to(e,s,r,n,a,l){Hx(e,s);var i=(s.flags&128)!==0;if(!n&&!i)return a&&zd(s,r,!1),qt(e,s,l);n=s.stateNode,ug.current=s;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,e!==null&&i?(s.child=Sr(s,e.child,null,l),s.child=Sr(s,null,o,l)):Fe(e,s,o,l),s.memoizedState=n.state,a&&zd(s,r,!0),s.child}function Vx(e){var s=e.stateNode;s.pendingContext?Ud(e,s.pendingContext,s.pendingContext!==s.context):s.context&&Ud(e,s.context,!1),sc(e,s.containerInfo)}function ru(e,s,r,n,a){return kr(),Jo(a),s.flags|=256,Fe(e,s,r,n),s.child}var so={dehydrated:null,treeContext:null,retryLane:0};function ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function qx(e,s,r){var n=s.pendingProps,a=me.current,l=!1,i=(s.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),se(me,a&1),e===null)return Ki(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=n.children,e=n.fallback,l?(n=s.mode,l=s.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Nl(i,n,0,null),e=Ls(e,n,r,null),l.return=s,e.return=s,l.sibling=e,s.child=l,s.child.memoizedState=ro(r),s.memoizedState=so,e):dc(s,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return mg(e,s,i,n,o,a,r);if(l){l=n.fallback,i=s.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=ds(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=ds(o,l):(l=Ls(l,i,r,null),l.flags|=2),l.return=s,n.return=s,n.sibling=l,s.child=n,n=l,l=s.child,i=e.child.memoizedState,i=i===null?ro(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,s.memoizedState=so,n}return l=e.child,e=l.sibling,n=ds(l,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=n,s.memoizedState=null,n}function dc(e,s){return s=Nl({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function ca(e,s,r,n){return n!==null&&Jo(n),Sr(s,e.child,null,r),e=dc(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function mg(e,s,r,n,a,l,i){if(r)return s.flags&256?(s.flags&=-257,n=li(Error(D(422))),ca(e,s,i,n)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(l=n.fallback,a=s.mode,n=Nl({mode:"visible",children:n.children},a,0,null),l=Ls(l,a,i,null),l.flags|=2,n.return=s,l.return=s,n.sibling=l,s.child=n,s.mode&1&&Sr(s,e.child,null,i),s.child.memoizedState=ro(i),s.memoizedState=so,l);if(!(s.mode&1))return ca(e,s,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(D(419)),n=li(l,n,void 0),ca(e,s,i,n)}if(o=(i&e.childLanes)!==0,Ge||o){if(n=_e,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Vt(e,a),jt(n,e,a,-1))}return gc(),n=li(Error(D(421))),ca(e,s,i,n)}return a.data==="$?"?(s.flags|=128,s.child=e.child,s=Sg.bind(null,e),a._reactRetry=s,null):(e=l.treeContext,et=ls(a.nextSibling),st=s,ce=!0,ft=null,e!==null&&(lt[it++]=Dt,lt[it++]=Ft,lt[it++]=Is,Dt=e.id,Ft=e.overflow,Is=s),s=dc(s,n.children),s.flags|=4096,s)}function nu(e,s,r){e.lanes|=s;var n=e.alternate;n!==null&&(n.lanes|=s),Ji(e.return,s,r)}function ii(e,s,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function Wx(e,s,r){var n=s.pendingProps,a=n.revealOrder,l=n.tail;if(Fe(e,s,n.children,r),n=me.current,n&2)n=n&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nu(e,r,s);else if(e.tag===19)nu(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(se(me,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)e=r.alternate,e!==null&&Za(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),ii(s,!1,a,r,l);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(e=a.alternate,e!==null&&Za(e)===null){s.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ii(s,!0,r,null,l);break;case"together":ii(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ca(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function qt(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),Fs|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(D(153));if(s.child!==null){for(e=s.child,r=ds(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=ds(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function xg(e,s,r){switch(s.tag){case 3:Vx(s),kr();break;case 5:yx(s);break;case 1:Ke(s.type)&&Ga(s);break;case 4:sc(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;se(Ja,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(se(me,me.current&1),s.flags|=128,null):r&s.child.childLanes?qx(e,s,r):(se(me,me.current&1),e=qt(e,s,r),e!==null?e.sibling:null);se(me,me.current&1);break;case 19:if(n=(r&s.childLanes)!==0,e.flags&128){if(n)return Wx(e,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),se(me,me.current),n)break;return null;case 22:case 23:return s.lanes=0,Bx(e,s,r)}return qt(e,s,r)}var Gx,no,Qx,Kx;Gx=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};no=function(){};Qx=function(e,s,r,n){var a=e.memoizedProps;if(a!==n){e=s.stateNode,Es(Pt.current);var l=null;switch(r){case"input":a=_i(e,a),n=_i(e,n),l=[];break;case"select":a=pe({},a,{value:void 0}),n=pe({},n,{value:void 0}),l=[];break;case"textarea":a=Ai(e,a),n=Ai(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qa)}Pi(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pn.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&le("scroll",e),l||o===c||(l=[])):(l=l||[]).push(u,c))}r&&(l=l||[]).push("style",r);var u=l;(s.updateQueue=u)&&(s.flags|=4)}};Kx=function(e,s,r,n){r!==n&&(s.flags|=4)};function Qr(e,s){if(!ce)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Me(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(s)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,s}function pg(e,s,r){var n=s.pendingProps;switch(Ko(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(s),null;case 1:return Ke(s.type)&&Wa(),Me(s),null;case 3:return n=s.stateNode,_r(),ie(Qe),ie(De),nc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ia(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ft!==null&&(xo(ft),ft=null))),no(e,s),Me(s),null;case 5:rc(s);var a=Es(_n.current);if(r=s.type,e!==null&&s.stateNode!=null)Qx(e,s,r,n,a),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(D(166));return Me(s),null}if(e=Es(Pt.current),ia(s)){n=s.stateNode,r=s.type;var l=s.memoizedProps;switch(n[At]=s,n[kn]=l,e=(s.mode&1)!==0,r){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(a=0;a<sn.length;a++)le(sn[a],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":xd(n,l),le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},le("invalid",n);break;case"textarea":hd(n,l),le("invalid",n)}Pi(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&la(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&la(n.textContent,o,e),a=["children",""+o]):pn.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&le("scroll",n)}switch(r){case"input":Xn(n),pd(n,l,!0);break;case"textarea":Xn(n),gd(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=qa)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[At]=s,e[kn]=n,Gx(e,s,!1,!1),s.stateNode=e;e:{switch(i=Li(r,n),r){case"dialog":le("cancel",e),le("close",e),a=n;break;case"iframe":case"object":case"embed":le("load",e),a=n;break;case"video":case"audio":for(a=0;a<sn.length;a++)le(sn[a],e);a=n;break;case"source":le("error",e),a=n;break;case"img":case"image":case"link":le("error",e),le("load",e),a=n;break;case"details":le("toggle",e),a=n;break;case"input":xd(e,n),a=_i(e,n),le("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=pe({},n,{value:void 0}),le("invalid",e);break;case"textarea":hd(e,n),a=Ai(e,n),le("invalid",e);break;default:a=n}Pi(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?_m(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&km(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hn(e,c):typeof c=="number"&&hn(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(pn.hasOwnProperty(l)?c!=null&&l==="onScroll"&&le("scroll",e):c!=null&&Mo(e,l,c,i))}switch(r){case"input":Xn(e),pd(e,n,!1);break;case"textarea":Xn(e),gd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ms(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?xr(e,!!n.multiple,l,!1):n.defaultValue!=null&&xr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=qa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Me(s),null;case 6:if(e&&s.stateNode!=null)Kx(e,s,e.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(D(166));if(r=Es(_n.current),Es(Pt.current),ia(s)){if(n=s.stateNode,r=s.memoizedProps,n[At]=s,(l=n.nodeValue!==r)&&(e=st,e!==null))switch(e.tag){case 3:la(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&la(n.nodeValue,r,(e.mode&1)!==0)}l&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[At]=s,s.stateNode=n}return Me(s),null;case 13:if(ie(me),n=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&et!==null&&s.mode&1&&!(s.flags&128))xx(),kr(),s.flags|=98560,l=!1;else if(l=ia(s),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(D(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(D(317));l[At]=s}else kr(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Me(s),l=!1}else ft!==null&&(xo(ft),ft=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(e===null||me.current&1?ke===0&&(ke=3):gc())),s.updateQueue!==null&&(s.flags|=4),Me(s),null);case 4:return _r(),no(e,s),e===null&&Nn(s.stateNode.containerInfo),Me(s),null;case 10:return Zo(s.type._context),Me(s),null;case 17:return Ke(s.type)&&Wa(),Me(s),null;case 19:if(ie(me),l=s.memoizedState,l===null)return Me(s),null;if(n=(s.flags&128)!==0,i=l.rendering,i===null)if(n)Qr(l,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(i=Za(e),i!==null){for(s.flags|=128,Qr(l,!1),n=i.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)l=r,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(me,me.current&1|2),s.child}e=e.sibling}l.tail!==null&&ge()>Er&&(s.flags|=128,n=!0,Qr(l,!1),s.lanes=4194304)}else{if(!n)if(e=Za(i),e!==null){if(s.flags|=128,n=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Qr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ce)return Me(s),null}else 2*ge()-l.renderingStartTime>Er&&r!==1073741824&&(s.flags|=128,n=!0,Qr(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(r=l.last,r!==null?r.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=ge(),s.sibling=null,r=me.current,se(me,n?r&1|2:r&1),s):(Me(s),null);case 22:case 23:return hc(),n=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?Ze&1073741824&&(Me(s),s.subtreeFlags&6&&(s.flags|=8192)):Me(s),null;case 24:return null;case 25:return null}throw Error(D(156,s.tag))}function hg(e,s){switch(Ko(s),s.tag){case 1:return Ke(s.type)&&Wa(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return _r(),ie(Qe),ie(De),nc(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return rc(s),null;case 13:if(ie(me),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(D(340));kr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return ie(me),null;case 4:return _r(),null;case 10:return Zo(s.type._context),null;case 22:case 23:return hc(),null;case 24:return null;default:return null}}var da=!1,Oe=!1,gg=typeof WeakSet=="function"?WeakSet:Set,B=null;function dr(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){he(e,s,n)}else r.current=null}function ao(e,s,r){try{r()}catch(n){he(e,s,n)}}var au=!1;function fg(e,s){if(Bi=Ba,e=ex(),Go(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,u=0,d=0,p=e,y=null;t:for(;;){for(var b;p!==r||a!==0&&p.nodeType!==3||(o=i+a),p!==l||n!==0&&p.nodeType!==3||(c=i+n),p.nodeType===3&&(i+=p.nodeValue.length),(b=p.firstChild)!==null;)y=p,p=b;for(;;){if(p===e)break t;if(y===r&&++u===a&&(o=i),y===l&&++d===n&&(c=i),(b=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=b}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hi={focusedElem:e,selectionRange:r},Ba=!1,B=s;B!==null;)if(s=B,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,B=e;else for(;B!==null;){s=B;try{var h=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,j=h.memoizedState,m=s.stateNode,x=m.getSnapshotBeforeUpdate(s.elementType===s.type?g:ht(s.type,g),j);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var f=s.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(k){he(s,s.return,k)}if(e=s.sibling,e!==null){e.return=s.return,B=e;break}B=s.return}return h=au,au=!1,h}function un(e,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&ao(s,r,l)}a=a.next}while(a!==n)}}function bl(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function lo(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function Jx(e){var s=e.alternate;s!==null&&(e.alternate=null,Jx(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[At],delete s[kn],delete s[Wi],delete s[Zh],delete s[eg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yx(e){return e.tag===5||e.tag===3||e.tag===4}function lu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function io(e,s,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=qa));else if(n!==4&&(e=e.child,e!==null))for(io(e,s,r),e=e.sibling;e!==null;)io(e,s,r),e=e.sibling}function oo(e,s,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(oo(e,s,r),e=e.sibling;e!==null;)oo(e,s,r),e=e.sibling}var Ae=null,gt=!1;function Kt(e,s,r){for(r=r.child;r!==null;)Xx(e,s,r),r=r.sibling}function Xx(e,s,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(ml,r)}catch{}switch(r.tag){case 5:Oe||dr(r,s);case 6:var n=Ae,a=gt;Ae=null,Kt(e,s,r),Ae=n,gt=a,Ae!==null&&(gt?(e=Ae,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ae.removeChild(r.stateNode));break;case 18:Ae!==null&&(gt?(e=Ae,r=r.stateNode,e.nodeType===8?ei(e.parentNode,r):e.nodeType===1&&ei(e,r),vn(e)):ei(Ae,r.stateNode));break;case 4:n=Ae,a=gt,Ae=r.stateNode.containerInfo,gt=!0,Kt(e,s,r),Ae=n,gt=a;break;case 0:case 11:case 14:case 15:if(!Oe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&ao(r,s,i),a=a.next}while(a!==n)}Kt(e,s,r);break;case 1:if(!Oe&&(dr(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){he(r,s,o)}Kt(e,s,r);break;case 21:Kt(e,s,r);break;case 22:r.mode&1?(Oe=(n=Oe)||r.memoizedState!==null,Kt(e,s,r),Oe=n):Kt(e,s,r);break;default:Kt(e,s,r)}}function iu(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gg),s.forEach(function(n){var a=_g.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function pt(e,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=s,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ae=o.stateNode,gt=!1;break e;case 3:Ae=o.stateNode.containerInfo,gt=!0;break e;case 4:Ae=o.stateNode.containerInfo,gt=!0;break e}o=o.return}if(Ae===null)throw Error(D(160));Xx(l,i,a),Ae=null,gt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){he(a,s,u)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Zx(s,e),s=s.sibling}function Zx(e,s){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pt(s,e),_t(e),n&4){try{un(3,e,e.return),bl(3,e)}catch(g){he(e,e.return,g)}try{un(5,e,e.return)}catch(g){he(e,e.return,g)}}break;case 1:pt(s,e),_t(e),n&512&&r!==null&&dr(r,r.return);break;case 5:if(pt(s,e),_t(e),n&512&&r!==null&&dr(r,r.return),e.flags&32){var a=e.stateNode;try{hn(a,"")}catch(g){he(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&jm(a,l),Li(o,i);var u=Li(o,l);for(i=0;i<c.length;i+=2){var d=c[i],p=c[i+1];d==="style"?_m(a,p):d==="dangerouslySetInnerHTML"?km(a,p):d==="children"?hn(a,p):Mo(a,d,p,u)}switch(o){case"input":Ci(a,l);break;case"textarea":Nm(a,l);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var b=l.value;b!=null?xr(a,!!l.multiple,b,!1):y!==!!l.multiple&&(l.defaultValue!=null?xr(a,!!l.multiple,l.defaultValue,!0):xr(a,!!l.multiple,l.multiple?[]:"",!1))}a[kn]=l}catch(g){he(e,e.return,g)}}break;case 6:if(pt(s,e),_t(e),n&4){if(e.stateNode===null)throw Error(D(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(g){he(e,e.return,g)}}break;case 3:if(pt(s,e),_t(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vn(s.containerInfo)}catch(g){he(e,e.return,g)}break;case 4:pt(s,e),_t(e);break;case 13:pt(s,e),_t(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(xc=ge())),n&4&&iu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||d,pt(s,e),Oe=u):pt(s,e),_t(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(B=e,d=e.child;d!==null;){for(p=B=d;B!==null;){switch(y=B,b=y.child,y.tag){case 0:case 11:case 14:case 15:un(4,y,y.return);break;case 1:dr(y,y.return);var h=y.stateNode;if(typeof h.componentWillUnmount=="function"){n=y,r=y.return;try{s=n,h.props=s.memoizedProps,h.state=s.memoizedState,h.componentWillUnmount()}catch(g){he(n,r,g)}}break;case 5:dr(y,y.return);break;case 22:if(y.memoizedState!==null){cu(p);continue}}b!==null?(b.return=y,B=b):cu(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{a=p.stateNode,u?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Sm("display",i))}catch(g){he(e,e.return,g)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){he(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:pt(s,e),_t(e),n&4&&iu(e);break;case 21:break;default:pt(s,e),_t(e)}}function _t(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(Yx(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(hn(a,""),n.flags&=-33);var l=lu(e);oo(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=lu(e);io(e,o,i);break;default:throw Error(D(161))}}catch(c){he(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function yg(e,s,r){B=e,e0(e)}function e0(e,s,r){for(var n=(e.mode&1)!==0;B!==null;){var a=B,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||da;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Oe;o=da;var u=Oe;if(da=i,(Oe=c)&&!u)for(B=a;B!==null;)i=B,c=i.child,i.tag===22&&i.memoizedState!==null?du(a):c!==null?(c.return=i,B=c):du(a);for(;l!==null;)B=l,e0(l),l=l.sibling;B=a,da=o,Oe=u}ou(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,B=l):ou(e)}}function ou(e){for(;B!==null;){var s=B;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Oe||bl(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!Oe)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:ht(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&Wd(s,l,n);break;case 3:var i=s.updateQueue;if(i!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Wd(s,i,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var u=s.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&vn(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Oe||s.flags&512&&lo(s)}catch(y){he(s,s.return,y)}}if(s===e){B=null;break}if(r=s.sibling,r!==null){r.return=s.return,B=r;break}B=s.return}}function cu(e){for(;B!==null;){var s=B;if(s===e){B=null;break}var r=s.sibling;if(r!==null){r.return=s.return,B=r;break}B=s.return}}function du(e){for(;B!==null;){var s=B;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{bl(4,s)}catch(c){he(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){he(s,a,c)}}var l=s.return;try{lo(s)}catch(c){he(s,l,c)}break;case 5:var i=s.return;try{lo(s)}catch(c){he(s,i,c)}}}catch(c){he(s,s.return,c)}if(s===e){B=null;break}var o=s.sibling;if(o!==null){o.return=s.return,B=o;break}B=s.return}}var vg=Math.ceil,sl=Qt.ReactCurrentDispatcher,uc=Qt.ReactCurrentOwner,ct=Qt.ReactCurrentBatchConfig,K=0,_e=null,je=null,Re=0,Ze=0,ur=gs(0),ke=0,Rn=null,Fs=0,jl=0,mc=0,mn=null,qe=null,xc=0,Er=1/0,Ot=null,rl=!1,co=null,os=null,ua=!1,ts=null,nl=0,xn=0,uo=null,Ea=-1,Aa=0;function $e(){return K&6?ge():Ea!==-1?Ea:Ea=ge()}function cs(e){return e.mode&1?K&2&&Re!==0?Re&-Re:sg.transition!==null?(Aa===0&&(Aa=Fm()),Aa):(e=te,e!==0||(e=window.event,e=e===void 0?16:qm(e.type)),e):1}function jt(e,s,r,n){if(50<xn)throw xn=0,uo=null,Error(D(185));$n(e,r,n),(!(K&2)||e!==_e)&&(e===_e&&(!(K&2)&&(jl|=r),ke===4&&Zt(e,Re)),Je(e,n),r===1&&K===0&&!(s.mode&1)&&(Er=ge()+500,fl&&fs()))}function Je(e,s){var r=e.callbackNode;sh(e,s);var n=za(e,e===_e?Re:0);if(n===0)r!==null&&vd(r),e.callbackNode=null,e.callbackPriority=0;else if(s=n&-n,e.callbackPriority!==s){if(r!=null&&vd(r),s===1)e.tag===0?tg(uu.bind(null,e)):dx(uu.bind(null,e)),Yh(function(){!(K&6)&&fs()}),r=null;else{switch($m(n)){case 1:r=$o;break;case 4:r=Im;break;case 16:r=Ua;break;case 536870912:r=Dm;break;default:r=Ua}r=o0(r,t0.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function t0(e,s){if(Ea=-1,Aa=0,K&6)throw Error(D(327));var r=e.callbackNode;if(yr()&&e.callbackNode!==r)return null;var n=za(e,e===_e?Re:0);if(n===0)return null;if(n&30||n&e.expiredLanes||s)s=al(e,n);else{s=n;var a=K;K|=2;var l=r0();(_e!==e||Re!==s)&&(Ot=null,Er=ge()+500,Ps(e,s));do try{Ng();break}catch(o){s0(e,o)}while(!0);Xo(),sl.current=l,K=a,je!==null?s=0:(_e=null,Re=0,s=ke)}if(s!==0){if(s===2&&(a=Di(e),a!==0&&(n=a,s=mo(e,a))),s===1)throw r=Rn,Ps(e,0),Zt(e,n),Je(e,ge()),r;if(s===6)Zt(e,n);else{if(a=e.current.alternate,!(n&30)&&!bg(a)&&(s=al(e,n),s===2&&(l=Di(e),l!==0&&(n=l,s=mo(e,l))),s===1))throw r=Rn,Ps(e,0),Zt(e,n),Je(e,ge()),r;switch(e.finishedWork=a,e.finishedLanes=n,s){case 0:case 1:throw Error(D(345));case 2:ks(e,qe,Ot);break;case 3:if(Zt(e,n),(n&130023424)===n&&(s=xc+500-ge(),10<s)){if(za(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){$e(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=qi(ks.bind(null,e,qe,Ot),s);break}ks(e,qe,Ot);break;case 4:if(Zt(e,n),(n&4194240)===n)break;for(s=e.eventTimes,a=-1;0<n;){var i=31-bt(n);l=1<<i,i=s[i],i>a&&(a=i),n&=~l}if(n=a,n=ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vg(n/1960))-n,10<n){e.timeoutHandle=qi(ks.bind(null,e,qe,Ot),n);break}ks(e,qe,Ot);break;case 5:ks(e,qe,Ot);break;default:throw Error(D(329))}}}return Je(e,ge()),e.callbackNode===r?t0.bind(null,e):null}function mo(e,s){var r=mn;return e.current.memoizedState.isDehydrated&&(Ps(e,s).flags|=256),e=al(e,s),e!==2&&(s=qe,qe=r,s!==null&&xo(s)),e}function xo(e){qe===null?qe=e:qe.push.apply(qe,e)}function bg(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!kt(l(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zt(e,s){for(s&=~mc,s&=~jl,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-bt(s),n=1<<r;e[r]=-1,s&=~n}}function uu(e){if(K&6)throw Error(D(327));yr();var s=za(e,0);if(!(s&1))return Je(e,ge()),null;var r=al(e,s);if(e.tag!==0&&r===2){var n=Di(e);n!==0&&(s=n,r=mo(e,n))}if(r===1)throw r=Rn,Ps(e,0),Zt(e,s),Je(e,ge()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,ks(e,qe,Ot),Je(e,ge()),null}function pc(e,s){var r=K;K|=1;try{return e(s)}finally{K=r,K===0&&(Er=ge()+500,fl&&fs())}}function $s(e){ts!==null&&ts.tag===0&&!(K&6)&&yr();var s=K;K|=1;var r=ct.transition,n=te;try{if(ct.transition=null,te=1,e)return e()}finally{te=n,ct.transition=r,K=s,!(K&6)&&fs()}}function hc(){Ze=ur.current,ie(ur)}function Ps(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Jh(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(Ko(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wa();break;case 3:_r(),ie(Qe),ie(De),nc();break;case 5:rc(n);break;case 4:_r();break;case 13:ie(me);break;case 19:ie(me);break;case 10:Zo(n.type._context);break;case 22:case 23:hc()}r=r.return}if(_e=e,je=e=ds(e.current,null),Re=Ze=s,ke=0,Rn=null,mc=jl=Fs=0,qe=mn=null,Cs!==null){for(s=0;s<Cs.length;s++)if(r=Cs[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}Cs=null}return e}function s0(e,s){do{var r=je;try{if(Xo(),Sa.current=tl,el){for(var n=xe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}el=!1}if(Ds=0,Se=we=xe=null,dn=!1,Cn=0,uc.current=null,r===null||r.return===null){ke=1,Rn=s,je=null;break}e:{var l=e,i=r.return,o=r,c=s;if(s=Re,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var y=d.alternate;y?(d.updateQueue=y.updateQueue,d.memoizedState=y.memoizedState,d.lanes=y.lanes):(d.updateQueue=null,d.memoizedState=null)}var b=Xd(i);if(b!==null){b.flags&=-257,Zd(b,i,o,l,s),b.mode&1&&Yd(l,u,s),s=b,c=u;var h=s.updateQueue;if(h===null){var g=new Set;g.add(c),s.updateQueue=g}else h.add(c);break e}else{if(!(s&1)){Yd(l,u,s),gc();break e}c=Error(D(426))}}else if(ce&&o.mode&1){var j=Xd(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Zd(j,i,o,l,s),Jo(Cr(c,o));break e}}l=c=Cr(c,o),ke!==4&&(ke=2),mn===null?mn=[l]:mn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var m=$x(l,c,s);qd(l,m);break e;case 1:o=c;var x=l.type,f=l.stateNode;if(!(l.flags&128)&&(typeof x.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(os===null||!os.has(f)))){l.flags|=65536,s&=-s,l.lanes|=s;var k=Ux(l,o,s);qd(l,k);break e}}l=l.return}while(l!==null)}a0(r)}catch(C){s=C,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function r0(){var e=sl.current;return sl.current=tl,e===null?tl:e}function gc(){(ke===0||ke===3||ke===2)&&(ke=4),_e===null||!(Fs&268435455)&&!(jl&268435455)||Zt(_e,Re)}function al(e,s){var r=K;K|=2;var n=r0();(_e!==e||Re!==s)&&(Ot=null,Ps(e,s));do try{jg();break}catch(a){s0(e,a)}while(!0);if(Xo(),K=r,sl.current=n,je!==null)throw Error(D(261));return _e=null,Re=0,ke}function jg(){for(;je!==null;)n0(je)}function Ng(){for(;je!==null&&!Gp();)n0(je)}function n0(e){var s=i0(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,s===null?a0(e):je=s,uc.current=null}function a0(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=hg(r,s),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,je=null;return}}else if(r=pg(r,s,Ze),r!==null){je=r;return}if(s=s.sibling,s!==null){je=s;return}je=s=e}while(s!==null);ke===0&&(ke=5)}function ks(e,s,r){var n=te,a=ct.transition;try{ct.transition=null,te=1,wg(e,s,r,n)}finally{ct.transition=a,te=n}return null}function wg(e,s,r,n){do yr();while(ts!==null);if(K&6)throw Error(D(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(rh(e,l),e===_e&&(je=_e=null,Re=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ua||(ua=!0,o0(Ua,function(){return yr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=ct.transition,ct.transition=null;var i=te;te=1;var o=K;K|=4,uc.current=null,fg(e,r),Zx(r,e),Hh(Hi),Ba=!!Bi,Hi=Bi=null,e.current=r,yg(r),Qp(),K=o,te=i,ct.transition=l}else e.current=r;if(ua&&(ua=!1,ts=e,nl=a),l=e.pendingLanes,l===0&&(os=null),Yp(r.stateNode),Je(e,ge()),s!==null)for(n=e.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(rl)throw rl=!1,e=co,co=null,e;return nl&1&&e.tag!==0&&yr(),l=e.pendingLanes,l&1?e===uo?xn++:(xn=0,uo=e):xn=0,fs(),null}function yr(){if(ts!==null){var e=$m(nl),s=ct.transition,r=te;try{if(ct.transition=null,te=16>e?16:e,ts===null)var n=!1;else{if(e=ts,ts=null,nl=0,K&6)throw Error(D(331));var a=K;for(K|=4,B=e.current;B!==null;){var l=B,i=l.child;if(B.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(B=u;B!==null;){var d=B;switch(d.tag){case 0:case 11:case 15:un(8,d,l)}var p=d.child;if(p!==null)p.return=d,B=p;else for(;B!==null;){d=B;var y=d.sibling,b=d.return;if(Jx(d),d===u){B=null;break}if(y!==null){y.return=b,B=y;break}B=b}}}var h=l.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var j=g.sibling;g.sibling=null,g=j}while(g!==null)}}B=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,B=i;else e:for(;B!==null;){if(l=B,l.flags&2048)switch(l.tag){case 0:case 11:case 15:un(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,B=m;break e}B=l.return}}var x=e.current;for(B=x;B!==null;){i=B;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,B=f;else e:for(i=x;B!==null;){if(o=B,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bl(9,o)}}catch(C){he(o,o.return,C)}if(o===i){B=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,B=k;break e}B=o.return}}if(K=a,fs(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(ml,e)}catch{}n=!0}return n}finally{te=r,ct.transition=s}}return!1}function mu(e,s,r){s=Cr(r,s),s=$x(e,s,1),e=is(e,s,1),s=$e(),e!==null&&($n(e,1,s),Je(e,s))}function he(e,s,r){if(e.tag===3)mu(e,e,r);else for(;s!==null;){if(s.tag===3){mu(s,e,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(os===null||!os.has(n))){e=Cr(r,e),e=Ux(s,e,1),s=is(s,e,1),e=$e(),s!==null&&($n(s,1,e),Je(s,e));break}}s=s.return}}function kg(e,s,r){var n=e.pingCache;n!==null&&n.delete(s),s=$e(),e.pingedLanes|=e.suspendedLanes&r,_e===e&&(Re&r)===r&&(ke===4||ke===3&&(Re&130023424)===Re&&500>ge()-xc?Ps(e,0):mc|=r),Je(e,s)}function l0(e,s){s===0&&(e.mode&1?(s=ta,ta<<=1,!(ta&130023424)&&(ta=4194304)):s=1);var r=$e();e=Vt(e,s),e!==null&&($n(e,s,r),Je(e,r))}function Sg(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),l0(e,r)}function _g(e,s){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(s),l0(e,r)}var i0;i0=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||Qe.current)Ge=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return Ge=!1,xg(e,s,r);Ge=!!(e.flags&131072)}else Ge=!1,ce&&s.flags&1048576&&ux(s,Ka,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;Ca(e,s),e=s.pendingProps;var a=wr(s,De.current);fr(s,r),a=lc(null,s,n,e,a,r);var l=ic();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ke(n)?(l=!0,Ga(s)):l=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,tc(s),a.updater=vl,s.stateNode=a,a._reactInternals=s,Xi(s,n,e,r),s=to(null,s,n,!0,l,r)):(s.tag=0,ce&&l&&Qo(s),Fe(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(Ca(e,s),e=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=Eg(n),e=ht(n,e),a){case 0:s=eo(null,s,n,e,r);break e;case 1:s=su(null,s,n,e,r);break e;case 11:s=eu(null,s,n,e,r);break e;case 14:s=tu(null,s,n,ht(n.type,e),r);break e}throw Error(D(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ht(n,a),eo(e,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ht(n,a),su(e,s,n,a,r);case 3:e:{if(Vx(s),e===null)throw Error(D(387));n=s.pendingProps,l=s.memoizedState,a=l.element,fx(e,s),Xa(s,n,null,r);var i=s.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){a=Cr(Error(D(423)),s),s=ru(e,s,n,r,a);break e}else if(n!==a){a=Cr(Error(D(424)),s),s=ru(e,s,n,r,a);break e}else for(et=ls(s.stateNode.containerInfo.firstChild),st=s,ce=!0,ft=null,r=hx(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kr(),n===a){s=qt(e,s,r);break e}Fe(e,s,n,r)}s=s.child}return s;case 5:return yx(s),e===null&&Ki(s),n=s.type,a=s.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Vi(n,a)?i=null:l!==null&&Vi(n,l)&&(s.flags|=32),Hx(e,s),Fe(e,s,i,r),s.child;case 6:return e===null&&Ki(s),null;case 13:return qx(e,s,r);case 4:return sc(s,s.stateNode.containerInfo),n=s.pendingProps,e===null?s.child=Sr(s,null,n,r):Fe(e,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ht(n,a),eu(e,s,n,a,r);case 7:return Fe(e,s,s.pendingProps,r),s.child;case 8:return Fe(e,s,s.pendingProps.children,r),s.child;case 12:return Fe(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,l=s.memoizedProps,i=a.value,se(Ja,n._currentValue),n._currentValue=i,l!==null)if(kt(l.value,i)){if(l.children===a.children&&!Qe.current){s=qt(e,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=Ut(-1,r&-r),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Ji(l.return,r,s),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(D(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Ji(i,r,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Fe(e,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,fr(s,r),a=ut(a),n=n(a),s.flags|=1,Fe(e,s,n,r),s.child;case 14:return n=s.type,a=ht(n,s.pendingProps),a=ht(n.type,a),tu(e,s,n,a,r);case 15:return zx(e,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ht(n,a),Ca(e,s),s.tag=1,Ke(n)?(e=!0,Ga(s)):e=!1,fr(s,r),Fx(s,n,a),Xi(s,n,a,r),to(null,s,n,!0,e,r);case 19:return Wx(e,s,r);case 22:return Bx(e,s,r)}throw Error(D(156,s.tag))};function o0(e,s){return Om(e,s)}function Cg(e,s,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,s,r,n){return new Cg(e,s,r,n)}function fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Eg(e){if(typeof e=="function")return fc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Io)return 11;if(e===Do)return 14}return 2}function ds(e,s){var r=e.alternate;return r===null?(r=ot(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ra(e,s,r,n,a,l){var i=2;if(n=e,typeof e=="function")fc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case tr:return Ls(r.children,a,l,s);case Oo:i=8,a|=8;break;case Ni:return e=ot(12,r,s,a|2),e.elementType=Ni,e.lanes=l,e;case wi:return e=ot(13,r,s,a),e.elementType=wi,e.lanes=l,e;case ki:return e=ot(19,r,s,a),e.elementType=ki,e.lanes=l,e;case ym:return Nl(r,a,l,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gm:i=10;break e;case fm:i=9;break e;case Io:i=11;break e;case Do:i=14;break e;case Jt:i=16,n=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return s=ot(i,r,s,a),s.elementType=e,s.type=n,s.lanes=l,s}function Ls(e,s,r,n){return e=ot(7,e,n,s),e.lanes=r,e}function Nl(e,s,r,n){return e=ot(22,e,n,s),e.elementType=ym,e.lanes=r,e.stateNode={isHidden:!1},e}function oi(e,s,r){return e=ot(6,e,null,s),e.lanes=r,e}function ci(e,s,r){return s=ot(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function Ag(e,s,r,n,a){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function yc(e,s,r,n,a,l,i,o,c){return e=new Ag(e,s,r,o,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=ot(3,null,null,s),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(l),e}function Rg(e,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:er,key:n==null?null:""+n,children:e,containerInfo:s,implementation:r}}function c0(e){if(!e)return xs;e=e._reactInternals;e:{if(Qs(e)!==e||e.tag!==1)throw Error(D(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ke(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(Ke(r))return cx(e,r,s)}return s}function d0(e,s,r,n,a,l,i,o,c){return e=yc(r,n,!0,e,a,l,i,o,c),e.context=c0(null),r=e.current,n=$e(),a=cs(r),l=Ut(n,a),l.callback=s??null,is(r,l,a),e.current.lanes=a,$n(e,a,n),Je(e,n),e}function wl(e,s,r,n){var a=s.current,l=$e(),i=cs(a);return r=c0(r),s.context===null?s.context=r:s.pendingContext=r,s=Ut(l,i),s.payload={element:e},n=n===void 0?null:n,n!==null&&(s.callback=n),e=is(a,s,i),e!==null&&(jt(e,a,i,l),ka(e,a,i)),i}function ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xu(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function vc(e,s){xu(e,s),(e=e.alternate)&&xu(e,s)}function Pg(){return null}var u0=typeof reportError=="function"?reportError:function(e){console.error(e)};function bc(e){this._internalRoot=e}kl.prototype.render=bc.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(D(409));wl(e,s,null,null)};kl.prototype.unmount=bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;$s(function(){wl(null,e,null,null)}),s[Ht]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var s=Bm();e={blockedOn:null,target:e,priority:s};for(var r=0;r<Xt.length&&s!==0&&s<Xt[r].priority;r++);Xt.splice(r,0,e),r===0&&Vm(e)}};function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pu(){}function Lg(e,s,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var u=ll(i);l.call(u)}}var i=d0(s,n,e,0,null,!1,!1,"",pu);return e._reactRootContainer=i,e[Ht]=i.current,Nn(e.nodeType===8?e.parentNode:e),$s(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=ll(c);o.call(u)}}var c=yc(e,0,!1,null,null,!1,!1,"",pu);return e._reactRootContainer=c,e[Ht]=c.current,Nn(e.nodeType===8?e.parentNode:e),$s(function(){wl(s,c,r,n)}),c}function _l(e,s,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=ll(i);o.call(c)}}wl(s,i,e,a)}else i=Lg(r,s,e,a,n);return ll(i)}Um=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=tn(s.pendingLanes);r!==0&&(Uo(s,r|1),Je(s,ge()),!(K&6)&&(Er=ge()+500,fs()))}break;case 13:$s(function(){var n=Vt(e,1);if(n!==null){var a=$e();jt(n,e,1,a)}}),vc(e,1)}};zo=function(e){if(e.tag===13){var s=Vt(e,134217728);if(s!==null){var r=$e();jt(s,e,134217728,r)}vc(e,134217728)}};zm=function(e){if(e.tag===13){var s=cs(e),r=Vt(e,s);if(r!==null){var n=$e();jt(r,e,s,n)}vc(e,s)}};Bm=function(){return te};Hm=function(e,s){var r=te;try{return te=e,s()}finally{te=r}};Mi=function(e,s,r){switch(s){case"input":if(Ci(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==e&&n.form===e.form){var a=gl(n);if(!a)throw Error(D(90));bm(n),Ci(n,a)}}}break;case"textarea":Nm(e,r);break;case"select":s=r.value,s!=null&&xr(e,!!r.multiple,s,!1)}};Am=pc;Rm=$s;var Tg={usingClientEntryPoint:!1,Events:[zn,ar,gl,Cm,Em,pc]},Kr={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mg={bundleType:Kr.bundleType,version:Kr.version,rendererPackageName:Kr.rendererPackageName,rendererConfig:Kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tm(e),e===null?null:e.stateNode},findFiberByHostInstance:Kr.findFiberByHostInstance||Pg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{ml=ma.inject(Mg),Rt=ma}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tg;nt.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jc(s))throw Error(D(200));return Rg(e,s,null,r)};nt.createRoot=function(e,s){if(!jc(e))throw Error(D(299));var r=!1,n="",a=u0;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=yc(e,1,!1,null,null,r,!1,n,a),e[Ht]=s.current,Nn(e.nodeType===8?e.parentNode:e),new bc(s)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Tm(s),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return $s(e)};nt.hydrate=function(e,s,r){if(!Sl(s))throw Error(D(200));return _l(null,e,s,!0,r)};nt.hydrateRoot=function(e,s,r){if(!jc(e))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=u0;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),s=d0(s,null,e,1,r??null,a,!1,l,i),e[Ht]=s.current,Nn(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new kl(s)};nt.render=function(e,s,r){if(!Sl(s))throw Error(D(200));return _l(null,e,s,!1,r)};nt.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(D(40));return e._reactRootContainer?($s(function(){_l(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};nt.unstable_batchedUpdates=pc;nt.unstable_renderSubtreeIntoContainer=function(e,s,r,n){if(!Sl(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return _l(e,s,r,!1,n)};nt.version="18.3.1-next-f1338f8080-20240426";function m0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m0)}catch(e){console.error(e)}}m0(),mm.exports=nt;var Og=mm.exports,hu=Og;bi.createRoot=hu.createRoot,bi.hydrateRoot=hu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pn.apply(this,arguments)}var ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ss||(ss={}));const gu="popstate";function Ig(e){e===void 0&&(e={});function s(n,a){let{pathname:l,search:i,hash:o}=n.location;return po("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:il(a)}return Fg(s,r,null,e)}function fe(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function Nc(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Dg(){return Math.random().toString(36).substr(2,8)}function fu(e,s){return{usr:e.state,key:e.key,idx:s}}function po(e,s,r,n){return r===void 0&&(r=null),Pn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?Ir(s):s,{state:r,key:s&&s.key||n||Dg()})}function il(e){let{pathname:s="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Ir(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(s.search=e.substr(n),e=e.substr(0,n)),e&&(s.pathname=e)}return s}function Fg(e,s,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o=ss.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Pn({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function p(){o=ss.Pop;let j=d(),m=j==null?null:j-u;u=j,c&&c({action:o,location:g.location,delta:m})}function y(j,m){o=ss.Push;let x=po(g.location,j,m);u=d()+1;let f=fu(x,u),k=g.createHref(x);try{i.pushState(f,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(k)}l&&c&&c({action:o,location:g.location,delta:1})}function b(j,m){o=ss.Replace;let x=po(g.location,j,m);u=d();let f=fu(x,u),k=g.createHref(x);i.replaceState(f,"",k),l&&c&&c({action:o,location:g.location,delta:0})}function h(j){let m=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof j=="string"?j:il(j);return x=x.replace(/ $/,"%20"),fe(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let g={get action(){return o},get location(){return e(a,i)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(gu,p),c=j,()=>{a.removeEventListener(gu,p),c=null}},createHref(j){return s(a,j)},createURL:h,encodeLocation(j){let m=h(j);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:y,replace:b,go(j){return i.go(j)}};return g}var yu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(yu||(yu={}));function $g(e,s,r){return r===void 0&&(r="/"),Ug(e,s,r)}function Ug(e,s,r,n){let a=typeof s=="string"?Ir(s):s,l=wc(a.pathname||"/",r);if(l==null)return null;let i=x0(e);zg(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=Zg(l);o=Jg(i[c],u)}return o}function x0(e,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(fe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=us([n,c.relativePath]),d=r.concat(c);l.children&&l.children.length>0&&(fe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),x0(l.children,s,d,u)),!(l.path==null&&!l.index)&&s.push({path:u,score:Qg(u,l.index),routesMeta:d})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of p0(l.path))a(l,i,c)}),s}function p0(e){let s=e.split("/");if(s.length===0)return[];let[r,...n]=s,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=p0(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function zg(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:Kg(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Bg=/^:[\w-]+$/,Hg=3,Vg=2,qg=1,Wg=10,Gg=-2,vu=e=>e==="*";function Qg(e,s){let r=e.split("/"),n=r.length;return r.some(vu)&&(n+=Gg),s&&(n+=Vg),r.filter(a=>!vu(a)).reduce((a,l)=>a+(Bg.test(l)?Hg:l===""?qg:Wg),n)}function Kg(e,s){return e.length===s.length&&e.slice(0,-1).every((n,a)=>n===s[a])?e[e.length-1]-s[s.length-1]:0}function Jg(e,s,r){let{routesMeta:n}=e,a={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=l==="/"?s:s.slice(l.length)||"/",p=Yg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),y=c.route;if(!p)return null;Object.assign(a,p.params),i.push({params:a,pathname:us([l,p.pathname]),pathnameBase:nf(us([l,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(l=us([l,p.pathnameBase]))}return i}function Yg(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Xg(e.path,e.caseSensitive,e.end),a=s.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,p)=>{let{paramName:y,isOptional:b}=d;if(y==="*"){let g=o[p]||"";i=l.slice(0,l.length-g.length).replace(/(.)\/+$/,"$1")}const h=o[p];return b&&!h?u[y]=void 0:u[y]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:i,pattern:e}}function Xg(e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Nc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),n]}function Zg(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Nc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function wc(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const ef=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tf=e=>ef.test(e);function sf(e,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ir(e):e,l;if(r)if(tf(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Nc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?l=bu(r.substring(1),"/"):l=bu(r,s)}else l=s;return{pathname:l,search:af(n),hash:lf(a)}}function bu(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function di(e,s,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rf(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function kc(e,s){let r=rf(e);return s?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Sc(e,s,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ir(e):(a=Pn({},e),fe(!a.pathname||!a.pathname.includes("?"),di("?","pathname","search",a)),fe(!a.pathname||!a.pathname.includes("#"),di("#","pathname","hash",a)),fe(!a.search||!a.search.includes("#"),di("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let p=s.length-1;if(!n&&i.startsWith("..")){let y=i.split("/");for(;y[0]==="..";)y.shift(),p-=1;a.pathname=y.join("/")}o=p>=0?s[p]:"/"}let c=sf(a,o),u=i&&i!=="/"&&i.endsWith("/"),d=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const us=e=>e.join("/").replace(/\/\/+/g,"/"),nf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),af=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lf=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function of(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const h0=["post","put","patch","delete"];new Set(h0);const cf=["get",...h0];new Set(cf);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ln.apply(this,arguments)}const _c=v.createContext(null),df=v.createContext(null),ys=v.createContext(null),Cl=v.createContext(null),vs=v.createContext({outlet:null,matches:[],isDataRoute:!1}),g0=v.createContext(null);function uf(e,s){let{relative:r}=s===void 0?{}:s;Dr()||fe(!1);let{basename:n,navigator:a}=v.useContext(ys),{hash:l,pathname:i,search:o}=y0(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:us([n,i])),a.createHref({pathname:c,search:o,hash:l})}function Dr(){return v.useContext(Cl)!=null}function Ks(){return Dr()||fe(!1),v.useContext(Cl).location}function f0(e){v.useContext(ys).static||v.useLayoutEffect(e)}function Js(){let{isDataRoute:e}=v.useContext(vs);return e?kf():mf()}function mf(){Dr()||fe(!1);let e=v.useContext(_c),{basename:s,future:r,navigator:n}=v.useContext(ys),{matches:a}=v.useContext(vs),{pathname:l}=Ks(),i=JSON.stringify(kc(a,r.v7_relativeSplatPath)),o=v.useRef(!1);return f0(()=>{o.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let p=Sc(u,JSON.parse(i),l,d.relative==="path");e==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:us([s,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[s,n,i,l,e])}function y0(e,s){let{relative:r}=s===void 0?{}:s,{future:n}=v.useContext(ys),{matches:a}=v.useContext(vs),{pathname:l}=Ks(),i=JSON.stringify(kc(a,n.v7_relativeSplatPath));return v.useMemo(()=>Sc(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function xf(e,s){return pf(e,s)}function pf(e,s,r,n){Dr()||fe(!1);let{navigator:a}=v.useContext(ys),{matches:l}=v.useContext(vs),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ks(),d;if(s){var p;let j=typeof s=="string"?Ir(s):s;c==="/"||(p=j.pathname)!=null&&p.startsWith(c)||fe(!1),d=j}else d=u;let y=d.pathname||"/",b=y;if(c!=="/"){let j=c.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let h=$g(e,{pathname:b}),g=vf(h&&h.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:us([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:us([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,r,n);return s&&g?v.createElement(Cl.Provider,{value:{location:Ln({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ss.Pop}},g):g}function hf(){let e=wf(),s=of(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},s),r?v.createElement("pre",{style:a},r):null,null)}const gf=v.createElement(hf,null);class ff extends v.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?v.createElement(vs.Provider,{value:this.props.routeContext},v.createElement(g0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yf(e){let{routeContext:s,match:r,children:n}=e,a=v.useContext(_c);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(vs.Provider,{value:s},n)}function vf(e,s,r,n){var a;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);d>=0||fe(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:y,errors:b}=r,h=p.route.loader&&y[p.route.id]===void 0&&(!b||b[p.route.id]===void 0);if(p.route.lazy||h){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,p,y)=>{let b,h=!1,g=null,j=null;r&&(b=o&&p.route.id?o[p.route.id]:void 0,g=p.route.errorElement||gf,c&&(u<0&&y===0?(Sf("route-fallback"),h=!0,j=null):u===y&&(h=!0,j=p.route.hydrateFallbackElement||null)));let m=s.concat(i.slice(0,y+1)),x=()=>{let f;return b?f=g:h?f=j:p.route.Component?f=v.createElement(p.route.Component,null):p.route.element?f=p.route.element:f=d,v.createElement(yf,{match:p,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:f})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?v.createElement(ff,{location:r.location,revalidation:r.revalidation,component:g,error:b,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var v0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(v0||{}),b0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(b0||{});function bf(e){let s=v.useContext(_c);return s||fe(!1),s}function jf(e){let s=v.useContext(df);return s||fe(!1),s}function Nf(e){let s=v.useContext(vs);return s||fe(!1),s}function j0(e){let s=Nf(),r=s.matches[s.matches.length-1];return r.route.id||fe(!1),r.route.id}function wf(){var e;let s=v.useContext(g0),r=jf(),n=j0();return s!==void 0?s:(e=r.errors)==null?void 0:e[n]}function kf(){let{router:e}=bf(v0.UseNavigateStable),s=j0(b0.UseNavigateStable),r=v.useRef(!1);return f0(()=>{r.current=!0}),v.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ln({fromRouteId:s},l)))},[e,s])}const ju={};function Sf(e,s,r){ju[e]||(ju[e]=!0)}function _f(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ho(e){let{to:s,replace:r,state:n,relative:a}=e;Dr()||fe(!1);let{future:l,static:i}=v.useContext(ys),{matches:o}=v.useContext(vs),{pathname:c}=Ks(),u=Js(),d=Sc(s,kc(o,l.v7_relativeSplatPath),c,a==="path"),p=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(p),{replace:r,state:n,relative:a}),[u,p,a,r,n]),null}function X(e){fe(!1)}function Cf(e){let{basename:s="/",children:r=null,location:n,navigationType:a=ss.Pop,navigator:l,static:i=!1,future:o}=e;Dr()&&fe(!1);let c=s.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:l,static:i,future:Ln({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=Ir(n));let{pathname:d="/",search:p="",hash:y="",state:b=null,key:h="default"}=n,g=v.useMemo(()=>{let j=wc(d,c);return j==null?null:{location:{pathname:j,search:p,hash:y,state:b,key:h},navigationType:a}},[c,d,p,y,b,h,a]);return g==null?null:v.createElement(ys.Provider,{value:u},v.createElement(Cl.Provider,{children:r,value:g}))}function Ef(e){let{children:s,location:r}=e;return xf(go(s),r)}new Promise(()=>{});function go(e,s){s===void 0&&(s=[]);let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let l=[...s,a];if(n.type===v.Fragment){r.push.apply(r,go(n.props.children,l));return}n.type!==X&&fe(!1),!n.props.index||!n.props.children||fe(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=go(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fo.apply(this,arguments)}function Af(e,s){if(e==null)return{};var r={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(s.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Rf(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pf(e,s){return e.button===0&&(!s||s==="_self")&&!Rf(e)}function yo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let n=e[r];return s.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Lf(e,s){let r=yo(e);return s&&s.forEach((n,a)=>{r.has(a)||s.getAll(a).forEach(l=>{r.append(a,l)})}),r}const Tf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Mf="6";try{window.__reactRouterVersion=Mf}catch{}const Of="startTransition",Nu=kp[Of];function If(e){let{basename:s,children:r,future:n,window:a}=e,l=v.useRef();l.current==null&&(l.current=Ig({window:a,v5Compat:!0}));let i=l.current,[o,c]=v.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=v.useCallback(p=>{u&&Nu?Nu(()=>c(p)):c(p)},[c,u]);return v.useLayoutEffect(()=>i.listen(d),[i,d]),v.useEffect(()=>_f(n),[n]),v.createElement(Cf,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const Df=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ff=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=v.forwardRef(function(s,r){let{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:u,preventScrollReset:d,viewTransition:p}=s,y=Af(s,Tf),{basename:b}=v.useContext(ys),h,g=!1;if(typeof u=="string"&&Ff.test(u)&&(h=u,Df))try{let f=new URL(window.location.href),k=u.startsWith("//")?new URL(f.protocol+u):new URL(u),C=wc(k.pathname,b);k.origin===f.origin&&C!=null?u=C+k.search+k.hash:g=!0}catch{}let j=uf(u,{relative:a}),m=$f(u,{replace:i,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:p});function x(f){n&&n(f),f.defaultPrevented||m(f)}return v.createElement("a",fo({},y,{href:h||j,onClick:g||l?n:x,ref:r,target:c}))});var wu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wu||(wu={}));var ku;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ku||(ku={}));function $f(e,s){let{target:r,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=s===void 0?{}:s,c=Js(),u=Ks(),d=y0(e,{relative:i});return v.useCallback(p=>{if(Pf(p,r)){p.preventDefault();let y=n!==void 0?n:il(u)===il(d);c(e,{replace:y,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[u,c,d,n,a,r,e,l,i,o])}function N0(e){let s=v.useRef(yo(e)),r=v.useRef(!1),n=Ks(),a=v.useMemo(()=>Lf(n.search,r.current?null:s.current),[n.search]),l=Js(),i=v.useCallback((o,c)=>{const u=yo(typeof o=="function"?o(a):o);r.current=!0,l("?"+u,c)},[l,a]);return[a,i]}function w0(e,s){return function(){return e.apply(s,arguments)}}const{toString:Uf}=Object.prototype,{getPrototypeOf:Cc}=Object,{iterator:El,toStringTag:k0}=Symbol,Al=(e=>s=>{const r=Uf.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),St=e=>(e=e.toLowerCase(),s=>Al(s)===e),Rl=e=>s=>typeof s===e,{isArray:Fr}=Array,Ar=Rl("undefined");function Hn(e){return e!==null&&!Ar(e)&&e.constructor!==null&&!Ar(e.constructor)&&Ye(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const S0=St("ArrayBuffer");function zf(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&S0(e.buffer),s}const Bf=Rl("string"),Ye=Rl("function"),_0=Rl("number"),Vn=e=>e!==null&&typeof e=="object",Hf=e=>e===!0||e===!1,Pa=e=>{if(Al(e)!=="object")return!1;const s=Cc(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(k0 in e)&&!(El in e)},Vf=e=>{if(!Vn(e)||Hn(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qf=St("Date"),Wf=St("File"),Gf=St("Blob"),Qf=St("FileList"),Kf=e=>Vn(e)&&Ye(e.pipe),Jf=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||Ye(e.append)&&((s=Al(e))==="formdata"||s==="object"&&Ye(e.toString)&&e.toString()==="[object FormData]"))},Yf=St("URLSearchParams"),[Xf,Zf,ey,ty]=["ReadableStream","Request","Response","Headers"].map(St),sy=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qn(e,s,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Fr(e))for(n=0,a=e.length;n<a;n++)s.call(null,e[n],n,e);else{if(Hn(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(n=0;n<i;n++)o=l[n],s.call(null,e[o],o,e)}}function C0(e,s){if(Hn(e))return null;s=s.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],s===a.toLowerCase())return a;return null}const As=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,E0=e=>!Ar(e)&&e!==As;function vo(){const{caseless:e,skipUndefined:s}=E0(this)&&this||{},r={},n=(a,l)=>{const i=e&&C0(r,l)||l;Pa(r[i])&&Pa(a)?r[i]=vo(r[i],a):Pa(a)?r[i]=vo({},a):Fr(a)?r[i]=a.slice():(!s||!Ar(a))&&(r[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&qn(arguments[a],n);return r}const ry=(e,s,r,{allOwnKeys:n}={})=>(qn(s,(a,l)=>{r&&Ye(a)?e[l]=w0(a,r):e[l]=a},{allOwnKeys:n}),e),ny=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ay=(e,s,r,n)=>{e.prototype=Object.create(s.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),r&&Object.assign(e.prototype,r)},ly=(e,s,r,n)=>{let a,l,i;const o={};if(s=s||{},e==null)return s;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!n||n(i,e,s))&&!o[i]&&(s[i]=e[i],o[i]=!0);e=r!==!1&&Cc(e)}while(e&&(!r||r(e,s))&&e!==Object.prototype);return s},iy=(e,s,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=s.length;const n=e.indexOf(s,r);return n!==-1&&n===r},oy=e=>{if(!e)return null;if(Fr(e))return e;let s=e.length;if(!_0(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=e[s];return r},cy=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Cc(Uint8Array)),dy=(e,s)=>{const n=(e&&e[El]).call(e);let a;for(;(a=n.next())&&!a.done;){const l=a.value;s.call(e,l[0],l[1])}},uy=(e,s)=>{let r;const n=[];for(;(r=e.exec(s))!==null;)n.push(r);return n},my=St("HTMLFormElement"),xy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Su=(({hasOwnProperty:e})=>(s,r)=>e.call(s,r))(Object.prototype),py=St("RegExp"),A0=(e,s)=>{const r=Object.getOwnPropertyDescriptors(e),n={};qn(r,(a,l)=>{let i;(i=s(a,l,e))!==!1&&(n[l]=i||a)}),Object.defineProperties(e,n)},hy=e=>{A0(e,(s,r)=>{if(Ye(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ye(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},gy=(e,s)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return Fr(e)?n(e):n(String(e).split(s)),r},fy=()=>{},yy=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function vy(e){return!!(e&&Ye(e.append)&&e[k0]==="FormData"&&e[El])}const by=e=>{const s=new Array(10),r=(n,a)=>{if(Vn(n)){if(s.indexOf(n)>=0)return;if(Hn(n))return n;if(!("toJSON"in n)){s[a]=n;const l=Fr(n)?[]:{};return qn(n,(i,o)=>{const c=r(i,a+1);!Ar(c)&&(l[o]=c)}),s[a]=void 0,l}}return n};return r(e,0)},jy=St("AsyncFunction"),Ny=e=>e&&(Vn(e)||Ye(e))&&Ye(e.then)&&Ye(e.catch),R0=((e,s)=>e?setImmediate:s?((r,n)=>(As.addEventListener("message",({source:a,data:l})=>{a===As&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),As.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ye(As.postMessage)),wy=typeof queueMicrotask<"u"?queueMicrotask.bind(As):typeof process<"u"&&process.nextTick||R0,ky=e=>e!=null&&Ye(e[El]),R={isArray:Fr,isArrayBuffer:S0,isBuffer:Hn,isFormData:Jf,isArrayBufferView:zf,isString:Bf,isNumber:_0,isBoolean:Hf,isObject:Vn,isPlainObject:Pa,isEmptyObject:Vf,isReadableStream:Xf,isRequest:Zf,isResponse:ey,isHeaders:ty,isUndefined:Ar,isDate:qf,isFile:Wf,isBlob:Gf,isRegExp:py,isFunction:Ye,isStream:Kf,isURLSearchParams:Yf,isTypedArray:cy,isFileList:Qf,forEach:qn,merge:vo,extend:ry,trim:sy,stripBOM:ny,inherits:ay,toFlatObject:ly,kindOf:Al,kindOfTest:St,endsWith:iy,toArray:oy,forEachEntry:dy,matchAll:uy,isHTMLForm:my,hasOwnProperty:Su,hasOwnProp:Su,reduceDescriptors:A0,freezeMethods:hy,toObjectSet:gy,toCamelCase:xy,noop:fy,toFiniteNumber:yy,findKey:C0,global:As,isContextDefined:E0,isSpecCompliantForm:vy,toJSONObject:by,isAsyncFn:jy,isThenable:Ny,setImmediate:R0,asap:wy,isIterable:ky};function q(e,s,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}R.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const P0=q.prototype,L0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{L0[e]={value:e}});Object.defineProperties(q,L0);Object.defineProperty(P0,"isAxiosError",{value:!0});q.from=(e,s,r,n,a,l)=>{const i=Object.create(P0);R.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=s==null&&e?e.code:s;return q.call(i,o,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const Sy=null;function bo(e){return R.isPlainObject(e)||R.isArray(e)}function T0(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function _u(e,s,r){return e?e.concat(s).map(function(a,l){return a=T0(a),!r&&l?"["+a+"]":a}).join(r?".":""):s}function _y(e){return R.isArray(e)&&!e.some(bo)}const Cy=R.toFlatObject(R,{},null,function(s){return/^is[A-Z]/.test(s)});function Pl(e,s,r){if(!R.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,r=R.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,j){return!R.isUndefined(j[g])});const n=r.metaTokens,a=r.visitor||d,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(s);if(!R.isFunction(a))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(R.isDate(h))return h.toISOString();if(R.isBoolean(h))return h.toString();if(!c&&R.isBlob(h))throw new q("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(h)||R.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,g,j){let m=h;if(h&&!j&&typeof h=="object"){if(R.endsWith(g,"{}"))g=n?g:g.slice(0,-2),h=JSON.stringify(h);else if(R.isArray(h)&&_y(h)||(R.isFileList(h)||R.endsWith(g,"[]"))&&(m=R.toArray(h)))return g=T0(g),m.forEach(function(f,k){!(R.isUndefined(f)||f===null)&&s.append(i===!0?_u([g],k,l):i===null?g:g+"[]",u(f))}),!1}return bo(h)?!0:(s.append(_u(j,g,l),u(h)),!1)}const p=[],y=Object.assign(Cy,{defaultVisitor:d,convertValue:u,isVisitable:bo});function b(h,g){if(!R.isUndefined(h)){if(p.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(h),R.forEach(h,function(m,x){(!(R.isUndefined(m)||m===null)&&a.call(s,m,R.isString(x)?x.trim():x,g,y))===!0&&b(m,g?g.concat(x):[x])}),p.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return b(e),s}function Cu(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function Ec(e,s){this._pairs=[],e&&Pl(e,this,s)}const M0=Ec.prototype;M0.append=function(s,r){this._pairs.push([s,r])};M0.toString=function(s){const r=s?function(n){return s.call(this,n,Cu)}:Cu;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Ey(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function O0(e,s,r){if(!s)return e;const n=r&&r.encode||Ey;R.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(s,r):l=R.isURLSearchParams(s)?s.toString():new Ec(s,r).toString(n),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Eu{constructor(){this.handlers=[]}use(s,r,n){return this.handlers.push({fulfilled:s,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){R.forEach(this.handlers,function(n){n!==null&&s(n)})}}const I0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ay=typeof URLSearchParams<"u"?URLSearchParams:Ec,Ry=typeof FormData<"u"?FormData:null,Py=typeof Blob<"u"?Blob:null,Ly={isBrowser:!0,classes:{URLSearchParams:Ay,FormData:Ry,Blob:Py},protocols:["http","https","file","blob","url","data"]},Ac=typeof window<"u"&&typeof document<"u",jo=typeof navigator=="object"&&navigator||void 0,Ty=Ac&&(!jo||["ReactNative","NativeScript","NS"].indexOf(jo.product)<0),My=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Oy=Ac&&window.location.href||"http://localhost",Iy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ac,hasStandardBrowserEnv:Ty,hasStandardBrowserWebWorkerEnv:My,navigator:jo,origin:Oy},Symbol.toStringTag,{value:"Module"})),Ie={...Iy,...Ly};function Dy(e,s){return Pl(e,new Ie.classes.URLSearchParams,{visitor:function(r,n,a,l){return Ie.isNode&&R.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...s})}function Fy(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function $y(e){const s={},r=Object.keys(e);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],s[l]=e[l];return s}function D0(e){function s(r,n,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&R.isArray(a)?a.length:i,c?(R.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!R.isObject(a[i]))&&(a[i]=[]),s(r,n,a[i],l)&&R.isArray(a[i])&&(a[i]=$y(a[i])),!o)}if(R.isFormData(e)&&R.isFunction(e.entries)){const r={};return R.forEachEntry(e,(n,a)=>{s(Fy(n),a,r,0)}),r}return null}function Uy(e,s,r){if(R.isString(e))try{return(s||JSON.parse)(e),R.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Wn={transitional:I0,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=R.isObject(s);if(l&&R.isHTMLForm(s)&&(s=new FormData(s)),R.isFormData(s))return a?JSON.stringify(D0(s)):s;if(R.isArrayBuffer(s)||R.isBuffer(s)||R.isStream(s)||R.isFile(s)||R.isBlob(s)||R.isReadableStream(s))return s;if(R.isArrayBufferView(s))return s.buffer;if(R.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Dy(s,this.formSerializer).toString();if((o=R.isFileList(s))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Pl(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),Uy(s)):s}],transformResponse:[function(s){const r=this.transitional||Wn.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(R.isResponse(s)||R.isReadableStream(s))return s;if(s&&R.isString(s)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(s,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?q.from(o,q.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ie.classes.FormData,Blob:Ie.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{Wn.headers[e]={}});const zy=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),By=e=>{const s={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||s[r]&&zy[r])&&(r==="set-cookie"?s[r]?s[r].push(n):s[r]=[n]:s[r]=s[r]?s[r]+", "+n:n)}),s},Au=Symbol("internals");function Jr(e){return e&&String(e).trim().toLowerCase()}function La(e){return e===!1||e==null?e:R.isArray(e)?e.map(La):String(e)}function Hy(e){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)s[n[1]]=n[2];return s}const Vy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ui(e,s,r,n,a){if(R.isFunction(n))return n.call(this,s,r);if(a&&(s=r),!!R.isString(s)){if(R.isString(n))return s.indexOf(n)!==-1;if(R.isRegExp(n))return n.test(s)}}function qy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,n)=>r.toUpperCase()+n)}function Wy(e,s){const r=R.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,l,i){return this[n].call(this,s,a,l,i)},configurable:!0})})}let Xe=class{constructor(s){s&&this.set(s)}set(s,r,n){const a=this;function l(o,c,u){const d=Jr(c);if(!d)throw new Error("header name must be a non-empty string");const p=R.findKey(a,d);(!p||a[p]===void 0||u===!0||u===void 0&&a[p]!==!1)&&(a[p||c]=La(o))}const i=(o,c)=>R.forEach(o,(u,d)=>l(u,d,c));if(R.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(R.isString(s)&&(s=s.trim())&&!Vy(s))i(By(s),r);else if(R.isObject(s)&&R.isIterable(s)){let o={},c,u;for(const d of s){if(!R.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?R.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(o,r)}else s!=null&&l(r,s,n);return this}get(s,r){if(s=Jr(s),s){const n=R.findKey(this,s);if(n){const a=this[n];if(!r)return a;if(r===!0)return Hy(a);if(R.isFunction(r))return r.call(this,a,n);if(R.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Jr(s),s){const n=R.findKey(this,s);return!!(n&&this[n]!==void 0&&(!r||ui(this,this[n],n,r)))}return!1}delete(s,r){const n=this;let a=!1;function l(i){if(i=Jr(i),i){const o=R.findKey(n,i);o&&(!r||ui(n,n[o],o,r))&&(delete n[o],a=!0)}}return R.isArray(s)?s.forEach(l):l(s),a}clear(s){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!s||ui(this,this[l],l,s,!0))&&(delete this[l],a=!0)}return a}normalize(s){const r=this,n={};return R.forEach(this,(a,l)=>{const i=R.findKey(n,l);if(i){r[i]=La(a),delete r[l];return}const o=s?qy(l):String(l).trim();o!==l&&delete r[l],r[o]=La(a),n[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return R.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=s&&R.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const n=new this(s);return r.forEach(a=>n.set(a)),n}static accessor(s){const n=(this[Au]=this[Au]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Jr(i);n[o]||(Wy(a,i),n[o]=!0)}return R.isArray(s)?s.forEach(l):l(s),this}};Xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(Xe.prototype,({value:e},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(n){this[r]=n}}});R.freezeMethods(Xe);function mi(e,s){const r=this||Wn,n=s||r,a=Xe.from(n.headers);let l=n.data;return R.forEach(e,function(o){l=o.call(r,l,a.normalize(),s?s.status:void 0)}),a.normalize(),l}function F0(e){return!!(e&&e.__CANCEL__)}function $r(e,s,r){q.call(this,e??"canceled",q.ERR_CANCELED,s,r),this.name="CanceledError"}R.inherits($r,q,{__CANCEL__:!0});function $0(e,s,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):s(new q("Request failed with status code "+r.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Gy(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function Qy(e,s){e=e||10;const r=new Array(e),n=new Array(e);let a=0,l=0,i;return s=s!==void 0?s:1e3,function(c){const u=Date.now(),d=n[l];i||(i=u),r[a]=c,n[a]=u;let p=l,y=0;for(;p!==a;)y+=r[p++],p=p%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),u-i<s)return;const b=d&&u-d;return b?Math.round(y*1e3/b):void 0}}function Ky(e,s){let r=0,n=1e3/s,a,l;const i=(u,d=Date.now())=>{r=d,a=null,l&&(clearTimeout(l),l=null),e(...u)};return[(...u)=>{const d=Date.now(),p=d-r;p>=n?i(u,d):(a=u,l||(l=setTimeout(()=>{l=null,i(a)},n-p)))},()=>a&&i(a)]}const ol=(e,s,r=3)=>{let n=0;const a=Qy(50,250);return Ky(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-n,u=a(c),d=i<=o;n=i;const p={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-i)/u:void 0,event:l,lengthComputable:o!=null,[s?"download":"upload"]:!0};e(p)},r)},Ru=(e,s)=>{const r=e!=null;return[n=>s[0]({lengthComputable:r,total:e,loaded:n}),s[1]]},Pu=e=>(...s)=>R.asap(()=>e(...s)),Jy=Ie.hasStandardBrowserEnv?((e,s)=>r=>(r=new URL(r,Ie.origin),e.protocol===r.protocol&&e.host===r.host&&(s||e.port===r.port)))(new URL(Ie.origin),Ie.navigator&&/(msie|trident)/i.test(Ie.navigator.userAgent)):()=>!0,Yy=Ie.hasStandardBrowserEnv?{write(e,s,r,n,a,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(s)}`];R.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),R.isString(n)&&o.push(`path=${n}`),R.isString(a)&&o.push(`domain=${a}`),l===!0&&o.push("secure"),R.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Xy(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Zy(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function U0(e,s,r){let n=!Xy(s);return e&&(n||r==!1)?Zy(e,s):s}const Lu=e=>e instanceof Xe?{...e}:e;function Us(e,s){s=s||{};const r={};function n(u,d,p,y){return R.isPlainObject(u)&&R.isPlainObject(d)?R.merge.call({caseless:y},u,d):R.isPlainObject(d)?R.merge({},d):R.isArray(d)?d.slice():d}function a(u,d,p,y){if(R.isUndefined(d)){if(!R.isUndefined(u))return n(void 0,u,p,y)}else return n(u,d,p,y)}function l(u,d){if(!R.isUndefined(d))return n(void 0,d)}function i(u,d){if(R.isUndefined(d)){if(!R.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,p){if(p in s)return n(u,d);if(p in e)return n(void 0,u)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,d,p)=>a(Lu(u),Lu(d),p,!0)};return R.forEach(Object.keys({...e,...s}),function(d){const p=c[d]||a,y=p(e[d],s[d],d);R.isUndefined(y)&&p!==o||(r[d]=y)}),r}const z0=e=>{const s=Us({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=s;if(s.headers=i=Xe.from(i),s.url=O0(U0(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),R.isFormData(r)){if(Ie.hasStandardBrowserEnv||Ie.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(R.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,p])=>{u.includes(d.toLowerCase())&&i.set(d,p)})}}if(Ie.hasStandardBrowserEnv&&(n&&R.isFunction(n)&&(n=n(s)),n||n!==!1&&Jy(s.url))){const c=a&&l&&Yy.read(l);c&&i.set(a,c)}return s},ev=typeof XMLHttpRequest<"u",tv=ev&&function(e){return new Promise(function(r,n){const a=z0(e);let l=a.data;const i=Xe.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,d,p,y,b,h;function g(){b&&b(),h&&h(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function m(){if(!j)return;const f=Xe.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:f,config:e,request:j};$0(function(w){r(w),g()},function(w){n(w),g()},C),j=null}"onloadend"in j?j.onloadend=m:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(m)},j.onabort=function(){j&&(n(new q("Request aborted",q.ECONNABORTED,e,j)),j=null)},j.onerror=function(k){const C=k&&k.message?k.message:"Network Error",_=new q(C,q.ERR_NETWORK,e,j);_.event=k||null,n(_),j=null},j.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||I0;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),n(new q(k,C.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,e,j)),j=null},l===void 0&&i.setContentType(null),"setRequestHeader"in j&&R.forEach(i.toJSON(),function(k,C){j.setRequestHeader(C,k)}),R.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),o&&o!=="json"&&(j.responseType=a.responseType),u&&([y,h]=ol(u,!0),j.addEventListener("progress",y)),c&&j.upload&&([p,b]=ol(c),j.upload.addEventListener("progress",p),j.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(d=f=>{j&&(n(!f||f.type?new $r(null,e,j):f),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const x=Gy(a.url);if(x&&Ie.protocols.indexOf(x)===-1){n(new q("Unsupported protocol "+x+":",q.ERR_BAD_REQUEST,e));return}j.send(l||null)})},sv=(e,s)=>{const{length:r}=e=e?e.filter(Boolean):[];if(s||r){let n=new AbortController,a;const l=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof q?d:new $r(d instanceof Error?d.message:d))}};let i=s&&setTimeout(()=>{i=null,l(new q(`timeout ${s} of ms exceeded`,q.ETIMEDOUT))},s);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(l):u.removeEventListener("abort",l)}),e=null)};e.forEach(u=>u.addEventListener("abort",l));const{signal:c}=n;return c.unsubscribe=()=>R.asap(o),c}},rv=function*(e,s){let r=e.byteLength;if(r<s){yield e;return}let n=0,a;for(;n<r;)a=n+s,yield e.slice(n,a),n=a},nv=async function*(e,s){for await(const r of av(e))yield*rv(r,s)},av=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:r,value:n}=await s.read();if(r)break;yield n}}finally{await s.cancel()}},Tu=(e,s,r,n)=>{const a=nv(e,s);let l=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){o(),c.close();return}let p=d.byteLength;if(r){let y=l+=p;r(y)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},Mu=64*1024,{isFunction:xa}=R,lv=(({Request:e,Response:s})=>({Request:e,Response:s}))(R.global),{ReadableStream:Ou,TextEncoder:Iu}=R.global,Du=(e,...s)=>{try{return!!e(...s)}catch{return!1}},iv=e=>{e=R.merge.call({skipUndefined:!0},lv,e);const{fetch:s,Request:r,Response:n}=e,a=s?xa(s):typeof fetch=="function",l=xa(r),i=xa(n);if(!a)return!1;const o=a&&xa(Ou),c=a&&(typeof Iu=="function"?(h=>g=>h.encode(g))(new Iu):async h=>new Uint8Array(await new r(h).arrayBuffer())),u=l&&o&&Du(()=>{let h=!1;const g=new r(Ie.origin,{body:new Ou,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!g}),d=i&&o&&Du(()=>R.isReadableStream(new n("").body)),p={stream:d&&(h=>h.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!p[h]&&(p[h]=(g,j)=>{let m=g&&g[h];if(m)return m.call(g);throw new q(`Response type '${h}' is not supported`,q.ERR_NOT_SUPPORT,j)})});const y=async h=>{if(h==null)return 0;if(R.isBlob(h))return h.size;if(R.isSpecCompliantForm(h))return(await new r(Ie.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(R.isArrayBufferView(h)||R.isArrayBuffer(h))return h.byteLength;if(R.isURLSearchParams(h)&&(h=h+""),R.isString(h))return(await c(h)).byteLength},b=async(h,g)=>{const j=R.toFiniteNumber(h.getContentLength());return j??y(g)};return async h=>{let{url:g,method:j,data:m,signal:x,cancelToken:f,timeout:k,onDownloadProgress:C,onUploadProgress:_,responseType:w,headers:N,withCredentials:E="same-origin",fetchOptions:A}=z0(h),S=s||fetch;w=w?(w+"").toLowerCase():"text";let U=sv([x,f&&f.toAbortSignal()],k),I=null;const O=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let V;try{if(_&&u&&j!=="get"&&j!=="head"&&(V=await b(N,m))!==0){let z=new r(g,{method:"POST",body:m,duplex:"half"}),H;if(R.isFormData(m)&&(H=z.headers.get("content-type"))&&N.setContentType(H),z.body){const[ee,re]=Ru(V,ol(Pu(_)));m=Tu(z.body,Mu,ee,re)}}R.isString(E)||(E=E?"include":"omit");const Z=l&&"credentials"in r.prototype,ue={...A,signal:U,method:j.toUpperCase(),headers:N.normalize().toJSON(),body:m,duplex:"half",credentials:Z?E:void 0};I=l&&new r(g,ue);let $=await(l?S(I,A):S(g,ue));const P=d&&(w==="stream"||w==="response");if(d&&(C||P&&O)){const z={};["status","statusText","headers"].forEach(Ve=>{z[Ve]=$[Ve]});const H=R.toFiniteNumber($.headers.get("content-length")),[ee,re]=C&&Ru(H,ol(Pu(C),!0))||[];$=new n(Tu($.body,Mu,ee,()=>{re&&re(),O&&O()}),z)}w=w||"text";let M=await p[R.findKey(p,w)||"text"]($,h);return!P&&O&&O(),await new Promise((z,H)=>{$0(z,H,{data:M,headers:Xe.from($.headers),status:$.status,statusText:$.statusText,config:h,request:I})})}catch(Z){throw O&&O(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new q("Network Error",q.ERR_NETWORK,h,I),{cause:Z.cause||Z}):q.from(Z,Z&&Z.code,h,I)}}},ov=new Map,B0=e=>{let s=e&&e.env||{};const{fetch:r,Request:n,Response:a}=s,l=[n,a,r];let i=l.length,o=i,c,u,d=ov;for(;o--;)c=l[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:iv(s)),d=u;return u};B0();const Rc={http:Sy,xhr:tv,fetch:{get:B0}};R.forEach(Rc,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const Fu=e=>`- ${e}`,cv=e=>R.isFunction(e)||e===null||e===!1;function dv(e,s){e=R.isArray(e)?e:[e];const{length:r}=e;let n,a;const l={};for(let i=0;i<r;i++){n=e[i];let o;if(a=n,!cv(n)&&(a=Rc[(o=String(n)).toLowerCase()],a===void 0))throw new q(`Unknown adapter '${o}'`);if(a&&(R.isFunction(a)||(a=a.get(s))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(Fu).join(`
`):" "+Fu(i[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const H0={getAdapter:dv,adapters:Rc};function xi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $r(null,e)}function $u(e){return xi(e),e.headers=Xe.from(e.headers),e.data=mi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),H0.getAdapter(e.adapter||Wn.adapter,e)(e).then(function(n){return xi(e),n.data=mi.call(e,e.transformResponse,n),n.headers=Xe.from(n.headers),n},function(n){return F0(n)||(xi(e),n&&n.response&&(n.response.data=mi.call(e,e.transformResponse,n.response),n.response.headers=Xe.from(n.response.headers))),Promise.reject(n)})}const V0="1.13.2",Ll={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{Ll[e]=function(n){return typeof n===e||"a"+(s<1?"n ":" ")+e}});const Uu={};Ll.transitional=function(s,r,n){function a(l,i){return"[Axios v"+V0+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(s===!1)throw new q(a(i," has been removed"+(r?" in "+r:"")),q.ERR_DEPRECATED);return r&&!Uu[i]&&(Uu[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(l,i,o):!0}};Ll.spelling=function(s){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function uv(e,s,r){if(typeof e!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const l=n[a],i=s[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new q("option "+l+" must be "+c,q.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new q("Unknown option "+l,q.ERR_BAD_OPTION)}}const Ta={assertOptions:uv,validators:Ll},Ct=Ta.validators;let Ts=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Eu,response:new Eu}}async request(s,r){try{return await this._request(s,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Us(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&Ta.assertOptions(n,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1),a!=null&&(R.isFunction(a)?r.paramsSerializer={serialize:a}:Ta.assertOptions(a,{encode:Ct.function,serialize:Ct.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ta.assertOptions(r,{baseUrl:Ct.spelling("baseURL"),withXsrfToken:Ct.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&R.merge(l.common,l[r.method]);l&&R.forEach(["delete","get","head","post","put","patch","common"],h=>{delete l[h]}),r.headers=Xe.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,p=0,y;if(!c){const h=[$u.bind(this),void 0];for(h.unshift(...o),h.push(...u),y=h.length,d=Promise.resolve(r);p<y;)d=d.then(h[p++],h[p++]);return d}y=o.length;let b=r;for(;p<y;){const h=o[p++],g=o[p++];try{b=h(b)}catch(j){g.call(this,j);break}}try{d=$u.call(this,b)}catch(h){return Promise.reject(h)}for(p=0,y=u.length;p<y;)d=d.then(u[p++],u[p++]);return d}getUri(s){s=Us(this.defaults,s);const r=U0(s.baseURL,s.url,s.allowAbsoluteUrls);return O0(r,s.params,s.paramsSerializer)}};R.forEach(["delete","get","head","options"],function(s){Ts.prototype[s]=function(r,n){return this.request(Us(n||{},{method:s,url:r,data:(n||{}).data}))}});R.forEach(["post","put","patch"],function(s){function r(n){return function(l,i,o){return this.request(Us(o||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Ts.prototype[s]=r(),Ts.prototype[s+"Form"]=r(!0)});let mv=class q0{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},s(function(l,i,o){n.reason||(n.reason=new $r(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=n=>{s.abort(n)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new q0(function(a){s=a}),cancel:s}}};function xv(e){return function(r){return e.apply(null,r)}}function pv(e){return R.isObject(e)&&e.isAxiosError===!0}const No={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(No).forEach(([e,s])=>{No[s]=e});function W0(e){const s=new Ts(e),r=w0(Ts.prototype.request,s);return R.extend(r,Ts.prototype,s,{allOwnKeys:!0}),R.extend(r,s,null,{allOwnKeys:!0}),r.create=function(a){return W0(Us(e,a))},r}const ye=W0(Wn);ye.Axios=Ts;ye.CanceledError=$r;ye.CancelToken=mv;ye.isCancel=F0;ye.VERSION=V0;ye.toFormData=Pl;ye.AxiosError=q;ye.Cancel=ye.CanceledError;ye.all=function(s){return Promise.all(s)};ye.spread=xv;ye.isAxiosError=pv;ye.mergeConfig=Us;ye.AxiosHeaders=Xe;ye.formToJSON=e=>D0(R.isHTMLForm(e)?new FormData(e):e);ye.getAdapter=H0.getAdapter;ye.HttpStatusCode=No;ye.default=ye;const{Axios:oj,AxiosError:cj,CanceledError:dj,isCancel:uj,CancelToken:mj,VERSION:xj,all:pj,Cancel:hj,isAxiosError:gj,spread:fj,toFormData:yj,AxiosHeaders:vj,HttpStatusCode:bj,formToJSON:jj,getAdapter:Nj,mergeConfig:wj}=ye,hv="/api",T=ye.create({baseURL:hv,headers:{"Content-Type":"application/json"}});T.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e});T.interceptors.response.use(e=>e.data,e=>{var s,r;return((s=e.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(((r=e.response)==null?void 0:r.data)||e)});const vr={login:e=>T.post("/auth/login",e),logout:()=>T.post("/auth/logout"),me:()=>T.get("/auth/me"),changePassword:e=>T.post("/auth/change-password",e),forgotPassword:e=>T.post("/auth/forgot-password",{email:e}),resetPassword:e=>T.post("/auth/reset-password",e)},We={getAdmin:e=>T.get("/dashboard/admin",{params:{event_id:e}}),getGroupLeader:()=>T.get("/dashboard/group-leader"),getQA:()=>T.get("/dashboard/qa"),getBackup:()=>T.get("/dashboard/backup"),getEditor:()=>T.get("/dashboard/editor"),getWorkflowProgress:e=>T.get("/dashboard/workflow-progress",{params:{event_id:e}}),getTimeAnalytics:e=>T.get("/dashboard/time-analytics",{params:{event_id:e}}),getIncidents:(e,s)=>T.get("/dashboard/incidents",{params:{event_id:e,days:s}}),getSdCardLifecycle:e=>T.get("/dashboard/sd-card-lifecycle",{params:{event_id:e}}),getComparative:e=>T.get("/dashboard/comparative",{params:{event_id:e}}),getPredictive:e=>T.get("/dashboard/predictive",{params:{event_id:e}}),getAlerts:e=>T.get("/dashboard/alerts",{params:{event_id:e}}),getLiveOperations:e=>T.get("/dashboard/live-operations",{params:{event_id:e}})},mr={getAll:e=>T.get("/events",{params:e}),getActive:()=>T.get("/events/active"),getOne:e=>T.get(`/events/${e}`),create:e=>T.post("/events",e),update:(e,s)=>T.put(`/events/${e}`,s),activate:e=>T.post(`/events/${e}/activate`),complete:e=>T.post(`/events/${e}/complete`),getStats:e=>T.get(`/events/${e}/stats`)},$t={getAll:e=>T.get("/groups",{params:e}),getOne:e=>T.get(`/groups/${e}`),create:e=>T.post("/groups",e),update:(e,s)=>T.put(`/groups/${e}`,s),getMembers:e=>T.get(`/groups/${e}/members`),addMember:(e,s)=>T.post(`/groups/${e}/members`,{user_id:s}),removeMember:(e,s)=>T.delete(`/groups/${e}/members`,{data:{user_id:s}})},yt={search:e=>T.get("/media/search",{params:e}),getStatus:e=>T.get(`/media/${e}/status`),getDownloadUrl:e=>T.get(`/media/${e}/download-url`),logPlayback:(e,s)=>T.post(`/media/${e}/log-playback`,s),logDownload:(e,s)=>T.post(`/media/${e}/log-download`,s),getPlaybackSource:e=>T.get(`/media/${e}/playback-source`)},pa={getAll:e=>T.get("/issues",{params:e}),getOne:e=>T.get(`/issues/${e}`),acknowledge:e=>T.post(`/issues/${e}/acknowledge`),resolve:(e,s)=>T.post(`/issues/${e}/resolve`,{resolution_notes:s}),escalate:(e,s)=>T.post(`/issues/${e}/escalate`,{reason:s}),getGroupSummary:()=>T.get("/issues/group-summary")},wo={getCoverage:e=>T.get("/backup/coverage",{params:{event_id:e}}),getPending:e=>T.get("/backup/pending",{params:e}),getDiskStatus:e=>T.get(`/backup/disk/${e}`),getAnalytics:e=>T.get("/backup/analytics",{params:{event_id:e}})},Nt={getAll:e=>T.get("/users",{params:e}),getOne:e=>T.get(`/users/${e}`),create:e=>T.post("/users",e),update:(e,s)=>T.put(`/users/${e}`,s),delete:e=>T.delete(`/users/${e}`),toggleStatus:e=>T.post(`/users/${e}/toggle-status`),assignGroups:(e,s)=>T.post(`/users/${e}/groups`,{group_ids:s}),getRoles:()=>T.get("/users/roles"),getEditorsStatus:e=>T.get("/users/editors-status",{params:e}),bulkImport:e=>T.post("/users/bulk-import",e),downloadTemplate:()=>T.get("/users/import-template",{responseType:"blob"}),getInvitations:()=>T.get("/users/invitations"),createInvitation:e=>T.post("/users/invitations",e),revokeInvitation:e=>T.delete(`/users/invitations/${e}`)},ha={getAll:e=>T.get("/audit-logs",{params:e}),getOne:e=>T.get(`/audit-logs/${e}`),getStats:()=>T.get("/audit-logs/stats"),getActions:()=>T.get("/audit-logs/actions"),getEntityTypes:()=>T.get("/audit-logs/entity-types")},Rs={register:e=>T.post("/auth/register",e),registerWithInvitation:e=>T.post("/auth/register/invitation",e),checkInvitation:e=>T.get(`/auth/invitation/${e}`),getPending:e=>T.get("/registrations/pending",{params:e}),sendInvitation:e=>T.post("/registrations/invite",e),approve:(e,s)=>T.post(`/registrations/${e}/approve`,s),reject:(e,s)=>T.post(`/registrations/${e}/reject`,s),suspend:(e,s)=>T.post(`/registrations/${e}/suspend`,s),reactivate:e=>T.post(`/registrations/${e}/reactivate`)},Yr={getAll:e=>T.get("/settings",{params:{group:e}}),update:e=>T.put("/settings",{settings:e}),getSmtp:()=>T.get("/settings/smtp"),updateSmtp:e=>T.put("/settings/smtp",e),testSmtp:e=>T.post("/settings/smtp/test",{email:e}),getGeneral:()=>T.get("/settings/general"),updateGeneral:e=>T.put("/settings/general",e)},Xr={getAll:e=>T.get("/cameras",{params:e}),getOne:e=>T.get(`/cameras/${e}`),create:e=>T.post("/cameras",e),update:(e,s)=>T.put(`/cameras/${e}`,s),delete:e=>T.delete(`/cameras/${e}`),getStats:e=>T.get("/cameras/stats",{params:e}),bindSdCard:(e,s)=>T.post(`/cameras/${e}/bind-sd`,{sd_card_id:s}),unbindSdCard:e=>T.post(`/cameras/${e}/unbind-sd`)},js={getAll:e=>T.get("/healing-cases",{params:e}),getOne:e=>T.get(`/healing-cases/${e}`),create:e=>T.post("/healing-cases",e),update:(e,s)=>T.put(`/healing-cases/${e}`,s),delete:e=>T.delete(`/healing-cases/${e}`),getStats:e=>T.get("/healing-cases/stats",{params:e}),verify:e=>T.post(`/healing-cases/${e}/verify`),publish:e=>T.post(`/healing-cases/${e}/publish`)},gv={getOverview:e=>T.get("/quality-control",{params:{event_id:e}}),getDashboard:e=>T.get("/quality-control",{params:{event_id:e}}),getQueue:e=>T.get("/quality-control/queue",{params:e}),submit:(e,s)=>T.post(`/quality-control/${e}/submit`,s),getHistory:e=>T.get(`/quality-control/${e}/history`),getStats:e=>T.get("/quality-control/stats",{params:e})},fv={getForecast:e=>T.get("/storage",{params:e}),getUsage:()=>T.get("/storage"),getDisks:()=>T.get("/storage")},yv={getOverview:e=>T.get("/work-allocation/overview",{params:{event_id:e}}),assign:(e,s)=>T.post("/work-allocation/assign",{editor_id:e,media_ids:s}),autoDistribute:e=>T.post("/work-allocation/auto-distribute",e),reassign:(e,s,r)=>T.post("/work-allocation/reassign",{from_editor_id:e,to_editor_id:s,media_ids:r})},G0=v.createContext(null);function vv({children:e}){const[s,r]=v.useState(null),[n,a]=v.useState(null),[l,i]=v.useState(!0);v.useEffect(()=>{const _=localStorage.getItem("token"),w=localStorage.getItem("user");_&&w?(r(JSON.parse(w)),Promise.all([vr.me(),mr.getActive().catch(()=>({event:null}))]).then(([N,E])=>{r(N.user),localStorage.setItem("user",JSON.stringify(N.user)),a((E==null?void 0:E.event)||null)}).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)}).finally(()=>i(!1))):i(!1)},[]);const o=async()=>{try{const _=await mr.getActive();return a((_==null?void 0:_.event)||null),(_==null?void 0:_.event)||null}catch{return a(null),null}},c=async(_,w)=>{const N=await vr.login({email:_,password:w});return localStorage.setItem("token",N.authorization.token),localStorage.setItem("user",JSON.stringify(N.user)),r(N.user),await o(),N},u=async()=>{try{await vr.logout()}catch{}localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)},d=_=>{var w;return(w=s==null?void 0:s.roles)==null?void 0:w.includes(_)},p=_=>_.some(w=>{var N;return(N=s==null?void 0:s.roles)==null?void 0:N.includes(w)}),y=()=>d("admin"),b=()=>d("team-lead"),h=()=>d("group-leader"),g=()=>d("qa-lead"),j=()=>d("qa"),m=()=>d("backup-lead"),x=()=>d("backup"),f=()=>d("editor"),k=()=>y()||b(),C=()=>y()||b()||h()||g()||m();return t.jsx(G0.Provider,{value:{user:s,activeEvent:n,loading:l,login:c,logout:u,refreshActiveEvent:o,hasRole:d,hasAnyRole:p,isAdmin:y,isTeamLead:b,isGroupLeader:h,isQALead:g,isQA:j,isBackupLead:m,isBackup:x,isEditor:f,hasOperationalAccess:k,canManageUsers:C},children:e})}function de(){const e=v.useContext(G0);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Q0=v.createContext(null),bv=(e,s)=>{switch(s.type){case"ADD_TOAST":return[s.toast,...e].slice(0,5);case"REMOVE_TOAST":return e.filter(r=>r.id!==s.id);case"CLEAR_ALL":return[];default:return e}};function jv({children:e}){const[s,r]=v.useReducer(bv,[]),n=v.useCallback(d=>{const p=`toast-${Date.now()}-${Math.random().toString(16).slice(2)}`,y={...d,id:p,createdAt:Date.now()};r({type:"ADD_TOAST",toast:y});const b=d.duration||4500;return b>0&&setTimeout(()=>{r({type:"REMOVE_TOAST",id:p})},b),p},[]),a=v.useCallback(d=>{r({type:"REMOVE_TOAST",id:d})},[]),l=v.useCallback(()=>{r({type:"CLEAR_ALL"})},[]),i=v.useCallback((d,p,y={})=>n({kind:"success",title:d,message:p,...y}),[n]),o=v.useCallback((d,p,y={})=>n({kind:"error",title:d,message:p,...y}),[n]),c=v.useCallback((d,p,y={})=>n({kind:"warning",title:d,message:p,...y}),[n]),u=v.useCallback((d,p,y={})=>n({kind:"info",title:d,message:p,...y}),[n]);return t.jsx(Q0.Provider,{value:{toasts:s,addToast:n,removeToast:a,clearAll:l,success:i,error:o,warning:c,info:u},children:e})}function K0(){const e=v.useContext(Q0);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,s)=>{const r=v.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...u},d)=>v.createElement("svg",{ref:d,...Nv,width:a,height:a,stroke:n,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${wv(e)}`,o].join(" "),...u},[...s.map(([p,y])=>v.createElement(p,y)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=F("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=F("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=F("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=F("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=F("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=F("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=F("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=F("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=F("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=F("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=F("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=F("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=F("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=F("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=F("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=F("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=F("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=F("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=F("FileVideo",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=F("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=F("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=F("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=F("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=F("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=F("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=F("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=F("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=F("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=F("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=F("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=F("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=F("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=F("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=F("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=F("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=F("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=F("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=F("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=F("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=F("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=F("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=F("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=F("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=F("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=F("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=F("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=F("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=F("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=F("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=F("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=F("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=F("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=F("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=F("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=F("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Wv={ok:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-700 border-amber-200",error:"bg-red-50 text-red-700 border-red-200",info:"bg-sky-50 text-sky-700 border-sky-200",neutral:"bg-gray-50 text-gray-600 border-gray-200",live:"bg-purple-50 text-purple-700 border-purple-200"};function Ia({kind:e="neutral",children:s,icon:r,pulse:n}){return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full border ${Wv[e]}`,children:[n&&t.jsxs("span",{className:"relative flex h-2 w-2",children:[t.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${e==="ok"?"bg-emerald-400":e==="live"?"bg-purple-400":"bg-amber-400"}`}),t.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${e==="ok"?"bg-emerald-500":e==="live"?"bg-purple-500":"bg-amber-500"}`})]}),r&&!n&&t.jsx(r,{className:"w-3.5 h-3.5"}),s]})}function Gv({online:e}){return e==null?t.jsx(Ia,{kind:"neutral",icon:ve,children:"Connecting..."}):e?t.jsx(Ia,{kind:"ok",icon:qs,children:"Online"}):t.jsx(Ia,{kind:"error",icon:Dn,children:"Offline"})}function Qv({isLive:e,label:s}){return e?t.jsx(Ia,{kind:"live",pulse:!0,children:s||"Live"}):null}function Kv({children:e}){var C,_,w;const{user:s,logout:r,isAdmin:n,isGroupLeader:a,isQA:l,isBackup:i}=de(),o=Ks(),c=Js(),[u,d]=v.useState(!0),[p,y]=v.useState(["overview"]),[b,h]=v.useState(()=>{const N=localStorage.getItem("darkMode");return N?JSON.parse(N):!1}),[g,j]=v.useState(!1);Po.useEffect(()=>{b?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(b))},[b]);const m=async()=>{await r(),c("/login")},x=N=>{y(E=>E.includes(N)?E.filter(A=>A!==N):[...E,N])},k=[{id:"overview",name:"Overview",icon:Vu,roles:["admin","team-lead","group-leader","qa","backup","editor"],items:[{name:"Dashboard",href:"/",icon:Vu,roles:["admin","team-lead","group-leader","qa","backup","editor"]},{name:"Live Operations",href:"/live-operations",icon:oe,roles:["admin","team-lead","group-leader"]},{name:"Analytics",href:"/analytics-dashboard",icon:zs,roles:["admin","team-lead","group-leader"]}]},{id:"operations",name:"Operations",icon:Bs,roles:["admin","team-lead","group-leader"],items:[{name:"Events",href:"/events",icon:Bs,roles:["admin","team-lead"]},{name:"Groups",href:"/groups",icon:Ce,roles:["admin","team-lead","group-leader"]},{name:"Work Allocation",href:"/work-allocation",icon:Oa,roles:["admin","team-lead","group-leader"]},{name:"Cameras",href:"/cameras",icon:dt,roles:["admin","team-lead"]}]},{id:"media",name:"Media",icon:xt,roles:["admin","team-lead","group-leader","qa"],items:[{name:"Search & Playback",href:"/search",icon:Wt,roles:["admin","team-lead","group-leader","qa"]},{name:"Media Library",href:"/media",icon:xt,roles:["admin","team-lead"]},{name:"Quality Control",href:"/quality-control",icon:J,roles:["admin","team-lead","qa","group-leader"]},{name:"Issues",href:"/issues",icon:G,roles:["admin","team-lead","group-leader","qa"]},{name:"Healing Cases",href:"/healing-cases",icon:Ma,roles:["admin","team-lead","group-leader"]}]},{id:"storage",name:"Storage",icon:Lc,roles:["admin","team-lead","backup"],items:[{name:"Backups",href:"/backups",icon:Y,roles:["admin","team-lead","backup"]},{name:"Storage Forecast",href:"/storage-forecast",icon:zs,roles:["admin","team-lead","backup"]},{name:"Data Protection",href:"/data-protection",icon:wt,roles:["admin","team-lead"]}]},{id:"admin",name:"Administration",icon:Av,roles:["admin","team-lead","group-leader","qa-lead","backup-lead"],items:[{name:"Users",href:"/users",icon:qv,roles:["admin","team-lead","group-leader","qa-lead","backup-lead"]},{name:"Shifts",href:"/shifts",icon:ve,roles:["admin","team-lead","group-leader"]},{name:"Reports",href:"/reports",icon:On,roles:["admin","team-lead","group-leader"]},{name:"Activity Feed",href:"/activity-feed",icon:oe,roles:["admin","team-lead","group-leader"]},{name:"Approvals",href:"/approvals",icon:In,roles:["admin","team-lead","group-leader"]},{name:"Audit Logs",href:"/audit-logs",icon:ps,roles:["admin"]},{name:"Settings",href:"/settings",icon:Lr,roles:["admin"]}]},{id:"support",name:"Support",icon:So,roles:["admin","team-lead","group-leader","qa","qa-lead","backup","backup-lead","editor"],items:[{name:"Help & Docs",href:"/help",icon:So,roles:["admin","team-lead","group-leader","qa","qa-lead","backup","backup-lead","editor"]}]}].filter(N=>N.roles.some(E=>{var A;return(A=s==null?void 0:s.roles)==null?void 0:A.includes(E)})).map(N=>({...N,items:N.items.filter(E=>E.roles.some(A=>{var S;return(S=s==null?void 0:s.roles)==null?void 0:S.includes(A)}))})).filter(N=>N.items.length>0);return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-200 ${u?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[t.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"G1"})}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold text-gray-900",children:"Gate 1 System"}),t.jsx("span",{className:"block text-[10px] text-gray-400",children:"Powered by Nelium Systems"})]})]}),t.jsx("button",{onClick:()=>d(!1),className:"lg:hidden",children:t.jsx(Ee,{className:"w-5 h-5 text-gray-500"})})]}),t.jsx("nav",{className:"p-4 space-y-2 overflow-y-auto",style:{maxHeight:"calc(100vh - 180px)"},children:k.map(N=>{const E=p.includes(N.id),A=N.items.some(S=>o.pathname===S.href);return t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{onClick:()=>x(N.id),className:`flex items-center justify-between w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors ${A?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(N.icon,{className:"w-5 h-5"}),N.name]}),E?t.jsx(cl,{className:"w-4 h-4"}):t.jsx(Rr,{className:"w-4 h-4"})]}),E&&t.jsx("div",{className:"ml-4 space-y-1",children:N.items.map(S=>{const U=o.pathname===S.href;return t.jsxs(tt,{to:S.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${U?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsx(S.icon,{className:"w-4 h-4"}),S.name]},S.name)})})]},N.id)})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:[t.jsxs(tt,{to:"/profile",className:"flex items-center gap-3 mb-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-medium",children:((_=(C=s==null?void 0:s.name)==null?void 0:C.charAt(0))==null?void 0:_.toUpperCase())||"U"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s==null?void 0:s.name}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:(w=s==null?void 0:s.roles)==null?void 0:w[0]})]})]}),t.jsxs("button",{onClick:m,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg",children:[t.jsx(Mc,{className:"w-4 h-4"}),"Sign out"]})]})]}),t.jsxs("div",{className:`${u?"lg:pl-64":""} transition-all duration-200`,children:[t.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>d(!u),className:"lg:hidden",children:t.jsx(Ov,{className:"w-6 h-6 text-gray-500"})}),t.jsxs("div",{className:"relative hidden md:block",children:[t.jsx(Wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 w-64 bg-gray-100 border-0 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:bg-white"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"hidden lg:flex items-center gap-2 mr-2",children:[t.jsx(Gv,{online:!0}),t.jsx(Qv,{isLive:!0,label:"System Live"})]}),t.jsx("button",{onClick:()=>h(!b),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg dark:hover:bg-gray-700",title:b?"Light mode":"Dark mode",children:b?t.jsx(zv,{className:"w-5 h-5"}):t.jsx(Fv,{className:"w-5 h-5"})}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>j(!g),className:"relative p-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:[t.jsx(Mn,{className:"w-5 h-5"}),t.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),g&&t.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50",children:[t.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:"Notifications"}),t.jsx(tt,{to:"/notifications",onClick:()=>j(!1),className:"text-sm text-blue-600 hover:text-blue-700",children:"View all"})]}),t.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[t.jsxs("div",{className:"p-3 hover:bg-gray-50 border-b border-gray-100",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New Issue Reported"}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Camera CAM-042 reported corrupt file"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"5 min ago"})]}),t.jsxs("div",{className:"p-3 hover:bg-gray-50 border-b border-gray-100",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Backup Completed"}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Daily backup completed successfully"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"1 hour ago"})]}),t.jsxs("div",{className:"p-3 hover:bg-gray-50",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Storage Warning"}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"DISK-003 is at 85% capacity"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"3 hours ago"})]})]}),t.jsx("div",{className:"p-2 border-t border-gray-100",children:t.jsx(tt,{to:"/notifications",onClick:()=>j(!1),className:"block w-full text-center text-sm text-gray-600 hover:text-gray-900 py-2",children:"See all notifications"})})]})]})]})]})}),t.jsx("main",{className:"p-6",children:e})]})]})}const Jv={success:J,error:Ws,warning:G,info:Hs},Wu={success:{bg:"bg-emerald-50",border:"border-emerald-200",icon:"text-emerald-500",title:"text-emerald-800",message:"text-emerald-600"},error:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500",title:"text-red-800",message:"text-red-600"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:"text-amber-500",title:"text-amber-800",message:"text-amber-600"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:"text-sky-500",title:"text-sky-800",message:"text-sky-600"}};function Yv(){const{toasts:e,removeToast:s}=K0();return e.length===0?null:t.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 max-w-sm",children:e.map(r=>{const n=Jv[r.kind]||Hs,a=Wu[r.kind]||Wu.info;return t.jsxs("div",{className:`${a.bg} ${a.border} border rounded-xl p-4 shadow-lg animate-slide-in-right flex items-start gap-3`,role:"alert",children:[t.jsx(n,{className:`w-5 h-5 ${a.icon} flex-shrink-0 mt-0.5`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`font-semibold text-sm ${a.title}`,children:r.title}),r.message&&t.jsx("p",{className:`text-sm mt-0.5 ${a.message}`,children:r.message})]}),t.jsx("button",{onClick:()=>s(r.id),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:t.jsx(Ee,{className:"w-4 h-4"})})]},r.id)})})}function Xv(){const[e,s]=v.useState(""),[r,n]=v.useState(""),[a,l]=v.useState(""),[i,o]=v.useState(!1),{login:c}=de(),u=Js(),d=async p=>{p.preventDefault(),l(""),o(!0);try{await c(e,r),u("/")}catch(y){l(y.message||"Invalid credentials")}finally{o(!1)}};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-white font-bold text-2xl",children:"G1"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gate 1 System"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Media Chain & Evidence Management"})]}),t.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a&&t.jsx("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg text-sm",children:a}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),t.jsx("input",{type:"email",value:e,onChange:p=>s(p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com",required:!0})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),t.jsx(tt,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})]}),t.jsx("input",{type:"password",value:r,onChange:p=>n(p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),t.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Signing in...":"Sign in"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",t.jsx(tt,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Register here"})]})})]})})})}function Zv(){var x;const[e]=N0();Js();const s=e.get("token"),[r,n]=v.useState({name:"",email:"",phone:"",password:"",password_confirmation:"",registration_notes:""}),[a,l]=v.useState(null),[i,o]=v.useState(!1),[c,u]=v.useState(!1),[d,p]=v.useState(!1),[y,b]=v.useState(""),[h,g]=v.useState(!!s);v.useEffect(()=>{s&&j()},[s]);const j=async()=>{try{const f=await Rs.checkInvitation(s);l(f.data),n(k=>({...k,email:f.data.email}))}catch{b("Invalid or expired invitation link")}finally{g(!1)}},m=async f=>{if(f.preventDefault(),u(!0),b(""),r.password!==r.password_confirmation){b("Passwords do not match"),u(!1);return}try{s?await Rs.registerWithInvitation({token:s,...r}):await Rs.register(r),p(!0)}catch(k){b(k.message||k.error||"Registration failed")}finally{u(!1)}};return h?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent"})}):d?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 text-center border border-white/20",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-500/30",children:t.jsx(J,{className:"w-10 h-10 text-white"})}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:s?"Registration Complete!":"Application Submitted!"}),t.jsx("p",{className:"text-gray-300 mb-6",children:s?"Your account is ready. You can now login to the system.":"Your registration is pending approval. You will receive an email once your account has been approved."}),t.jsx(tt,{to:"/login",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl font-medium hover:from-purple-600 hover:to-indigo-700 transition-all shadow-lg shadow-purple-500/30",children:"Go to Login"})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/20",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-purple-500/30",children:t.jsx("span",{className:"text-3xl font-bold text-white",children:"G1"})}),t.jsx("h1",{className:"text-2xl font-bold text-white",children:s?"Complete Your Registration":"Join Gate 1 System"}),t.jsx("p",{className:"text-gray-400 mt-2",children:s?"You have been invited to join the team":"Create your editor account"}),((x=a==null?void 0:a.groups)==null?void 0:x.length)>0&&t.jsx("div",{className:"mt-3 px-4 py-2 bg-purple-500/20 rounded-lg inline-block",children:t.jsxs("span",{className:"text-purple-300 text-sm",children:["Joining: ",a.groups.map(f=>f.name).join(", ")]})})]}),y&&t.jsxs("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 text-red-300 rounded-xl flex items-center gap-3",children:[t.jsx(Ue,{className:"w-5 h-5 flex-shrink-0"}),y]}),t.jsxs("form",{onSubmit:m,className:"space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Gt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",value:r.name,onChange:f=>n({...r,name:f.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"John Doe",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Vs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"email",value:r.email,onChange:f=>n({...r,email:f.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all disabled:opacity-50",placeholder:"you@example.com",required:!0,disabled:!!s})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Tl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"tel",value:r.phone,onChange:f=>n({...r,phone:f.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"+1 234 567 8900"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:i?"text":"password",value:r.password,onChange:f=>n({...r,password:f.target.value}),className:"w-full pl-12 pr-12 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"",required:!0,minLength:8}),t.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:i?t.jsx(br,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Minimum 8 characters"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:i?"text":"password",value:r.password_confirmation,onChange:f=>n({...r,password_confirmation:f.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"",required:!0})]})]}),!s&&t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Notes ",t.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(ps,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400"}),t.jsx("textarea",{value:r.registration_notes,onChange:f=>n({...r,registration_notes:f.target.value}),className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none",placeholder:"Any additional information...",rows:3})]})]}),t.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-indigo-700 disabled:opacity-50 transition-all shadow-lg shadow-purple-500/30",children:c?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):s?"Complete Registration":"Submit Application"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(tt,{to:"/login",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[t.jsx(Tn,{className:"w-4 h-4"}),"Already have an account? Sign in"]})})]})})})}function eb(){const[e,s]=v.useState(""),[r,n]=v.useState(!1),[a,l]=v.useState(!1),[i,o]=v.useState(""),c=async u=>{u.preventDefault(),n(!0),o("");try{await vr.forgotPassword(e),l(!0)}catch(d){o(d.message||"Failed to send reset instructions")}finally{n(!1)}};return a?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(J,{className:"w-8 h-8 text-green-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email"}),t.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent password reset instructions to ",t.jsx("strong",{children:e})]}),t.jsxs(tt,{to:"/login",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[t.jsx(Tn,{className:"w-4 h-4"}),"Back to Login"]})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-2xl font-bold text-white",children:"G1"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Forgot Password?"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your email and we'll send you reset instructions"})]}),i&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center gap-3",children:[t.jsx(Ue,{className:"w-5 h-5 flex-shrink-0"}),i]}),t.jsxs("form",{onSubmit:c,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"email",value:e,onChange:u=>s(u.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",required:!0})]})]}),t.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:r?"Sending...":"Send Reset Instructions"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(tt,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[t.jsx(Tn,{className:"w-4 h-4"}),"Back to Login"]})})]})})})}function tb(){const[e]=N0(),s=Js(),r=e.get("token"),[n,a]=v.useState({password:"",password_confirmation:""}),[l,i]=v.useState(!1),[o,c]=v.useState(!1),[u,d]=v.useState(!1),[p,y]=v.useState(""),b=async h=>{if(h.preventDefault(),c(!0),y(""),n.password!==n.password_confirmation){y("Passwords do not match"),c(!1);return}try{await vr.resetPassword({token:r,password:n.password,password_confirmation:n.password_confirmation}),d(!0),setTimeout(()=>s("/login"),3e3)}catch(g){y(g.message||"Failed to reset password")}finally{c(!1)}};return r?u?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(J,{className:"w-8 h-8 text-green-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully reset. Redirecting to login..."}),t.jsxs(tt,{to:"/login",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[t.jsx(Tn,{className:"w-4 h-4"}),"Go to Login"]})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx(X0,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your new password below"})]}),p&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center gap-3",children:[t.jsx(Ue,{className:"w-5 h-5 flex-shrink-0"}),p]}),t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:l?"text":"password",value:n.password,onChange:h=>a({...n,password:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",placeholder:"",required:!0,minLength:8}),t.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?t.jsx(br,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum 8 characters"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),t.jsx("input",{type:l?"text":"password",value:n.password_confirmation,onChange:h=>a({...n,password_confirmation:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),t.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:o?"Resetting...":"Reset Password"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(tt,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[t.jsx(Tn,{className:"w-4 h-4"}),"Back to Login"]})})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Ue,{className:"w-8 h-8 text-red-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Link"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),t.jsx(tt,{to:"/forgot-password",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:"Request a new link"})]})})})}function gi(){const[e,s]=v.useState([]),[r,n]=v.useState({total:0,online:0,offline:0}),[a,l]=v.useState([]),[i,o]=v.useState(!0),[c,u]=v.useState({groupId:"",online:""}),[d,p]=v.useState(!0);v.useEffect(()=>{y(),b();let g;return d&&(g=setInterval(b,3e4)),()=>clearInterval(g)},[c,d]);const y=async()=>{try{const g=await $t.getAll();l(g.data||g)}catch(g){console.error("Failed to load groups:",g)}},b=async()=>{try{o(!0);const g={};c.groupId&&(g.group_id=c.groupId),c.online!==""&&(g.online=c.online);const j=await Nt.getEditorsStatus(g);s(j.editors||[]),n(j.summary||{total:0,online:0,offline:0})}catch(g){console.error("Failed to load editors status:",g)}finally{o(!1)}},h=g=>{if(!g)return"Never";const j=new Date(g),x=new Date-j,f=Math.floor(x/6e4),k=Math.floor(x/36e5),C=Math.floor(x/864e5);return f<1?"Just now":f<60?`${f}m ago`:k<24?`${k}h ago`:`${C}d ago`};return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-50 rounded-lg",children:t.jsx(Ce,{className:"w-5 h-5 text-sky-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Editor Status"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Real-time online/offline tracking"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-full text-sm font-medium",children:[t.jsx(zt,{className:"w-2 h-2 fill-emerald-500"}),r.online," Online"]}),t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-600 rounded-full text-sm font-medium",children:[t.jsx(zt,{className:"w-2 h-2 fill-gray-400"}),r.offline," Offline"]})]}),t.jsx("button",{onClick:b,disabled:i,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-sky-50 rounded-lg transition-colors",title:"Refresh",children:t.jsx(ze,{className:`w-5 h-5 ${i?"animate-spin":""}`})})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Tc,{className:"w-4 h-4 text-gray-400"}),t.jsxs("select",{value:c.groupId,onChange:g=>u({...c,groupId:g.target.value}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500",children:[t.jsx("option",{value:"",children:"All Groups"}),a.map(g=>t.jsxs("option",{value:g.id,children:[g.group_code," - ",g.name]},g.id))]})]}),t.jsxs("select",{value:c.online,onChange:g=>u({...c,online:g.target.value}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"true",children:"Online Only"}),t.jsx("option",{value:"false",children:"Offline Only"})]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 ml-auto",children:[t.jsx("input",{type:"checkbox",checked:d,onChange:g=>p(g.target.checked),className:"rounded border-gray-300 text-sky-600 focus:ring-sky-500"}),"Auto-refresh (30s)"]})]})]}),t.jsx("div",{className:"divide-y divide-gray-50",children:i&&e.length===0?t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(ze,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-sky-500"}),"Loading editors..."]}):e.length===0?t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(Ce,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),"No editors found"]}):e.map(g=>{var j,m;return t.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-10 h-10 bg-sky-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-sky-700 font-semibold text-sm",children:(j=g.name)==null?void 0:j.split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2)})}),t.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white ${g.is_online?"bg-emerald-500":"bg-gray-400"}`})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:g.name}),g.is_online&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-emerald-50 text-emerald-700 rounded text-xs font-medium",children:[t.jsx(zt,{className:"w-1.5 h-1.5 fill-emerald-500"}),"Online"]})]}),t.jsx("div",{className:"text-sm text-gray-500",children:g.email})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[((m=g.groups)==null?void 0:m.length)>0&&t.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.groups.slice(0,2).map(x=>t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:x.group_code},x.id)),g.groups.length>2&&t.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",g.groups.length-2]})]}),t.jsx("div",{className:"text-right min-w-[140px]",children:g.is_online?t.jsxs("div",{className:"flex items-center gap-2 text-emerald-600",children:[t.jsx(Dv,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:g.current_activity||"Active"})]}):t.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[t.jsx(ve,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:h(g.last_seen_at)})]})})]})]},g.id)})})]})}function Ss({percentage:e,color:s="sky"}){const r={sky:"bg-sky-500",emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500",purple:"bg-purple-500"};return t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:`h-2.5 rounded-full ${r[s]} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})})}function ga({title:e,value:s,subtitle:r,icon:n,color:a,percentage:l,secondaryPercentage:i,secondaryLabel:o}){const c={sky:"bg-sky-50 text-sky-600",emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r}),l!==void 0&&t.jsxs("div",{className:"mt-3 space-y-2",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[t.jsx("span",{className:"text-gray-500",children:"Copied"}),t.jsxs("span",{className:"font-medium",children:[l,"%"]})]}),t.jsx(Ss,{percentage:l,color:a})]}),i!==void 0&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[t.jsx("span",{className:"text-gray-500",children:o||"Renamed"}),t.jsxs("span",{className:"font-medium",children:[i,"%"]})]}),t.jsx(Ss,{percentage:i,color:"emerald"})]})]})]}),t.jsx("div",{className:`p-3 rounded-lg ${c[a]}`,children:t.jsx(n,{className:"w-5 h-5"})})]})})}function fi(){var u,d,p,y,b,h,g,j;const{activeEvent:e}=de(),[s,r]=v.useState(null),[n,a]=v.useState(!0),[l,i]=v.useState("overview");v.useEffect(()=>{o()},[e==null?void 0:e.id]);const o=async()=>{try{a(!0);const m=await We.getWorkflowProgress(e==null?void 0:e.id);r(m)}catch(m){console.error("Failed to load workflow progress:",m)}finally{a(!1)}};if(n&&!s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(ze,{className:"w-8 h-8 animate-spin text-sky-500"})});const c=(s==null?void 0:s.overall)||{};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Workflow Progress"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"Copy & rename progress tracking"})]}),t.jsxs("button",{onClick:o,disabled:n,className:"flex items-center gap-2 px-3 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors text-sm",children:[t.jsx(ze,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(ga,{title:"Files Detected",value:((u=c.files_detected)==null?void 0:u.toLocaleString())||0,subtitle:`${((d=c.files_pending)==null?void 0:d.toLocaleString())||0} pending`,icon:ps,color:"sky",percentage:c.copy_percentage,secondaryPercentage:c.rename_percentage}),t.jsx(ga,{title:"Files Copied",value:((p=c.files_copied)==null?void 0:p.toLocaleString())||0,subtitle:c.total_size_formatted,icon:Pc,color:"emerald"}),t.jsx(ga,{title:"Media Renamed",value:((y=c.renamed_media)==null?void 0:y.toLocaleString())||0,subtitle:`of ${((b=c.total_media)==null?void 0:b.toLocaleString())||0} total`,icon:J,color:"emerald"}),t.jsx(ga,{title:"Active Sessions",value:c.active_sessions||0,subtitle:"Currently processing",icon:oe,color:c.active_sessions>0?"amber":"sky"})]}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-6",children:[{id:"overview",label:"By Group",icon:Z0},{id:"editors",label:"By Editor",icon:Ce},{id:"sessions",label:"Active Sessions",icon:oe}].map(m=>t.jsxs("button",{onClick:()=>i(m.id),className:`flex items-center gap-2 py-3 border-b-2 transition-colors text-sm ${l===m.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(m.icon,{className:"w-4 h-4"}),m.label]},m.id))})}),l==="overview"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress by Group"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Detected"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Copied"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Copy %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Renamed"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rename %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(h=s==null?void 0:s.by_group)==null?void 0:h.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium text-gray-900",children:m.group_code}),t.jsxs("div",{className:"text-xs text-gray-500",children:[m.member_count," members"]})]}),t.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:m.files_detected.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.files_copied.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right",children:m.files_pending>0?t.jsx("span",{className:"text-amber-600 font-medium",children:m.files_pending.toLocaleString()}):t.jsx("span",{className:"text-emerald-600",children:""})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Ss,{percentage:m.copy_percentage,color:m.copy_percentage>=90?"emerald":m.copy_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.copy_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.renamed_media.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Ss,{percentage:m.rename_percentage,color:m.rename_percentage>=90?"emerald":m.rename_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.rename_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600 text-sm",children:m.total_size_formatted})]},m.id)),(!(s!=null&&s.by_group)||s.by_group.length===0)&&t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"No group data available"})})]})]})})]}),l==="editors"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress by Editor"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Groups"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Detected"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Copied"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Copy %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Renamed"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rename %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(g=s==null?void 0:s.by_editor)==null?void 0:g.map(m=>{var x;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-2.5 h-2.5 ${m.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:m.name}),t.jsx("div",{className:"text-xs text-gray-500",children:m.email})]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"flex flex-wrap gap-1",children:(x=m.groups)==null?void 0:x.map(f=>t.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:f.group_code},f.id))})}),t.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:m.files_detected.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.files_copied.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Ss,{percentage:m.copy_percentage,color:m.copy_percentage>=90?"emerald":m.copy_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.copy_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.renamed_media.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Ss,{percentage:m.rename_percentage,color:m.rename_percentage>=90?"emerald":m.rename_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.rename_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600 text-sm",children:m.total_size_formatted})]},m.id)}),(!(s!=null&&s.by_editor)||s.by_editor.length===0)&&t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"No editor data available"})})]})]})})]}),l==="sessions"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Active Copy Sessions"})}),((j=s==null?void 0:s.active_sessions)==null?void 0:j.length)>0?t.jsx("div",{className:"divide-y divide-gray-100",children:s.active_sessions.map(m=>t.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),t.jsx("span",{className:"font-medium text-gray-900",children:m.editor}),t.jsx("span",{className:"text-gray-500",children:""}),t.jsxs("span",{className:"text-gray-600",children:["Camera ",m.camera_number]}),m.sd_label&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-500",children:""}),t.jsx("span",{className:"text-gray-600",children:m.sd_label})]})]}),t.jsxs("span",{className:"text-sm text-gray-500",children:["Started ",new Date(m.started_at).toLocaleTimeString()]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Ss,{percentage:m.copy_progress,color:"sky"})}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"font-medium text-gray-900",children:m.files_copied}),t.jsxs("span",{className:"text-gray-500",children:[" / ",m.files_detected]}),t.jsxs("span",{className:"text-gray-400 ml-2",children:["(",m.copy_progress,"%)"]})]})]}),m.files_pending>0&&t.jsxs("div",{className:"mt-1 text-xs text-amber-600",children:[m.files_pending," files pending"]})]},m.session_id))}):t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(oe,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),t.jsx("p",{children:"No active copy sessions"})]})]})]})}const sb={sd:Y,backup:Y,snapshot:dt,session:oe,copy:Y,issues:G,attention:G,rename:Hs,system:oe,user:Gt,network:qs},Gu={success:{bg:"bg-emerald-50",border:"border-emerald-200",icon:"text-emerald-500",dot:"bg-emerald-500"},error:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500",dot:"bg-red-500"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:"text-amber-500",dot:"bg-amber-500"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:"text-sky-500",dot:"bg-sky-500"}};function rb(e){if(!e)return"-";const s=new Date(e);if(isNaN(s.getTime()))return"-";const n=new Date-s,a=Math.floor(n/6e4),l=Math.floor(n/36e5);return a<1?"Just now":a<60?`${a}m ago`:l<24?`${l}h ago`:s.toLocaleTimeString("en-KE",{hour:"2-digit",minute:"2-digit",hour12:!1})}function nb({item:e,expanded:s,onToggle:r}){const n=sb[e.source]||oe,a=Gu[e.kind]||Gu.info,l=e.details&&Object.keys(e.details).length>0;return t.jsx("div",{className:`${a.bg} ${a.border} border rounded-xl p-3 transition-all hover:shadow-sm`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex flex-col items-center",children:t.jsx("div",{className:`w-8 h-8 rounded-full ${a.bg} border ${a.border} flex items-center justify-center`,children:t.jsx(n,{className:`w-4 h-4 ${a.icon}`})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:e.title}),t.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:rb(e.createdAt)})]}),e.message&&t.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:e.message}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${a.bg} ${a.icon}`,children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${a.dot}`}),e.source]}),l&&t.jsxs("button",{onClick:()=>r(e.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[s?t.jsx(Ev,{className:"w-3 h-3"}):t.jsx(cl,{className:"w-3 h-3"}),s?"Hide":"Details"]})]}),s&&l&&t.jsx("div",{className:"mt-2 p-2 bg-white/60 rounded-lg border border-gray-200",children:t.jsx("pre",{className:"text-xs text-gray-600 overflow-auto max-h-32 whitespace-pre-wrap",children:JSON.stringify(e.details,null,2)})})]})]})})}function ab({items:e=[],maxItems:s=20,title:r="Live Activity",showRefresh:n=!0,onRefresh:a,compact:l=!1,className:i=""}){const[o,c]=v.useState(new Set),[u,d]=v.useState("all"),p=v.useCallback(h=>{c(g=>{const j=new Set(g);return j.has(h)?j.delete(h):j.add(h),j})},[]),y=e.filter(h=>u==="all"||h.kind===u).slice(0,s),b=e.reduce((h,g)=>(h[g.kind]=(h[g.kind]||0)+1,h),{});return t.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 shadow-sm ${i}`,children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(oe,{className:"w-5 h-5 text-gray-600"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:r}),t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:e.length})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"hidden sm:flex items-center gap-1",children:["all","success","warning","error","info"].map(h=>t.jsxs("button",{onClick:()=>d(h),className:`px-2 py-1 text-xs rounded-full transition-colors ${u===h?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[h==="all"?"All":h.charAt(0).toUpperCase()+h.slice(1),h!=="all"&&b[h]>0&&t.jsxs("span",{className:"ml-1 opacity-70",children:["(",b[h],")"]})]},h))}),n&&a&&t.jsx("button",{onClick:a,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(ze,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:`p-4 space-y-3 overflow-y-auto ${l?"max-h-64":"max-h-96"}`,children:y.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(oe,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"No activity yet"})]}):y.map(h=>t.jsx(nb,{item:h,expanded:o.has(h.id),onToggle:p},h.id))}),e.length>s&&t.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:t.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",s," of ",e.length," activities"]})})]})}const Qu={IDLE:{bg:"bg-gray-50",border:"border-gray-200",icon:ve,iconColor:"text-gray-500",title:"Ready",subtitle:"Waiting for activity"},SD_DETECTED:{bg:"bg-sky-50",border:"border-sky-200",icon:Y,iconColor:"text-sky-500",title:"SD Card Detected",subtitle:"Preparing session..."},SESSION_ACTIVE:{bg:"bg-emerald-50",border:"border-emerald-200",icon:oe,iconColor:"text-emerald-500",title:"Session Active",subtitle:"Workflow in progress"},COPYING_IN_PROGRESS:{bg:"bg-purple-50",border:"border-purple-200",icon:vt,iconColor:"text-purple-500",title:"Copying Files",subtitle:"Verifying and copying...",animate:!0},BACKUP_IN_PROGRESS:{bg:"bg-indigo-50",border:"border-indigo-200",icon:Y,iconColor:"text-indigo-500",title:"Backup Running",subtitle:"Backing up to disk...",animate:!0},ATTENTION_REQUIRED:{bg:"bg-amber-50",border:"border-amber-300",icon:G,iconColor:"text-amber-500",title:"Attention Required",subtitle:"Action needed"},ISSUE_RECORDED:{bg:"bg-orange-50",border:"border-orange-200",icon:G,iconColor:"text-orange-500",title:"Issue Recorded",subtitle:"Pending QA review"},SD_REMOVAL_CHECK:{bg:"bg-amber-50",border:"border-amber-200",icon:Y,iconColor:"text-amber-500",title:"SD Removal Check",subtitle:"Verifying safe removal..."},SESSION_CLOSED:{bg:"bg-emerald-50",border:"border-emerald-200",icon:J,iconColor:"text-emerald-500",title:"Session Complete",subtitle:"All tasks finished"},RETENTION_PENDING:{bg:"bg-gray-50",border:"border-gray-200",icon:ve,iconColor:"text-gray-500",title:"Retention Pending",subtitle:"Auto-delete scheduled"}};function lb({percent:e,color:s="sky"}){const r={sky:"bg-sky-500",emerald:"bg-emerald-500",purple:"bg-purple-500",indigo:"bg-indigo-500",amber:"bg-amber-500"};return t.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${r[s]||r.sky} transition-all duration-500`,style:{width:`${Math.min(100,Math.max(0,e))}%`}})})}function ib({state:e="IDLE",sessionId:s,eventName:r,cameraNumber:n,progress:a,progressLabel:l,onAction:i,dismissible:o=!1,onDismiss:c,className:u=""}){const d=Qu[e]||Qu.IDLE,p=d.icon;return e==="IDLE"&&!s&&!r?null:t.jsx("div",{className:`${d.bg} ${d.border} border rounded-xl p-4 ${u}`,children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`p-2 rounded-full bg-white/80 ${d.animate?"animate-pulse":""}`,children:t.jsx(p,{className:`w-6 h-6 ${d.iconColor} ${d.animate?"animate-spin":""}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:d.title}),t.jsx("p",{className:"text-sm text-gray-600",children:d.subtitle})]}),o&&c&&t.jsx("button",{onClick:c,className:"p-1 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-white/50",children:t.jsx(Ee,{className:"w-4 h-4"})})]}),(s||r||n)&&t.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[r&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-700",children:[t.jsx(oe,{className:"w-3.5 h-3.5"}),r]}),n&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-700",children:[t.jsx(dt,{className:"w-3.5 h-3.5"}),"Camera ",n]}),s&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-500",children:["ID: ",s]})]}),a!=null&&t.jsxs("div",{className:"mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-gray-600",children:l||"Progress"}),t.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(a),"%"]})]}),t.jsx(lb,{percent:a,color:e==="BACKUP_IN_PROGRESS"?"indigo":e==="COPYING_IN_PROGRESS"?"purple":"sky"})]}),i&&e==="ATTENTION_REQUIRED"&&t.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[t.jsx("button",{onClick:()=>i("review"),className:"px-3 py-1.5 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors",children:"Review Now"}),t.jsx("button",{onClick:()=>i("dismiss"),className:"px-3 py-1.5 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:"Dismiss"})]})]})]})})}const ob={SD_REMOVAL_PENDING:"SD Card Removed Early",WRONG_DESTINATION:"Wrong Destination Detected",DUPLICATE_FILE:"Potential Duplicate Detected",FILENAME_MAJOR:"Filename Needs Attention",SD_SESSION_OVERLAP:"SD Session Overlap",BACKUP_FAILED:"Backup Failed",QUALITY_ISSUE:"Quality Issue Detected",STORAGE_CRITICAL:"Storage Critical",AGENT_OFFLINE:"Agent Went Offline"},Ku={critical:{bg:"bg-red-50",border:"border-red-200",icon:Ws,iconColor:"text-red-500",headerBg:"bg-red-100"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:G,iconColor:"text-amber-500",headerBg:"bg-amber-100"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:Hs,iconColor:"text-sky-500",headerBg:"bg-sky-100"}};function cb({open:e,onClose:s,reason:r,severity:n="warning",title:a,message:l,details:i,actions:o=[],onAction:c}){if(!e)return null;const u=Ku[n]||Ku.warning,d=u.icon,p=a||ob[r]||"Attention Required",y=async h=>{c&&await c(h),h.closeOnClick!==!1&&s()},b=o.length>0?o:[{id:"acknowledge",label:"Acknowledge",variant:"primary"},{id:"dismiss",label:"Dismiss",variant:"secondary"}];return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:`w-full max-w-lg ${u.bg} ${u.border} border rounded-2xl shadow-2xl overflow-hidden animate-scale-in`,children:[t.jsxs("div",{className:`${u.headerBg} px-6 py-4 flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-full bg-white/80",children:t.jsx(d,{className:`w-6 h-6 ${u.iconColor}`})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900",children:p}),r&&r!==p&&t.jsx("p",{className:"text-sm text-gray-600",children:r})]})]}),t.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-white/50 transition-colors",children:t.jsx(Ee,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"px-6 py-4",children:[l&&t.jsx("p",{className:"text-gray-700 mb-4",children:l}),i&&t.jsxs("div",{className:"bg-white/60 border border-gray-200 rounded-xl p-4 mb-4",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Details"}),typeof i=="object"?t.jsx("pre",{className:"text-sm text-gray-700 overflow-auto max-h-40 whitespace-pre-wrap",children:JSON.stringify(i,null,2)}):t.jsx("p",{className:"text-sm text-gray-700",children:i})]}),n==="critical"&&t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-100 border border-red-200 rounded-lg mb-4",children:[t.jsx(Ue,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-700 font-medium",children:"This requires immediate attention."})]})]}),t.jsx("div",{className:"px-6 py-4 bg-white/50 border-t border-gray-200 flex flex-wrap gap-3 justify-end",children:b.map(h=>t.jsx("button",{onClick:()=>y(h),disabled:h.disabled,className:`px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${h.variant==="primary"?"bg-gray-900 text-white hover:bg-gray-800 shadow-lg":h.variant==="danger"?"bg-red-600 text-white hover:bg-red-700":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"} ${h.disabled?"opacity-50 cursor-not-allowed":""}`,children:h.label},h.id))})]})})}function ne({title:e,value:s,icon:r,color:n,subtitle:a}){const l={blue:"bg-blue-50 text-blue-600",red:"bg-red-50 text-red-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:s}),a&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a})]}),t.jsx("div",{className:`p-3 rounded-lg ${l[n]}`,children:t.jsx(r,{className:"w-6 h-6"})})]})})}function yi({issues:e}){const s={critical:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",medium:"bg-yellow-100 text-yellow-700",low:"bg-gray-100 text-gray-700"};return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Issues"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[(e==null?void 0:e.length)===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No open issues"}),e==null?void 0:e.map(r=>t.jsx("div",{className:"p-4 hover:bg-gray-50",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:r.type.replace("_"," ")}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Reported by ",r.reporter]})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s[r.severity]}`,children:r.severity})]})},r.id))]})]})}function Ju({groups:e}){return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Groups Health"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:e==null?void 0:e.map(s=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:s.code}),t.jsx("p",{className:"text-sm text-gray-500",children:s.name})]}),t.jsx("div",{className:"flex items-center gap-2",children:s.open_issues>0?t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:[s.open_issues," issues"]}):t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"Healthy"})})]},s.id))})]})}function db(){var N,E,A,S,U,I,O,V,Z,ue,$,P;const{user:e,activeEvent:s,isAdmin:r,isTeamLead:n,isGroupLeader:a,isQALead:l,isQA:i,isBackupLead:o,isBackup:c}=de(),u=K0(),[d,p]=v.useState(null),[y,b]=v.useState(!0),[h,g]=v.useState([]),[j,m]=v.useState("IDLE"),[x,f]=v.useState({open:!1,reason:null,details:null}),k=v.useCallback(M=>{const z=[],H=Date.now();return M!=null&&M.recent_issues&&M.recent_issues.slice(0,5).forEach((ee,re)=>{var Ve;z.push({id:`issue-${ee.id||re}`,source:"issues",kind:ee.severity==="critical"?"error":"warning",title:`Issue: ${((Ve=ee.type)==null?void 0:Ve.replace("_"," "))||"Unknown"}`,message:`Reported by ${ee.reporter||"Unknown"}`,details:ee,createdAt:H-re*6e4})}),M!=null&&M.overview&&(M.overview.active_sessions>0&&z.push({id:"sessions-active",source:"session",kind:"info",title:`${M.overview.active_sessions} Active Sessions`,message:"SD cards currently being processed",createdAt:H-12e4}),M.overview.pending_backups>0&&z.push({id:"backups-pending",source:"backup",kind:M.overview.pending_backups>10?"warning":"info",title:`${M.overview.pending_backups} Pending Backups`,message:"Files awaiting backup verification",createdAt:H-18e4})),z.sort((ee,re)=>re.createdAt-ee.createdAt),z},[]);v.useEffect(()=>{C()},[s==null?void 0:s.id]);const C=async()=>{var M,z;try{let H;r()?H=await We.getAdmin(s==null?void 0:s.id):n()?H=await We.getAdmin(s==null?void 0:s.id):a()?H=await We.getGroupLeader():l()||i()?H=await We.getQA():o()||c()?H=await We.getBackup():H=await We.getEditor(),p(H);const ee=k(H);g(ee),((M=H==null?void 0:H.overview)==null?void 0:M.active_sessions)>0?m("SESSION_ACTIVE"):((z=H==null?void 0:H.overview)==null?void 0:z.open_issues)>5&&m("ATTENTION_REQUIRED")}catch(H){console.error("Failed to load dashboard:",H),u.error("Dashboard Error","Failed to load dashboard data")}finally{b(!1)}},_=async()=>{u.info("Refreshing","Updating dashboard data..."),await C(),u.success("Updated","Dashboard data refreshed")},w=M=>{u.success("Action Recorded",`Decision: ${M.id}`),f({open:!1,reason:null,details:null})};if(y)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(r()&&(d!=null&&d.overview))return t.jsxs("div",{className:"space-y-6",children:[t.jsx(cb,{open:x.open,onClose:()=>f({open:!1,reason:null,details:null}),reason:x.reason,severity:x.severity,title:x.title,message:x.message,details:x.details,onAction:w}),j!=="IDLE"&&t.jsx(ib,{state:j,eventName:d.overview.active_event_name,onAction:M=>{M==="review"&&f({open:!0,reason:"ATTENTION_REQUIRED",severity:"warning",title:"Issues Require Attention",message:`There are ${d.overview.open_issues} open issues that need review.`,details:{openIssues:d.overview.open_issues,criticalIssues:d.overview.critical_issues}})},dismissible:!0,onDismiss:()=>m("IDLE")}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Command View"}),t.jsx("p",{className:"text-gray-500",children:"System-wide situational awareness  signals, not metrics"})]}),t.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[t.jsx(ze,{className:"w-4 h-4"}),"Refresh"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsx(ne,{title:"Active SD Sessions",value:d.overview.active_sessions||0,icon:oe,color:"blue",subtitle:"Currently copying"}),t.jsx(ne,{title:"Cameras Healthy",value:d.overview.cameras_healthy||0,icon:dt,color:"green",subtitle:`${d.overview.cameras_attention||0} need attention`}),t.jsx(ne,{title:"Open Issues",value:d.overview.open_issues||0,icon:G,color:"red",subtitle:`${d.overview.critical_issues||0} critical`}),t.jsx(ne,{title:"Pending Backups",value:d.overview.pending_backups||0,icon:Y,color:"yellow"}),t.jsx(ne,{title:"Early Removals",value:d.overview.early_removals_today||0,icon:G,color:d.overview.early_removals_today>0?"red":"green",subtitle:"Today"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Editors Online"}),t.jsx(qs,{className:"w-4 h-4 text-green-500"})]}),t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.overview.online_agents||0,t.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["/ ",d.overview.total_editors||0]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Media Today"}),t.jsx(xt,{className:"w-4 h-4 text-blue-500"})]}),t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.overview.media_today||0,t.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"files indexed"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Backup Coverage"}),t.jsx(J,{className:"w-4 h-4 text-green-500"})]}),t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.overview.backup_coverage||0,"%"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx(yi,{issues:d.recent_issues}),t.jsx(Ju,{groups:d.groups_health}),t.jsx(ab,{items:h,maxItems:10,title:"Live Activity",showRefresh:!0,onRefresh:_,compact:!0})]}),t.jsx(fi,{}),t.jsx(gi,{})]});if(n()&&(d!=null&&d.overview))return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Operations Command"}),t.jsx("p",{className:"text-gray-500",children:"Event operations oversight  real-time situational awareness"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsx(ne,{title:"Active SD Sessions",value:d.overview.active_sessions||0,icon:oe,color:"blue",subtitle:"Currently copying"}),t.jsx(ne,{title:"Cameras Healthy",value:d.overview.cameras_healthy||0,icon:dt,color:"green",subtitle:`${d.overview.cameras_attention||0} need attention`}),t.jsx(ne,{title:"Open Issues",value:d.overview.open_issues||0,icon:G,color:"red",subtitle:`${d.overview.critical_issues||0} critical`}),t.jsx(ne,{title:"Pending Backups",value:d.overview.pending_backups||0,icon:Y,color:"yellow"}),t.jsx(ne,{title:"Early Removals",value:d.overview.early_removals_today||0,icon:G,color:d.overview.early_removals_today>0?"red":"green",subtitle:"Today"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(yi,{issues:d.recent_issues}),t.jsx(Ju,{groups:d.groups_health})]}),t.jsx(fi,{}),t.jsx(gi,{})]});if(a()&&(d!=null&&d.groups))return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Control View"}),t.jsx("p",{className:"text-gray-500",children:"Your group's operations  no global data, only your team"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(ne,{title:"Editors Online",value:((N=d.team_stats)==null?void 0:N.online_members)||0,icon:qs,color:"green",subtitle:`of ${((E=d.team_stats)==null?void 0:E.total_members)||0} total`}),t.jsx(ne,{title:"Active Sessions",value:((A=d.team_stats)==null?void 0:A.active_sessions)||0,icon:oe,color:"blue",subtitle:"In your group"}),t.jsx(ne,{title:"Open Issues",value:((S=d.groups)==null?void 0:S.reduce((M,z)=>M+z.open_issues,0))||0,icon:G,color:"red"}),t.jsx(ne,{title:"Backup Completion",value:`${((U=d.team_stats)==null?void 0:U.backup_percentage)||0}%`,icon:Y,color:((I=d.team_stats)==null?void 0:I.backup_percentage)>=80?"green":"yellow",subtitle:"Group only"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"My Team"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:(O=d.groups)==null?void 0:O.map(M=>t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"font-medium",children:[M.code," - ",M.name]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[t.jsx(zt,{className:"w-2 h-2 fill-green-500 text-green-500"}),M.online_count||0," online"]})})]}),t.jsxs("div",{className:"flex gap-4 text-sm",children:[t.jsxs("span",{className:"text-gray-600",children:[M.member_count," members"]}),t.jsxs("span",{className:"text-red-600",children:[M.open_issues," issues"]})]})]},M.id))})]}),t.jsx(yi,{issues:d.recent_issues})]}),t.jsx(fi,{}),t.jsx(gi,{}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 text-sm text-blue-700",children:[t.jsx("strong",{children:" Scoped View"}),"  You only see data from your assigned groups. No global search or unrelated data."]})]});if((l()||i())&&(d!=null&&d.issue_summary)){const M=d.severity_distribution||{critical:0,high:0,medium:0,low:0},z=Object.values(M).reduce((H,ee)=>H+ee,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l()?"QA Lead Workbench":"Issue Workbench"}),t.jsx("p",{className:"text-gray-500",children:"Issue review only  you never see clean footage, only problems to resolve"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(ne,{title:"Open Queue",value:d.issue_summary.open||0,icon:ve,color:"blue"}),t.jsx(ne,{title:"Acknowledged",value:d.issue_summary.acknowledged||0,icon:oe,color:"yellow"}),t.jsx(ne,{title:"In Progress",value:d.issue_summary.in_progress||0,icon:Ms,color:"purple"}),t.jsx(ne,{title:"Resolved Today",value:d.issue_summary.resolved_today||0,icon:J,color:"green"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Severity Distribution"}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-red-700",children:M.critical||0}),t.jsx("div",{className:"text-xs text-red-600",children:"Critical"})]}),t.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-700",children:M.high||0}),t.jsx("div",{className:"text-xs text-orange-600",children:"High"})]}),t.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:M.medium||0}),t.jsx("div",{className:"text-xs text-yellow-600",children:"Medium"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-700",children:M.low||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Low"})]})]}),z>0&&t.jsxs("div",{className:"h-3 flex rounded-full overflow-hidden",children:[t.jsx("div",{className:"bg-red-500",style:{width:`${M.critical/z*100}%`}}),t.jsx("div",{className:"bg-orange-500",style:{width:`${M.high/z*100}%`}}),t.jsx("div",{className:"bg-yellow-500",style:{width:`${M.medium/z*100}%`}}),t.jsx("div",{className:"bg-gray-400",style:{width:`${M.low/z*100}%`}})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Critical Issues Queue"})}),t.jsxs("div",{className:"divide-y divide-gray-100 max-h-80 overflow-y-auto",children:[((V=d.critical_issues)==null?void 0:V.length)===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No critical issues"}),(Z=d.critical_issues)==null?void 0:Z.map(H=>{var ee,re;return t.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:(ee=H.type)==null?void 0:ee.replace("_"," ")}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Camera ",H.camera_number||"?","  ",(re=H.group)==null?void 0:re.group_code]})]}),t.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:"Critical"})]})},H.id)})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Cameras with Repeated Issues"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[(d.problem_cameras||[]).length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No cameras flagged"}),(d.problem_cameras||[]).map(H=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(dt,{className:"w-5 h-5 text-gray-400"}),t.jsxs("span",{className:"font-medium",children:["Camera ",H.camera_number]})]}),t.jsxs("span",{className:"text-red-600 text-sm",children:[H.issue_count," issues"]})]},H.camera_number))]})]})]}),t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-3 text-sm text-purple-700",children:[t.jsx("strong",{children:" QA Access"}),"  You can only view and resolve issues. No access to names, regions, or clean footage."]})]})}if((o()||c())&&(d!=null&&d.coverage)){const M=d.coverage;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o()?"Archive Integrity Lead":"Archive Integrity View"}),t.jsx("p",{className:"text-gray-500",children:"Coverage and verification status  you see integrity, not content"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(ne,{title:"Pending Backups",value:M.pending||0,icon:ve,color:M.pending>10?"red":"yellow",subtitle:"By editor"}),t.jsx(ne,{title:"Disks In Use",value:M.disks_in_use||0,icon:Y,color:"blue"}),t.jsx(ne,{title:"Verification Failures",value:M.verification_failures||0,icon:G,color:M.verification_failures>0?"red":"green"}),t.jsx(ne,{title:"Coverage",value:`${M.coverage_percentage||0}%`,icon:J,color:M.coverage_percentage>=90?"green":"yellow"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Backup Coverage"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:M.total_media||0}),t.jsx("div",{className:"text-sm text-gray-500",children:"Total Files"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:M.backed_up||0}),t.jsx("div",{className:"text-sm text-gray-500",children:"Backed Up"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:M.verified||0}),t.jsx("div",{className:"text-sm text-gray-500",children:"Verified"})]})]}),t.jsx("div",{className:"overflow-hidden h-4 flex rounded-full bg-gray-200",children:t.jsx("div",{style:{width:`${M.coverage_percentage}%`},className:"bg-green-500 transition-all duration-500"})}),t.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[t.jsx("span",{children:"0%"}),t.jsxs("span",{children:[M.coverage_percentage,"% backed up"]}),t.jsx("span",{children:"100%"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending by Editor"})}),t.jsxs("div",{className:"divide-y divide-gray-100 max-h-60 overflow-y-auto",children:[(d.pending_by_editor||[]).length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"All caught up!"}),(d.pending_by_editor||[]).map(z=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:z.name}),t.jsxs("span",{className:`text-sm ${z.pending>5?"text-red-600":"text-yellow-600"}`,children:[z.pending," pending"]})]},z.id))]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Disk Rotation Status"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[(d.disk_status||[]).length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No disk data"}),(d.disk_status||[]).map(z=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Y,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"font-medium",children:z.label})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${z.status==="active"?"bg-green-100 text-green-700":z.status==="full"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:z.status})]},z.id))]})]})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 text-sm text-green-700",children:[t.jsx("strong",{children:" Archive View"}),"  You see coverage and verification, not file contents. Focus on integrity, not media."]})]})}return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome, ",e==null?void 0:e.name]}),t.jsx("p",{className:"text-gray-500",children:"Your activity overview"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(ne,{title:"Files Indexed Today",value:((ue=d==null?void 0:d.today)==null?void 0:ue.files_indexed)||0,icon:xt,color:"blue"}),t.jsx(ne,{title:"Issues Reported",value:(($=d==null?void 0:d.today)==null?void 0:$.issues_reported)||0,icon:G,color:"yellow"}),t.jsx(ne,{title:"Backups Verified",value:((P=d==null?void 0:d.today)==null?void 0:P.backups_verified)||0,icon:J,color:"green"})]})]})}function vi({percentage:e,color:s="sky",size:r="md"}){const n={sky:"bg-sky-500",emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500",purple:"bg-purple-500"},a={sm:"h-1.5",md:"h-2.5",lg:"h-3"};return t.jsx("div",{className:`w-full bg-gray-200 rounded-full ${a[r]}`,children:t.jsx("div",{className:`${a[r]} rounded-full ${n[s]} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})})}function be({title:e,value:s,subtitle:r,icon:n,color:a,trend:l,trendValue:i}){const o={sky:"bg-sky-50 text-sky-600",emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",red:"bg-red-50 text-red-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r}),l&&t.jsxs("div",{className:`flex items-center gap-1 mt-2 text-sm ${l==="up"?"text-emerald-600":l==="down"?"text-red-600":"text-gray-500"}`,children:[l==="up"?t.jsx(Ms,{className:"w-4 h-4"}):l==="down"?t.jsx(jr,{className:"w-4 h-4"}):t.jsx(Oc,{className:"w-4 h-4"}),t.jsx("span",{children:i})]})]}),t.jsx("div",{className:`p-3 rounded-lg ${o[a]}`,children:t.jsx(n,{className:"w-5 h-5"})})]})})}function ub({alert:e}){const s={critical:"border-red-200 bg-red-50",warning:"border-amber-200 bg-amber-50",info:"border-sky-200 bg-sky-50"},r={critical:t.jsx(Ws,{className:"w-5 h-5 text-red-500"}),warning:t.jsx(G,{className:"w-5 h-5 text-amber-500"}),info:t.jsx(Ue,{className:"w-5 h-5 text-sky-500"})};return t.jsxs("div",{className:`p-3 rounded-lg border ${s[e.severity]} flex items-start gap-3`,children:[r[e.severity],t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-gray-900 text-sm",children:e.title}),t.jsx("div",{className:"text-gray-600 text-xs mt-0.5",children:e.message}),t.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:[e.time_ago,"  ",e.user]})]})]})}function mb(){var f,k,C,_,w,N,E,A,S,U,I,O,V,Z,ue,$,P,M,z,H,ee,re,Ve,W,Le,bs,Mt,Ys,Ol,Xs,zr,Gn,Dc,Fc,$c,Uc,zc,Bc,Hc,Vc,qc,Wc,Gc,Qc,Kc,Jc,Yc,Xc,Zc,ed,td,sd,rd,nd,ad,ld;const{activeEvent:e}=de(),[s,r]=v.useState(!0),[n,a]=v.useState("overview"),[l,i]=v.useState(null),[o,c]=v.useState(null),[u,d]=v.useState(null),[p,y]=v.useState(null),[b,h]=v.useState(null),[g,j]=v.useState(null);v.useEffect(()=>{m()},[e==null?void 0:e.id]);const m=async()=>{r(!0);const L=e==null?void 0:e.id;try{const[Ne,Qn,Il,Kn,Dl,lp]=await Promise.all([We.getTimeAnalytics(L),We.getIncidents(L,7),We.getSdCardLifecycle(L),We.getComparative(L),We.getPredictive(L),We.getAlerts(L)]);i(Ne),c(Qn),d(Il),y(Kn),h(Dl),j(lp)}catch(Ne){console.error("Failed to load analytics:",Ne)}finally{r(!1)}};if(s&&!l)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(ze,{className:"w-8 h-8 animate-spin text-sky-500"})});const x=[{id:"overview",label:"Overview",icon:zs},{id:"time",label:"Time Analytics",icon:ve},{id:"incidents",label:"Incidents",icon:G},{id:"sdcards",label:"SD Cards",icon:Y},{id:"leaderboard",label:"Leaderboard",icon:Sv},{id:"planning",label:"Planning",icon:Oa}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"360 view of workflow operations"})]}),t.jsxs("button",{onClick:m,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors text-sm",children:[t.jsx(ze,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Refresh"]})]}),((f=g==null?void 0:g.summary)==null?void 0:f.critical)>0&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-4",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(Mn,{className:"w-6 h-6 text-red-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"font-semibold text-red-900",children:[g.summary.critical," Critical Alert",g.summary.critical>1?"s":""]}),t.jsx("div",{className:"text-red-700 text-sm",children:"Immediate attention required"})]}),t.jsx("button",{onClick:()=>a("incidents"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"View Alerts"})]}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:x.map(L=>t.jsxs("button",{onClick:()=>a(L.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors text-sm whitespace-nowrap ${n===L.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(L.icon,{className:"w-4 h-4"}),L.label]},L.id))})}),n==="overview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Processing Rate",value:`${((k=l==null?void 0:l.summary)==null?void 0:k.files_per_hour_24h)||0}/hr`,subtitle:`${((C=l==null?void 0:l.summary)==null?void 0:C.total_files_24h)||0} files in 24h`,icon:qu,color:"sky"}),t.jsx(be,{title:"Active Alerts",value:((_=g==null?void 0:g.summary)==null?void 0:_.total)||0,subtitle:`${((w=g==null?void 0:g.summary)==null?void 0:w.critical)||0} critical`,icon:Mn,color:((N=g==null?void 0:g.summary)==null?void 0:N.critical)>0?"red":"emerald"}),t.jsx(be,{title:"ETA Completion",value:((E=b==null?void 0:b.eta)==null?void 0:E.copies_formatted)||"N/A",subtitle:`${((A=b==null?void 0:b.pending_work)==null?void 0:A.total)||0} pending`,icon:hi,color:"purple"}),t.jsx(be,{title:"Online Editors",value:((S=b==null?void 0:b.resources)==null?void 0:S.online_editors)||0,subtitle:((U=b==null?void 0:b.resources)==null?void 0:U.status)==="understaffed"?"Need more staff":"Optimal",icon:Ce,color:((I=b==null?void 0:b.resources)==null?void 0:I.status)==="understaffed"?"amber":"emerald"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Alerts"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[((O=g==null?void 0:g.summary)==null?void 0:O.total)||0," total"]})]}),t.jsxs("div",{className:"p-4 space-y-3 max-h-80 overflow-y-auto",children:[(V=g==null?void 0:g.alerts)==null?void 0:V.slice(0,5).map((L,Ne)=>t.jsx(ub,{alert:L},Ne)),(!(g!=null&&g.alerts)||g.alerts.length===0)&&t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(J,{className:"w-12 h-12 mx-auto mb-2 text-emerald-300"}),t.jsx("p",{children:"No active alerts"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Top Performers Today"})}),t.jsx("div",{className:"p-4 space-y-3",children:(Z=p==null?void 0:p.editor_leaderboard)==null?void 0:Z.slice(0,5).map((L,Ne)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${Ne===0?"bg-amber-100 text-amber-700":Ne===1?"bg-gray-100 text-gray-700":Ne===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:Ne+1}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-gray-900 text-sm",children:L.name}),t.jsxs("div",{className:"text-xs text-gray-500",children:[L.files_this_week," this week"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold text-gray-900",children:L.files_today}),t.jsxs("div",{className:`text-xs flex items-center gap-1 ${L.trend==="up"?"text-emerald-600":L.trend==="down"?"text-red-600":"text-gray-500"}`,children:[L.trend==="up"?t.jsx(Ms,{className:"w-3 h-3"}):L.trend==="down"?t.jsx(jr,{className:"w-3 h-3"}):null,L.change_percent>0?"+":"",L.change_percent,"%"]})]})]},L.id))})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Files Processed (Last 12 Hours)"}),t.jsx("div",{className:"flex items-end gap-2 h-32",children:(ue=l==null?void 0:l.hourly_breakdown)==null?void 0:ue.map((L,Ne)=>{var Kn;const Qn=Math.max(...((Kn=l.hourly_breakdown)==null?void 0:Kn.map(Dl=>Dl.files))||[1]),Il=Qn>0?L.files/Qn*100:0;return t.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[t.jsx("div",{className:"w-full bg-gray-100 rounded-t relative",style:{height:"100px"},children:t.jsx("div",{className:"absolute bottom-0 w-full bg-sky-500 rounded-t transition-all",style:{height:`${Il}%`}})}),t.jsx("span",{className:"text-xs text-gray-500",children:L.hour})]},Ne)})})]})]}),n==="time"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Avg Session Duration",value:`${(($=l==null?void 0:l.summary)==null?void 0:$.avg_session_minutes)||0} min`,icon:ve,color:"sky"}),t.jsx(be,{title:"Avg Files/Session",value:((P=l==null?void 0:l.summary)==null?void 0:P.avg_files_per_session)||0,icon:oe,color:"emerald"}),t.jsx(be,{title:"Files/Hour (24h)",value:((M=l==null?void 0:l.summary)==null?void 0:M.files_per_hour_24h)||0,icon:qu,color:"purple"}),t.jsx(be,{title:"Total (24h)",value:((z=l==null?void 0:l.summary)==null?void 0:z.total_files_24h)||0,icon:zs,color:"amber"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Editor Efficiency (Last 8 Hours)"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sessions"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files/Hour"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(H=l==null?void 0:l.editor_efficiency)==null?void 0:H.map(L=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-2.5 h-2.5 ${L.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),t.jsx("span",{className:"font-medium text-gray-900",children:L.name})]})}),t.jsx("td",{className:"px-4 py-3 text-right font-medium",children:L.files_last_8h}),t.jsx("td",{className:"px-4 py-3 text-right",children:L.sessions_last_8h}),t.jsx("td",{className:"px-4 py-3 text-right font-bold text-sky-600",children:L.files_per_hour}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${L.is_online?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:L.is_online?"Online":"Offline"})})]},L.id))})]})})]}),((ee=l==null?void 0:l.bottlenecks)==null?void 0:ee.length)>0&&t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[t.jsxs("h3",{className:"font-semibold text-amber-900 mb-3 flex items-center gap-2",children:[t.jsx(G,{className:"w-5 h-5"}),"Bottlenecks Detected"]}),t.jsx("div",{className:"space-y-2",children:l.bottlenecks.map(L=>t.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:L.editor}),t.jsx("span",{className:"text-gray-500 mx-2",children:""}),t.jsxs("span",{children:["Camera ",L.camera]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm",children:[L.files_copied,"/",L.files_detected," files"]}),t.jsxs("div",{className:"text-xs text-amber-600",children:[L.duration_minutes," min elapsed"]})]})]},L.session_id))})]})]}),n==="incidents"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Total Incidents",value:((re=o==null?void 0:o.summary)==null?void 0:re.total_incidents)||0,subtitle:"Last 7 days",icon:G,color:"amber"}),t.jsx(be,{title:"File Deletions",value:((Ve=o==null?void 0:o.summary)==null?void 0:Ve.deletions)||0,icon:Tt,color:"red"}),t.jsx(be,{title:"Early Removals",value:((W=o==null?void 0:o.summary)==null?void 0:W.early_removals)||0,icon:Mc,color:"amber"}),t.jsx(be,{title:"Repeat Offenders",value:((Le=o==null?void 0:o.summary)==null?void 0:Le.repeat_offenders)||0,icon:Ce,color:((bs=o==null?void 0:o.summary)==null?void 0:bs.repeat_offenders)>0?"red":"emerald"})]}),((Mt=o==null?void 0:o.repeat_offenders)==null?void 0:Mt.length)>0&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[t.jsx("h3",{className:"font-semibold text-red-900 mb-3",children:" Repeat Offenders"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:o.repeat_offenders.map(L=>t.jsxs("div",{className:"bg-white rounded-lg p-3",children:[t.jsx("div",{className:"font-medium text-gray-900",children:L.name}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:L.email}),t.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[L.deletions>0&&t.jsxs("span",{className:"text-red-600",children:[L.deletions," deletions"]}),L.early_removals>0&&t.jsxs("span",{className:"text-amber-600",children:[L.early_removals," early removals"]})]})]},L.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-2",children:[t.jsx(Tt,{className:"w-5 h-5 text-red-500"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"File Deletions"})]}),t.jsxs("div",{className:"p-4 space-y-2 max-h-64 overflow-y-auto",children:[(Ys=o==null?void 0:o.deletions)==null?void 0:Ys.map(L=>t.jsxs("div",{className:"p-2 bg-red-50 rounded-lg text-sm",children:[t.jsx("div",{className:"font-medium text-red-900",children:L.user}),t.jsx("div",{className:"text-red-700 text-xs",children:L.details}),t.jsx("div",{className:"text-red-500 text-xs mt-1",children:new Date(L.created_at).toLocaleString()})]},L.id)),(!(o!=null&&o.deletions)||o.deletions.length===0)&&t.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No deletions recorded"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-2",children:[t.jsx(Vv,{className:"w-5 h-5 text-amber-500"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"Early SD Removals"})]}),t.jsxs("div",{className:"p-4 space-y-2 max-h-64 overflow-y-auto",children:[(Ol=o==null?void 0:o.early_removals)==null?void 0:Ol.map(L=>t.jsxs("div",{className:"p-2 bg-amber-50 rounded-lg text-sm",children:[t.jsxs("div",{className:"font-medium text-amber-900",children:[L.user," - Camera ",L.camera]}),t.jsxs("div",{className:"text-amber-700 text-xs",children:[L.files_pending," files not copied"]}),t.jsx("div",{className:"text-amber-500 text-xs mt-1",children:new Date(L.created_at).toLocaleString()})]},L.id)),(!(o!=null&&o.early_removals)||o.early_removals.length===0)&&t.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No early removals recorded"})]})]})]})]}),n==="sdcards"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Total SD Cards",value:((Xs=u==null?void 0:u.summary)==null?void 0:Xs.total_cards)||0,icon:Y,color:"sky"}),t.jsx(be,{title:"Currently In Use",value:((zr=u==null?void 0:u.summary)==null?void 0:zr.in_use)||0,icon:oe,color:"emerald"}),t.jsx(be,{title:"Available",value:((Gn=u==null?void 0:u.summary)==null?void 0:Gn.available)||0,icon:J,color:"sky"}),t.jsx(be,{title:"Avg Reliability",value:`${((Dc=u==null?void 0:u.summary)==null?void 0:Dc.avg_reliability)||100}%`,icon:Oa,color:((Fc=u==null?void 0:u.summary)==null?void 0:Fc.avg_reliability)<90?"amber":"emerald"})]}),(($c=u==null?void 0:u.problematic_cards)==null?void 0:$c.length)>0&&t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[t.jsx("h3",{className:"font-semibold text-amber-900 mb-3",children:" Cards Needing Attention"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:u.problematic_cards.map(L=>t.jsxs("div",{className:"bg-white rounded-lg p-3",children:[t.jsxs("div",{className:"font-medium",children:["Camera ",L.camera_number,L.sd_label]}),t.jsx("div",{className:"text-xs text-gray-500",children:L.hardware_id}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(vi,{percentage:L.reliability_score,color:"amber",size:"sm"}),t.jsxs("span",{className:"text-xs text-amber-600",children:[L.reliability_score,"%"]})]}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[L.early_removals," early removals"]})]},L.id))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"All SD Cards"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Card"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sessions"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Reliability"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Last Used"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(Uc=u==null?void 0:u.cards)==null?void 0:Uc.map(L=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsxs("div",{className:"font-medium",children:["Camera ",L.camera_number,L.sd_label]}),t.jsx("div",{className:"text-xs text-gray-500",children:L.hardware_id})]}),t.jsx("td",{className:"px-4 py-3 text-right",children:L.total_sessions}),t.jsx("td",{className:"px-4 py-3 text-right",children:L.total_files_processed}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[t.jsx("div",{className:"w-16",children:t.jsx(vi,{percentage:L.reliability_score,color:L.reliability_score>=90?"emerald":L.reliability_score>=70?"amber":"red",size:"sm"})}),t.jsxs("span",{className:"text-xs",children:[L.reliability_score,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${L.status==="in_use"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:L.status==="in_use"?"In Use":"Available"})}),t.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-500",children:L.last_used?new Date(L.last_used).toLocaleDateString():"Never"})]},L.id))})]})})]})]}),n==="leaderboard"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Group Performance"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Today"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Yesterday"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"This Week"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Backup %"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Trend"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(zc=p==null?void 0:p.group_comparison)==null?void 0:zc.map(L=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium",children:L.group_code}),t.jsxs("div",{className:"text-xs text-gray-500",children:[L.member_count," members"]})]}),t.jsx("td",{className:"px-4 py-3 text-right font-bold",children:L.files_today}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:L.files_yesterday}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:L.files_this_week}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[t.jsx("div",{className:"w-16",children:t.jsx(vi,{percentage:L.backup_percentage,color:"emerald",size:"sm"})}),t.jsxs("span",{className:"text-xs",children:[L.backup_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:L.trend==="up"?t.jsx(Ms,{className:"w-5 h-5 text-emerald-500 mx-auto"}):L.trend==="down"?t.jsx(jr,{className:"w-5 h-5 text-red-500 mx-auto"}):t.jsx(Oc,{className:"w-5 h-5 text-gray-400 mx-auto"})})]},L.id))})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:" Editor Leaderboard"})}),t.jsx("div",{className:"p-4 space-y-3",children:(Bc=p==null?void 0:p.editor_leaderboard)==null?void 0:Bc.map((L,Ne)=>t.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold ${Ne===0?"bg-amber-100 text-amber-700":Ne===1?"bg-gray-200 text-gray-700":Ne===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:Ne<3?["","",""][Ne]:Ne+1}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-gray-900",children:L.name}),t.jsxs("div",{className:"text-xs text-gray-500",children:[L.files_this_week," files this week"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:L.files_today}),t.jsxs("div",{className:`text-xs flex items-center justify-end gap-1 ${L.trend==="up"?"text-emerald-600":L.trend==="down"?"text-red-600":"text-gray-500"}`,children:[L.trend==="up"?t.jsx(Ms,{className:"w-3 h-3"}):L.trend==="down"?t.jsx(jr,{className:"w-3 h-3"}):null,L.change_percent>0?"+":"",L.change_percent,"% vs yesterday"]})]})]},L.id))})]})]}),n==="planning"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Pending Copies",value:((Hc=b==null?void 0:b.pending_work)==null?void 0:Hc.copies)||0,icon:oe,color:"sky"}),t.jsx(be,{title:"Pending Backups",value:((Vc=b==null?void 0:b.pending_work)==null?void 0:Vc.backups)||0,icon:Y,color:"amber"}),t.jsx(be,{title:"Pending Verification",value:((qc=b==null?void 0:b.pending_work)==null?void 0:qc.verification)||0,icon:J,color:"purple"}),t.jsx(be,{title:"Total Pending",value:((Wc=b==null?void 0:b.pending_work)==null?void 0:Wc.total)||0,icon:Oa,color:"red"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Estimated Completion Time"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-sky-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Copies ETA"}),t.jsx("div",{className:"text-2xl font-bold text-sky-700",children:((Gc=b==null?void 0:b.eta)==null?void 0:Gc.copies_formatted)||"N/A"})]}),t.jsx(hi,{className:"w-8 h-8 text-sky-500"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Backups ETA"}),t.jsx("div",{className:"text-2xl font-bold text-amber-700",children:((Qc=b==null?void 0:b.eta)==null?void 0:Qc.backups_formatted)||"N/A"})]}),t.jsx(hi,{className:"w-8 h-8 text-amber-500"})]}),t.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Based on ",((Kc=b==null?void 0:b.processing_rate)==null?void 0:Kc.files_per_hour)||0," files/hour processing rate"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Resource Status"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:`p-4 rounded-lg ${((Jc=b==null?void 0:b.resources)==null?void 0:Jc.status)==="understaffed"?"bg-red-50":((Yc=b==null?void 0:b.resources)==null?void 0:Yc.status)==="overstaffed"?"bg-amber-50":"bg-emerald-50"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),t.jsx("div",{className:`text-xl font-bold capitalize ${((Xc=b==null?void 0:b.resources)==null?void 0:Xc.status)==="understaffed"?"text-red-700":((Zc=b==null?void 0:b.resources)==null?void 0:Zc.status)==="overstaffed"?"text-amber-700":"text-emerald-700"}`,children:((ed=b==null?void 0:b.resources)==null?void 0:ed.status)||"Unknown"})]}),t.jsx(Ce,{className:`w-8 h-8 ${((td=b==null?void 0:b.resources)==null?void 0:td.status)==="understaffed"?"text-red-500":((sd=b==null?void 0:b.resources)==null?void 0:sd.status)==="overstaffed"?"text-amber-500":"text-emerald-500"}`})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:((rd=b==null?void 0:b.resources)==null?void 0:rd.online_editors)||0}),t.jsx("div",{className:"text-xs text-gray-500",children:"Online Editors"})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:((nd=b==null?void 0:b.resources)==null?void 0:nd.recommended_editors)||0}),t.jsx("div",{className:"text-xs text-gray-500",children:"Recommended"})]})]}),t.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Workload: ",((ad=b==null?void 0:b.resources)==null?void 0:ad.workload_per_editor)||0," files per editor"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Editor Workload Distribution"})}),t.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:(ld=b==null?void 0:b.editor_workload)==null?void 0:ld.map(L=>t.jsxs("div",{className:`p-3 rounded-lg border ${L.status==="overloaded"?"border-red-200 bg-red-50":L.status==="busy"?"border-amber-200 bg-amber-50":L.status==="available"?"border-emerald-200 bg-emerald-50":"border-gray-200 bg-gray-50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-2.5 h-2.5 ${L.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),t.jsx("span",{className:"font-medium",children:L.name})]}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${L.status==="overloaded"?"bg-red-200 text-red-700":L.status==="busy"?"bg-amber-200 text-amber-700":L.status==="available"?"bg-emerald-200 text-emerald-700":"bg-gray-200 text-gray-600"}`,children:L.status})]}),t.jsxs("div",{className:"mt-2 text-sm",children:[t.jsx("span",{className:"font-bold",children:L.pending_files})," files pending"]})]},L.id))})]})]})]})}function xb(){const[e,s]=v.useState([]),[r,n]=v.useState(!0),[a,l]=v.useState(!1),[i,o]=v.useState(!1),[c,u]=v.useState(null),[d,p]=v.useState({name:"",description:"",location:"",start_date:"",start_time:"09:00",end_date:"",end_time:"17:00",auto_delete_enabled:!0,auto_delete_days_after_end:30});v.useEffect(()=>{y()},[]);const y=async()=>{try{const x=await mr.getAll();s(x.data||[])}catch(x){console.error("Failed to load events:",x)}finally{n(!1)}},b=async x=>{x.preventDefault();try{const f={...d,start_datetime:d.start_date&&d.start_time?`${d.start_date}T${d.start_time}:00`:null,end_datetime:d.end_date&&d.end_time?`${d.end_date}T${d.end_time}:00`:null};await mr.create(f),l(!1),p({name:"",description:"",location:"",start_date:"",start_time:"09:00",end_date:"",end_time:"17:00",auto_delete_enabled:!0,auto_delete_days_after_end:30}),y()}catch(f){console.error("Failed to create event:",f)}},h=(x,f)=>{if(!x)return"-";const k=new Date(x),C={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return k.toLocaleString(void 0,C)},g=async x=>{try{await mr.activate(x),y()}catch(f){console.error("Failed to activate event:",f)}},j=async x=>{try{await mr.complete(x),y()}catch(f){console.error("Failed to complete event:",f)}},m={draft:"bg-gray-100 text-gray-700",active:"bg-green-100 text-green-700",completed:"bg-blue-100 text-blue-700",archived:"bg-gray-100 text-gray-500"};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Events"}),t.jsx("p",{className:"text-gray-500",children:"Manage healing service events"})]}),t.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[t.jsx(Ur,{className:"w-5 h-5"}),"New Event"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(x=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:x.name}),t.jsx("p",{className:"text-sm text-gray-500",children:x.code})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m[x.status]}`,children:x.status})]}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Bs,{className:"w-4 h-4"}),t.jsx("span",{children:h(x.start_datetime||x.start_date)})]}),x.end_datetime||x.end_date?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ve,{className:"w-4 h-4"}),t.jsxs("span",{children:["Ends: ",h(x.end_datetime||x.end_date)]})]}):null,x.location&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tp,{className:"w-4 h-4"}),t.jsx("span",{children:x.location})]}),x.auto_delete_enabled&&t.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[t.jsx(Tt,{className:"w-4 h-4"}),t.jsxs("span",{children:["Auto-delete ",x.auto_delete_days_after_end||30,"d after end"]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[t.jsx(xt,{className:"w-4 h-4"}),t.jsx("span",{children:x.media_count||0})]}),t.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[t.jsx(Ce,{className:"w-4 h-4"}),t.jsxs("span",{children:[x.groups_count||0," groups"]})]})]})]}),t.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-100 flex gap-2",children:[x.status==="draft"&&t.jsx("button",{onClick:()=>g(x.id),className:"flex-1 text-center py-2 text-sm font-medium text-green-700 hover:bg-green-100 rounded",children:"Activate"}),x.status==="active"&&t.jsx("button",{onClick:()=>j(x.id),className:"flex-1 text-center py-2 text-sm font-medium text-blue-700 hover:bg-blue-100 rounded",children:"Complete"}),t.jsx("button",{onClick:()=>{u(x),o(!0)},className:"flex-1 text-center py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded",children:"View Details"})]})]},x.id))}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Create New Event"}),t.jsxs("form",{onSubmit:b,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Name"}),t.jsx("input",{type:"text",value:d.name,onChange:x=>p({...d,name:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{value:d.description,onChange:x=>p({...d,description:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),t.jsx("input",{type:"text",value:d.location,onChange:x=>p({...d,location:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),t.jsx("input",{type:"date",value:d.start_date,onChange:x=>p({...d,start_date:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),t.jsx("input",{type:"time",value:d.start_time,onChange:x=>p({...d,start_time:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),t.jsx("input",{type:"date",value:d.end_date,onChange:x=>p({...d,end_date:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),t.jsx("input",{type:"time",value:d.end_time,onChange:x=>p({...d,end_time:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(G,{className:"w-4 h-4 text-orange-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Data Protection"})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("input",{type:"checkbox",id:"auto_delete",checked:d.auto_delete_enabled,onChange:x=>p({...d,auto_delete_enabled:x.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"auto_delete",className:"text-sm text-gray-700",children:"Auto-delete media from editor devices after event"})]}),d.auto_delete_enabled&&t.jsxs("div",{className:"ml-7",children:[t.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Delete files ",t.jsx("span",{className:"font-medium",children:d.auto_delete_days_after_end})," days after event ends"]}),t.jsx("input",{type:"range",min:"1",max:"90",value:d.auto_delete_days_after_end,onChange:x=>p({...d,auto_delete_days_after_end:parseInt(x.target.value)}),className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[t.jsx("span",{children:"1 day"}),t.jsx("span",{children:"30 days"}),t.jsx("span",{children:"90 days"})]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Event"})]})]})]})}),i&&c&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg p-6 m-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c.name}),t.jsx("p",{className:"text-sm text-gray-500",children:c.code})]}),t.jsx("button",{onClick:()=>o(!1),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ee,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Status"}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m[c.status]}`,children:c.status})]}),c.description&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"Description"}),t.jsx("p",{className:"text-gray-900 mt-1",children:c.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"Start"}),t.jsx("p",{className:"text-gray-900 font-medium",children:h(c.start_datetime||c.start_date)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"End"}),t.jsx("p",{className:"text-gray-900 font-medium",children:h(c.end_datetime||c.end_date)})]})]}),c.auto_delete_enabled&&t.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[t.jsx(Tt,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium text-sm",children:"Data Protection Active"})]}),t.jsxs("p",{className:"text-sm text-orange-600 mt-1",children:["Media files will be auto-deleted from editor devices ",c.auto_delete_days_after_end||30," days after event ends"]})]}),c.location&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"Location"}),t.jsx("p",{className:"text-gray-900",children:c.location})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.media_count||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Media Files"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.groups_count||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Groups"})]})]})]}),t.jsx("div",{className:"flex gap-3 mt-6",children:t.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Close"})})]})})]})}function pb(){var E,A;const{activeEvent:e}=de(),[s,r]=v.useState([]),[n,a]=v.useState(!0),[l,i]=v.useState(!1),[o,c]=v.useState(null),[u,d]=v.useState([]),[p,y]=v.useState(!1),[b,h]=v.useState([]),[g,j]=v.useState(""),[m,x]=v.useState({name:"",description:"",leader_phone:""});v.useEffect(()=>{f()},[e==null?void 0:e.id]);const f=async()=>{try{const S=await $t.getAll({event_id:e==null?void 0:e.id});r(S.data||[])}catch(S){console.error("Failed to load data:",S)}finally{a(!1)}},k=async S=>{S.preventDefault();try{if(!(e!=null&&e.id)){console.error("No active event set; cannot create group");return}await $t.create({...m,event_id:e.id}),i(!1),x({name:"",description:"",leader_phone:""}),f()}catch(U){console.error("Failed to create group:",U)}},C=async S=>{try{const U=await $t.getMembers(S);d(U.members||[])}catch(U){console.error("Failed to load members:",U)}},_=async S=>{c(S),await C(S.id)},w=async()=>{try{const S=await Nt.getAll({per_page:100}),U=S.data||S||[],I=u.map(O=>O.id);h(U.filter(O=>!I.includes(O.id))),y(!0)}catch(S){console.error("Failed to load users:",S)}},N=async()=>{if(!(!g||!o))try{await $t.addMember(o.id,g),await C(o.id),y(!1),j("")}catch(S){console.error("Failed to add member:",S)}};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Groups"}),t.jsxs("p",{className:"text-gray-500",children:["Manage editor groups and team leaders",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:()=>i(!0),disabled:!(e!=null&&e.id),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[t.jsx(Ur,{className:"w-5 h-5"}),"New Group"]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"All Groups"})}),t.jsxs("div",{className:"divide-y divide-gray-100 max-h-[600px] overflow-y-auto",children:[s.length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No groups created yet"}),s.map(S=>t.jsxs("button",{onClick:()=>_(S),className:`w-full p-4 text-left hover:bg-gray-50 flex items-center justify-between ${(o==null?void 0:o.id)===S.id?"bg-blue-50":""}`,children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:S.group_code}),S.open_issues>0&&t.jsx("span",{className:"px-1.5 py-0.5 bg-red-100 text-red-700 rounded text-xs",children:S.open_issues})]}),t.jsx("p",{className:"text-sm text-gray-500",children:S.name}),t.jsxs("p",{className:"text-xs text-gray-400",children:[S.members_count||0," members"]})]}),t.jsx(Rr,{className:"w-5 h-5 text-gray-400"})]},S.id))]})]}),t.jsx("div",{className:"lg:col-span-2",children:o?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[o.group_code," - ",o.name]}),t.jsx("p",{className:"text-gray-500",children:o.description||"No description"})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${o.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:o.is_active?"Active":"Inactive"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Leader"}),t.jsx("p",{className:"font-medium text-gray-900",children:((E=o.leader)==null?void 0:E.name)||"Not assigned"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Event"}),t.jsx("p",{className:"font-medium text-gray-900",children:((A=o.event)==null?void 0:A.name)||"Unknown"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Team Members"}),t.jsxs("button",{onClick:w,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[t.jsx(Ic,{className:"w-4 h-4"}),"Add Member"]})]}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[u.length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No members in this group"}),u.map(S=>{var U,I;return t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-gray-600 font-medium",children:((I=(U=S.name)==null?void 0:U.charAt(0))==null?void 0:I.toUpperCase())||"U"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:S.name}),t.jsx("p",{className:"text-sm text-gray-500",children:S.email})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right text-sm",children:[t.jsxs("p",{className:"text-gray-900",children:[S.media_today||0," files today"]}),S.open_issues>0&&t.jsxs("p",{className:"text-red-600",children:[S.open_issues," issues"]})]}),t.jsx("div",{className:`w-3 h-3 rounded-full ${S.is_online?"bg-green-500":"bg-gray-300"}`,title:S.is_online?"Online":"Offline"})]})]},S.id)})]})]})]}):t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[t.jsx(Ce,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"Select a group to view details"})]})})]}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Create New Group"}),!(e!=null&&e.id)&&t.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-800",children:"You must activate an event before creating groups."}),t.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Name"}),t.jsx("input",{type:"text",value:m.name,onChange:S=>x({...m,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Blue Team - Camera 3",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{value:m.description,onChange:S=>x({...m,description:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leader Phone"}),t.jsx("input",{type:"tel",value:m.leader_phone,onChange:S=>x({...m,leader_phone:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"+254..."})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:!(e!=null&&e.id),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Group"})]})]})]})}),p&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add Team Member"}),t.jsx("button",{onClick:()=>y(!1),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ee,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),t.jsxs("select",{value:g,onChange:S=>j(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Choose a user..."}),b.map(S=>t.jsxs("option",{value:S.id,children:[S.name," (",S.email,")"]},S.id))]})]}),b.length===0&&t.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No available users to add"}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:N,disabled:!g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Add Member"})]})]})]})})]})}function hb(){const{activeEvent:e}=de(),[s,r]=v.useState([]),[n,a]=v.useState([]),[l,i]=v.useState(!0),[o,c]=v.useState(""),[u,d]=v.useState(""),[p,y]=v.useState(null),[b,h]=v.useState({type:"",text:""}),[g,j]=v.useState(!1),[m,x]=v.useState(null),[f,k]=v.useState({camera_id:"",group_id:"",model:"",serial_number:"",status:"active",notes:""});v.useEffect(()=>{C()},[o,u,e==null?void 0:e.id]);const C=async()=>{i(!0);try{if(!(e!=null&&e.id)){r([]),a([]),y(null);return}const[S,U,I]=await Promise.all([Xr.getAll({event_id:e.id,search:o,status:u}),$t.getAll({event_id:e.id}),Xr.getStats({event_id:e.id})]);r(S.data.data||S.data),a(U.data.data||U.data),y(I.data)}catch{h({type:"error",text:"Failed to load cameras"})}finally{i(!1)}},_=async S=>{S.preventDefault();try{m?(await Xr.update(m.id,f),h({type:"success",text:"Camera updated successfully"})):(await Xr.create(f),h({type:"success",text:"Camera created successfully"})),j(!1),E(),C()}catch(U){h({type:"error",text:U.message||"Operation failed"})}},w=async S=>{if(confirm(`Delete camera ${S.camera_id}?`))try{await Xr.delete(S.id),h({type:"success",text:"Camera deleted"}),C()}catch{h({type:"error",text:"Failed to delete camera"})}},N=S=>{x(S),k({camera_id:S.camera_id,group_id:S.group_id,model:S.model||"",serial_number:S.serial_number||"",status:S.status,notes:S.notes||""}),j(!0)},E=()=>{x(null),k({camera_id:"",group_id:"",model:"",serial_number:"",status:"active",notes:""})},A=S=>{const U={active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-700",maintenance:"bg-amber-100 text-amber-700"};return t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${U[S]||U.inactive}`,children:S})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cameras"}),t.jsxs("p",{className:"text-gray-500",children:["Manage cameras and SD card bindings",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:()=>{E(),j(!0)},disabled:!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[t.jsx(Ur,{className:"w-4 h-4"}),"Add Camera"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing cameras."}),b.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${b.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[b.type==="success"?t.jsx(J,{className:"w-5 h-5"}):t.jsx(Ue,{className:"w-5 h-5"}),b.text,t.jsx("button",{onClick:()=>h({type:"",text:""}),className:"ml-auto",children:""})]}),p&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Cameras"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.total})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.active})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"With SD Card"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:p.with_sd_card})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Maintenance"}),t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:p.maintenance})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search cameras...",value:o,onChange:S=>c(S.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),l?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(S=>{var U;return t.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 hover:shadow-lg transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:t.jsx(dt,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:S.camera_id}),t.jsx("p",{className:"text-sm text-gray-500",children:S.model||"No model"})]})]}),A(S.status)]}),t.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Group:"}),t.jsx("span",{className:"font-medium",children:((U=S.group)==null?void 0:U.group_code)||"-"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Serial:"}),t.jsx("span",{className:"font-medium",children:S.serial_number||"-"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-500",children:"SD Card:"}),S.current_sd_card?t.jsxs("span",{className:"flex items-center gap-1 text-green-600 font-medium",children:[t.jsx(Rv,{className:"w-4 h-4"}),S.current_sd_card.sd_card_id]}):t.jsx("span",{className:"text-gray-400",children:"Not bound"})]})]}),t.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[t.jsxs("button",{onClick:()=>N(S),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 text-sm font-medium",children:[t.jsx(rp,{className:"w-4 h-4"}),"Edit"]}),t.jsx("button",{onClick:()=>w(S),className:"flex items-center justify-center gap-1 px-3 py-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:t.jsx(Tt,{className:"w-4 h-4"})})]})]},S.id)})}),g&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold",children:m?"Edit Camera":"Add Camera"}),t.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:_,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Camera ID *"}),t.jsx("input",{type:"text",value:f.camera_id,onChange:S=>k({...f,camera_id:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group *"}),t.jsxs("select",{value:f.group_id,onChange:S=>k({...f,group_id:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Select group..."}),n.map(S=>t.jsxs("option",{value:S.id,children:[S.group_code," - ",S.name]},S.id))]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),t.jsx("input",{type:"text",value:f.model,onChange:S=>k({...f,model:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),t.jsx("input",{type:"text",value:f.serial_number,onChange:S=>k({...f,serial_number:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),t.jsxs("select",{value:f.status,onChange:S=>k({...f,status:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),t.jsx("textarea",{value:f.notes,onChange:S=>k({...f,notes:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 resize-none",rows:2})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:m?"Update":"Create"})]})]})]})})]})}function gb({media:e,onClose:s}){return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.filename}),t.jsx("p",{className:"text-sm text-gray-500",children:e.media_id})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"aspect-video bg-black",children:e.preview_url?t.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:e.preview_url,children:"Your browser does not support video playback."}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(xt,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Preview not available"}),t.jsx("p",{className:"text-sm",children:"File is stored on backup disk"})]})})}),t.jsx("div",{className:"p-4 bg-gray-50",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Person:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.full_name||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Condition:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.condition||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Region:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.region||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Status:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.status})]})]})})]})}):null}function fb(){const{activeEvent:e,isQA:s,isQALead:r,isBackup:n,isBackupLead:a,isAdmin:l,isTeamLead:i,isGroupLeader:o}=de(),[c,u]=v.useState([]),[d,p]=v.useState(!0),[y,b]=v.useState(null),h=s()||r(),g=n()||a(),j=l()||i()||o(),[m,x]=v.useState({full_name:"",condition:"",region:"",status:"",type:"",page:1}),[f,k]=v.useState({current_page:1,last_page:1,total:0});v.useEffect(()=>{C()},[m,e==null?void 0:e.id]);const C=async()=>{p(!0);try{const A=Object.fromEntries(Object.entries(m).filter(([U,I])=>I!==""));e!=null&&e.id&&(A.event_id=e.id);const S=await yt.search(A);u(S.data||[]),k({current_page:S.current_page||1,last_page:S.last_page||1,total:S.total||0})}catch(A){console.error("Failed to load media:",A)}finally{p(!1)}},_=A=>{A.preventDefault(),x({...m,page:1})},w=A=>{x({...m,page:A})},N={indexed:"bg-gray-100 text-gray-700",synced:"bg-blue-100 text-blue-700",backed_up:"bg-yellow-100 text-yellow-700",verified:"bg-green-100 text-green-700",issue:"bg-red-100 text-red-700"},E=A=>{if(!A)return"0 B";const S=1024,U=["B","KB","MB","GB"],I=Math.floor(Math.log(A)/Math.log(S));return parseFloat((A/Math.pow(S,I)).toFixed(2))+" "+U[I]};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Media Search"}),t.jsx("p",{className:"text-gray-500",children:h?"Search media with issues  you cannot search by name or region":g?"View backup status  you see coverage, not content":"Search and browse all indexed media files"})]}),h&&t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-3 text-sm text-purple-700 flex items-center gap-2",children:[t.jsx(Pr,{className:"w-4 h-4"}),t.jsxs("span",{children:[t.jsx("strong",{children:"QA Access:"})," You can only search by issue status. Name, region, and clean footage are hidden."]})]}),g&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 text-sm text-green-700 flex items-center gap-2",children:[t.jsx(Pr,{className:"w-4 h-4"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Backup Access:"})," You see file status and coverage only. No content playback available."]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("form",{onSubmit:_,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[j&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),t.jsx("input",{type:"text",value:m.full_name,onChange:A=>x({...m,full_name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Search name..."})]}),!g&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Condition"}),t.jsx("input",{type:"text",value:m.condition,onChange:A=>x({...m,condition:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Cripple"})]}),j&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Region"}),t.jsx("input",{type:"text",value:m.region,onChange:A=>x({...m,region:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Kisumu"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Status"}),t.jsxs("select",{value:m.status,onChange:A=>x({...m,status:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"indexed",children:"Indexed"}),t.jsx("option",{value:"synced",children:"Synced"}),t.jsx("option",{value:"backed_up",children:"Backed Up"}),t.jsx("option",{value:"verified",children:"Verified"}),t.jsx("option",{value:"issue",children:"Has Issues"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Type"}),t.jsxs("select",{value:m.type,onChange:A=>x({...m,type:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Types"}),t.jsx("option",{value:"before",children:"Before"}),t.jsx("option",{value:"after",children:"After"})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[t.jsx(Wt,{className:"w-4 h-4"}),"Search"]})})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"File"}),j&&t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Person"}),!g&&t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Condition"}),j&&t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Region"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[c.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No media found. Try adjusting your search filters."})}),c.map(A=>{var S,U;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsx(xt,{className:"w-5 h-5 text-gray-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 truncate max-w-xs",children:A.filename}),t.jsx("p",{className:"text-xs text-gray-500",children:A.media_id})]})]})}),j&&t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-900",children:A.full_name||"-"}),t.jsx("p",{className:"text-xs text-gray-500",children:A.age?`${A.age} years`:"-"})]})}),!g&&t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:A.condition||"-"}),j&&t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:A.region||"-"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:E(A.size_bytes)}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${N[A.status]}`,children:A.status}),((S=A.issues)==null?void 0:S.length)>0&&t.jsx(G,{className:"w-4 h-4 text-red-500"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[!g&&(j||h&&((U=A.issues)==null?void 0:U.length)>0)&&t.jsx("button",{onClick:()=>b(A),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Play",children:t.jsx(Ml,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>b(A),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"View Details",children:t.jsx(Lt,{className:"w-4 h-4"})})]})})]},A.id)})]})]})}),f.last_page>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",f.current_page," of ",f.last_page," (",f.total," total)"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>w(f.current_page-1),disabled:f.current_page===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Previous"}),t.jsx("button",{onClick:()=>w(f.current_page+1),disabled:f.current_page===f.last_page,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Next"})]})]})]}),y&&t.jsx(gb,{media:y,onClose:()=>b(null)})]})}function Yu({percentage:e,color:s="emerald"}){const r={emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500"};return t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full ${r[s]} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})})}function fa({title:e,value:s,subtitle:r,icon:n,color:a}){const l={emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",red:"bg-red-50 text-red-600",sky:"bg-sky-50 text-sky-600"};return t.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]}),t.jsx("div",{className:`p-3 rounded-lg ${l[a]}`,children:t.jsx(n,{className:"w-5 h-5"})})]})})}function yb(){var u,d,p,y,b,h,g,j;const{activeEvent:e}=de(),[s,r]=v.useState(null),[n,a]=v.useState(!0),[l,i]=v.useState("overview");v.useEffect(()=>{o()},[e==null?void 0:e.id]);const o=async()=>{try{if(a(!0),!(e!=null&&e.id)){r(null);return}const m=await gv.getOverview(e==null?void 0:e.id);r(m)}catch(m){console.error("Failed to load quality control data:",m)}finally{a(!1)}};if(n&&!s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(ze,{className:"w-8 h-8 animate-spin text-sky-500"})});const c=(s==null?void 0:s.overview)||{};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quality Control"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"Monitor filename errors and editor performance"})]}),t.jsxs("button",{onClick:o,disabled:n||!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:[t.jsx(ze,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing Quality Control."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(fa,{title:"Total Media",value:((u=c.total_media)==null?void 0:u.toLocaleString())||0,subtitle:`${c.valid_percentage||100}% valid`,icon:zs,color:"sky"}),t.jsx(fa,{title:"Valid Files",value:((d=c.valid_count)==null?void 0:d.toLocaleString())||0,subtitle:"Properly named",icon:J,color:"emerald"}),t.jsx(fa,{title:"Warnings",value:((p=c.warning_count)==null?void 0:p.toLocaleString())||0,subtitle:"Minor issues",icon:G,color:"amber"}),t.jsx(fa,{title:"Errors",value:((y=c.error_count)==null?void 0:y.toLocaleString())||0,subtitle:`${c.error_rate||0}% error rate`,icon:Ws,color:"red"})]}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-6",children:[{id:"overview",label:"By Editor",icon:Ce},{id:"groups",label:"By Group",icon:Ce},{id:"issues",label:"Common Issues",icon:G},{id:"training",label:"Needs Training",icon:Hu}].map(m=>t.jsxs("button",{onClick:()=>i(m.id),className:`flex items-center gap-2 py-3 border-b-2 transition-colors text-sm ${l===m.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(m.icon,{className:"w-4 h-4"}),m.label]},m.id))})}),l==="overview"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality by Editor"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Valid"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Warnings"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Errors"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Error Rate"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Quality Score"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(b=s==null?void 0:s.by_editor)==null?void 0:b.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:m.editor_name}),m.needs_training&&t.jsx("span",{className:"px-1.5 py-0.5 bg-amber-100 text-amber-700 text-xs rounded",children:"Needs Training"})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:m.total_files.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600",children:m.valid.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-amber-600",children:m.warnings.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-red-600",children:m.errors.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[t.jsx("div",{className:"w-16",children:t.jsx(Yu,{percentage:m.error_rate,color:m.error_rate>10?"red":m.error_rate>5?"amber":"emerald"})}),t.jsxs("span",{className:`text-xs font-medium ${m.error_rate>10?"text-red-600":m.error_rate>5?"text-amber-600":"text-emerald-600"}`,children:[m.error_rate,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.quality_score>=95?"bg-emerald-100 text-emerald-700":m.quality_score>=90?"bg-sky-100 text-sky-700":m.quality_score>=80?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[m.quality_score.toFixed(1),"%"]})})]},m.editor_id)),(!(s!=null&&s.by_editor)||s.by_editor.length===0)&&t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No editor data available"})})]})]})})]}),l==="groups"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality by Group"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Members"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Valid"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Errors"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Quality Score"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(h=s==null?void 0:s.by_group)==null?void 0:h.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium text-gray-900",children:m.group_code}),t.jsx("div",{className:"text-xs text-gray-500",children:m.group_name})]}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:m.member_count}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:m.total_files.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600",children:m.valid.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-red-600",children:(m.warnings+m.errors).toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.quality_score>=95?"bg-emerald-100 text-emerald-700":m.quality_score>=90?"bg-sky-100 text-sky-700":m.quality_score>=80?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[m.quality_score.toFixed(1),"%"]})})]},m.group_id))})]})})]}),l==="issues"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Common Filename Issues"})}),t.jsx("div",{className:"p-4",children:((g=s==null?void 0:s.common_issues)==null?void 0:g.length)>0?t.jsx("div",{className:"space-y-4",children:s.common_issues.map((m,x)=>t.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-lg",children:t.jsx(G,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:m.label}),t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-full font-medium",children:[m.count," occurrences"]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.suggestion})]})]},x))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(J,{className:"w-12 h-12 mx-auto text-emerald-400 mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No common issues detected"})]})})]}),l==="training"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Editors Needing Training"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Editors with error rate above 10%"})]}),t.jsx("div",{className:"p-4",children:((j=s==null?void 0:s.by_editor)==null?void 0:j.filter(m=>m.needs_training).length)>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.by_editor.filter(m=>m.needs_training).map(m=>t.jsxs("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:m.editor_name}),t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:[m.error_rate,"% errors"]})]}),t.jsx("div",{className:"text-sm text-gray-600",children:t.jsxs("p",{children:[m.total_files," files  ",m.errors," errors"]})}),t.jsx("div",{className:"mt-2",children:t.jsx(Yu,{percentage:100-m.error_rate,color:"amber"})})]},m.editor_id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Hu,{className:"w-12 h-12 mx-auto text-emerald-400 mb-3"}),t.jsx("p",{className:"text-gray-500",children:"All editors are performing well!"})]})})]}),(s==null?void 0:s.daily_trend)&&s.daily_trend.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality Trend (Last 7 Days)"})}),t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"flex items-end gap-2 h-32",children:s.daily_trend.map((m,x)=>t.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[t.jsxs("div",{className:"w-full flex flex-col gap-0.5",style:{height:"100px"},children:[t.jsx("div",{className:"bg-emerald-400 rounded-t",style:{height:`${m.valid/m.total*100}%`}}),t.jsx("div",{className:"bg-amber-400",style:{height:`${m.warning/m.total*100}%`}}),t.jsx("div",{className:"bg-red-400 rounded-b",style:{height:`${m.error/m.total*100}%`}})]}),t.jsx("span",{className:"text-xs text-gray-500 mt-2",children:new Date(m.date).toLocaleDateString("en",{weekday:"short"})})]},x))}),t.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Valid"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-amber-400 rounded"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Warnings"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-red-400 rounded"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Errors"})]})]})]})]})]})}function vb({issue:e,onClose:s}){var n,a;if(!e)return null;const r=e.media;return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:["Review Issue: ",e.issue_id]}),t.jsx("p",{className:"text-sm text-gray-500",children:(r==null?void 0:r.filename)||"Unknown file"})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"aspect-video bg-black",children:r!=null&&r.preview_url?t.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:r.preview_url,children:"Your browser does not support video playback."}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(xt,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Preview not available"}),t.jsx("p",{className:"text-sm",children:"Request playback from backup disk"})]})})}),t.jsxs("div",{className:"p-4 bg-gray-50",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Type:"}),t.jsx("span",{className:"ml-2 font-medium",children:(n=e.type)==null?void 0:n.replace("_"," ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Severity:"}),t.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-medium ${e.severity==="critical"?"bg-red-100 text-red-700":e.severity==="high"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:e.severity})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Camera:"}),t.jsx("span",{className:"ml-2 font-medium",children:(r==null?void 0:r.camera_number)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Reported:"}),t.jsx("span",{className:"ml-2 font-medium",children:((a=e.reporter)==null?void 0:a.name)||"Unknown"})]})]}),e.description&&t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("p",{className:"text-sm text-gray-700",children:e.description})})]})]})})}function bb(){const{activeEvent:e}=de(),[s,r]=v.useState([]),[n,a]=v.useState(!0),[l,i]=v.useState("open"),[o,c]=v.useState(null),[u,d]=v.useState(null),[p,y]=v.useState("");v.useEffect(()=>{b()},[l,e==null?void 0:e.id]);const b=async()=>{try{if(!(e!=null&&e.id)){r([]);return}const k=await pa.getAll({event_id:e.id,status:l!=="all"?l:void 0});r(k.data||[])}catch(k){console.error("Failed to load issues:",k)}finally{a(!1)}},h=async k=>{try{await pa.acknowledge(k),b()}catch(C){console.error("Failed to acknowledge issue:",C)}},g=async k=>{try{await pa.resolve(k,p),c(null),y(""),b()}catch(C){console.error("Failed to resolve issue:",C)}},j=async k=>{try{await pa.escalate(k,"Escalated by user"),b()}catch(C){console.error("Failed to escalate issue:",C)}},m={critical:"bg-red-100 text-red-700 border-red-200",high:"bg-orange-100 text-orange-700 border-orange-200",medium:"bg-yellow-100 text-yellow-700 border-yellow-200",low:"bg-gray-100 text-gray-700 border-gray-200"},x={open:"bg-red-50 text-red-700",acknowledged:"bg-yellow-50 text-yellow-700",in_progress:"bg-blue-50 text-blue-700",escalated:"bg-purple-50 text-purple-700",resolved:"bg-green-50 text-green-700",closed:"bg-gray-50 text-gray-700"},f={no_audio:"No Audio",low_audio:"Low Audio",blurry:"Blurry Video",shaky:"Shaky Video",cut_interview:"Cut Interview",filename_error:"Filename Error",duplicate:"Duplicate",other:"Other"};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Issues"}),t.jsxs("p",{className:"text-gray-500",children:["Quality issues and resolution tracking",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing issues."}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","open","acknowledged","in_progress","escalated","resolved"].map(k=>t.jsx("button",{onClick:()=>i(k),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l===k?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:k.replace("_"," ").charAt(0).toUpperCase()+k.replace("_"," ").slice(1)},k))}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Issue"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Severity"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Reporter"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[s.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No issues found"})}),s.map(k=>{var C,_,w;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:k.issue_id}),t.jsx("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:((C=k.media)==null?void 0:C.filename)||"Unknown file"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-sm text-gray-900",children:f[k.type]||k.type})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m[k.severity]}`,children:k.severity})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${x[k.status]}`,children:k.status.replace("_"," ")})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-900",children:((_=k.reporter)==null?void 0:_.name)||"Unknown"}),t.jsx("p",{className:"text-xs text-gray-500",children:(w=k.group)==null?void 0:w.group_code})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>d(k),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Play & Review",children:t.jsx(Ml,{className:"w-4 h-4"})}),k.status==="open"&&t.jsx("button",{onClick:()=>h(k.issue_id),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",title:"Acknowledge",children:t.jsx(Lt,{className:"w-4 h-4"})}),["open","acknowledged","in_progress"].includes(k.status)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>c(k),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Resolve",children:t.jsx(J,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>j(k.issue_id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Escalate",children:t.jsx(kv,{className:"w-4 h-4"})})]})]})})]},k.id)})]})]})})}),o&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Resolve Issue"}),t.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Issue: ",o.issue_id," - ",f[o.type]]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Notes"}),t.jsx("textarea",{value:p,onChange:k=>y(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Describe how the issue was resolved..."})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{c(null),y("")},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:()=>g(o.issue_id),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Mark Resolved"})]})]})}),u&&t.jsx(vb,{issue:u,onClose:()=>d(null)})]})}function jb(){var ue,$;const{activeEvent:e}=de(),[s,r]=v.useState([]),[n,a]=v.useState([]),[l,i]=v.useState(!0),[o,c]=v.useState(""),[u,d]=v.useState(""),[p,y]=v.useState(null),[b,h]=v.useState({type:"",text:""}),[g,j]=v.useState(!1),[m,x]=v.useState(!1),[f,k]=v.useState(null),[C,_]=v.useState(null),[w,N]=v.useState({event_id:"",group_id:"",person_name:"",description:"",healing_date:"",status:"pending"});v.useEffect(()=>{E()},[o,u,e==null?void 0:e.id]);const E=async()=>{i(!0);try{if(!(e!=null&&e.id)){r([]),a([]),y(null);return}const[P,M,z]=await Promise.all([js.getAll({event_id:e.id,search:o,status:u}),$t.getAll({event_id:e.id}),js.getStats({event_id:e.id})]);r(P.data.data||P.data),a(M.data.data||M.data),y(z.data)}catch{h({type:"error",text:"Failed to load healing cases"})}finally{i(!1)}},A=async P=>{P.preventDefault();try{if(!(e!=null&&e.id)){h({type:"error",text:"No active event. Activate an event first."});return}const M={...w,event_id:e.id};C?(await js.update(C.id,M),h({type:"success",text:"Healing case updated"})):(await js.create(M),h({type:"success",text:"Healing case created"})),j(!1),V(),E()}catch(M){h({type:"error",text:M.message||"Operation failed"})}},S=async P=>{try{await js.verify(P.id),h({type:"success",text:"Case verified successfully"}),E()}catch{h({type:"error",text:"Failed to verify case"})}},U=async P=>{try{await js.publish(P.id),h({type:"success",text:"Case published successfully"}),E()}catch(M){h({type:"error",text:M.message||"Failed to publish case"})}},I=async P=>{if(confirm(`Delete healing case ${P.case_id}?`))try{await js.delete(P.id),h({type:"success",text:"Case deleted"}),E()}catch{h({type:"error",text:"Failed to delete case"})}},O=P=>{if(!(e!=null&&e.id)){h({type:"error",text:"No active event. Activate an event first."});return}_(P),N({event_id:e.id,group_id:P.group_id,person_name:P.person_name,description:P.description,healing_date:P.healing_date,status:P.status}),j(!0)},V=()=>{_(null),N({event_id:"",group_id:"",person_name:"",description:"",healing_date:"",status:"pending"})},Z=P=>{const M={pending:"bg-amber-100 text-amber-700",verified:"bg-blue-100 text-blue-700",published:"bg-green-100 text-green-700"},z={pending:t.jsx(Ue,{className:"w-3 h-3"}),verified:t.jsx(wt,{className:"w-3 h-3"}),published:t.jsx(ko,{className:"w-3 h-3"})};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium ${M[P]}`,children:[z[P],P]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Healing Cases"}),t.jsxs("p",{className:"text-gray-500",children:["Document and manage healing testimonies",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:()=>{V(),j(!0)},disabled:!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2.5 bg-rose-600 text-white rounded-xl hover:bg-rose-700 transition-colors font-medium",children:[t.jsx(Ur,{className:"w-4 h-4"}),"Add Case"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing healing cases."}),b.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${b.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[b.type==="success"?t.jsx(J,{className:"w-5 h-5"}):t.jsx(Ue,{className:"w-5 h-5"}),b.text,t.jsx("button",{onClick:()=>h({type:"",text:""}),className:"ml-auto",children:""})]}),p&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-pink-600 rounded-xl p-4 text-white",children:[t.jsx("p",{className:"text-rose-100 text-sm",children:"Total Cases"}),t.jsx("p",{className:"text-2xl font-bold",children:p.total})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:p.pending})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Verified"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:p.verified})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Published"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.published})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"This Month"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:p.this_month})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search cases...",value:o,onChange:P=>c(P.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]}),t.jsxs("select",{value:u,onChange:P=>d(P.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"verified",children:"Verified"}),t.jsx("option",{value:"published",children:"Published"})]})]}),l?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-rose-600"})}):s.length===0?t.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-gray-100",children:[t.jsx(Ma,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No healing cases found"}),t.jsx("p",{className:"text-gray-500",children:"Start documenting healing testimonies"})]}):t.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Case"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Person"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Event"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(P=>{var M,z;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-500 to-pink-600 rounded-lg flex items-center justify-center",children:t.jsx(Ma,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"font-medium text-gray-900",children:P.case_id})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"font-medium text-gray-900",children:P.person_name}),t.jsx("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:P.description})]}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"text-gray-900",children:((M=P.event)==null?void 0:M.event_code)||"-"}),t.jsx("p",{className:"text-sm text-gray-500",children:(z=P.group)==null?void 0:z.group_code})]}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(P.healing_date).toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4",children:Z(P.status)}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>{k(P),x(!0)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"View",children:t.jsx(Lt,{className:"w-4 h-4"})}),P.status==="pending"&&t.jsx("button",{onClick:()=>S(P),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Verify",children:t.jsx(wt,{className:"w-4 h-4"})}),P.status==="verified"&&t.jsx("button",{onClick:()=>U(P),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Publish",children:t.jsx(ko,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>O(P),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",title:"Edit",children:t.jsx(rp,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>I(P),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:t.jsx(Tt,{className:"w-4 h-4"})})]})})]},P.id)})})]})})}),g&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold",children:C?"Edit Healing Case":"Add Healing Case"}),t.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:A,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event *"}),t.jsxs("select",{value:w.event_id,onChange:P=>N({...w,event_id:P.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0,children:[t.jsx("option",{value:"",children:"Select event..."}),events.map(P=>t.jsxs("option",{value:P.id,children:[P.event_code," - ",P.name]},P.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group *"}),t.jsxs("select",{value:w.group_id,onChange:P=>N({...w,group_id:P.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0,children:[t.jsx("option",{value:"",children:"Select group..."}),n.map(P=>t.jsxs("option",{value:P.id,children:[P.group_code," - ",P.name]},P.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Person Name *"}),t.jsx("input",{type:"text",value:w.person_name,onChange:P=>N({...w,person_name:P.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Healing Date *"}),t.jsx("input",{type:"date",value:w.healing_date,onChange:P=>N({...w,healing_date:P.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),t.jsx("textarea",{value:w.description,onChange:P=>N({...w,description:P.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500 resize-none",rows:4,required:!0})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-rose-600 text-white rounded-xl hover:bg-rose-700",children:C?"Update":"Create"})]})]})]})}),m&&f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-500 to-pink-600 rounded-xl flex items-center justify-center",children:t.jsx(Ma,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:f.case_id}),Z(f.status)]})]}),t.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Person Name"}),t.jsx("p",{className:"font-medium text-gray-900",children:f.person_name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Healing Date"}),t.jsx("p",{className:"font-medium text-gray-900",children:new Date(f.healing_date).toLocaleDateString()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Event"}),t.jsx("p",{className:"font-medium text-gray-900",children:(ue=f.event)==null?void 0:ue.event_code})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Group"}),t.jsx("p",{className:"font-medium text-gray-900",children:($=f.group)==null?void 0:$.group_code})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),t.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-xl",children:f.description})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[t.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Close"}),f.status==="pending"&&t.jsx("button",{onClick:()=>{S(f),x(!1)},className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Verify Case"}),f.status==="verified"&&t.jsx("button",{onClick:()=>{U(f),x(!1)},className:"flex-1 px-4 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700",children:"Publish Case"})]})]})})]})}function Nb(){var u,d,p,y,b,h;const{activeEvent:e}=de(),[s,r]=v.useState(null),[n,a]=v.useState([]),[l,i]=v.useState(!0);v.useEffect(()=>{o()},[e==null?void 0:e.id]);const o=async()=>{try{if(!(e!=null&&e.id)){r(null),a([]);return}const[g,j]=await Promise.all([wo.getCoverage(e.id),wo.getPending({per_page:50,event_id:e.id})]);r(g),a(j.data||[])}catch(g){console.error("Failed to load backup data:",g)}finally{i(!1)}},c=g=>{if(!g)return"0 B";const j=1024,m=["B","KB","MB","GB","TB"],x=Math.floor(Math.log(g)/Math.log(j));return parseFloat((g/Math.pow(j,x)).toFixed(2))+" "+m[x]};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Backup Management"}),t.jsxs("p",{className:"text-gray-500",children:["Monitor backup coverage and verification status",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:o,disabled:!(e!=null&&e.id),className:"flex items-center gap-2 bg-white border border-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50",children:[t.jsx(ze,{className:"w-4 h-4"}),"Refresh"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing backup operations."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:t.jsx(Y,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((u=s==null?void 0:s.total_media)==null?void 0:u.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total Media"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg",children:t.jsx(ve,{className:"w-6 h-6 text-yellow-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((d=s==null?void 0:s.backed_up)==null?void 0:d.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Backed Up"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:t.jsx(J,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((p=s==null?void 0:s.verified)==null?void 0:p.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Verified"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:t.jsx(G,{className:"w-6 h-6 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((y=s==null?void 0:s.pending)==null?void 0:y.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:t.jsxs("span",{className:"text-xl font-bold text-purple-600",children:[(s==null?void 0:s.coverage_percentage)||0,"%"]})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Coverage"}),t.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full mt-1",children:t.jsx("div",{className:"h-full bg-purple-600 rounded-full",style:{width:`${(s==null?void 0:s.coverage_percentage)||0}%`}})})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Disks"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[((b=s==null?void 0:s.disks)==null?void 0:b.length)===0&&t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No backup disks registered"}),(h=s==null?void 0:s.disks)==null?void 0:h.map(g=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-3 rounded-lg ${g.status==="active"?"bg-green-50":"bg-gray-50"}`,children:t.jsx(Y,{className:`w-6 h-6 ${g.status==="active"?"text-green-600":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:g.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[g.purpose,"  ",g.backups_count," files  ",g.verified_backups," verified"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g.status==="active"?"bg-green-100 text-green-700":g.status==="full"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:g.status})}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[g.usage_percentage,"% used"]})]})]},g.id))]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending Backups"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"File"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Event"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Age"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[n.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"All files are backed up and verified! "})}),n.map(g=>{var j,m;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"font-medium text-gray-900 truncate max-w-xs",children:g.filename}),t.jsx("p",{className:"text-xs text-gray-500",children:g.media_id})]}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:((j=g.editor)==null?void 0:j.name)||"-"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:((m=g.event)==null?void 0:m.name)||"-"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c(g.size_bytes)}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(g.created_at).toLocaleDateString()})]},g.id)})]})]})})]})]})}function rn({percentage:e,showLabel:s=!0}){const r=()=>e>=95?"bg-red-500":e>=90?"bg-amber-500":e>=75?"bg-yellow-500":"bg-emerald-500";return t.jsxs("div",{className:"w-full",children:[t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:t.jsx("div",{className:`h-3 rounded-full ${r()} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})}),s&&t.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[t.jsx("span",{className:"text-gray-500",children:"Used"}),t.jsxs("span",{className:`font-medium ${e>=90?"text-red-600":"text-gray-700"}`,children:[e,"%"]})]})]})}function wb({disk:e}){const s={healthy:"border-emerald-200 bg-emerald-50",caution:"border-yellow-200 bg-yellow-50",warning:"border-amber-200 bg-amber-50",critical:"border-red-200 bg-red-50"},r={healthy:t.jsx(J,{className:"w-5 h-5 text-emerald-500"}),caution:t.jsx(ve,{className:"w-5 h-5 text-yellow-500"}),warning:t.jsx(G,{className:"w-5 h-5 text-amber-500"}),critical:t.jsx(G,{className:"w-5 h-5 text-red-500"})};return t.jsxs("div",{className:`rounded-xl border-2 p-4 ${s[e.health]}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:t.jsx(Y,{className:"w-6 h-6 text-gray-700"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.disk_label}),t.jsx("p",{className:"text-xs text-gray-500",children:e.serial_number})]})]}),r[e.health]]}),t.jsx(rn,{percentage:e.used_percent}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Used"}),t.jsx("p",{className:"font-medium text-gray-900",children:e.used_space})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Free"}),t.jsx("p",{className:"font-medium text-emerald-600",children:e.free_space})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),t.jsx("p",{className:"font-medium text-gray-900",children:e.total_capacity})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),t.jsx("p",{className:`font-medium capitalize ${e.status==="active"?"text-emerald-600":"text-gray-500"}`,children:e.status})]})]})]})}function kb(){var h,g,j,m,x,f,k,C,_,w;const{activeEvent:e}=de(),[s,r]=v.useState(null),[n,a]=v.useState(null),[l,i]=v.useState(!0),[o,c]=v.useState("overview");v.useEffect(()=>{u()},[e==null?void 0:e.id]);const u=async()=>{try{if(i(!0),!(e!=null&&e.id)){r(null),a(null);return}const[N,E]=await Promise.all([fv.getUsage(),wo.getAnalytics(e.id)]);r(N),a(E)}catch(N){console.error("Failed to load storage data:",N)}finally{i(!1)}};if(l&&!s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(ze,{className:"w-8 h-8 animate-spin text-sky-500"})});const d=(s==null?void 0:s.totals)||{},p=(s==null?void 0:s.forecast)||{},y=(n==null?void 0:n.overall)||{},b=[{id:"overview",label:"Overview",icon:zs},{id:"disks",label:"Disks",icon:Y},{id:"groups",label:"By Group",icon:Z0},{id:"editors",label:"By Editor",icon:Ce}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Storage & Backup"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"Monitor storage, backup coverage, and capacity forecast"})]}),t.jsxs("button",{onClick:u,disabled:l||!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:[t.jsx(ze,{className:`w-4 h-4 ${l?"animate-spin":""}`}),"Refresh"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing storage forecast and backup analytics."}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:b.map(N=>t.jsxs("button",{onClick:()=>c(N.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors text-sm whitespace-nowrap ${o===N.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(N.icon,{className:"w-4 h-4"}),N.label]},N.id))})}),((h=s==null?void 0:s.alerts)==null?void 0:h.length)>0&&t.jsx("div",{className:"space-y-2",children:s.alerts.map((N,E)=>t.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg ${N.level==="critical"?"bg-red-50 border border-red-200":N.level==="warning"?"bg-amber-50 border border-amber-200":"bg-blue-50 border border-blue-200"}`,children:[t.jsx(G,{className:`w-5 h-5 ${N.level==="critical"?"text-red-500":N.level==="warning"?"text-amber-500":"text-blue-500"}`}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:N.message})]},E))}),o==="overview"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:t.jsx(Lc,{className:"w-5 h-5 text-sky-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Total Capacity"})]}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.total_capacity}),t.jsxs("p",{className:"text-sm text-gray-500",children:[d.disk_count," disks"]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(Y,{className:"w-5 h-5 text-emerald-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Free Space"})]}),t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:d.total_free}),t.jsxs("p",{className:"text-sm text-gray-500",children:[100-(d.overall_used_percent||0),"% available"]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:t.jsx(Ms,{className:"w-5 h-5 text-amber-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Data Rate"})]}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((g=s==null?void 0:s.data_rate)==null?void 0:g.avg_per_hour)||"0 B"}),t.jsx("p",{className:"text-sm text-gray-500",children:"per hour average"})]}),t.jsxs("div",{className:`rounded-xl p-5 shadow-sm border ${p.status==="critical"?"bg-red-50 border-red-200":p.status==="warning"?"bg-amber-50 border-amber-200":p.status==="caution"?"bg-yellow-50 border-yellow-200":"bg-emerald-50 border-emerald-200"}`,children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:`p-2 rounded-lg ${p.status==="critical"?"bg-red-100":p.status==="warning"?"bg-amber-100":p.status==="caution"?"bg-yellow-100":"bg-emerald-100"}`,children:t.jsx(ve,{className:`w-5 h-5 ${p.status==="critical"?"text-red-600":p.status==="warning"?"text-amber-600":p.status==="caution"?"text-yellow-600":"text-emerald-600"}`})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Time Remaining"})]}),t.jsx("p",{className:`text-2xl font-bold ${p.status==="critical"?"text-red-700":p.status==="warning"?"text-amber-700":"text-gray-900"}`,children:p.days_remaining?`${p.days_remaining} days`:"N/A"}),t.jsx("p",{className:"text-sm text-gray-600",children:p.message})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Overall Storage Usage"}),t.jsx("div",{className:"mb-4",children:t.jsx(rn,{percentage:d.overall_used_percent||0})}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Used"}),t.jsx("p",{className:"font-semibold text-gray-900",children:d.total_used})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Free"}),t.jsx("p",{className:"font-semibold text-emerald-600",children:d.total_free})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),t.jsx("p",{className:"font-semibold text-gray-900",children:d.total_capacity})]})]})]}),p.estimated_full_at&&t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Storage Forecast"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Estimated Full At"}),t.jsx("p",{className:"font-semibold text-gray-900",children:p.estimated_full_formatted})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Hours Remaining"}),t.jsxs("p",{className:"font-semibold text-gray-900",children:[p.hours_remaining," hours"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Projected Daily Usage"}),t.jsx("p",{className:"font-semibold text-gray-900",children:(j=s==null?void 0:s.data_rate)==null?void 0:j.projected_daily})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Clips"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((m=y.total_clips)==null?void 0:m.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:y.total_size_formatted})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Backed Up"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:((x=y.backed_up_clips)==null?void 0:x.toLocaleString())||0}),t.jsxs("div",{className:"mt-2",children:[t.jsx(rn,{percentage:y.backup_percentage||0,showLabel:!1}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[y.backup_percentage||0,"% complete"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Verified"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:((f=y.verified_clips)==null?void 0:f.toLocaleString())||0}),t.jsxs("p",{className:"text-sm text-gray-500",children:[y.verification_percentage||0,"% verified"]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),t.jsx("p",{className:`text-2xl font-bold ${y.pending_clips>0?"text-amber-600":"text-emerald-600"}`,children:((k=y.pending_clips)==null?void 0:k.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:y.pending_size_formatted})]})]})]}),o==="disks"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(C=s==null?void 0:s.disks)==null?void 0:C.map(N=>t.jsx(wb,{disk:N},N.id)),(!(s!=null&&s.disks)||s.disks.length===0)&&t.jsxs("div",{className:"col-span-full text-center py-8 bg-gray-50 rounded-xl",children:[t.jsx(Y,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No backup disks registered"})]})]}),o==="groups"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Coverage by Group"})}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Members"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Clips"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Backed Up"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Progress"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(_=n==null?void 0:n.by_group)==null?void 0:_.map(N=>{var E,A,S;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-medium text-gray-900",children:N.group_code}),t.jsx("div",{className:"text-sm text-gray-500",children:N.name})]}),t.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:N.member_count}),t.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:(E=N.total_clips)==null?void 0:E.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:N.total_size_formatted}),t.jsx("td",{className:"px-6 py-4 text-right text-emerald-600 font-medium",children:(A=N.backed_up_clips)==null?void 0:A.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right",children:N.pending_clips>0?t.jsx("span",{className:"text-amber-600 font-medium",children:(S=N.pending_clips)==null?void 0:S.toLocaleString()}):t.jsx("span",{className:"text-emerald-600",children:""})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24",children:t.jsx(rn,{percentage:N.backup_percentage||0,showLabel:!1})}),t.jsxs("span",{className:"text-sm font-medium text-gray-900 w-12",children:[N.backup_percentage,"%"]})]})})]},N.id)})})]}),(!(n!=null&&n.by_group)||n.by_group.length===0)&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No group data available"})]})]}),o==="editors"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Coverage by Editor"})}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Groups"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Clips"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Backed Up"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Progress"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(w=n==null?void 0:n.by_editor)==null?void 0:w.map(N=>{var E,A,S,U;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-medium text-gray-900",children:N.name}),t.jsx("div",{className:"text-sm text-gray-500",children:N.email})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"flex flex-wrap gap-1",children:(E=N.groups)==null?void 0:E.map(I=>t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:I.group_code},I.id))})}),t.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:(A=N.total_clips)==null?void 0:A.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:N.total_size_formatted}),t.jsx("td",{className:"px-6 py-4 text-right text-emerald-600 font-medium",children:(S=N.backed_up_clips)==null?void 0:S.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right",children:N.pending_clips>0?t.jsx("span",{className:"text-amber-600 font-medium",children:(U=N.pending_clips)==null?void 0:U.toLocaleString()}):t.jsx("span",{className:"text-emerald-600",children:""})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24",children:t.jsx(rn,{percentage:N.backup_percentage||0,showLabel:!1})}),t.jsxs("span",{className:"text-sm font-medium text-gray-900 w-12",children:[N.backup_percentage,"%"]})]})})]},N.id)})})]}),(!(n!=null&&n.by_editor)||n.by_editor.length===0)&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No editor data available"})]})]})]})}function Sb(){const[e,s]=v.useState([]),[r,n]=v.useState(!0),[a,l]=v.useState(null),[i,o]=v.useState(!1),[c,u]=v.useState(!1),[d,p]=v.useState({auto_delete_enabled:!1,auto_delete_date:"",auto_delete_days_after_end:""}),[y,b]=v.useState(""),[h,g]=v.useState(!1);v.useEffect(()=>{j()},[]);const j=async()=>{try{n(!0);const C=await T.get("/media-deletion/status");s(C.data)}catch(C){console.error("Failed to load events:",C)}finally{n(!1)}},m=async C=>{try{const _=await T.get(`/media-deletion/event/${C.id}`);l(C),p({auto_delete_enabled:_.data.auto_delete_enabled||!1,auto_delete_date:_.data.auto_delete_date||"",auto_delete_days_after_end:_.data.auto_delete_days_after_end||""}),o(!0)}catch(_){console.error("Failed to load settings:",_)}},x=async()=>{try{g(!0),await T.put(`/media-deletion/event/${a.id}`,d),o(!1),j()}catch(C){console.error("Failed to save settings:",C),alert("Failed to save settings")}finally{g(!1)}},f=async()=>{if(!y||y.length<10){alert("Please provide a reason (at least 10 characters)");return}try{g(!0),await T.post(`/media-deletion/event/${a.id}/trigger`,{confirm:!0,reason:y}),u(!1),b(""),j()}catch(C){console.error("Failed to trigger deletion:",C),alert("Failed to trigger deletion")}finally{g(!1)}},k=C=>{const _={deleted:{bg:"bg-gray-100",text:"text-gray-600",icon:J},disabled:{bg:"bg-yellow-100",text:"text-yellow-700",icon:Hs},pending_deletion:{bg:"bg-red-100",text:"text-red-700",icon:G},scheduled:{bg:"bg-blue-100",text:"text-blue-700",icon:ve},not_configured:{bg:"bg-gray-100",text:"text-gray-500",icon:Lr}},w=_[C]||_.not_configured,N=w.icon;return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${w.bg} ${w.text}`,children:[t.jsx(N,{size:12}),C.replace("_"," ")]})};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(ze,{className:"animate-spin text-blue-500",size:32})}):t.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(wt,{className:"text-red-600",size:24})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Protection"})]}),t.jsx("p",{className:"text-gray-600",children:"Configure automatic media deletion for events to comply with data protection requirements. Videos will be permanently deleted from all editor devices after the specified date."})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Hs,{className:"text-blue-600 mt-0.5",size:20}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-blue-900",children:"How Auto-Delete Works"}),t.jsxs("ul",{className:"mt-2 text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:" Set a specific date or number of days after event ends"}),t.jsx("li",{children:" Media files are permanently deleted from server storage"}),t.jsx("li",{children:" Deletion tasks are sent to all editor devices (works offline)"}),t.jsx("li",{children:" Metadata is preserved for audit purposes"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Event Media Deletion Status"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Event"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"End Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Delete Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Media Files"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.map(C=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-medium text-gray-900",children:C.name})}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:C.end_date||"Not set"}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:C.calculated_delete_date||"Not configured"}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("span",{className:"text-gray-900 font-medium",children:C.media_count}),t.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"files"})]}),t.jsx("td",{className:"px-6 py-4",children:k(C.status)}),t.jsx("td",{className:"px-6 py-4 text-right",children:C.status!=="deleted"?t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>m(C),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Configure auto-delete",children:t.jsx(Lr,{size:18})}),t.jsx("button",{onClick:()=>{l(C),u(!0)},className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete now",children:t.jsx(Tt,{size:18})})]}):t.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-400",children:[t.jsx(Pr,{size:18}),t.jsx("span",{className:"text-xs",children:"Deleted"})]})})]},C.id)),e.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No events found"})})]})]})})]}),i&&a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Auto-Delete Settings"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.name})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:d.auto_delete_enabled,onChange:C=>p({...d,auto_delete_enabled:C.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Enable auto-delete"})]}),d.auto_delete_enabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delete on specific date"}),t.jsx("input",{type:"date",value:d.auto_delete_date,onChange:C=>p({...d,auto_delete_date:C.target.value,auto_delete_days_after_end:""}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsx("div",{className:"text-center text-gray-500 text-sm",children:" OR "}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Days after event ends"}),t.jsx("input",{type:"number",value:d.auto_delete_days_after_end,onChange:C=>p({...d,auto_delete_days_after_end:C.target.value,auto_delete_date:""}),min:"1",max:"365",placeholder:"e.g., 30",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Media will be deleted this many days after the event end date"})]})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{onClick:x,disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:h?"Saving...":"Save Settings"})]})]})}),c&&a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(G,{className:"text-red-600",size:20})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Immediate Deletion"})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("p",{className:"text-gray-600 mb-4",children:["You are about to permanently delete ",t.jsxs("strong",{children:[a.media_count," media files"]})," from event ",t.jsxs("strong",{children:['"',a.name,'"']}),"."]}),t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:t.jsxs("p",{className:"text-sm text-red-800",children:[t.jsx("strong",{children:"Warning:"})," This action cannot be undone. Files will be permanently deleted from the server and deletion tasks will be sent to all editor devices."]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for deletion (required)"}),t.jsx("textarea",{value:y,onChange:C=>b(C.target.value),placeholder:"Enter the reason for immediate deletion...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>{u(!1),b("")},className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{onClick:f,disabled:h||y.length<10,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:h?"Deleting...":"Delete All Media"})]})]})})]})}function _b({user:e,roles:s,groups:r,onClose:n,onSave:a}){var b;const[l,i]=v.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",password:"",roles:((b=e==null?void 0:e.roles)==null?void 0:b.map(h=>h.slug))||["editor"],is_active:(e==null?void 0:e.is_active)??!0}),[o,c]=v.useState(!1),[u,d]=v.useState(""),p=async h=>{h.preventDefault(),c(!0),d("");try{const g={...l};if(g.password||delete g.password,e)await Nt.update(e.id,g);else{if(!g.password){d("Password is required for new users"),c(!1);return}await Nt.create(g)}a()}catch(g){d(g.message||"Failed to save user")}finally{c(!1)}},y=h=>{i(g=>({...g,roles:g.roles.includes(h)?g.roles.filter(j=>j!==h):[...g.roles,h]}))};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h3",{className:"text-lg font-semibold",children:e?"Edit User":"Create User"}),t.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:p,className:"p-4 space-y-4",children:[u&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[t.jsx(Ue,{className:"w-4 h-4"}),u]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),t.jsx("input",{type:"text",value:l.name,onChange:h=>i({...l,name:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",value:l.email,onChange:h=>i({...l,email:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),t.jsx("input",{type:"text",value:l.phone,onChange:h=>i({...l,phone:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e?"New Password (leave blank to keep current)":"Password"}),t.jsx("input",{type:"password",value:l.password,onChange:h=>i({...l,password:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...!e&&{required:!0},minLength:8})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Roles"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(h=>t.jsx("button",{type:"button",onClick:()=>y(h.slug),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${l.roles.includes(h.slug)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h.name},h.slug))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"is_active",checked:l.is_active,onChange:h=>i({...l,is_active:h.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Active"})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o?"Saving...":"Save"})]})]})]})})}function Cb({user:e,onClose:s,onConfirm:r}){const[n,a]=v.useState(!1),l=async()=>{a(!0);try{await Nt.delete(e.id),r()}catch(i){console.error("Failed to delete user:",i)}finally{a(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm mx-4 p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Tt,{className:"w-6 h-6 text-red-600"})}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete User"}),t.jsxs("p",{className:"text-gray-500 mb-6",children:["Are you sure you want to delete ",t.jsx("strong",{children:e.name}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:l,disabled:n,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:n?"Deleting...":"Delete"})]})]})})})}function Eb({roles:e,groups:s,onClose:r,onSuccess:n}){var f,k,C,_,w,N;const[a,l]=v.useState(""),[i,o]=v.useState("editor"),[c,u]=v.useState(""),[d,p]=v.useState(!1),[y,b]=v.useState(null),[h,g]=v.useState(""),j=E=>{const A=E.trim().split(`
`),S=[];for(let U=0;U<A.length;U++){const I=A[U].trim();if(!I||U===0&&I.toLowerCase().includes("name")&&I.toLowerCase().includes("email"))continue;const O=I.split(",").map(V=>V.trim().replace(/^["']|["']$/g,""));O.length>=2&&O[1].includes("@")&&S.push({name:O[0],email:O[1],phone:O[2]||""})}return S},m=async()=>{p(!0),g(""),b(null);const E=j(a);if(E.length===0){g("No valid users found in CSV. Format: name,email,phone"),p(!1);return}try{const A=await Nt.bulkImport({users:E,role:i,group_id:c||null,send_invitations:!1});b(A)}catch(A){g(A.message||"Import failed")}finally{p(!1)}},x=E=>{const A=E.target.files[0];if(A){const S=new FileReader;S.onload=U=>{l(U.target.result)},S.readAsText(A)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(dl,{className:"w-5 h-5"}),"Bulk Import Users"]}),t.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[h&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[t.jsx(Ue,{className:"w-4 h-4"}),h]}),y?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-green-50 text-green-700 rounded-lg",children:[t.jsx("p",{className:"font-medium",children:"Import completed!"}),t.jsxs("p",{className:"text-sm mt-1",children:["Created: ",((f=y.summary)==null?void 0:f.created)||0," | Skipped: ",((k=y.summary)==null?void 0:k.skipped)||0]})]}),((_=(C=y.results)==null?void 0:C.created)==null?void 0:_.length)>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Created Users:"}),t.jsx("div",{className:"max-h-40 overflow-y-auto bg-gray-50 rounded-lg p-2",children:y.results.created.map((E,A)=>t.jsxs("div",{className:"text-sm py-1",children:[E.name," (",E.email,")",E.temp_password&&t.jsxs("span",{className:"ml-2 text-gray-500",children:["Password: ",t.jsx("code",{className:"bg-gray-200 px-1 rounded",children:E.temp_password})]})]},A))})]}),((N=(w=y.results)==null?void 0:w.skipped)==null?void 0:N.length)>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2 text-yellow-700",children:"Skipped:"}),t.jsx("div",{className:"max-h-32 overflow-y-auto bg-yellow-50 rounded-lg p-2",children:y.results.skipped.map((E,A)=>t.jsxs("div",{className:"text-sm py-1 text-yellow-700",children:[E.email,": ",E.reason]},A))})]}),t.jsx("button",{onClick:()=>{n(),r()},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Done"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),t.jsx("select",{value:i,onChange:E=>o(E.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:e.map(E=>t.jsx("option",{value:E.slug,children:E.name},E.slug))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Group (optional)"}),t.jsxs("select",{value:c,onChange:E=>u(E.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"No group"}),s.map(E=>t.jsxs("option",{value:E.id,children:[E.group_code," - ",E.name]},E.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload CSV or paste data"}),t.jsx("input",{type:"file",accept:".csv,.txt",onChange:x,className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CSV Data (name,email,phone)"}),t.jsx("textarea",{value:a,onChange:E=>l(E.target.value),placeholder:`John Doe,john@example.com,+1234567890
Jane Smith,jane@example.com,`,rows:8,className:"w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"One user per line. Format: name,email,phone (phone is optional)"})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:m,disabled:d||!a.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:d?"Importing...":t.jsxs(t.Fragment,{children:[t.jsx(dl,{className:"w-4 h-4"})," Import Users"]})})]})]})]})]})})}function Ab({roles:e,groups:s,onClose:r,onSuccess:n}){const[a,l]=v.useState("editor"),[i,o]=v.useState(""),[c,u]=v.useState(100),[d,p]=v.useState(7),[y,b]=v.useState(!1),[h,g]=v.useState(null),[j,m]=v.useState(""),[x,f]=v.useState(!1),k=async()=>{b(!0),m("");try{const _=await Nt.createInvitation({role:a,group_id:i||null,max_uses:c,expires_days:d});g(_.invitation),n()}catch(_){m(_.message||"Failed to create invitation")}finally{b(!1)}},C=()=>{navigator.clipboard.writeText(h.link),f(!0),setTimeout(()=>f(!1),2e3)};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(ep,{className:"w-5 h-5"}),"Create Invitation Link"]}),t.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[j&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[t.jsx(Ue,{className:"w-4 h-4"}),j]}),h?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-green-50 text-green-700 rounded-lg",children:[t.jsx("p",{className:"font-medium",children:"Invitation created!"}),t.jsxs("p",{className:"text-sm mt-1",children:["Share this link with users to let them register as ",a,"."]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invitation Link"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:h.link,readOnly:!0,className:"flex-1 px-3 py-2 border rounded-lg bg-gray-50 text-sm"}),t.jsxs("button",{onClick:C,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1",children:[t.jsx(Pc,{className:"w-4 h-4"}),x?"Copied!":"Copy"]})]})]}),t.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[t.jsxs("p",{children:["Max uses: ",h.max_uses]}),t.jsxs("p",{children:["Expires: ",new Date(h.expires_at).toLocaleDateString()]})]}),t.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Done"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role for new users"}),t.jsx("select",{value:a,onChange:_=>l(_.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:e.map(_=>t.jsx("option",{value:_.slug,children:_.name},_.slug))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Group (optional)"}),t.jsxs("select",{value:i,onChange:_=>o(_.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"No group"}),s.map(_=>t.jsxs("option",{value:_.id,children:[_.group_code," - ",_.name]},_.id))]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Uses"}),t.jsx("input",{type:"number",value:c,onChange:_=>u(parseInt(_.target.value)||100),min:1,max:500,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expires in (days)"}),t.jsx("input",{type:"number",value:d,onChange:_=>p(parseInt(_.target.value)||7),min:1,max:30,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:k,disabled:y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:y?"Creating...":"Create Link"})]})]})]})]})})}function Rb(){const{isAdmin:e,isTeamLead:s,isGroupLeader:r,isQALead:n,isBackupLead:a}=de(),[l,i]=v.useState([]),[o,c]=v.useState([]),[u,d]=v.useState([]),[p,y]=v.useState(!0),[b,h]=v.useState(""),[g,j]=v.useState(""),[m,x]=v.useState(""),[f,k]=v.useState(!1),[C,_]=v.useState(!1),[w,N]=v.useState(!1),[E,A]=v.useState(null),[S,U]=v.useState(null),[I,O]=v.useState({current_page:1,last_page:1}),V=()=>e()?["admin","team-lead","group-leader","qa-lead","qa","backup-lead","backup","editor"]:s()?["group-leader","qa-lead","qa","backup-lead","backup","editor"]:r()?["editor"]:n()?["qa"]:a()?["backup"]:[],Z=()=>e()?{title:"User Management",subtitle:"Manage all system users and roles"}:s()?{title:"Team Management",subtitle:"Manage team members (except admins)"}:r()?{title:"Group Members",subtitle:"Manage editors in your groups"}:n()?{title:"QA Team",subtitle:"Manage QA team members"}:a()?{title:"Backup Team",subtitle:"Manage backup team members"}:{title:"Users",subtitle:""},ue=V(),$=Z();v.useEffect(()=>{P()},[b,g,m]);const P=async()=>{y(!0);try{const W=g||(ue.length<8?ue.join(","):""),[Le,bs,Mt]=await Promise.all([Nt.getAll({search:b,role:W,status:m}),Nt.getRoles(),$t.getAll()]);let Ys=Le.data||[];e()||(Ys=Ys.filter(Xs=>{var zr;return(zr=Xs.roles)==null?void 0:zr.some(Gn=>ue.includes(Gn.slug))})),i(Ys),O({current_page:Le.current_page,last_page:Le.last_page}),c((bs||[]).filter(Xs=>ue.includes(Xs.slug))),d(Mt.data||Mt||[])}catch(W){console.error("Failed to load users:",W)}finally{y(!1)}},M=async W=>{try{await Nt.toggleStatus(W.id),P()}catch(Le){console.error("Failed to toggle status:",Le)}},z=W=>{A(W),k(!0)},H=()=>{A(null),k(!0)},ee=()=>{k(!1),A(null)},re=()=>{ee(),P()},Ve={admin:"bg-purple-100 text-purple-700","team-lead":"bg-indigo-100 text-indigo-700","group-leader":"bg-blue-100 text-blue-700","qa-lead":"bg-emerald-100 text-emerald-700",qa:"bg-green-100 text-green-700","backup-lead":"bg-orange-100 text-orange-700",backup:"bg-yellow-100 text-yellow-700",editor:"bg-gray-100 text-gray-700"};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:$.title}),t.jsx("p",{className:"text-gray-500",children:$.subtitle})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:"Bulk Import",children:[t.jsx(dl,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Import CSV"})]}),t.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:"Create Invitation Link",children:[t.jsx(ep,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Invite Link"})]}),t.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[t.jsx(Ur,{className:"w-4 h-4"}),"Add ",n()?"QA Member":a()?"Backup Member":r()?"Editor":"User"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search users...",value:b,onChange:W=>h(W.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("select",{value:g,onChange:W=>j(W.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Roles"}),o.map(W=>t.jsx("option",{value:W.slug,children:W.name},W.slug))]}),t.jsxs("select",{value:m,onChange:W=>x(W.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),p?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Roles"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(W=>{var Le,bs;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-blue-600 font-medium",children:(Le=W.name)==null?void 0:Le.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:W.name}),t.jsx("p",{className:"text-sm text-gray-500",children:W.email})]})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("div",{className:"flex flex-wrap gap-1",children:(bs=W.roles)==null?void 0:bs.map(Mt=>t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${Ve[Mt.slug]||"bg-gray-100 text-gray-700"}`,children:Mt.name},Mt.slug))})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("button",{onClick:()=>M(W),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${W.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:W.is_active?t.jsxs(t.Fragment,{children:[t.jsx(In,{className:"w-3 h-3"}),"Active"]}):t.jsxs(t.Fragment,{children:[t.jsx(np,{className:"w-3 h-3"}),"Inactive"]})})}),t.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:new Date(W.created_at).toLocaleDateString()}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>z(W),className:"p-2 hover:bg-gray-100 rounded-lg",title:"Edit",children:t.jsx(sp,{className:"w-4 h-4 text-gray-500"})}),t.jsx("button",{onClick:()=>U(W),className:"p-2 hover:bg-red-50 rounded-lg",title:"Delete",children:t.jsx(Tt,{className:"w-4 h-4 text-red-500"})})]})})]},W.id)})})]}),l.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ce,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No users found"})]})]})]}),f&&t.jsx(_b,{user:E,roles:o,groups:u,onClose:ee,onSave:re}),S&&t.jsx(Cb,{user:S,onClose:()=>U(null),onConfirm:()=>{U(null),P()}}),C&&t.jsx(Eb,{roles:o,groups:u,onClose:()=>_(!1),onSuccess:P}),w&&t.jsx(Ab,{roles:o,groups:u,onClose:()=>N(!1),onSuccess:P})]})}function Pb(){const{activeEvent:e}=de(),[s,r]=v.useState([]),[n,a]=v.useState([]),[l,i]=v.useState(!0),[o,c]=v.useState(null),[u,d]=v.useState({type:"",text:""}),[p,y]=v.useState(null),[b,h]=v.useState(!1),[g,j]=v.useState(!1),[m,x]=v.useState(!1),[f,k]=v.useState({group_id:"",notes:""}),[C,_]=v.useState(""),[w,N]=v.useState({email:"",group_id:""});v.useEffect(()=>{E()},[e==null?void 0:e.id]);const E=async()=>{i(!0);try{const[O,V]=await Promise.all([Rs.getPending(),$t.getAll({event_id:e==null?void 0:e.id})]);r(O.data.data||O.data),a(V.data.data||V.data)}catch{d({type:"error",text:"Failed to load data"})}finally{i(!1)}},A=async()=>{if(!f.group_id){d({type:"error",text:"Please select a group"});return}c("approve");try{await Rs.approve(p.id,f),d({type:"success",text:`${p.name} has been approved`}),r(O=>O.filter(V=>V.id!==p.id)),h(!1),y(null),k({group_id:"",notes:""})}catch(O){d({type:"error",text:O.message||"Failed to approve user"})}finally{c(null)}},S=async()=>{c("reject");try{await Rs.reject(p.id,{reason:C}),d({type:"success",text:"Registration rejected"}),r(O=>O.filter(V=>V.id!==p.id)),j(!1),y(null),_("")}catch(O){d({type:"error",text:O.message||"Failed to reject"})}finally{c(null)}},U=async()=>{if(!w.email){d({type:"error",text:"Please enter an email address"});return}c("invite");try{await Rs.sendInvitation(w),d({type:"success",text:`Invitation sent to ${w.email}`}),x(!1),N({email:"",group_id:""})}catch(O){d({type:"error",text:O.message||"Failed to send invitation"})}finally{c(null)}},I=O=>new Date(O).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Registration Approvals"}),t.jsx("p",{className:"text-gray-500",children:"Manage pending user registrations"})]}),t.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[t.jsx(pi,{className:"w-4 h-4"}),"Send Invitation"]})]}),u.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${u.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[u.type==="success"?t.jsx(J,{className:"w-5 h-5"}):t.jsx(Ue,{className:"w-5 h-5"}),u.text,t.jsx("button",{onClick:()=>d({type:"",text:""}),className:"ml-auto text-current opacity-50 hover:opacity-100",children:""})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"No active event. You can review registrations, but group assignment will be unavailable until an event is activated."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-amber-100",children:"Pending Approvals"}),t.jsx("p",{className:"text-3xl font-bold mt-1",children:s.length})]}),t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(ve,{className:"w-6 h-6"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-emerald-100",children:"Active Groups"}),t.jsx("p",{className:"text-3xl font-bold mt-1",children:n.length})]}),t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(Ce,{className:"w-6 h-6"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-blue-100",children:"Quick Action"}),t.jsx("p",{className:"text-lg font-medium mt-1",children:"Invite New Editor"})]}),t.jsx("button",{onClick:()=>x(!0),className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",children:t.jsx(Ic,{className:"w-6 h-6"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pending Registrations"})}),s.length===0?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(In,{className:"w-8 h-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Pending Registrations"}),t.jsx("p",{className:"text-gray-500",children:"All registration requests have been processed"})]}):t.jsx("div",{className:"divide-y divide-gray-100",children:s.map(O=>{var V,Z;return t.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:((Z=(V=O.name)==null?void 0:V.charAt(0))==null?void 0:Z.toUpperCase())||"?"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:O.name}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-1 text-sm text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vs,{className:"w-4 h-4"}),O.email]}),O.phone&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Tl,{className:"w-4 h-4"}),O.phone]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Bs,{className:"w-4 h-4"}),I(O.created_at)]})]}),O.registration_notes&&t.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-sm text-gray-600",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(ps,{className:"w-4 h-4 mt-0.5 text-gray-400"}),t.jsx("span",{children:O.registration_notes})]})})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{y(O),j(!0)},className:"flex items-center gap-2 px-4 py-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors font-medium",children:[t.jsx(Ws,{className:"w-4 h-4"}),"Reject"]}),t.jsxs("button",{onClick:()=>{y(O),h(!0)},className:"flex items-center gap-2 px-4 py-2 text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors font-medium",children:[t.jsx(J,{className:"w-4 h-4"}),"Approve"]})]})]})},O.id)})})]}),b&&p&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(In,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Approve Registration"}),t.jsx("p",{className:"text-sm text-gray-500",children:p.name})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Assign to Group ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:f.group_id,onChange:O=>k({...f,group_id:O.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[t.jsx("option",{value:"",children:"Select a group..."}),n.map(O=>t.jsxs("option",{value:O.id,children:[O.group_code," - ",O.name]},O.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),t.jsx("textarea",{value:f.notes,onChange:O=>k({...f,notes:O.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none",rows:3,placeholder:"Any notes about this approval..."})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>{h(!1),y(null),k({group_id:"",notes:""})},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:A,disabled:o==="approve",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50 font-medium transition-colors",children:[o==="approve"?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(J,{className:"w-4 h-4"}),"Approve"]})]})]})}),g&&p&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(np,{className:"w-6 h-6 text-red-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reject Registration"}),t.jsx("p",{className:"text-sm text-gray-500",children:p.name})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional)"}),t.jsx("textarea",{value:C,onChange:O=>_(O.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none",rows:3,placeholder:"Reason for rejection..."}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"The user will be notified via email with this reason."})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>{j(!1),y(null),_("")},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:S,disabled:o==="reject",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 disabled:opacity-50 font-medium transition-colors",children:[o==="reject"?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(Ws,{className:"w-4 h-4"}),"Reject"]})]})]})}),m&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(pi,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Send Invitation"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Invite a new editor to join"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:w.email,onChange:O=>N({...w,email:O.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"editor@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pre-assign to Group (optional)"}),t.jsxs("select",{value:w.group_id,onChange:O=>N({...w,group_id:O.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"No group (assign later)"}),n.map(O=>t.jsxs("option",{value:O.id,children:[O.group_code," - ",O.name]},O.id))]})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>{x(!1),N({email:"",group_id:""})},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:U,disabled:o==="invite",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[o==="invite"?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(pi,{className:"w-4 h-4"}),"Send Invitation"]})]})]})})]})}function Lb({log:e,onClose:s}){var r,n;return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Audit Log Details"}),t.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Action"}),t.jsx("p",{className:"font-medium",children:e.action})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Timestamp"}),t.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"User"}),t.jsx("p",{className:"font-medium",children:((r=e.user)==null?void 0:r.name)||"System"}),t.jsx("p",{className:"text-sm text-gray-500",children:(n=e.user)==null?void 0:n.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"IP Address"}),t.jsx("p",{className:"font-medium",children:e.ip_address||"N/A"})]})]}),e.entity_type&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Entity"}),t.jsxs("p",{className:"font-medium",children:[e.entity_type," #",e.entity_id]})]}),e.metadata&&Object.keys(e.metadata).length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase mb-2 block",children:"Metadata"}),t.jsx("pre",{className:"bg-gray-50 p-3 rounded-lg text-sm overflow-auto max-h-48",children:JSON.stringify(e.metadata,null,2)})]})]}),t.jsx("div",{className:"p-4 border-t",children:t.jsx("button",{onClick:s,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Close"})})]})})}function ya({title:e,value:s,icon:r,color:n}){const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-2 rounded-lg ${a[n]}`,children:t.jsx(r,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:e})]})]})})}function Tb(){const[e,s]=v.useState([]),[r,n]=v.useState(null),[a,l]=v.useState([]),[i,o]=v.useState([]),[c,u]=v.useState(!0),[d,p]=v.useState(null),[y,b]=v.useState({search:"",action:"",entity_type:"",date_from:"",date_to:""}),[h,g]=v.useState({current_page:1,last_page:1,per_page:50,total:0});v.useEffect(()=>{j()},[]),v.useEffect(()=>{m()},[y,h.current_page]);const j=async()=>{try{const[w,N,E]=await Promise.all([ha.getStats(),ha.getActions(),ha.getEntityTypes()]);n(w),l(N||[]),o(E||[])}catch(w){console.error("Failed to load initial data:",w)}},m=async()=>{u(!0);try{const w=await ha.getAll({...y,page:h.current_page,per_page:h.per_page});s(w.data||[]),g(N=>({...N,current_page:w.current_page,last_page:w.last_page,total:w.total}))}catch(w){console.error("Failed to load logs:",w)}finally{u(!1)}},x=(w,N)=>{b(E=>({...E,[w]:N})),g(E=>({...E,current_page:1}))},f=()=>{b({search:"",action:"",entity_type:"",date_from:"",date_to:""})},k=w=>{g(N=>({...N,current_page:w}))},C={"user.create":"bg-green-100 text-green-700","user.update":"bg-blue-100 text-blue-700","user.delete":"bg-red-100 text-red-700","auth.login":"bg-purple-100 text-purple-700","auth.logout":"bg-gray-100 text-gray-700","media.sync":"bg-cyan-100 text-cyan-700","issue.report":"bg-orange-100 text-orange-700","issue.resolve":"bg-green-100 text-green-700"},_=w=>C[w]||"bg-gray-100 text-gray-700";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),t.jsx("p",{className:"text-gray-500",children:"Track all system activities and changes"})]}),r&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(ya,{title:"Total Logs",value:r.total,icon:Lc,color:"blue"}),t.jsx(ya,{title:"Today",value:r.today,icon:ve,color:"green"}),t.jsx(ya,{title:"This Week",value:r.this_week,icon:Bs,color:"yellow"}),t.jsx(ya,{title:"This Month",value:r.this_month,icon:oe,color:"purple"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search logs...",value:y.search,onChange:w=>x("search",w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("select",{value:y.action,onChange:w=>x("action",w.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Actions"}),a.map(w=>t.jsx("option",{value:w,children:w},w))]}),t.jsxs("select",{value:y.entity_type,onChange:w=>x("entity_type",w.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Entities"}),i.map(w=>t.jsx("option",{value:w,children:w},w))]}),t.jsx("input",{type:"date",value:y.date_from,onChange:w=>x("date_from",w.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"From"}),t.jsx("input",{type:"date",value:y.date_to,onChange:w=>x("date_to",w.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"To"}),(y.search||y.action||y.entity_type||y.date_from||y.date_to)&&t.jsxs("button",{onClick:f,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg flex items-center gap-2",children:[t.jsx(Ee,{className:"w-4 h-4"}),"Clear"]})]})}),c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Timestamp"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Entity"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"IP Address"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Details"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(w=>{var N,E;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(w.created_at).toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_(w.action)}`,children:w.action})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:t.jsx(Gt,{className:"w-4 h-4 text-gray-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:((N=w.user)==null?void 0:N.name)||"System"}),t.jsx("p",{className:"text-xs text-gray-500",children:((E=w.user)==null?void 0:E.email)||""})]})]})}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:w.entity_type?`${w.entity_type} #${w.entity_id}`:"-"}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:w.ip_address||"-"}),t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsx("button",{onClick:()=>p(w),className:"p-2 hover:bg-gray-100 rounded-lg",title:"View Details",children:t.jsx(Lt,{className:"w-4 h-4 text-gray-500"})})})]},w.id)})})]}),e.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ps,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No audit logs found"})]})]}),h.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-100",children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(h.current_page-1)*h.per_page+1," to"," ",Math.min(h.current_page*h.per_page,h.total)," of"," ",h.total," results"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>k(h.current_page-1),disabled:h.current_page===1,className:"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(Y0,{className:"w-4 h-4"})}),t.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",h.current_page," of ",h.last_page]}),t.jsx("button",{onClick:()=>k(h.current_page+1),disabled:h.current_page===h.last_page,className:"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(Rr,{className:"w-4 h-4"})})]})]})]})]}),d&&t.jsx(Lb,{log:d,onClose:()=>p(null)})]})}function Mb(){const[e,s]=v.useState("general"),[r,n]=v.useState(!0),[a,l]=v.useState(!1),[i,o]=v.useState(!1),[c,u]=v.useState({type:"",text:""}),[d,p]=v.useState({app_name:"",app_url:"",require_approval:!0,allow_self_registration:!0}),[y,b]=v.useState({smtp_host:"",smtp_port:587,smtp_username:"",smtp_password:"",smtp_encryption:"tls",smtp_from_address:"",smtp_from_name:""}),[h,g]=v.useState(""),[j,m]=v.useState(!1);v.useEffect(()=>{x()},[]);const x=async()=>{n(!0);try{const[w,N]=await Promise.all([Yr.getGeneral(),Yr.getSmtp()]);p(w.data),b(N.data)}catch{u({type:"error",text:"Failed to load settings"})}finally{n(!1)}},f=async()=>{l(!0),u({type:"",text:""});try{await Yr.updateGeneral(d),u({type:"success",text:"General settings saved successfully"})}catch(w){u({type:"error",text:w.message||"Failed to save settings"})}finally{l(!1)}},k=async()=>{l(!0),u({type:"",text:""});try{await Yr.updateSmtp(y),u({type:"success",text:"SMTP settings saved successfully"})}catch(w){u({type:"error",text:w.message||"Failed to save settings"})}finally{l(!1)}},C=async()=>{if(!h){u({type:"error",text:"Please enter a test email address"});return}o(!0),u({type:"",text:""});try{const w=await Yr.testSmtp(h);u({type:"success",text:w.data.message})}catch(w){u({type:"error",text:w.message||"SMTP test failed"})}finally{o(!1)}};if(r)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})});const _=[{id:"general",label:"General",icon:ko},{id:"smtp",label:"Email (SMTP)",icon:Vs},{id:"security",label:"Security",icon:wt}];return t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),t.jsx("p",{className:"text-gray-500",children:"Configure your Gate 1 System"})]}),c.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${c.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[c.type==="success"?t.jsx(J,{className:"w-5 h-5"}):t.jsx(Ue,{className:"w-5 h-5"}),c.text]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"border-b border-gray-100",children:t.jsx("nav",{className:"flex",children:_.map(w=>t.jsxs("button",{onClick:()=>s(w.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${e===w.id?"border-blue-600 text-blue-600 bg-blue-50/50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(w.icon,{className:"w-4 h-4"}),w.label]},w.id))})}),t.jsxs("div",{className:"p-6",children:[e==="general"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Name"}),t.jsx("input",{type:"text",value:d.app_name,onChange:w=>p({...d,app_name:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application URL"}),t.jsx("input",{type:"url",value:d.app_url,onChange:w=>p({...d,app_url:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://gate1.cloud"})]})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Registration Settings"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[t.jsx("input",{type:"checkbox",checked:d.allow_self_registration,onChange:w=>p({...d,allow_self_registration:w.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Allow Self-Registration"}),t.jsx("div",{className:"text-sm text-gray-500",children:"Allow users to register themselves without an invitation"})]})]}),t.jsxs("label",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[t.jsx("input",{type:"checkbox",checked:d.require_approval,onChange:w=>p({...d,require_approval:w.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Require Approval"}),t.jsx("div",{className:"text-sm text-gray-500",children:"New registrations must be approved by an admin or group leader"})]})]})]})]}),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsxs("button",{onClick:f,disabled:a,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[a?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(_o,{className:"w-4 h-4"}),"Save Changes"]})})]}),e==="smtp"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Vs,{className:"w-5 h-5 text-blue-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-900",children:"Email Configuration"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Configure SMTP settings to enable email notifications for password resets, registration approvals, and alerts."})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Host"}),t.jsxs("div",{className:"relative",children:[t.jsx(Uv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",value:y.smtp_host,onChange:w=>b({...y,smtp_host:w.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"smtp.gmail.com"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Port"}),t.jsx("input",{type:"number",value:y.smtp_port,onChange:w=>b({...y,smtp_port:parseInt(w.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"587"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),t.jsx("input",{type:"text",value:y.smtp_username,onChange:w=>b({...y,smtp_username:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:j?"text":"password",value:y.smtp_password,onChange:w=>b({...y,smtp_password:w.target.value}),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:""}),t.jsx("button",{type:"button",onClick:()=>m(!j),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:j?t.jsx(br,{className:"w-4 h-4"}):t.jsx(Lt,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Encryption"}),t.jsxs("select",{value:y.smtp_encryption,onChange:w=>b({...y,smtp_encryption:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"tls",children:"TLS"}),t.jsx("option",{value:"ssl",children:"SSL"}),t.jsx("option",{value:"none",children:"None"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Address"}),t.jsx("input",{type:"email",value:y.smtp_from_address,onChange:w=>b({...y,smtp_from_address:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"noreply@gate1system.org"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Name"}),t.jsx("input",{type:"text",value:y.smtp_from_name,onChange:w=>b({...y,smtp_from_name:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Gate 1 System"})]})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Configuration"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("input",{type:"email",value:h,onChange:w=>g(w.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email to send test message"}),t.jsxs("button",{onClick:C,disabled:i,className:"flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 disabled:opacity-50 font-medium transition-colors",children:[i?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(Hv,{className:"w-4 h-4"}),"Send Test"]})]})]}),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsxs("button",{onClick:k,disabled:a,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[a?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(_o,{className:"w-4 h-4"}),"Save SMTP Settings"]})})]}),e==="security"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(wt,{className:"w-5 h-5 text-amber-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-amber-900",children:"Security Settings"}),t.jsx("p",{className:"text-sm text-amber-700",children:"Additional security settings will be available in a future update."})]})]})}),t.jsxs("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(wt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:"Security settings coming soon"}),t.jsx("p",{className:"text-sm",children:"Session management, 2FA, and more"})]})]})]})]})]})}function Ob(){var j,m,x;const{user:e}=de(),[s,r]=v.useState("profile"),[n,a]=v.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||""}),[l,i]=v.useState({current_password:"",password:"",password_confirmation:""}),[o,c]=v.useState({current:!1,new:!1,confirm:!1}),[u,d]=v.useState(!1),[p,y]=v.useState({type:"",text:""}),b=async f=>{f.preventDefault(),d(!0),y({type:"",text:""});try{await Nt.update(e.id,n),y({type:"success",text:"Profile updated successfully"})}catch(k){y({type:"error",text:k.message||"Failed to update profile"})}finally{d(!1)}},h=async f=>{if(f.preventDefault(),d(!0),y({type:"",text:""}),l.password!==l.password_confirmation){y({type:"error",text:"Passwords do not match"}),d(!1);return}try{await vr.changePassword(l),y({type:"success",text:"Password changed successfully"}),i({current_password:"",password:"",password_confirmation:""})}catch(k){y({type:"error",text:k.message||"Failed to change password"})}finally{d(!1)}},g=f=>{c(k=>({...k,[f]:!k[f]}))};return t.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"}),t.jsx("p",{className:"text-gray-500",children:"Manage your account settings"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-3xl font-bold text-white",children:((m=(j=e==null?void 0:e.name)==null?void 0:j.charAt(0))==null?void 0:m.toUpperCase())||"U"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e==null?void 0:e.name}),t.jsx("p",{className:"text-gray-500",children:e==null?void 0:e.email}),t.jsx("div",{className:"flex gap-2 mt-2",children:(x=e==null?void 0:e.roles)==null?void 0:x.map(f=>t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:f},f))})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"border-b border-gray-100",children:t.jsxs("nav",{className:"flex",children:[t.jsx("button",{onClick:()=>r("profile"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="profile"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Profile Information"]})}),t.jsx("button",{onClick:()=>r("security"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="security"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(wt,{className:"w-4 h-4"}),"Security"]})})]})}),t.jsxs("div",{className:"p-6",children:[p.text&&t.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${p.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[p.type==="success"?t.jsx(J,{className:"w-5 h-5"}):t.jsx(Ue,{className:"w-5 h-5"}),p.text]}),s==="profile"&&t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Full Name"]})}),t.jsx("input",{type:"text",value:n.name,onChange:f=>a({...n,name:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vs,{className:"w-4 h-4"}),"Email Address"]})}),t.jsx("input",{type:"email",value:n.email,onChange:f=>a({...n,email:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Tl,{className:"w-4 h-4"}),"Phone Number"]})}),t.jsx("input",{type:"text",value:n.phone,onChange:f=>a({...n,phone:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional"})]}),t.jsx("div",{className:"pt-4",children:t.jsxs("button",{type:"submit",disabled:u,className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:[t.jsx(_o,{className:"w-4 h-4"}),u?"Saving...":"Save Changes"]})})]}),s==="security"&&t.jsxs("form",{onSubmit:h,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:o.current?"text":"password",value:l.current_password,onChange:f=>i({...l,current_password:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0}),t.jsx("button",{type:"button",onClick:()=>g("current"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.current?t.jsx(br,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:o.new?"text":"password",value:l.password,onChange:f=>i({...l,password:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0,minLength:8}),t.jsx("button",{type:"button",onClick:()=>g("new"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.new?t.jsx(br,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum 8 characters"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:o.confirm?"text":"password",value:l.password_confirmation,onChange:f=>i({...l,password_confirmation:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0}),t.jsx("button",{type:"button",onClick:()=>g("confirm"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.confirm?t.jsx(br,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"pt-4",children:t.jsxs("button",{type:"submit",disabled:u,className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:[t.jsx(X0,{className:"w-4 h-4"}),u?"Changing...":"Change Password"]})})]})]})]})]})}const Ib=[{id:1,type:"alert",title:"New Issue Reported",message:"Camera CAM-042 reported corrupt file in Group Alpha",time:"5 min ago",read:!1,link:"/issues"},{id:2,type:"success",title:"Backup Completed",message:"Daily backup for Event TEST-2024 completed successfully",time:"1 hour ago",read:!1,link:"/backups"},{id:3,type:"info",title:"New Editor Joined",message:"John Doe has joined Group Beta as an editor",time:"2 hours ago",read:!0,link:"/users"},{id:4,type:"warning",title:"Storage Warning",message:"Backup disk DISK-003 is at 85% capacity",time:"3 hours ago",read:!0,link:"/storage-forecast"},{id:5,type:"alert",title:"Issue Escalated",message:"Missing footage issue #127 has been escalated",time:"5 hours ago",read:!0,link:"/issues"},{id:6,type:"success",title:"QA Review Complete",message:"15 media files passed quality control",time:"1 day ago",read:!0,link:"/quality-control"},{id:7,type:"info",title:"Event Started",message:"Event TEST-2024 is now active",time:"2 days ago",read:!0,link:"/events"}];function Db(){const{user:e}=de(),[s,r]=v.useState(Ib),[n,a]=v.useState("all"),[l,i]=v.useState(!1),[o,c]=v.useState({issues:!0,backups:!0,storage:!0,users:!0,qa:!0}),u=s.filter(m=>n==="unread"?!m.read:n==="read"?m.read:!0),d=s.filter(m=>!m.read).length,p=m=>{r(x=>x.map(f=>f.id===m?{...f,read:!0}:f))},y=()=>{r(m=>m.map(x=>({...x,read:!0})))},b=m=>{r(x=>x.filter(f=>f.id!==m))},h=()=>{r([])},g=m=>{switch(m){case"alert":return t.jsx(G,{className:"w-5 h-5 text-red-500"});case"warning":return t.jsx(G,{className:"w-5 h-5 text-yellow-500"});case"success":return t.jsx(J,{className:"w-5 h-5 text-green-500"});case"info":return t.jsx(Hs,{className:"w-5 h-5 text-blue-500"});default:return t.jsx(Mn,{className:"w-5 h-5 text-gray-500"})}},j=(m,x)=>{if(x)return"bg-white";switch(m){case"alert":return"bg-red-50";case"warning":return"bg-yellow-50";case"success":return"bg-green-50";case"info":return"bg-blue-50";default:return"bg-gray-50"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),t.jsx("p",{className:"text-gray-500",children:d>0?`${d} unread notifications`:"All caught up!"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i(!l),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[t.jsx(Lr,{className:"w-4 h-4"}),"Preferences"]}),d>0&&t.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[t.jsx(Cv,{className:"w-4 h-4"}),"Mark all read"]})]})]}),l&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[t.jsx("h3",{className:"font-medium mb-3",children:"Notification Preferences"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(o).map(([m,x])=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:x,onChange:()=>c(f=>({...f,[m]:!f[m]})),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm capitalize",children:m})]},m))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Tc,{className:"w-4 h-4 text-gray-400"}),t.jsxs("select",{value:n,onChange:m=>a(m.target.value),className:"border-0 bg-transparent text-sm font-medium focus:ring-0",children:[t.jsx("option",{value:"all",children:"All Notifications"}),t.jsx("option",{value:"unread",children:"Unread"}),t.jsx("option",{value:"read",children:"Read"})]})]}),s.length>0&&t.jsx("button",{onClick:h,className:"text-sm text-red-600 hover:text-red-700",children:"Clear all"})]}),t.jsx("div",{className:"divide-y divide-gray-100",children:u.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Mn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No notifications"})]}):u.map(m=>t.jsx("div",{className:`p-4 ${j(m.type,m.read)} hover:bg-gray-50 transition-colors`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:g(m.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`font-medium ${m.read?"text-gray-700":"text-gray-900"}`,children:m.title}),t.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:m.message})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!m.read&&t.jsx("button",{onClick:()=>p(m.id),className:"p-1 hover:bg-gray-200 rounded",title:"Mark as read",children:t.jsx(J0,{className:"w-4 h-4 text-gray-400"})}),t.jsx("button",{onClick:()=>b(m.id),className:"p-1 hover:bg-gray-200 rounded",title:"Delete",children:t.jsx(Tt,{className:"w-4 h-4 text-gray-400"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(ve,{className:"w-3 h-3 text-gray-400"}),t.jsx("span",{className:"text-xs text-gray-400",children:m.time}),m.link&&t.jsx("a",{href:m.link,className:"text-xs text-blue-600 hover:underline ml-2",children:"View details "})]})]})]})},m.id))})]})]})}const Xu=[{id:"daily-summary",name:"Daily Summary",description:"Overview of daily operations including media count, issues, and editor activity",icon:Bs,formats:["pdf","xlsx"],category:"operations"},{id:"event-report",name:"Event Report",description:"Complete report for a specific event including all statistics and media",icon:zs,formats:["pdf","xlsx"],category:"operations"},{id:"media-export",name:"Media Inventory",description:"Export list of all media files with metadata and status",icon:xt,formats:["xlsx","csv"],category:"media"},{id:"issues-report",name:"Issues Report",description:"List of all issues with resolution status and timeline",icon:G,formats:["pdf","xlsx"],category:"quality"},{id:"backup-report",name:"Backup Status",description:"Backup coverage and verification report by disk and event",icon:Y,formats:["pdf","xlsx"],category:"storage"},{id:"editor-performance",name:"Editor Performance",description:"Performance metrics and productivity stats for editors",icon:Ce,formats:["pdf","xlsx"],category:"team"},{id:"healing-cases",name:"Healing Cases",description:"Export healing case records with patient info and status",icon:ps,formats:["xlsx","csv"],category:"media"},{id:"audit-logs",name:"Audit Trail",description:"System audit logs for compliance and tracking",icon:ps,formats:["xlsx","csv"],category:"admin"}],Fb={operations:"Operations",media:"Media",quality:"Quality Control",storage:"Storage",team:"Team",admin:"Administration"};function $b(){const{isAdmin:e,isTeamLead:s}=de(),[r,n]=v.useState(null),[a,l]=v.useState({start:"",end:""}),[i,o]=v.useState(""),[c,u]=v.useState(!1),[d,p]=v.useState([{id:1,name:"Daily Summary - Dec 25, 2024",type:"pdf",size:"245 KB",time:"2 hours ago"},{id:2,name:"Event Report - TEST-2024",type:"xlsx",size:"1.2 MB",time:"1 day ago"},{id:3,name:"Backup Status - December",type:"pdf",size:"180 KB",time:"3 days ago"}]),y=async(h,g)=>{u(!0),await new Promise(x=>setTimeout(x,2e3));const j=Xu.find(x=>x.id===h),m={id:Date.now(),name:`${j.name} - ${new Date().toLocaleDateString()}`,type:g,size:"---",time:"Just now"};p(x=>[m,...x.slice(0,9)]),u(!1),n(null),alert(`Report "${m.name}" generated! Download would start automatically.`)},b=Xu.reduce((h,g)=>(h[g.category]||(h[g.category]=[]),h[g.category].push(g),h),{});return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),t.jsx("p",{className:"text-gray-500",children:"Generate and download system reports"})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2 space-y-6",children:Object.entries(b).map(([h,g])=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h2",{className:"font-semibold text-gray-900",children:Fb[h]})}),t.jsx("div",{className:"divide-y divide-gray-100",children:g.map(j=>t.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(j.icon,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:j.name}),t.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:j.description}),t.jsx("div",{className:"flex items-center gap-2 mt-3",children:j.formats.map(m=>t.jsxs("button",{onClick:()=>n({...j,format:m}),className:"flex items-center gap-1 px-3 py-1.5 text-sm border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[m==="pdf"?t.jsx(Bu,{className:"w-4 h-4 text-red-500"}):t.jsx(zu,{className:"w-4 h-4 text-green-500"}),m.toUpperCase()]},m))})]})]})},j.id))})]},h))}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h2",{className:"font-semibold text-gray-900",children:"Recent Reports"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:d.length===0?t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No recent reports"}):d.map(h=>t.jsx("div",{className:"p-4 hover:bg-gray-50",children:t.jsxs("div",{className:"flex items-center gap-3",children:[h.type==="pdf"?t.jsx(Bu,{className:"w-8 h-8 text-red-500"}):t.jsx(zu,{className:"w-8 h-8 text-green-500"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:[h.size,"  ",h.time]})]}),t.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(On,{className:"w-4 h-4 text-gray-500"})})]})},h.id))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Quick Stats"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-blue-100",children:"Reports this month"}),t.jsx("span",{className:"font-semibold",children:"24"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-blue-100",children:"Total downloads"}),t.jsx("span",{className:"font-semibold",children:"156"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-blue-100",children:"Storage used"}),t.jsx("span",{className:"font-semibold",children:"48 MB"})]})]})]})]})]}),r&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h3",{className:"text-lg font-semibold",children:"Generate Report"})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Report Type"}),t.jsxs("p",{className:"font-medium",children:[r.name," (",r.format.toUpperCase(),")"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("input",{type:"date",value:a.start,onChange:h=>l(g=>({...g,start:h.target.value})),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),t.jsx("input",{type:"date",value:a.end,onChange:h=>l(g=>({...g,end:h.target.value})),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),r.id==="event-report"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event"}),t.jsxs("select",{value:i,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select event..."}),t.jsx("option",{value:"1",children:"TEST-2024 - Test Event"}),t.jsx("option",{value:"2",children:"CONF-2024 - Conference"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:()=>n(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:()=>y(r.id,r.format),disabled:c,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:c?t.jsxs(t.Fragment,{children:[t.jsx(ve,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(On,{className:"w-4 h-4"}),"Generate"]})})]})]})]})})]})}const Ub=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Zu=Array.from({length:24},(e,s)=>s),zb=[{id:1,userId:1,userName:"John Doe",date:"2024-12-26",startHour:8,endHour:16,status:"active",checkedIn:!0},{id:2,userId:2,userName:"Jane Smith",date:"2024-12-26",startHour:16,endHour:24,status:"scheduled"},{id:3,userId:3,userName:"Mike Johnson",date:"2024-12-26",startHour:8,endHour:16,status:"completed"},{id:4,userId:1,userName:"John Doe",date:"2024-12-27",startHour:8,endHour:16,status:"scheduled"},{id:5,userId:4,userName:"Sarah Wilson",date:"2024-12-27",startHour:16,endHour:24,status:"scheduled"}],em=[{id:1,name:"John Doe"},{id:2,name:"Jane Smith"},{id:3,name:"Mike Johnson"},{id:4,name:"Sarah Wilson"},{id:5,name:"Tom Brown"}];function Bb(){const{isAdmin:e,isTeamLead:s,isGroupLeader:r}=de(),[n,a]=v.useState(new Date),[l,i]=v.useState("week"),[o,c]=v.useState(zb),[u,d]=v.useState(!1),[p,y]=v.useState(null),[b,h]=v.useState({userId:"",startHour:8,endHour:16}),g=e()||s()||r(),m=(()=>{const E=[],A=new Date(n);A.setDate(n.getDate()-n.getDay());for(let S=0;S<7;S++){const U=new Date(A);U.setDate(A.getDate()+S),E.push(U)}return E})(),x=E=>E.toISOString().split("T")[0],f=E=>o.filter(A=>A.date===x(E)),k=E=>{const A=new Date(n);A.setDate(n.getDate()+E*7),a(A)},C=(E,A)=>{g&&(y({date:x(E),hour:A}),h({userId:"",startHour:A,endHour:A+8}),d(!0))},_=()=>{if(!b.userId)return;const E=em.find(S=>S.id===parseInt(b.userId)),A={id:Date.now(),userId:parseInt(b.userId),userName:(E==null?void 0:E.name)||"Unknown",date:p.date,startHour:parseInt(b.startHour),endHour:parseInt(b.endHour),status:"scheduled"};c(S=>[...S,A]),d(!1)},w=E=>{switch(E){case"active":return"bg-green-100 border-green-300 text-green-800";case"completed":return"bg-gray-100 border-gray-300 text-gray-600";case"scheduled":return"bg-blue-100 border-blue-300 text-blue-800";default:return"bg-gray-100 border-gray-300 text-gray-600"}},N={scheduled:o.filter(E=>E.date===x(new Date)&&E.status==="scheduled").length,active:o.filter(E=>E.date===x(new Date)&&E.status==="active").length,completed:o.filter(E=>E.date===x(new Date)&&E.status==="completed").length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shift Schedule"}),t.jsx("p",{className:"text-gray-500",children:"Manage editor work schedules"})]}),g&&t.jsxs("button",{onClick:()=>{y({date:x(new Date),hour:8}),h({userId:"",startHour:8,endHour:16}),d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[t.jsx(Ur,{className:"w-4 h-4"}),"Add Shift"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(ve,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.scheduled}),t.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled Today"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx($v,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.active}),t.jsx("p",{className:"text-sm text-gray-500",children:"Currently Active"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:t.jsx(J0,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.completed}),t.jsx("p",{className:"text-sm text-gray-500",children:"Completed Today"})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>k(-1),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(Y0,{className:"w-5 h-5"})}),t.jsxs("h2",{className:"font-semibold text-gray-900",children:[m[0].toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",m[6].toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),t.jsx("button",{onClick:()=>k(1),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(Rr,{className:"w-5 h-5"})})]}),t.jsx("button",{onClick:()=>a(new Date),className:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg hover:bg-gray-50",children:"Today"})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("div",{className:"min-w-[800px]",children:[t.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-100",children:[t.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 border-r border-gray-100",children:"Time"}),m.map((E,A)=>{const S=x(E)===x(new Date);return t.jsxs("div",{className:`p-3 text-center border-r border-gray-100 last:border-r-0 ${S?"bg-blue-50":""}`,children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:Ub[E.getDay()]}),t.jsx("p",{className:`text-lg font-semibold ${S?"text-blue-600":"text-gray-900"}`,children:E.getDate()})]},A)})]}),[6,8,10,12,14,16,18,20,22].map(E=>t.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"p-2 text-center text-sm text-gray-500 border-r border-gray-100 bg-gray-50",children:[E.toString().padStart(2,"0"),":00"]}),m.map((A,S)=>{const U=f(A).filter(O=>O.startHour<=E&&O.endHour>E),I=x(A)===x(new Date);return t.jsx("div",{onClick:()=>C(A,E),className:`p-1 min-h-[60px] border-r border-gray-100 last:border-r-0 ${I?"bg-blue-50/50":""} ${g?"cursor-pointer hover:bg-gray-50":""}`,children:U.map(O=>t.jsxs("div",{className:`px-2 py-1 rounded text-xs font-medium border ${w(O.status)} mb-1`,children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Gt,{className:"w-3 h-3"}),O.userName]}),t.jsxs("div",{className:"text-[10px] opacity-75",children:[O.startHour,":00 - ",O.endHour,":00"]})]},O.id))},S)})]},E))]})})]}),u&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Schedule Shift"}),t.jsx("button",{onClick:()=>d(!1),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ee,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),t.jsx("input",{type:"date",value:(p==null?void 0:p.date)||"",onChange:E=>y(A=>({...A,date:E.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Editor"}),t.jsxs("select",{value:b.userId,onChange:E=>h(A=>({...A,userId:E.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select editor..."}),em.map(E=>t.jsx("option",{value:E.id,children:E.name},E.id))]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),t.jsx("select",{value:b.startHour,onChange:E=>h(A=>({...A,startHour:E.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:Zu.map(E=>t.jsxs("option",{value:E,children:[E.toString().padStart(2,"0"),":00"]},E))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),t.jsx("select",{value:b.endHour,onChange:E=>h(A=>({...A,endHour:E.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:Zu.map(E=>t.jsxs("option",{value:E,children:[E.toString().padStart(2,"0"),":00"]},E))})]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:_,disabled:!b.userId,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Schedule"})]})]})]})})]})}const Hb=[{id:1,type:"media_upload",user:"John Doe",target:"CAM-042",message:"uploaded 15 media files",time:"2 min ago",group:"Alpha"},{id:2,type:"issue_created",user:"Jane Smith",target:"ISSUE-127",message:"reported missing footage issue",time:"5 min ago",group:"Beta"},{id:3,type:"backup_complete",user:"System",target:"DISK-003",message:"completed backup verification",time:"10 min ago"},{id:4,type:"user_login",user:"Mike Johnson",message:"logged in from Desktop Agent",time:"15 min ago",group:"Alpha"},{id:5,type:"issue_resolved",user:"Sarah Wilson",target:"ISSUE-125",message:"resolved corrupt file issue",time:"20 min ago",group:"QA"},{id:6,type:"media_edit",user:"Tom Brown",target:"VID-2024-001",message:"edited metadata",time:"25 min ago",group:"Alpha"},{id:7,type:"user_joined",user:"Admin",target:"Emily Davis",message:"added new editor to Group Beta",time:"30 min ago"},{id:8,type:"camera_bind",user:"John Doe",target:"CAM-055",message:"bound camera to SD card",time:"45 min ago",group:"Alpha"},{id:9,type:"backup_started",user:"System",target:"DISK-004",message:"started backup process",time:"1 hour ago"},{id:10,type:"qa_approved",user:"QA Lead",target:"25 files",message:"approved for publishing",time:"1 hour ago",group:"QA"},{id:11,type:"settings_changed",user:"Admin",message:"updated system settings",time:"2 hours ago"},{id:12,type:"event_started",user:"Admin",target:"TEST-2024",message:"activated event",time:"3 hours ago"}],Vb={media_upload:{icon:dl,color:"text-blue-500",bg:"bg-blue-100"},media_edit:{icon:sp,color:"text-purple-500",bg:"bg-purple-100"},issue_created:{icon:G,color:"text-red-500",bg:"bg-red-100"},issue_resolved:{icon:J,color:"text-green-500",bg:"bg-green-100"},backup_complete:{icon:Y,color:"text-green-500",bg:"bg-green-100"},backup_started:{icon:Y,color:"text-yellow-500",bg:"bg-yellow-100"},user_login:{icon:Mv,color:"text-blue-500",bg:"bg-blue-100"},user_logout:{icon:Mc,color:"text-gray-500",bg:"bg-gray-100"},user_joined:{icon:Ic,color:"text-green-500",bg:"bg-green-100"},camera_bind:{icon:dt,color:"text-purple-500",bg:"bg-purple-100"},qa_approved:{icon:J,color:"text-green-500",bg:"bg-green-100"},settings_changed:{icon:Lr,color:"text-gray-500",bg:"bg-gray-100"},event_started:{icon:oe,color:"text-blue-500",bg:"bg-blue-100"}};function qb(){const{user:e}=de(),[s,r]=v.useState(Hb),[n,a]=v.useState("all"),[l,i]=v.useState(!0),[o,c]=v.useState(!1),u=s.filter(g=>n==="all"?!0:g.type.includes(n)),d=async()=>{c(!0),await new Promise(g=>setTimeout(g,1e3)),c(!1)},p=g=>{const j=Vb[g]||{icon:oe,color:"text-gray-500",bg:"bg-gray-100"},m=j.icon;return t.jsx("div",{className:`p-2 rounded-full ${j.bg}`,children:t.jsx(m,{className:`w-4 h-4 ${j.color}`})})},y=s.length,b=s.filter(g=>g.type.includes("issue")).length,h=s.filter(g=>g.type.includes("media")).length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Activity Feed"}),t.jsx("p",{className:"text-gray-500",children:"Real-time system activity"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i(!l),className:`flex items-center gap-2 px-3 py-2 rounded-lg border ${l?"bg-green-50 border-green-200 text-green-700":"border-gray-300"}`,children:[t.jsx("span",{className:`w-2 h-2 rounded-full ${l?"bg-green-500 animate-pulse":"bg-gray-400"}`}),l?"Live":"Paused"]}),t.jsxs("button",{onClick:d,disabled:o,className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[t.jsx(ze,{className:`w-4 h-4 ${o?"animate-spin":""}`}),"Refresh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(oe,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y}),t.jsx("p",{className:"text-sm text-gray-500",children:"Activities Today"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(xt,{className:"w-5 h-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h}),t.jsx("p",{className:"text-sm text-gray-500",children:"Media Activities"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(G,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b}),t.jsx("p",{className:"text-sm text-gray-500",children:"Issue Activities"})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Tc,{className:"w-4 h-4 text-gray-400"}),t.jsxs("select",{value:n,onChange:g=>a(g.target.value),className:"border-0 bg-transparent text-sm font-medium focus:ring-0",children:[t.jsx("option",{value:"all",children:"All Activities"}),t.jsx("option",{value:"media",children:"Media"}),t.jsx("option",{value:"issue",children:"Issues"}),t.jsx("option",{value:"backup",children:"Backups"}),t.jsx("option",{value:"user",children:"Users"})]})]}),t.jsxs("span",{className:"text-sm text-gray-500",children:[u.length," activities"]})]}),t.jsx("div",{className:"divide-y divide-gray-100",children:u.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(oe,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No activities found"})]}):u.map(g=>t.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-3",children:[p(g.type),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("p",{className:"text-sm text-gray-900",children:[t.jsx("span",{className:"font-medium",children:g.user})," ",g.message,g.target&&t.jsxs("span",{className:"font-medium text-blue-600",children:[" ",g.target]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(ve,{className:"w-3 h-3 text-gray-400"}),t.jsx("span",{className:"text-xs text-gray-400",children:g.time}),g.group&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-300",children:""}),t.jsxs("span",{className:"text-xs text-gray-500",children:["Group ",g.group]})]})]})]})]})},g.id))}),t.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:t.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Load more activities"})})]})]})}const Wb=[{category:"Getting Started",icon:_v,questions:[{q:"How do I set up the Desktop Agent?",a:"Download the Desktop Agent from the downloads section. Install it, then log in with your credentials. The agent will automatically connect to the server and sync your assigned cameras."},{q:"How do I join a group?",a:"Groups are assigned by your Group Leader or Admin. Contact them to be added to a specific group. Once added, you'll see the group in your dashboard."},{q:"What are the different user roles?",a:"Admin: Full system access. Team Lead: Operational management. Group Leader: Manages editors in their group. QA Lead: Quality control oversight. Backup Lead: Storage management. Editor: Media ingestion via Desktop Agent."}]},{category:"Media Management",icon:xt,questions:[{q:"How do I upload media files?",a:"Media files are uploaded automatically through the Desktop Agent when you process SD cards. Insert the SD card, select the camera, and the agent will sync the files."},{q:"What file formats are supported?",a:"The system supports MP4, MOV, AVI for video and JPG, PNG, RAW for images. Maximum file size is determined by your system settings."},{q:"How do I search for specific media?",a:"Use the Media Library search. You can filter by date, camera, group, event, and status. Use the advanced search for more specific queries."}]},{category:"Issues & Quality Control",icon:G,questions:[{q:"How do I report an issue?",a:'Click "Report Issue" from the Issues page or directly from a media item. Select the issue type, add a description, and submit. The issue will be routed to QA.'},{q:"What happens when an issue is escalated?",a:"Escalated issues are flagged for immediate attention and notify Team Leads. They appear at the top of the issue queue with high priority."},{q:"How does the QA review process work?",a:"QA team members review media in the Quality Control queue. They can approve, reject, or flag items for re-processing. Approved items move to the backup queue."}]},{category:"Backups & Storage",icon:Y,questions:[{q:"How are backups performed?",a:"Backups are managed through the Backup Dashboard. Media is backed up to registered disks. The system tracks backup status and verification for each file."},{q:"What does backup verification mean?",a:"Verification ensures backup integrity by comparing checksums. Verified backups are confirmed to be complete and uncorrupted."},{q:"How do I check storage capacity?",a:"The Storage Forecast page shows current usage and predictions. You'll receive alerts when disks approach capacity thresholds."}]}],Gb=[{title:"Editor Quick Start Guide",icon:ps,description:"Basic guide for new editors"},{title:"Group Leader Handbook",icon:Ce,description:"Managing your team effectively"},{title:"Camera Setup Guide",icon:dt,description:"Binding cameras and SD cards"},{title:"Backup Procedures",icon:Y,description:"Best practices for data backup"},{title:"Quality Control Standards",icon:wt,description:"QA review guidelines"},{title:"System Administration",icon:Lr,description:"Admin configuration guide"}];function Qb(){const[e,s]=v.useState("Getting Started"),[r,n]=v.useState(null),[a,l]=v.useState(""),i=Wb.map(o=>({...o,questions:o.questions.filter(c=>c.q.toLowerCase().includes(a.toLowerCase())||c.a.toLowerCase().includes(a.toLowerCase()))})).filter(o=>o.questions.length>0);return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Help & Documentation"}),t.jsx("p",{className:"text-gray-500",children:"Guides, FAQs, and support resources"})]})}),t.jsxs("div",{className:"relative",children:[t.jsx(Wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search help articles...",value:a,onChange:o=>l(o.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Frequently Asked Questions"}),i.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[t.jsx(So,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsxs("p",{className:"text-gray-500",children:['No results found for "',a,'"']})]}):i.map(o=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsxs("button",{onClick:()=>s(e===o.category?null:o.category),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(o.icon,{className:"w-5 h-5 text-blue-600"})}),t.jsx("span",{className:"font-medium text-gray-900",children:o.category}),t.jsxs("span",{className:"text-sm text-gray-400",children:["(",o.questions.length,")"]})]}),e===o.category?t.jsx(cl,{className:"w-5 h-5 text-gray-400"}):t.jsx(Rr,{className:"w-5 h-5 text-gray-400"})]}),e===o.category&&t.jsx("div",{className:"border-t border-gray-100 divide-y divide-gray-100",children:o.questions.map((c,u)=>t.jsxs("div",{className:"p-4",children:[t.jsxs("button",{onClick:()=>n(r===`${o.category}-${u}`?null:`${o.category}-${u}`),className:"w-full flex items-start justify-between text-left",children:[t.jsx("span",{className:"font-medium text-gray-700 pr-4",children:c.q}),r===`${o.category}-${u}`?t.jsx(cl,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-1"}):t.jsx(Rr,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-1"})]}),r===`${o.category}-${u}`&&t.jsx("p",{className:"mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:c.a})]},u))})]},o.category))]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quick Guides"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:Gb.map(o=>t.jsxs("a",{href:"#",className:"flex items-center gap-3 p-4 hover:bg-gray-50 transition-colors",children:[t.jsx(o.icon,{className:"w-5 h-5 text-gray-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.title}),t.jsx("p",{className:"text-xs text-gray-500",children:o.description})]}),t.jsx(Pv,{className:"w-4 h-4 text-gray-400"})]},o.title))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:[t.jsx(Iv,{className:"w-8 h-8 mb-4"}),t.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Need More Help?"}),t.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Can't find what you're looking for? Contact our support team."}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("a",{href:"mailto:support@neliumsystems.com",className:"flex items-center gap-2 text-white hover:text-blue-100",children:[t.jsx(Vs,{className:"w-4 h-4"}),"support@neliumsystems.com"]}),t.jsxs("a",{href:"tel:+254700000000",className:"flex items-center gap-2 text-white hover:text-blue-100",children:[t.jsx(Tl,{className:"w-4 h-4"}),"+254 700 000 000"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"System Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Version"}),t.jsx("span",{className:"font-medium",children:"1.0.0"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Build"}),t.jsx("span",{className:"font-medium",children:"2024.12.26"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Developer"}),t.jsx("span",{className:"font-medium",children:"Nelium Systems"})]})]})]})]})]})]})}function ap({assigned:e,completed:s,showNumbers:r=!0}){const n=e>0?Math.round(s/e*100):0,a=e-s;return t.jsxs("div",{className:"w-full",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-300",style:{width:`${n}%`}})}),r&&t.jsxs("span",{className:"text-xs text-gray-500 min-w-[60px] text-right",children:[s,"/",e]})]}),a>0&&t.jsxs("p",{className:"text-xs text-orange-600 mt-0.5",children:[a," pending"]})]})}function Kb({editor:e}){const r=(()=>{const a=e.mediaAssigned-e.mediaCompleted;return a===0?{label:"Available",color:"text-green-600",bg:"bg-green-100",icon:J,priority:1}:a<=5?{label:"Light Load",color:"text-blue-600",bg:"bg-blue-100",icon:jr,priority:2}:a<=15?{label:"Normal",color:"text-yellow-600",bg:"bg-yellow-100",icon:Oc,priority:3}:{label:"Heavy Load",color:"text-red-600",bg:"bg-red-100",icon:Ms,priority:4}})(),n=r.icon;return t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-all",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-medium",children:e.name.charAt(0)})}),t.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white ${e.isOnline?"bg-green-500":"bg-gray-400"}`})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.name}),t.jsx("p",{className:"text-xs text-gray-500",children:e.group})]})]}),t.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${r.bg} ${r.color}`,children:[t.jsx(n,{className:"w-3 h-3"}),r.label]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Status"}),t.jsx("span",{className:e.isOnline?"text-green-600":"text-gray-500",children:e.isOnline?e.currentActivity||"Online":`Offline  ${Yb(e.lastSeen)}`})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Workload"}),t.jsxs("span",{className:"font-medium",children:[e.mediaAssigned-e.mediaCompleted," pending"]})]}),t.jsx(ap,{assigned:e.mediaAssigned,completed:e.mediaCompleted}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-1",children:[t.jsxs("span",{children:["Avg: ",e.avgProcessingTime," min/file"]}),t.jsxs("span",{children:[e.mediaCompleted," completed"]})]})]})]})}function Jb({group:e}){const s=e.totalMedia>0?Math.round(e.completedMedia/e.totalMedia*100):0,r=e.totalMedia-e.completedMedia,n=e.editorCount>0?Math.round(r/e.editorCount):0;return t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:e.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:[e.code,"  ",e.editorCount," editors"]})]}),t.jsxs("div",{className:`text-2xl font-bold ${s>=80?"text-green-600":s>=50?"text-yellow-600":"text-red-600"}`,children:[s,"%"]})]}),t.jsx(ap,{assigned:e.totalMedia,completed:e.completedMedia}),t.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[t.jsxs("span",{className:"text-gray-500",children:[r," pending"]}),t.jsxs("span",{className:"text-gray-500",children:["~",n," per editor"]})]})]})}function Yb(e){const s=Math.floor((new Date-new Date(e))/1e3);if(s<60)return"just now";const r=Math.floor(s/60);if(r<60)return`${r}m ago`;const n=Math.floor(r/60);return n<24?`${n}h ago`:`${Math.floor(n/24)}d ago`}function Xb(){const{activeEvent:e,isAdmin:s,isTeamLead:r,isGroupLeader:n}=de(),[a,l]=v.useState([]),[i,o]=v.useState([]),[c,u]=v.useState(!0),[d,p]=v.useState("all"),[y,b]=v.useState("all"),[h,g]=v.useState("workload"),[j,m]=v.useState(!0),[x,f]=v.useState(new Date),k=v.useCallback(async()=>{if(!(e!=null&&e.id)){l([]),o([]),u(!1);return}try{const N=await yv.getOverview(e.id),E=(N.editors||[]).map(S=>{var U,I,O,V;return{id:S.id,name:S.name,email:S.email,group:((I=(U=S.groups)==null?void 0:U[0])==null?void 0:I.name)||"Unassigned",groupId:((V=(O=S.groups)==null?void 0:O[0])==null?void 0:V.id)||null,isOnline:S.is_online,lastSeen:S.last_seen_at,currentActivity:S.current_activity,mediaAssigned:S.media_assigned||0,mediaCompleted:S.media_completed||0,avgProcessingTime:S.avg_processing_time||0}}),A=(N.groups||[]).map(S=>({id:S.id,name:S.name,code:S.code,totalMedia:S.total_media||0,completedMedia:S.completed_media||0,editorCount:S.editor_count||0}));l(E),o(A),f(new Date)}catch(N){console.error("Failed to fetch work allocation:",N)}finally{u(!1)}},[e==null?void 0:e.id]);v.useEffect(()=>{k()},[k]),v.useEffect(()=>{let N;return j&&(e!=null&&e.id)&&(N=setInterval(k,5e3)),()=>{N&&clearInterval(N)}},[j,e==null?void 0:e.id,k]);const C=!!(e!=null&&e.id),_=a.filter(N=>!(d!=="all"&&N.groupId!==parseInt(d)||y==="online"&&!N.isOnline||y==="offline"&&N.isOnline||y==="available"&&N.mediaAssigned-N.mediaCompleted>0||y==="light"&&N.mediaAssigned-N.mediaCompleted>5)).sort((N,E)=>h==="workload"?N.mediaAssigned-N.mediaCompleted-(E.mediaAssigned-E.mediaCompleted):h==="name"?N.name.localeCompare(E.name):h==="group"?N.group.localeCompare(E.group):0),w={totalEditors:a.length,onlineEditors:a.filter(N=>N.isOnline).length,availableEditors:a.filter(N=>N.isOnline&&N.mediaAssigned-N.mediaCompleted===0).length,lightLoadEditors:a.filter(N=>N.isOnline&&N.mediaAssigned-N.mediaCompleted>0&&N.mediaAssigned-N.mediaCompleted<=5).length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Work Allocation"}),t.jsxs("p",{className:"text-gray-500",children:["Assign and balance editor workloads",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),!C&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing work allocation."}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:["Team Status",j&&t.jsxs("span",{className:"flex items-center gap-1.5 text-sm font-normal text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live"]})]}),t.jsxs("p",{className:"text-gray-500",children:["Real-time editor availability  Last updated: ",x.toLocaleTimeString()]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("button",{onClick:()=>m(!j),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${j?"bg-green-50 border-green-200 text-green-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[t.jsx(zt,{className:`w-3 h-3 ${j?"fill-green-500 text-green-500":"text-gray-400"}`}),j?"Live Updates On":"Live Updates Off"]})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(Ce,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.totalEditors}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total Editors"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(In,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.onlineEditors}),t.jsx("p",{className:"text-sm text-gray-500",children:"Online Now"})]})]})}),t.jsx("div",{className:"bg-green-50 rounded-xl border border-green-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(J,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-700",children:w.availableEditors}),t.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Available for Work"})]})]})}),t.jsx("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(jr,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-blue-700",children:w.lightLoadEditors}),t.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Light Workload"})]})]})})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Group Workload"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(N=>t.jsx(Jb,{group:N},N.id))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Editor Status",t.jsx("span",{className:"ml-2 text-sm font-normal text-gray-500",children:"(sorted by availability - assign work to those at the top)"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:d,onChange:N=>p(N.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Groups"}),i.map(N=>t.jsx("option",{value:N.id,children:N.name},N.id))]}),t.jsxs("select",{value:y,onChange:N=>b(N.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"online",children:"Online Only"}),t.jsx("option",{value:"available",children:"Available"}),t.jsx("option",{value:"light",children:"Light Load"})]}),t.jsxs("select",{value:h,onChange:N=>g(N.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"workload",children:"Sort by Workload"}),t.jsx("option",{value:"name",children:"Sort by Name"}),t.jsx("option",{value:"group",children:"Sort by Group"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(N=>t.jsx(Kb,{editor:N},N.id))}),_.length===0&&t.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200",children:[t.jsx(Ce,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No editors match the filter"})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[t.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Assignment Tips"}),t.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Green (Available)"})," - No pending work, ready for new assignments"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Blue (Light Load)"})," - 1-5 pending items, can take more work"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Yellow (Normal)"})," - 6-15 pending items, moderate workload"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Red (Heavy Load)"})," - 15+ pending items, avoid assigning more"]})]})]})]})}function Zb({session:e}){const s=e.files_total>0?Math.round(e.files_copied/e.files_total*100):0,r=()=>e.status==="completed"?"border-green-200 bg-green-50":e.status==="early_removal"||s<25?"border-red-200 bg-red-50":s<75?"border-yellow-200 bg-yellow-50":"border-blue-200 bg-blue-50",n=()=>e.status==="completed"?t.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-xs font-medium",children:[t.jsx(J,{className:"w-3 h-3"})," Complete"]}):e.status==="early_removal"?t.jsxs("span",{className:"flex items-center gap-1 text-red-600 text-xs font-medium",children:[t.jsx(Ws,{className:"w-3 h-3"})," Early Removal!"]}):e.status==="active"?t.jsxs("span",{className:"flex items-center gap-1 text-blue-600 text-xs font-medium",children:[t.jsx(Tv,{className:"w-3 h-3 animate-spin"})," Copying"]}):t.jsx("span",{className:"text-gray-500 text-xs",children:e.status});return t.jsxs("div",{className:`rounded-xl border-2 p-4 transition-all ${r()}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:t.jsx(dt,{className:"w-5 h-5 text-gray-700"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:["Camera ",e.camera_number,e.sd_label||""]}),t.jsx("p",{className:"text-sm text-gray-500",children:e.event_name||"Unknown Event"})]})]}),n()]}),t.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-600",children:[t.jsx(Gt,{className:"w-4 h-4"}),t.jsx("span",{children:e.editor_name||"Unknown"}),t.jsx("span",{className:"text-gray-300",children:""}),t.jsx("span",{children:e.group_code||""})]}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[t.jsxs("span",{className:"text-gray-600",children:[e.files_copied," / ",e.files_total," files"]}),t.jsxs("span",{className:"font-medium",children:[s,"%"]})]}),t.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full transition-all duration-500 ${s===100?"bg-green-500":s<25?"bg-red-500":s<75?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${s}%`}})})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ve,{className:"w-3 h-3"}),"Started ",new Date(e.started_at).toLocaleTimeString()]}),e.files_pending>0&&t.jsxs("span",{className:"text-orange-600 font-medium",children:[e.files_pending," pending"]})]})]})}function ej({removal:e}){return t.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(G,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-red-900",children:"Early SD Removal"}),t.jsxs("p",{className:"text-sm text-red-700",children:["Camera ",e.camera_number,e.sd_label," - ",e.files_pending," files not copied"]}),t.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[e.editor_name,"  ",new Date(e.removed_at).toLocaleTimeString()]})]})]})})}function tj({camera:e}){const r=e.health_score>=80?{bg:"bg-green-50",border:"border-green-200",icon:"text-green-500"}:e.health_score>=50?{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-500"}:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500"};return t.jsxs("div",{className:`rounded-lg border ${r.border} ${r.bg} p-3 flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-3 h-3 fill-current ${r.icon}`}),t.jsxs("span",{className:"font-medium text-gray-900",children:["Camera ",e.camera_number]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("span",{className:"text-sm font-medium",children:[e.health_score,"%"]}),e.open_issues>0&&t.jsxs("span",{className:"ml-2 text-xs text-red-600",children:[e.open_issues," issues"]})]})]})}function sj(){const{activeEvent:e,isAdmin:s,isTeamLead:r,isGroupLeader:n}=de(),[a,l]=v.useState(!0),[i,o]=v.useState(new Date),[c,u]=v.useState(!0),[d,p]=v.useState({activeSessions:[],earlyRemovals:[],cameraHealth:[],stats:{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),y=v.useCallback(async()=>{try{if(!(e!=null&&e.id)){p({activeSessions:[],earlyRemovals:[],cameraHealth:[],stats:{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),u(!1);return}const b=await We.getLiveOperations(e.id);p({activeSessions:b.activeSessions||[],earlyRemovals:b.earlyRemovals||[],cameraHealth:b.cameraHealth||[],stats:b.stats||{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),o(new Date)}catch(b){console.error("Failed to fetch live operations:",b)}finally{u(!1)}},[e==null?void 0:e.id]);return v.useEffect(()=>{y()},[y]),v.useEffect(()=>{let b;return a&&(b=setInterval(y,3e3)),()=>{b&&clearInterval(b)}},[a,y]),c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[t.jsx(oe,{className:"w-7 h-7 text-blue-600"}),"Live Operations",a&&t.jsxs("span",{className:"flex items-center gap-1.5 text-sm font-normal text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live"]})]}),t.jsxs("p",{className:"text-gray-500",children:["Real-time SD sessions and camera activity  Updated: ",i.toLocaleTimeString()]}),e!=null&&e.name?t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Active event: ",t.jsx("span",{className:"font-medium text-blue-600",children:e.name})]}):null]}),t.jsxs("button",{onClick:()=>l(!a),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${a?"bg-green-50 border-green-200 text-green-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[a?t.jsx(qs,{className:"w-4 h-4"}):t.jsx(Dn,{className:"w-4 h-4"}),a?"Live Updates On":"Live Updates Off"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-sm text-amber-800",children:"You must activate an event before viewing live operations."}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-700",children:d.stats.totalActiveSessions}),t.jsx("div",{className:"text-sm text-blue-600",children:"Active Sessions"})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-green-700",children:d.stats.editorsOnline}),t.jsx("div",{className:"text-sm text-green-600",children:"Editors Online"})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-green-700",children:d.stats.camerasHealthy}),t.jsx("div",{className:"text-sm text-green-600",children:"Cameras Healthy"})]}),t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-yellow-700",children:d.stats.camerasAttention}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Need Attention"})]}),t.jsxs("div",{className:`rounded-xl p-4 text-center ${d.stats.earlyRemovalsToday>0?"bg-red-50 border border-red-200":"bg-gray-50 border border-gray-200"}`,children:[t.jsx("div",{className:`text-3xl font-bold ${d.stats.earlyRemovalsToday>0?"text-red-700":"text-gray-400"}`,children:d.stats.earlyRemovalsToday}),t.jsx("div",{className:`text-sm ${d.stats.earlyRemovalsToday>0?"text-red-600":"text-gray-500"}`,children:"Early Removals Today"})]})]}),d.earlyRemovals.length>0&&t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-semibold text-red-900 mb-3 flex items-center gap-2",children:[t.jsx(G,{className:"w-5 h-5"}),"Early Removal Warnings"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.earlyRemovals.map(b=>t.jsx(ej,{removal:b},b.id))})]}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(Y,{className:"w-5 h-5 text-blue-600"}),"Active SD Sessions",t.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",d.activeSessions.filter(b=>b.status==="active").length," active)"]})]}),d.activeSessions.length===0?t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[t.jsx(Y,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No active SD sessions"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Sessions will appear here when editors insert SD cards"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.activeSessions.map(b=>t.jsx(Zb,{session:b},b.id))})]}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(dt,{className:"w-5 h-5 text-gray-600"}),"Camera Health"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:d.cameraHealth.map(b=>t.jsx(tj,{camera:b},b.camera_number))}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Health based on issue frequency, severity, and resolution time"})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:t.jsxs("p",{className:"text-sm text-blue-700",children:[t.jsx("strong",{children:" Observation Only"}),"  This view is for monitoring. Problems should be addressed by contacting editors directly or through the Issues module."]})})]})}const Ns={VERIFIED_BACKUP:"verified_backup",EDITOR_STREAM:"editor_stream",QA_CACHE:"qa_cache",OFFLINE:"offline"};function rj({media:e,onClose:s,canDownload:r,onDownload:n,user:a}){var j,m,x;const[l,i]=v.useState(!1),[o,c]=v.useState(!1),[u,d]=v.useState(null),[p,y]=v.useState(!0);v.useEffect(()=>{(()=>{e.backup_verified&&e.backup_available?d({type:Ns.VERIFIED_BACKUP,label:"Verified Backup",icon:Y,color:"text-green-600",bgColor:"bg-green-50",url:e.backup_stream_url||e.preview_url}):e.editor_online&&e.local_available?d({type:Ns.EDITOR_STREAM,label:"Editor Stream (Live)",icon:qs,color:"text-blue-600",bgColor:"bg-blue-50",url:e.editor_stream_url||e.preview_url}):e.qa_cache_available?d({type:Ns.QA_CACHE,label:"QA Review Cache",icon:wt,color:"text-yellow-600",bgColor:"bg-yellow-50",url:e.qa_cache_url}):d({type:Ns.OFFLINE,label:"Source Offline",icon:Dn,color:"text-red-600",bgColor:"bg-red-50",url:null}),y(!1)})()},[e]);const b=async()=>{var f,k;if(!o)try{await((k=yt.logPlayback)==null?void 0:k.call(yt,e.media_id,{source:u==null?void 0:u.type,reason:((f=e.issues)==null?void 0:f.length)>0?"issue_review":"admin_oversight"})),c(!0)}catch(C){console.error("Failed to log playback:",C)}i(!0)},h=async()=>{var f;if(n){try{await((f=yt.logDownload)==null?void 0:f.call(yt,e.media_id,{source:u==null?void 0:u.type}))}catch(k){console.error("Failed to log download:",k)}n(e)}};if(!e)return null;const g=(u==null?void 0:u.icon)||Y;return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-5xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.filename}),t.jsx("p",{className:"text-sm text-gray-500",children:e.media_id})]}),u&&t.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${u.bgColor}`,children:[t.jsx(g,{className:`w-4 h-4 ${u.color}`}),t.jsxs("span",{className:`text-sm font-medium ${u.color}`,children:["Source: ",u.label]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[r&&(u==null?void 0:u.type)!==Ns.OFFLINE&&t.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(On,{className:"w-4 h-4"}),"Download"]}),r&&(u==null?void 0:u.type)!==Ns.OFFLINE&&t.jsxs("button",{onClick:()=>navigator.clipboard.writeText((u==null?void 0:u.url)||""),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Copy stream URL",children:[t.jsx(Pc,{className:"w-4 h-4"}),"Copy URL"]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Ee,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"flex-1 bg-black relative",children:p?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):(u==null?void 0:u.type)===Ns.OFFLINE?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Dn,{className:"w-20 h-20 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-xl font-medium",children:"Source Offline"}),t.jsx("p",{className:"text-sm mt-2",children:"Video is not currently available for playback"}),t.jsx("p",{className:"text-xs mt-4 text-gray-500",children:"Backup disk may be disconnected or editor is offline"})]})}):l?t.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:(u==null?void 0:u.url)||e.preview_url,onEnded:()=>i(!1),children:"Your browser does not support video playback."}):t.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[t.jsxs("button",{onClick:b,className:"flex items-center gap-3 px-8 py-4 bg-white/10 hover:bg-white/20 rounded-full transition-colors text-white",children:[t.jsx(Ml,{className:"w-8 h-8"}),t.jsx("span",{className:"text-lg font-medium",children:"Play Video"})]}),t.jsx("p",{className:"absolute bottom-8 text-white/60 text-sm",children:"Playback will be logged for audit purposes"})]})}),t.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Person"}),t.jsx("span",{className:"font-medium",children:e.full_name||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Bv,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Condition"}),t.jsx("span",{className:"font-medium",children:e.condition||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tp,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Region"}),t.jsx("span",{className:"font-medium",children:e.region||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dt,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Camera / SD"}),t.jsxs("span",{className:"font-medium",children:[e.camera_number||"?"," / ",e.sd_label||"?"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Bs,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Indexed"}),t.jsx("span",{className:"font-medium",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Gt,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Editor"}),t.jsx("span",{className:"font-medium",children:((j=e.editor)==null?void 0:j.name)||"N/A"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[((m=e.issues)==null?void 0:m.length)>0&&t.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-50 border border-red-200 rounded-full",children:[t.jsx(G,{className:"w-4 h-4 text-red-600"}),t.jsxs("span",{className:"text-sm text-red-700",children:[e.issues.length," Issue",e.issues.length>1?"s":""]})]}),t.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${e.backup_verified?"bg-green-50 border border-green-200":e.backup_pending?"bg-yellow-50 border border-yellow-200":"bg-gray-50 border border-gray-200"}`,children:[t.jsx(Y,{className:`w-4 h-4 ${e.backup_verified?"text-green-600":e.backup_pending?"text-yellow-600":"text-gray-600"}`}),t.jsx("span",{className:`text-sm ${e.backup_verified?"text-green-700":e.backup_pending?"text-yellow-700":"text-gray-700"}`,children:e.backup_verified?"Backup Verified":e.backup_pending?"Backup Pending":"No Backup"})]})]}),((x=e.issues)==null?void 0:x.length)>0&&t.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Issue Notes"}),e.issues.map((f,k)=>{var C;return t.jsxs("div",{className:"text-sm text-red-700",children:[t.jsxs("span",{className:"font-medium",children:[(C=f.type)==null?void 0:C.replace("_"," "),":"]})," ",f.description||"No description"]},k)})]})]}),t.jsx("div",{className:"px-4 py-2 bg-gray-100 border-t border-gray-200 text-center",children:t.jsxs("p",{className:"text-xs text-gray-500",children:[t.jsx(wt,{className:"w-3 h-3 inline mr-1"}),"All playback actions are logged for audit. User: ",a==null?void 0:a.name," (",a==null?void 0:a.role,")"]})})]})})}function nj(){const{user:e,activeEvent:s,isAdmin:r,isTeamLead:n,isGroupLeader:a,isQA:l,isQALead:i}=de(),[o,c]=v.useState([]),[u,d]=v.useState(!1),[p,y]=v.useState(null),[b,h]=v.useState(!1),g=r()||n(),j=l()||i(),m=a(),x=g,f=g,k=g,C=g||m,[_,w]=v.useState({full_name:"",age:"",condition:"",region:"",camera_number:"",sd_label:"",editor_id:"",group_id:"",issue_type:"",issue_status:"",backup_status:"",date_from:"",date_to:"",page:1}),[N,E]=v.useState({current_page:1,last_page:1,total:0}),A=async I=>{if(I==null||I.preventDefault(),!(s!=null&&s.id)){c([]),E({current_page:1,last_page:1,total:0}),h(!0);return}d(!0),h(!0);try{const O={};g?Object.entries(_).forEach(([Z,ue])=>{ue&&(O[Z]=ue)}):j?(_.issue_type&&(O.issue_type=_.issue_type),_.issue_status&&(O.issue_status=_.issue_status),_.camera_number&&(O.camera_number=_.camera_number),_.sd_label&&(O.sd_label=_.sd_label),O.has_issues=!0):m&&(_.issue_type&&(O.issue_type=_.issue_type),_.issue_status&&(O.issue_status=_.issue_status),_.camera_number&&(O.camera_number=_.camera_number),O.my_groups=!0),O.event_id=s.id;const V=await yt.search(O);c(V.data||[]),E({current_page:V.current_page||1,last_page:V.last_page||1,total:V.total||0})}catch(O){console.error("Search failed:",O)}finally{d(!1)}},S=async I=>{var O;if(x)try{const V=await((O=yt.getDownloadUrl)==null?void 0:O.call(yt,I.media_id));V!=null&&V.url?window.open(V.url,"_blank"):window.open(I.preview_url||I.backup_stream_url,"_blank")}catch(V){console.error("Download failed:",V)}},U=[{value:"no_audio",label:"No Audio"},{value:"low_audio",label:"Low Audio"},{value:"blurry",label:"Blurry Video"},{value:"shaky",label:"Shaky Video"},{value:"cut_interview",label:"Cut Interview"},{value:"filename_error",label:"Filename Error"},{value:"duplicate",label:"Duplicate"},{value:"other",label:"Other"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Search & Playback"}),t.jsx("p",{className:"text-gray-500",children:g?"Global search across all indexed media  find any video ever indexed":j?"Search videos with reported issues only":m?"Search issues within your groups":"Search indexed media"}),s!=null&&s.name?t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Active event: ",t.jsx("span",{className:"font-medium text-blue-600",children:s.name})]}):null]}),!(s!=null&&s.id)&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-sm text-amber-800",children:"You must activate an event before searching media."}),j&&t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 flex items-start gap-3",children:[t.jsx(Pr,{className:"w-5 h-5 text-purple-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-purple-800",children:"QA Search Restrictions"}),t.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"You can only search videos with reported issues. Search by name, condition, region, editor, or group is not available. This is enforced at API level."})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("form",{onSubmit:A,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[f&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Full Name"}),t.jsx("input",{type:"text",value:_.full_name,onChange:I=>w({..._,full_name:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Search by name..."})]}),f&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Age"}),t.jsx("input",{type:"number",value:_.age,onChange:I=>w({..._,age:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Age"})]}),C&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Condition"}),t.jsx("input",{type:"text",value:_.condition,onChange:I=>w({..._,condition:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Cripple"})]}),k&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Region"}),t.jsx("input",{type:"text",value:_.region,onChange:I=>w({..._,region:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Kisumu"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Camera Number"}),t.jsx("input",{type:"text",value:_.camera_number,onChange:I=>w({..._,camera_number:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 10"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"SD Card Label"}),t.jsx("input",{type:"text",value:_.sd_label,onChange:I=>w({..._,sd_label:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 10B"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Issue Type"}),t.jsxs("select",{value:_.issue_type,onChange:I=>w({..._,issue_type:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Types"}),U.map(I=>t.jsx("option",{value:I.value,children:I.label},I.value))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Issue Status"}),t.jsxs("select",{value:_.issue_status,onChange:I=>w({..._,issue_status:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Any Status"}),t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"acknowledged",children:"Acknowledged"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"})]})]}),g&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Backup Status"}),t.jsxs("select",{value:_.backup_status,onChange:I=>w({..._,backup_status:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Any Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"backed_up",children:"Backed Up"}),t.jsx("option",{value:"verified",children:"Verified"})]})]}),g&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"From Date"}),t.jsx("input",{type:"date",value:_.date_from,onChange:I=>w({..._,date_from:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"To Date"}),t.jsx("input",{type:"date",value:_.date_to,onChange:I=>w({..._,date_to:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[t.jsx("button",{type:"button",onClick:()=>w({full_name:"",age:"",condition:"",region:"",camera_number:"",sd_label:"",editor_id:"",group_id:"",issue_type:"",issue_status:"",backup_status:"",date_from:"",date_to:"",page:1}),className:"text-gray-600 hover:text-gray-800",children:"Clear Filters"}),t.jsxs("button",{type:"submit",disabled:u||!(s!=null&&s.id),className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[t.jsx(Wt,{className:"w-4 h-4"}),u?"Searching...":"Search"]})]})]})}),b&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:t.jsxs("h3",{className:"font-semibold text-gray-900",children:[N.total," Result",N.total!==1?"s":""," Found"]})}),u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.length===0?t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(xt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No videos found matching your search criteria"})]}):t.jsx("div",{className:"divide-y divide-gray-100",children:o.map(I=>{var O,V;return t.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center gap-4",children:[t.jsx("div",{className:"w-24 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:I.thumbnail_url?t.jsx("img",{src:I.thumbnail_url,alt:"",className:"w-full h-full object-cover"}):t.jsx(Lv,{className:"w-8 h-8 text-gray-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-medium text-gray-900 truncate",children:I.filename}),((O=I.issues)==null?void 0:O.length)>0&&t.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs font-medium",children:"Issue"}),t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${I.backup_verified?"bg-green-100 text-green-700":I.backup_pending?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:I.backup_verified?"Verified":I.backup_pending?"Pending":"No Backup"})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[g&&I.full_name&&t.jsx("span",{children:I.full_name}),t.jsxs("span",{children:["Camera ",I.camera_number||"?"]}),t.jsxs("span",{children:["SD ",I.sd_label||"?"]}),((V=I.editor)==null?void 0:V.name)&&t.jsxs("span",{children:["Editor: ",I.editor.name]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[I.backup_available&&t.jsx("span",{className:"flex items-center gap-1 text-green-600",children:t.jsx(Y,{className:"w-4 h-4"})}),I.editor_online&&t.jsx("span",{className:"flex items-center gap-1 text-blue-600",children:t.jsx(qs,{className:"w-4 h-4"})}),!I.backup_available&&!I.editor_online&&t.jsx("span",{className:"flex items-center gap-1 text-red-600",children:t.jsx(Dn,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>y(I),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[t.jsx(Ml,{className:"w-4 h-4"}),"Play"]}),x&&t.jsx("button",{onClick:()=>S(I),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Download",children:t.jsx(On,{className:"w-4 h-4"})})]})]},I.id)})}),N.last_page>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",N.current_page," of ",N.last_page]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{w({..._,page:N.current_page-1}),A()},disabled:N.current_page===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Previous"}),t.jsx("button",{onClick:()=>{w({..._,page:N.current_page+1}),A()},disabled:N.current_page===N.last_page,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Next"})]})]})]}),p&&t.jsx(rj,{media:p,onClose:()=>y(null),canDownload:x,onDownload:S,user:e})]})}function ae({children:e,roles:s}){const{user:r,loading:n,hasAnyRole:a}=de();return n?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?s&&!a(s)?t.jsx(ho,{to:"/"}):t.jsx(Kv,{children:e}):t.jsx(ho,{to:"/login"})}function aj(){return t.jsx(vv,{children:t.jsx(jv,{children:t.jsxs(If,{children:[t.jsxs(Ef,{children:[t.jsx(X,{path:"/login",element:t.jsx(Xv,{})}),t.jsx(X,{path:"/register",element:t.jsx(Zv,{})}),t.jsx(X,{path:"/forgot-password",element:t.jsx(eb,{})}),t.jsx(X,{path:"/reset-password",element:t.jsx(tb,{})}),t.jsx(X,{path:"/",element:t.jsx(ae,{children:t.jsx(db,{})})}),t.jsx(X,{path:"/analytics-dashboard",element:t.jsx(ae,{roles:["admin","team-lead","group-leader"],children:t.jsx(mb,{})})}),t.jsx(X,{path:"/live-operations",element:t.jsx(ae,{roles:["admin","team-lead","group-leader"],children:t.jsx(sj,{})})}),t.jsx(X,{path:"/events",element:t.jsx(ae,{roles:["admin","team-lead"],children:t.jsx(xb,{})})}),t.jsx(X,{path:"/groups",element:t.jsx(ae,{roles:["admin","team-lead","group-leader"],children:t.jsx(pb,{})})}),t.jsx(X,{path:"/cameras",element:t.jsx(ae,{roles:["admin","team-lead"],children:t.jsx(hb,{})})}),t.jsx(X,{path:"/search",element:t.jsx(ae,{roles:["admin","team-lead","group-leader","qa"],children:t.jsx(nj,{})})}),t.jsx(X,{path:"/media",element:t.jsx(ae,{roles:["admin","team-lead"],children:t.jsx(fb,{})})}),t.jsx(X,{path:"/quality-control",element:t.jsx(ae,{roles:["admin","team-lead","qa","group-leader"],children:t.jsx(yb,{})})}),t.jsx(X,{path:"/issues",element:t.jsx(ae,{roles:["admin","team-lead","group-leader","qa"],children:t.jsx(bb,{})})}),t.jsx(X,{path:"/healing-cases",element:t.jsx(ae,{roles:["admin","team-lead","group-leader"],children:t.jsx(jb,{})})}),t.jsx(X,{path:"/backups",element:t.jsx(ae,{roles:["admin","team-lead","backup"],children:t.jsx(Nb,{})})}),t.jsx(X,{path:"/storage-forecast",element:t.jsx(ae,{roles:["admin","team-lead","backup"],children:t.jsx(kb,{})})}),t.jsx(X,{path:"/data-protection",element:t.jsx(ae,{roles:["admin","team-lead"],children:t.jsx(Sb,{})})}),t.jsx(X,{path:"/users",element:t.jsx(ae,{roles:["admin","team-lead","group-leader","qa-lead","backup-lead"],children:t.jsx(Rb,{})})}),t.jsx(X,{path:"/approvals",element:t.jsx(ae,{roles:["admin","team-lead","group-leader"],children:t.jsx(Pb,{})})}),t.jsx(X,{path:"/audit-logs",element:t.jsx(ae,{roles:["admin"],children:t.jsx(Tb,{})})}),t.jsx(X,{path:"/settings",element:t.jsx(ae,{roles:["admin"],children:t.jsx(Mb,{})})}),t.jsx(X,{path:"/profile",element:t.jsx(ae,{children:t.jsx(Ob,{})})}),t.jsx(X,{path:"/notifications",element:t.jsx(ae,{children:t.jsx(Db,{})})}),t.jsx(X,{path:"/reports",element:t.jsx(ae,{roles:["admin","team-lead","group-leader"],children:t.jsx($b,{})})}),t.jsx(X,{path:"/shifts",element:t.jsx(ae,{roles:["admin","team-lead","group-leader"],children:t.jsx(Bb,{})})}),t.jsx(X,{path:"/activity-feed",element:t.jsx(ae,{roles:["admin","team-lead","group-leader"],children:t.jsx(qb,{})})}),t.jsx(X,{path:"/help",element:t.jsx(ae,{children:t.jsx(Qb,{})})}),t.jsx(X,{path:"/work-allocation",element:t.jsx(ae,{roles:["admin","team-lead","group-leader"],children:t.jsx(Xb,{})})}),t.jsx(X,{path:"*",element:t.jsx(ho,{to:"/"})})]}),t.jsx(Yv,{})]})})})}bi.createRoot(document.getElementById("root")).render(t.jsx(Po.StrictMode,{children:t.jsx(aj,{})}));
