function up(e,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const l=Object.getOwnPropertyDescriptor(a,n);l&&Object.defineProperty(e,n,l.get?l:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();function mp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lm={exports:{}},pl={},im={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),xp=Symbol.for("react.portal"),pp=Symbol.for("react.fragment"),hp=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),fp=Symbol.for("react.provider"),yp=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),bp=Symbol.for("react.suspense"),jp=Symbol.for("react.memo"),Np=Symbol.for("react.lazy"),ud=Symbol.iterator;function wp(e){return e===null||typeof e!="object"?null:(e=ud&&e[ud]||e["@@iterator"],typeof e=="function"?e:null)}var om={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cm=Object.assign,dm={};function Mr(e,s,r){this.props=e,this.context=s,this.refs=dm,this.updater=r||om}Mr.prototype.isReactComponent={};Mr.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};Mr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function um(){}um.prototype=Mr.prototype;function Ro(e,s,r){this.props=e,this.context=s,this.refs=dm,this.updater=r||om}var Po=Ro.prototype=new um;Po.constructor=Ro;cm(Po,Mr.prototype);Po.isPureReactComponent=!0;var md=Array.isArray,mm=Object.prototype.hasOwnProperty,Lo={current:null},xm={key:!0,ref:!0,__self:!0,__source:!0};function pm(e,s,r){var a,n={},l=null,i=null;if(s!=null)for(a in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)mm.call(s,a)&&!xm.hasOwnProperty(a)&&(n[a]=s[a]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];n.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:$a,type:e,key:l,ref:i,props:n,_owner:Lo.current}}function kp(e,s){return{$$typeof:$a,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function To(e){return typeof e=="object"&&e!==null&&e.$$typeof===$a}function _p(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var xd=/\/+/g;function Ul(e,s){return typeof e=="object"&&e!==null&&e.key!=null?_p(""+e.key):s.toString(36)}function jn(e,s,r,a,n){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case $a:case xp:i=!0}}if(i)return i=e,n=n(i),e=a===""?"."+Ul(i,0):a,md(n)?(r="",e!=null&&(r=e.replace(xd,"$&/")+"/"),jn(n,s,r,"",function(u){return u})):n!=null&&(To(n)&&(n=kp(n,r+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(xd,"$&/")+"/")+e)),s.push(n)),1;if(i=0,a=a===""?".":a+":",md(e))for(var o=0;o<e.length;o++){l=e[o];var c=a+Ul(l,o);i+=jn(l,s,r,c,n)}else if(c=wp(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=a+Ul(l,o++),i+=jn(l,s,r,c,n);else if(l==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function Ya(e,s,r){if(e==null)return e;var a=[],n=0;return jn(e,a,"","",function(l){return s.call(r,l,n++)}),a}function Sp(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Nn={transition:null},Cp={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Nn,ReactCurrentOwner:Lo};function hm(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Ya,forEach:function(e,s,r){Ya(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return Ya(e,function(){s++}),s},toArray:function(e){return Ya(e,function(s){return s})||[]},only:function(e){if(!To(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Mr;K.Fragment=pp;K.Profiler=gp;K.PureComponent=Ro;K.StrictMode=hp;K.Suspense=bp;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cp;K.act=hm;K.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=cm({},e.props),n=e.key,l=e.ref,i=e._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=Lo.current),s.key!==void 0&&(n=""+s.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in s)mm.call(s,c)&&!xm.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];a.children=o}return{$$typeof:$a,type:e.type,key:n,ref:l,props:a,_owner:i}};K.createContext=function(e){return e={$$typeof:yp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fp,_context:e},e.Consumer=e};K.createElement=pm;K.createFactory=function(e){var s=pm.bind(null,e);return s.type=e,s};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:vp,render:e}};K.isValidElement=To;K.lazy=function(e){return{$$typeof:Np,_payload:{_status:-1,_result:e},_init:Sp}};K.memo=function(e,s){return{$$typeof:jp,type:e,compare:s===void 0?null:s}};K.startTransition=function(e){var s=Nn.transition;Nn.transition={};try{e()}finally{Nn.transition=s}};K.unstable_act=hm;K.useCallback=function(e,s){return He.current.useCallback(e,s)};K.useContext=function(e){return He.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return He.current.useDeferredValue(e)};K.useEffect=function(e,s){return He.current.useEffect(e,s)};K.useId=function(){return He.current.useId()};K.useImperativeHandle=function(e,s,r){return He.current.useImperativeHandle(e,s,r)};K.useInsertionEffect=function(e,s){return He.current.useInsertionEffect(e,s)};K.useLayoutEffect=function(e,s){return He.current.useLayoutEffect(e,s)};K.useMemo=function(e,s){return He.current.useMemo(e,s)};K.useReducer=function(e,s,r){return He.current.useReducer(e,s,r)};K.useRef=function(e){return He.current.useRef(e)};K.useState=function(e){return He.current.useState(e)};K.useSyncExternalStore=function(e,s,r){return He.current.useSyncExternalStore(e,s,r)};K.useTransition=function(){return He.current.useTransition()};K.version="18.3.1";im.exports=K;var y=im.exports;const Mo=mp(y),Ep=up({__proto__:null,default:Mo},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=y,Rp=Symbol.for("react.element"),Pp=Symbol.for("react.fragment"),Lp=Object.prototype.hasOwnProperty,Tp=Ap.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mp={key:!0,ref:!0,__self:!0,__source:!0};function gm(e,s,r){var a,n={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(a in s)Lp.call(s,a)&&!Mp.hasOwnProperty(a)&&(n[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:Rp,type:e,key:l,ref:i,props:n,_owner:Tp.current}}pl.Fragment=Pp;pl.jsx=gm;pl.jsxs=gm;lm.exports=pl;var t=lm.exports,wi={},fm={exports:{}},lt={},ym={exports:{}},vm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s($,L){var O=$.length;$.push(L);e:for(;0<O;){var B=O-1>>>1,V=$[B];if(0<n(V,L))$[B]=L,$[O]=V,O=B;else break e}}function r($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var L=$[0],O=$.pop();if(O!==L){$[0]=O;e:for(var B=0,V=$.length,te=V>>>1;B<te;){var ne=2*(B+1)-1,qe=$[ne],Q=ne+1,Te=$[Q];if(0>n(qe,O))Q<V&&0>n(Te,qe)?($[B]=Te,$[Q]=O,B=Q):($[B]=qe,$[ne]=O,B=ne);else if(Q<V&&0>n(Te,O))$[B]=Te,$[Q]=O,B=Q;else break e}}return L}function n($,L){var O=$.sortIndex-L.sortIndex;return O!==0?O:$.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,x=null,v=3,b=!1,h=!1,g=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p($){for(var L=r(u);L!==null;){if(L.callback===null)a(u);else if(L.startTime<=$)a(u),L.sortIndex=L.expirationTime,s(c,L);else break;L=r(u)}}function j($){if(g=!1,p($),!h)if(r(c)!==null)h=!0,W(S);else{var L=r(u);L!==null&&ee(j,L.startTime-$)}}function S($,L){h=!1,g&&(g=!1,m(w),w=-1),b=!0;var O=v;try{for(p(L),x=r(c);x!==null&&(!(x.expirationTime>L)||$&&!E());){var B=x.callback;if(typeof B=="function"){x.callback=null,v=x.priorityLevel;var V=B(x.expirationTime<=L);L=e.unstable_now(),typeof V=="function"?x.callback=V:x===r(c)&&a(c),p(L)}else a(c);x=r(c)}if(x!==null)var te=!0;else{var ne=r(u);ne!==null&&ee(j,ne.startTime-L),te=!1}return te}finally{x=null,v=O,b=!1}}var _=!1,N=null,w=-1,C=5,R=-1;function E(){return!(e.unstable_now()-R<C)}function z(){if(N!==null){var $=e.unstable_now();R=$;var L=!0;try{L=N(!0,$)}finally{L?A():(_=!1,N=null)}}else _=!1}var A;if(typeof f=="function")A=function(){f(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,I=U.port2;U.port1.onmessage=z,A=function(){I.postMessage(null)}}else A=function(){k(z,0)};function W($){N=$,_||(_=!0,A())}function ee($,L){w=k(function(){$(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){h||b||(h=!0,W(S))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(v){case 1:case 2:case 3:var L=3;break;default:L=v}var O=v;v=L;try{return $()}finally{v=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,L){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var O=v;v=$;try{return L()}finally{v=O}},e.unstable_scheduleCallback=function($,L,O){var B=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?B+O:B):O=B,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=O+V,$={id:d++,callback:L,priorityLevel:$,startTime:O,expirationTime:V,sortIndex:-1},O>B?($.sortIndex=O,s(u,$),r(c)===null&&$===r(u)&&(g?(m(w),w=-1):g=!0,ee(j,O-B))):($.sortIndex=V,s(c,$),h||b||(h=!0,W(S))),$},e.unstable_shouldYield=E,e.unstable_wrapCallback=function($){var L=v;return function(){var O=v;v=L;try{return $.apply(this,arguments)}finally{v=O}}}})(vm);ym.exports=vm;var Op=ym.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=y,at=Op;function D(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bm=new Set,ha={};function Qs(e,s){wr(e,s),wr(e+"Capture",s)}function wr(e,s){for(ha[e]=s,e=0;e<s.length;e++)bm.add(s[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ki=Object.prototype.hasOwnProperty,Dp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pd={},hd={};function Fp(e){return ki.call(hd,e)?!0:ki.call(pd,e)?!1:Dp.test(e)?hd[e]=!0:(pd[e]=!0,!1)}function $p(e,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Up(e,s,r,a){if(s===null||typeof s>"u"||$p(e,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Ve(e,s,r,a,n,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];Le[s]=new Ve(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oo=/[\-:]([a-z])/g;function Io(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(Oo,Io);Le[s]=new Ve(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(Oo,Io);Le[s]=new Ve(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(Oo,Io);Le[s]=new Ve(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function Do(e,s,r,a){var n=Le.hasOwnProperty(s)?Le[s]:null;(n!==null?n.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(Up(s,r,n,a)&&(r=null),a||n===null?Fp(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(s=n.attributeName,a=n.attributeNamespace,r===null?e.removeAttribute(s):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?e.setAttributeNS(a,s,r):e.setAttribute(s,r))))}var Kt=Ip.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),sr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),Fo=Symbol.for("react.strict_mode"),_i=Symbol.for("react.profiler"),jm=Symbol.for("react.provider"),Nm=Symbol.for("react.context"),$o=Symbol.for("react.forward_ref"),Si=Symbol.for("react.suspense"),Ci=Symbol.for("react.suspense_list"),Uo=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),wm=Symbol.for("react.offscreen"),gd=Symbol.iterator;function Vr(e){return e===null||typeof e!="object"?null:(e=gd&&e[gd]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,zl;function ta(e){if(zl===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);zl=s&&s[1]||""}return`
`+zl+e}var Bl=!1;function Hl(e,s){if(!e||Bl)return"";Bl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(u){var a=u}Reflect.construct(e,[],s)}else{try{s.call()}catch(u){a=u}e.call(s.prototype)}else{try{throw Error()}catch(u){a=u}e()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),l=a.stack.split(`
`),i=n.length-1,o=l.length-1;1<=i&&0<=o&&n[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||n[i]!==l[o]){var c=`
`+n[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Bl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ta(e):""}function zp(e){switch(e.tag){case 5:return ta(e.type);case 16:return ta("Lazy");case 13:return ta("Suspense");case 19:return ta("SuspenseList");case 0:case 2:case 15:return e=Hl(e.type,!1),e;case 11:return e=Hl(e.type.render,!1),e;case 1:return e=Hl(e.type,!0),e;default:return""}}function Ei(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rr:return"Fragment";case sr:return"Portal";case _i:return"Profiler";case Fo:return"StrictMode";case Si:return"Suspense";case Ci:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nm:return(e.displayName||"Context")+".Consumer";case jm:return(e._context.displayName||"Context")+".Provider";case $o:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uo:return s=e.displayName||null,s!==null?s:Ei(e.type)||"Memo";case Yt:s=e._payload,e=e._init;try{return Ei(e(s))}catch{}}return null}function Bp(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ei(s);case 8:return s===Fo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ps(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function km(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Hp(e){var s=km(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),a=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,l=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return n.call(this)},set:function(i){a=""+i,l.call(this,i)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Za(e){e._valueTracker||(e._valueTracker=Hp(e))}function _m(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return e&&(a=km(e)?e.checked?"true":"false":e.value),e=a,e!==r?(s.setValue(e),!0):!1}function $n(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ai(e,s){var r=s.checked;return pe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function fd(e,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=ps(s.value!=null?s.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Sm(e,s){s=s.checked,s!=null&&Do(e,"checked",s,!1)}function Ri(e,s){Sm(e,s);var r=ps(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?Pi(e,s.type,r):s.hasOwnProperty("defaultValue")&&Pi(e,s.type,ps(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function yd(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Pi(e,s,r){(s!=="number"||$n(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sa=Array.isArray;function pr(e,s,r,a){if(e=e.options,s){s={};for(var n=0;n<r.length;n++)s["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=s.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+ps(r),s=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}s!==null||e[n].disabled||(s=e[n])}s!==null&&(s.selected=!0)}}function Li(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(D(91));return pe({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vd(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(D(92));if(sa(r)){if(1<r.length)throw Error(D(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:ps(r)}}function Cm(e,s){var r=ps(s.value),a=ps(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function bd(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function Em(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ti(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?Em(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var en,Am=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,n){MSApp.execUnsafeLocalFunction(function(){return e(s,r,a,n)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(en=en||document.createElement("div"),en.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=en.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ga(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var la={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vp=["Webkit","ms","Moz","O"];Object.keys(la).forEach(function(e){Vp.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),la[s]=la[e]})});function Rm(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||la.hasOwnProperty(e)&&la[e]?(""+s).trim():s+"px"}function Pm(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=Rm(r,s[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}var qp=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mi(e,s){if(s){if(qp[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(D(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(D(61))}if(s.style!=null&&typeof s.style!="object")throw Error(D(62))}}function Oi(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ii=null;function zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,hr=null,gr=null;function jd(e){if(e=Ba(e)){if(typeof Di!="function")throw Error(D(280));var s=e.stateNode;s&&(s=vl(s),Di(e.stateNode,e.type,s))}}function Lm(e){hr?gr?gr.push(e):gr=[e]:hr=e}function Tm(){if(hr){var e=hr,s=gr;if(gr=hr=null,jd(e),s)for(e=0;e<s.length;e++)jd(s[e])}}function Mm(e,s){return e(s)}function Om(){}var Vl=!1;function Im(e,s,r){if(Vl)return e(s,r);Vl=!0;try{return Mm(e,s,r)}finally{Vl=!1,(hr!==null||gr!==null)&&(Om(),Tm())}}function fa(e,s){var r=e.stateNode;if(r===null)return null;var a=vl(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,s,typeof r));return r}var Fi=!1;if(Bt)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Fi=!1}function Wp(e,s,r,a,n,l,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{s.apply(r,u)}catch(d){this.onError(d)}}var ia=!1,Un=null,zn=!1,$i=null,Gp={onError:function(e){ia=!0,Un=e}};function Qp(e,s,r,a,n,l,i,o,c){ia=!1,Un=null,Wp.apply(Gp,arguments)}function Kp(e,s,r,a,n,l,i,o,c){if(Qp.apply(this,arguments),ia){if(ia){var u=Un;ia=!1,Un=null}else throw Error(D(198));zn||(zn=!0,$i=u)}}function Ks(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function Dm(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Nd(e){if(Ks(e)!==e)throw Error(D(188))}function Jp(e){var s=e.alternate;if(!s){if(s=Ks(e),s===null)throw Error(D(188));return s!==e?null:e}for(var r=e,a=s;;){var n=r.return;if(n===null)break;var l=n.alternate;if(l===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===r)return Nd(n),e;if(l===a)return Nd(n),s;l=l.sibling}throw Error(D(188))}if(r.return!==a.return)r=n,a=l;else{for(var i=!1,o=n.child;o;){if(o===r){i=!0,r=n,a=l;break}if(o===a){i=!0,a=n,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,a=n;break}if(o===a){i=!0,a=l,r=n;break}o=o.sibling}if(!i)throw Error(D(189))}}if(r.alternate!==a)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:s}function Fm(e){return e=Jp(e),e!==null?$m(e):null}function $m(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$m(e);if(s!==null)return s;e=e.sibling}return null}var Um=at.unstable_scheduleCallback,wd=at.unstable_cancelCallback,Yp=at.unstable_shouldYield,Xp=at.unstable_requestPaint,fe=at.unstable_now,Zp=at.unstable_getCurrentPriorityLevel,Bo=at.unstable_ImmediatePriority,zm=at.unstable_UserBlockingPriority,Bn=at.unstable_NormalPriority,eh=at.unstable_LowPriority,Bm=at.unstable_IdlePriority,hl=null,Rt=null;function th(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(hl,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:ah,sh=Math.log,rh=Math.LN2;function ah(e){return e>>>=0,e===0?32:31-(sh(e)/rh|0)|0}var tn=64,sn=4194304;function ra(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hn(e,s){var r=e.pendingLanes;if(r===0)return 0;var a=0,n=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~n;o!==0?a=ra(o):(l&=i,l!==0&&(a=ra(l)))}else i=r&~n,i!==0?a=ra(i):l!==0&&(a=ra(l));if(a===0)return 0;if(s!==0&&s!==a&&!(s&n)&&(n=a&-a,l=s&-s,n>=l||n===16&&(l&4194240)!==0))return s;if(a&4&&(a|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=a;0<s;)r=31-bt(s),n=1<<r,a|=e[r],s&=~n;return a}function nh(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lh(e,s){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-bt(l),o=1<<i,c=n[i];c===-1?(!(o&r)||o&a)&&(n[i]=nh(o,s)):c<=s&&(e.expiredLanes|=o),l&=~o}}function Ui(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hm(){var e=tn;return tn<<=1,!(tn&4194240)&&(tn=64),e}function ql(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function Ua(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-bt(s),e[s]=r}function ih(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-bt(r),l=1<<n;s[n]=0,a[n]=-1,e[n]=-1,r&=~l}}function Ho(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var a=31-bt(r),n=1<<a;n&s|e[a]&s&&(e[a]|=s),r&=~n}}var se=0;function Vm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qm,Vo,Wm,Gm,Qm,zi=!1,rn=[],as=null,ns=null,ls=null,ya=new Map,va=new Map,Zt=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(e,s){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":ya.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(s.pointerId)}}function Wr(e,s,r,a,n,l){return e===null||e.nativeEvent!==l?(e={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:l,targetContainers:[n]},s!==null&&(s=Ba(s),s!==null&&Vo(s)),e):(e.eventSystemFlags|=a,s=e.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),e)}function ch(e,s,r,a,n){switch(s){case"focusin":return as=Wr(as,e,s,r,a,n),!0;case"dragenter":return ns=Wr(ns,e,s,r,a,n),!0;case"mouseover":return ls=Wr(ls,e,s,r,a,n),!0;case"pointerover":var l=n.pointerId;return ya.set(l,Wr(ya.get(l)||null,e,s,r,a,n)),!0;case"gotpointercapture":return l=n.pointerId,va.set(l,Wr(va.get(l)||null,e,s,r,a,n)),!0}return!1}function Km(e){var s=Es(e.target);if(s!==null){var r=Ks(s);if(r!==null){if(s=r.tag,s===13){if(s=Dm(r),s!==null){e.blockedOn=s,Qm(e.priority,function(){Wm(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wn(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=Bi(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Ii=a,r.target.dispatchEvent(a),Ii=null}else return s=Ba(r),s!==null&&Vo(s),e.blockedOn=r,!1;s.shift()}return!0}function _d(e,s,r){wn(e)&&r.delete(s)}function dh(){zi=!1,as!==null&&wn(as)&&(as=null),ns!==null&&wn(ns)&&(ns=null),ls!==null&&wn(ls)&&(ls=null),ya.forEach(_d),va.forEach(_d)}function Gr(e,s){e.blockedOn===s&&(e.blockedOn=null,zi||(zi=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,dh)))}function ba(e){function s(n){return Gr(n,e)}if(0<rn.length){Gr(rn[0],e);for(var r=1;r<rn.length;r++){var a=rn[r];a.blockedOn===e&&(a.blockedOn=null)}}for(as!==null&&Gr(as,e),ns!==null&&Gr(ns,e),ls!==null&&Gr(ls,e),ya.forEach(s),va.forEach(s),r=0;r<Zt.length;r++)a=Zt[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Zt.length&&(r=Zt[0],r.blockedOn===null);)Km(r),r.blockedOn===null&&Zt.shift()}var fr=Kt.ReactCurrentBatchConfig,Vn=!0;function uh(e,s,r,a){var n=se,l=fr.transition;fr.transition=null;try{se=1,qo(e,s,r,a)}finally{se=n,fr.transition=l}}function mh(e,s,r,a){var n=se,l=fr.transition;fr.transition=null;try{se=4,qo(e,s,r,a)}finally{se=n,fr.transition=l}}function qo(e,s,r,a){if(Vn){var n=Bi(e,s,r,a);if(n===null)ti(e,s,a,qn,r),kd(e,a);else if(ch(n,e,s,r,a))a.stopPropagation();else if(kd(e,a),s&4&&-1<oh.indexOf(e)){for(;n!==null;){var l=Ba(n);if(l!==null&&qm(l),l=Bi(e,s,r,a),l===null&&ti(e,s,a,qn,r),l===n)break;n=l}n!==null&&a.stopPropagation()}else ti(e,s,a,null,r)}}var qn=null;function Bi(e,s,r,a){if(qn=null,e=zo(a),e=Es(e),e!==null)if(s=Ks(e),s===null)e=null;else if(r=s.tag,r===13){if(e=Dm(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return qn=e,null}function Jm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zp()){case Bo:return 1;case zm:return 4;case Bn:case eh:return 16;case Bm:return 536870912;default:return 16}default:return 16}}var ts=null,Wo=null,kn=null;function Ym(){if(kn)return kn;var e,s=Wo,r=s.length,a,n="value"in ts?ts.value:ts.textContent,l=n.length;for(e=0;e<r&&s[e]===n[e];e++);var i=r-e;for(a=1;a<=i&&s[r-a]===n[l-a];a++);return kn=n.slice(e,1<a?1-a:void 0)}function _n(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function an(){return!0}function Sd(){return!1}function it(e){function s(r,a,n,l,i){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?an:Sd,this.isPropagationStopped=Sd,this}return pe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),s}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=it(Or),za=pe({},Or,{view:0,detail:0}),xh=it(za),Wl,Gl,Qr,gl=pe({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(Wl=e.screenX-Qr.screenX,Gl=e.screenY-Qr.screenY):Gl=Wl=0,Qr=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:Gl}}),Cd=it(gl),ph=pe({},gl,{dataTransfer:0}),hh=it(ph),gh=pe({},za,{relatedTarget:0}),Ql=it(gh),fh=pe({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),yh=it(fh),vh=pe({},Or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bh=it(vh),jh=pe({},Or,{data:0}),Ed=it(jh),Nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _h(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=kh[e])?!!s[e]:!1}function Qo(){return _h}var Sh=pe({},za,{key:function(e){if(e.key){var s=Nh[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=_n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(e){return e.type==="keypress"?_n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ch=it(Sh),Eh=pe({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=it(Eh),Ah=pe({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),Rh=it(Ah),Ph=pe({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lh=it(Ph),Th=pe({},gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mh=it(Th),Oh=[9,13,27,32],Ko=Bt&&"CompositionEvent"in window,oa=null;Bt&&"documentMode"in document&&(oa=document.documentMode);var Ih=Bt&&"TextEvent"in window&&!oa,Xm=Bt&&(!Ko||oa&&8<oa&&11>=oa),Rd=" ",Pd=!1;function Zm(e,s){switch(e){case"keyup":return Oh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ex(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function Dh(e,s){switch(e){case"compositionend":return ex(s);case"keypress":return s.which!==32?null:(Pd=!0,Rd);case"textInput":return e=s.data,e===Rd&&Pd?null:e;default:return null}}function Fh(e,s){if(ar)return e==="compositionend"||!Ko&&Zm(e,s)?(e=Ym(),kn=Wo=ts=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xm&&s.locale!=="ko"?null:s.data;default:return null}}var $h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!$h[e.type]:s==="textarea"}function tx(e,s,r,a){Lm(a),s=Wn(s,"onChange"),0<s.length&&(r=new Go("onChange","change",null,r,a),e.push({event:r,listeners:s}))}var ca=null,ja=null;function Uh(e){mx(e,0)}function fl(e){var s=ir(e);if(_m(s))return e}function zh(e,s){if(e==="change")return s}var sx=!1;if(Bt){var Kl;if(Bt){var Jl="oninput"in document;if(!Jl){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),Jl=typeof Td.oninput=="function"}Kl=Jl}else Kl=!1;sx=Kl&&(!document.documentMode||9<document.documentMode)}function Md(){ca&&(ca.detachEvent("onpropertychange",rx),ja=ca=null)}function rx(e){if(e.propertyName==="value"&&fl(ja)){var s=[];tx(s,ja,e,zo(e)),Im(Uh,s)}}function Bh(e,s,r){e==="focusin"?(Md(),ca=s,ja=r,ca.attachEvent("onpropertychange",rx)):e==="focusout"&&Md()}function Hh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(ja)}function Vh(e,s){if(e==="click")return fl(s)}function qh(e,s){if(e==="input"||e==="change")return fl(s)}function Wh(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var kt=typeof Object.is=="function"?Object.is:Wh;function Na(e,s){if(kt(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!ki.call(s,n)||!kt(e[n],s[n]))return!1}return!0}function Od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Id(e,s){var r=Od(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=s&&a>=s)return{node:r,offset:s-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Od(r)}}function ax(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?ax(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function nx(){for(var e=window,s=$n();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=$n(e.document)}return s}function Jo(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Gh(e){var s=nx(),r=e.focusedElem,a=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&ax(r.ownerDocument.documentElement,r)){if(a!==null&&Jo(r)){if(s=a.start,e=a.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,l=Math.min(a.start,n);a=a.end===void 0?l:Math.min(a.end,n),!e.extend&&l>a&&(n=a,a=l,l=n),n=Id(r,l);var i=Id(r,a);n&&i&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),e.removeAllRanges(),l>a?(e.addRange(s),e.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qh=Bt&&"documentMode"in document&&11>=document.documentMode,nr=null,Hi=null,da=null,Vi=!1;function Dd(e,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vi||nr==null||nr!==$n(a)||(a=nr,"selectionStart"in a&&Jo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),da&&Na(da,a)||(da=a,a=Wn(Hi,"onSelect"),0<a.length&&(s=new Go("onSelect","select",null,s,r),e.push({event:s,listeners:a}),s.target=nr)))}function nn(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var lr={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionend:nn("Transition","TransitionEnd")},Yl={},lx={};Bt&&(lx=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function yl(e){if(Yl[e])return Yl[e];if(!lr[e])return e;var s=lr[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in lx)return Yl[e]=s[r];return e}var ix=yl("animationend"),ox=yl("animationiteration"),cx=yl("animationstart"),dx=yl("transitionend"),ux=new Map,Fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(e,s){ux.set(e,s),Qs(s,[e])}for(var Xl=0;Xl<Fd.length;Xl++){var Zl=Fd[Xl],Kh=Zl.toLowerCase(),Jh=Zl[0].toUpperCase()+Zl.slice(1);fs(Kh,"on"+Jh)}fs(ix,"onAnimationEnd");fs(ox,"onAnimationIteration");fs(cx,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(dx,"onTransitionEnd");wr("onMouseEnter",["mouseout","mouseover"]);wr("onMouseLeave",["mouseout","mouseover"]);wr("onPointerEnter",["pointerout","pointerover"]);wr("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yh=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function $d(e,s,r){var a=e.type||"unknown-event";e.currentTarget=r,Kp(a,s,void 0,e),e.currentTarget=null}function mx(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var l=void 0;if(s)for(var i=a.length-1;0<=i;i--){var o=a[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==l&&n.isPropagationStopped())break e;$d(n,o,u),l=c}else for(i=0;i<a.length;i++){if(o=a[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==l&&n.isPropagationStopped())break e;$d(n,o,u),l=c}}}if(zn)throw e=$i,zn=!1,$i=null,e}function oe(e,s){var r=s[Ki];r===void 0&&(r=s[Ki]=new Set);var a=e+"__bubble";r.has(a)||(xx(s,e,2,!1),r.add(a))}function ei(e,s,r){var a=0;s&&(a|=4),xx(r,e,a,s)}var ln="_reactListening"+Math.random().toString(36).slice(2);function wa(e){if(!e[ln]){e[ln]=!0,bm.forEach(function(r){r!=="selectionchange"&&(Yh.has(r)||ei(r,!1,e),ei(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[ln]||(s[ln]=!0,ei("selectionchange",!1,s))}}function xx(e,s,r,a){switch(Jm(s)){case 1:var n=uh;break;case 4:n=mh;break;default:n=qo}r=n.bind(null,s,r,e),n=void 0,!Fi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(s,r,{capture:!0,passive:n}):e.addEventListener(s,r,!0):n!==void 0?e.addEventListener(s,r,{passive:n}):e.addEventListener(s,r,!1)}function ti(e,s,r,a,n){var l=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(i===4)for(i=a.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;i=i.return}for(;o!==null;){if(i=Es(o),i===null)return;if(c=i.tag,c===5||c===6){a=l=i;continue e}o=o.parentNode}}a=a.return}Im(function(){var u=l,d=zo(r),x=[];e:{var v=ux.get(e);if(v!==void 0){var b=Go,h=e;switch(e){case"keypress":if(_n(r)===0)break e;case"keydown":case"keyup":b=Ch;break;case"focusin":h="focus",b=Ql;break;case"focusout":h="blur",b=Ql;break;case"beforeblur":case"afterblur":b=Ql;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Rh;break;case ix:case ox:case cx:b=yh;break;case dx:b=Lh;break;case"scroll":b=xh;break;case"wheel":b=Mh;break;case"copy":case"cut":case"paste":b=bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Ad}var g=(s&4)!==0,k=!g&&e==="scroll",m=g?v!==null?v+"Capture":null:v;g=[];for(var f=u,p;f!==null;){p=f;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,m!==null&&(j=fa(f,m),j!=null&&g.push(ka(f,j,p)))),k)break;f=f.return}0<g.length&&(v=new b(v,h,null,r,d),x.push({event:v,listeners:g}))}}if(!(s&7)){e:{if(v=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",v&&r!==Ii&&(h=r.relatedTarget||r.fromElement)&&(Es(h)||h[Ht]))break e;if((b||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,b?(h=r.relatedTarget||r.toElement,b=u,h=h?Es(h):null,h!==null&&(k=Ks(h),h!==k||h.tag!==5&&h.tag!==6)&&(h=null)):(b=null,h=u),b!==h)){if(g=Cd,j="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ad,j="onPointerLeave",m="onPointerEnter",f="pointer"),k=b==null?v:ir(b),p=h==null?v:ir(h),v=new g(j,f+"leave",b,r,d),v.target=k,v.relatedTarget=p,j=null,Es(d)===u&&(g=new g(m,f+"enter",h,r,d),g.target=p,g.relatedTarget=k,j=g),k=j,b&&h)t:{for(g=b,m=h,f=0,p=g;p;p=er(p))f++;for(p=0,j=m;j;j=er(j))p++;for(;0<f-p;)g=er(g),f--;for(;0<p-f;)m=er(m),p--;for(;f--;){if(g===m||m!==null&&g===m.alternate)break t;g=er(g),m=er(m)}g=null}else g=null;b!==null&&Ud(x,v,b,g,!1),h!==null&&k!==null&&Ud(x,k,h,g,!0)}}e:{if(v=u?ir(u):window,b=v.nodeName&&v.nodeName.toLowerCase(),b==="select"||b==="input"&&v.type==="file")var S=zh;else if(Ld(v))if(sx)S=qh;else{S=Hh;var _=Bh}else(b=v.nodeName)&&b.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(S=Vh);if(S&&(S=S(e,u))){tx(x,S,r,d);break e}_&&_(e,v,u),e==="focusout"&&(_=v._wrapperState)&&_.controlled&&v.type==="number"&&Pi(v,"number",v.value)}switch(_=u?ir(u):window,e){case"focusin":(Ld(_)||_.contentEditable==="true")&&(nr=_,Hi=u,da=null);break;case"focusout":da=Hi=nr=null;break;case"mousedown":Vi=!0;break;case"contextmenu":case"mouseup":case"dragend":Vi=!1,Dd(x,r,d);break;case"selectionchange":if(Qh)break;case"keydown":case"keyup":Dd(x,r,d)}var N;if(Ko)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ar?Zm(e,r)&&(w="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(Xm&&r.locale!=="ko"&&(ar||w!=="onCompositionStart"?w==="onCompositionEnd"&&ar&&(N=Ym()):(ts=d,Wo="value"in ts?ts.value:ts.textContent,ar=!0)),_=Wn(u,w),0<_.length&&(w=new Ed(w,e,null,r,d),x.push({event:w,listeners:_}),N?w.data=N:(N=ex(r),N!==null&&(w.data=N)))),(N=Ih?Dh(e,r):Fh(e,r))&&(u=Wn(u,"onBeforeInput"),0<u.length&&(d=new Ed("onBeforeInput","beforeinput",null,r,d),x.push({event:d,listeners:u}),d.data=N))}mx(x,s)})}function ka(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Wn(e,s){for(var r=s+"Capture",a=[];e!==null;){var n=e,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=fa(e,r),l!=null&&a.unshift(ka(e,l,n)),l=fa(e,s),l!=null&&a.push(ka(e,l,n))),e=e.return}return a}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ud(e,s,r,a,n){for(var l=s._reactName,i=[];r!==null&&r!==a;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&u!==null&&(o=u,n?(c=fa(r,l),c!=null&&i.unshift(ka(r,c,o))):n||(c=fa(r,l),c!=null&&i.push(ka(r,c,o)))),r=r.return}i.length!==0&&e.push({event:s,listeners:i})}var Xh=/\r\n?/g,Zh=/\u0000|\uFFFD/g;function zd(e){return(typeof e=="string"?e:""+e).replace(Xh,`
`).replace(Zh,"")}function on(e,s,r){if(s=zd(s),zd(e)!==s&&r)throw Error(D(425))}function Gn(){}var qi=null,Wi=null;function Gi(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qi=typeof setTimeout=="function"?setTimeout:void 0,eg=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,tg=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(e){return Bd.resolve(null).then(e).catch(sg)}:Qi;function sg(e){setTimeout(function(){throw e})}function si(e,s){var r=s,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){e.removeChild(n),ba(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);ba(s)}function is(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Hd(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),At="__reactFiber$"+Ir,_a="__reactProps$"+Ir,Ht="__reactContainer$"+Ir,Ki="__reactEvents$"+Ir,rg="__reactListeners$"+Ir,ag="__reactHandles$"+Ir;function Es(e){var s=e[At];if(s)return s;for(var r=e.parentNode;r;){if(s=r[Ht]||r[At]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=Hd(e);e!==null;){if(r=e[At])return r;e=Hd(e)}return s}e=r,r=e.parentNode}return null}function Ba(e){return e=e[At]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function vl(e){return e[_a]||null}var Ji=[],or=-1;function ys(e){return{current:e}}function ce(e){0>or||(e.current=Ji[or],Ji[or]=null,or--)}function re(e,s){or++,Ji[or]=e.current,e.current=s}var hs={},Fe=ys(hs),Ke=ys(!1),Ds=hs;function kr(e,s){var r=e.type.contextTypes;if(!r)return hs;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in r)n[l]=s[l];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=n),n}function Je(e){return e=e.childContextTypes,e!=null}function Qn(){ce(Ke),ce(Fe)}function Vd(e,s,r){if(Fe.current!==hs)throw Error(D(168));re(Fe,s),re(Ke,r)}function px(e,s,r){var a=e.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in s))throw Error(D(108,Bp(e)||"Unknown",n));return pe({},r,a)}function Kn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,Ds=Fe.current,re(Fe,e),re(Ke,Ke.current),!0}function qd(e,s,r){var a=e.stateNode;if(!a)throw Error(D(169));r?(e=px(e,s,Ds),a.__reactInternalMemoizedMergedChildContext=e,ce(Ke),ce(Fe),re(Fe,e)):ce(Ke),re(Ke,r)}var It=null,bl=!1,ri=!1;function hx(e){It===null?It=[e]:It.push(e)}function ng(e){bl=!0,hx(e)}function vs(){if(!ri&&It!==null){ri=!0;var e=0,s=se;try{var r=It;for(se=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}It=null,bl=!1}catch(n){throw It!==null&&(It=It.slice(e+1)),Um(Bo,vs),n}finally{se=s,ri=!1}}return null}var cr=[],dr=0,Jn=null,Yn=0,ot=[],ct=0,Fs=null,Dt=1,Ft="";function _s(e,s){cr[dr++]=Yn,cr[dr++]=Jn,Jn=e,Yn=s}function gx(e,s,r){ot[ct++]=Dt,ot[ct++]=Ft,ot[ct++]=Fs,Fs=e;var a=Dt;e=Ft;var n=32-bt(a)-1;a&=~(1<<n),r+=1;var l=32-bt(s)+n;if(30<l){var i=n-n%5;l=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Dt=1<<32-bt(s)+n|r<<n|a,Ft=l+e}else Dt=1<<l|r<<n|a,Ft=e}function Yo(e){e.return!==null&&(_s(e,1),gx(e,1,0))}function Xo(e){for(;e===Jn;)Jn=cr[--dr],cr[dr]=null,Yn=cr[--dr],cr[dr]=null;for(;e===Fs;)Fs=ot[--ct],ot[ct]=null,Ft=ot[--ct],ot[ct]=null,Dt=ot[--ct],ot[ct]=null}var rt=null,tt=null,ue=!1,ft=null;function fx(e,s){var r=dt(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function Wd(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,rt=e,tt=is(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,rt=e,tt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Fs!==null?{id:Dt,overflow:Ft}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=dt(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,rt=e,tt=null,!0):!1;default:return!1}}function Yi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xi(e){if(ue){var s=tt;if(s){var r=s;if(!Wd(e,s)){if(Yi(e))throw Error(D(418));s=is(r.nextSibling);var a=rt;s&&Wd(e,s)?fx(a,r):(e.flags=e.flags&-4097|2,ue=!1,rt=e)}}else{if(Yi(e))throw Error(D(418));e.flags=e.flags&-4097|2,ue=!1,rt=e}}}function Gd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function cn(e){if(e!==rt)return!1;if(!ue)return Gd(e),ue=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Gi(e.type,e.memoizedProps)),s&&(s=tt)){if(Yi(e))throw yx(),Error(D(418));for(;s;)fx(e,s),s=is(s.nextSibling)}if(Gd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){tt=is(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}tt=null}}else tt=rt?is(e.stateNode.nextSibling):null;return!0}function yx(){for(var e=tt;e;)e=is(e.nextSibling)}function _r(){tt=rt=null,ue=!1}function Zo(e){ft===null?ft=[e]:ft.push(e)}var lg=Kt.ReactCurrentBatchConfig;function Kr(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var a=r.stateNode}if(!a)throw Error(D(147,e));var n=a,l=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var o=n.refs;i===null?delete o[l]:o[l]=i},s._stringRef=l,s)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function dn(e,s){throw e=Object.prototype.toString.call(s),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Qd(e){var s=e._init;return s(e._payload)}function vx(e){function s(m,f){if(e){var p=m.deletions;p===null?(m.deletions=[f],m.flags|=16):p.push(f)}}function r(m,f){if(!e)return null;for(;f!==null;)s(m,f),f=f.sibling;return null}function a(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function n(m,f){return m=us(m,f),m.index=0,m.sibling=null,m}function l(m,f,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<f?(m.flags|=2,f):p):(m.flags|=2,f)):(m.flags|=1048576,f)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,f,p,j){return f===null||f.tag!==6?(f=di(p,m.mode,j),f.return=m,f):(f=n(f,p),f.return=m,f)}function c(m,f,p,j){var S=p.type;return S===rr?d(m,f,p.props.children,j,p.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yt&&Qd(S)===f.type)?(j=n(f,p.props),j.ref=Kr(m,f,p),j.return=m,j):(j=Ln(p.type,p.key,p.props,null,m.mode,j),j.ref=Kr(m,f,p),j.return=m,j)}function u(m,f,p,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=ui(p,m.mode,j),f.return=m,f):(f=n(f,p.children||[]),f.return=m,f)}function d(m,f,p,j,S){return f===null||f.tag!==7?(f=Os(p,m.mode,j,S),f.return=m,f):(f=n(f,p),f.return=m,f)}function x(m,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=di(""+f,m.mode,p),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Xa:return p=Ln(f.type,f.key,f.props,null,m.mode,p),p.ref=Kr(m,null,f),p.return=m,p;case sr:return f=ui(f,m.mode,p),f.return=m,f;case Yt:var j=f._init;return x(m,j(f._payload),p)}if(sa(f)||Vr(f))return f=Os(f,m.mode,p,null),f.return=m,f;dn(m,f)}return null}function v(m,f,p,j){var S=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:o(m,f,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xa:return p.key===S?c(m,f,p,j):null;case sr:return p.key===S?u(m,f,p,j):null;case Yt:return S=p._init,v(m,f,S(p._payload),j)}if(sa(p)||Vr(p))return S!==null?null:d(m,f,p,j,null);dn(m,p)}return null}function b(m,f,p,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(p)||null,o(f,m,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Xa:return m=m.get(j.key===null?p:j.key)||null,c(f,m,j,S);case sr:return m=m.get(j.key===null?p:j.key)||null,u(f,m,j,S);case Yt:var _=j._init;return b(m,f,p,_(j._payload),S)}if(sa(j)||Vr(j))return m=m.get(p)||null,d(f,m,j,S,null);dn(f,j)}return null}function h(m,f,p,j){for(var S=null,_=null,N=f,w=f=0,C=null;N!==null&&w<p.length;w++){N.index>w?(C=N,N=null):C=N.sibling;var R=v(m,N,p[w],j);if(R===null){N===null&&(N=C);break}e&&N&&R.alternate===null&&s(m,N),f=l(R,f,w),_===null?S=R:_.sibling=R,_=R,N=C}if(w===p.length)return r(m,N),ue&&_s(m,w),S;if(N===null){for(;w<p.length;w++)N=x(m,p[w],j),N!==null&&(f=l(N,f,w),_===null?S=N:_.sibling=N,_=N);return ue&&_s(m,w),S}for(N=a(m,N);w<p.length;w++)C=b(N,m,w,p[w],j),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?w:C.key),f=l(C,f,w),_===null?S=C:_.sibling=C,_=C);return e&&N.forEach(function(E){return s(m,E)}),ue&&_s(m,w),S}function g(m,f,p,j){var S=Vr(p);if(typeof S!="function")throw Error(D(150));if(p=S.call(p),p==null)throw Error(D(151));for(var _=S=null,N=f,w=f=0,C=null,R=p.next();N!==null&&!R.done;w++,R=p.next()){N.index>w?(C=N,N=null):C=N.sibling;var E=v(m,N,R.value,j);if(E===null){N===null&&(N=C);break}e&&N&&E.alternate===null&&s(m,N),f=l(E,f,w),_===null?S=E:_.sibling=E,_=E,N=C}if(R.done)return r(m,N),ue&&_s(m,w),S;if(N===null){for(;!R.done;w++,R=p.next())R=x(m,R.value,j),R!==null&&(f=l(R,f,w),_===null?S=R:_.sibling=R,_=R);return ue&&_s(m,w),S}for(N=a(m,N);!R.done;w++,R=p.next())R=b(N,m,w,R.value,j),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?w:R.key),f=l(R,f,w),_===null?S=R:_.sibling=R,_=R);return e&&N.forEach(function(z){return s(m,z)}),ue&&_s(m,w),S}function k(m,f,p,j){if(typeof p=="object"&&p!==null&&p.type===rr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Xa:e:{for(var S=p.key,_=f;_!==null;){if(_.key===S){if(S=p.type,S===rr){if(_.tag===7){r(m,_.sibling),f=n(_,p.props.children),f.return=m,m=f;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yt&&Qd(S)===_.type){r(m,_.sibling),f=n(_,p.props),f.ref=Kr(m,_,p),f.return=m,m=f;break e}r(m,_);break}else s(m,_);_=_.sibling}p.type===rr?(f=Os(p.props.children,m.mode,j,p.key),f.return=m,m=f):(j=Ln(p.type,p.key,p.props,null,m.mode,j),j.ref=Kr(m,f,p),j.return=m,m=j)}return i(m);case sr:e:{for(_=p.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(m,f.sibling),f=n(f,p.children||[]),f.return=m,m=f;break e}else{r(m,f);break}else s(m,f);f=f.sibling}f=ui(p,m.mode,j),f.return=m,m=f}return i(m);case Yt:return _=p._init,k(m,f,_(p._payload),j)}if(sa(p))return h(m,f,p,j);if(Vr(p))return g(m,f,p,j);dn(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(m,f.sibling),f=n(f,p),f.return=m,m=f):(r(m,f),f=di(p,m.mode,j),f.return=m,m=f),i(m)):r(m,f)}return k}var Sr=vx(!0),bx=vx(!1),Xn=ys(null),Zn=null,ur=null,ec=null;function tc(){ec=ur=Zn=null}function sc(e){var s=Xn.current;ce(Xn),e._currentValue=s}function Zi(e,s,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),e===r)break;e=e.return}}function yr(e,s){Zn=e,ec=ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(Qe=!0),e.firstContext=null)}function mt(e){var s=e._currentValue;if(ec!==e)if(e={context:e,memoizedValue:s,next:null},ur===null){if(Zn===null)throw Error(D(308));ur=e,Zn.dependencies={lanes:0,firstContext:e}}else ur=ur.next=e;return s}var As=null;function rc(e){As===null?As=[e]:As.push(e)}function jx(e,s,r,a){var n=s.interleaved;return n===null?(r.next=r,rc(s)):(r.next=n.next,n.next=r),s.interleaved=r,Vt(e,a)}function Vt(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xt=!1;function ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nx(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function os(e,s,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,J&2){var n=a.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),a.pending=s,Vt(e,r)}return n=a.interleaved,n===null?(s.next=s,rc(a)):(s.next=n.next,n.next=s),a.interleaved=s,Vt(e,r)}function Sn(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Ho(e,r)}}function Kd(e,s){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?n=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?n=l=s:l=l.next=s}else n=l=s;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function el(e,s,r,a){var n=e.updateQueue;Xt=!1;var l=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?l=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(l!==null){var x=n.baseState;i=0,d=u=c=null,o=l;do{var v=o.lane,b=o.eventTime;if((a&v)===v){d!==null&&(d=d.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,g=o;switch(v=s,b=r,g.tag){case 1:if(h=g.payload,typeof h=="function"){x=h.call(b,x,v);break e}x=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,v=typeof h=="function"?h.call(b,x,v):h,v==null)break e;x=pe({},x,v);break e;case 2:Xt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=n.effects,v===null?n.effects=[o]:v.push(o))}else b={eventTime:b,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=b,c=x):d=d.next=b,i|=v;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;v=o,o=v.next,v.next=null,n.lastBaseUpdate=v,n.shared.pending=null}}while(!0);if(d===null&&(c=x),n.baseState=c,n.firstBaseUpdate=u,n.lastBaseUpdate=d,s=n.shared.interleaved,s!==null){n=s;do i|=n.lane,n=n.next;while(n!==s)}else l===null&&(n.shared.lanes=0);Us|=i,e.lanes=i,e.memoizedState=x}}function Jd(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var a=e[s],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(D(191,n));n.call(a)}}}var Ha={},Pt=ys(Ha),Sa=ys(Ha),Ca=ys(Ha);function Rs(e){if(e===Ha)throw Error(D(174));return e}function nc(e,s){switch(re(Ca,s),re(Sa,e),re(Pt,Ha),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ti(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=Ti(s,e)}ce(Pt),re(Pt,s)}function Cr(){ce(Pt),ce(Sa),ce(Ca)}function wx(e){Rs(Ca.current);var s=Rs(Pt.current),r=Ti(s,e.type);s!==r&&(re(Sa,e),re(Pt,r))}function lc(e){Sa.current===e&&(ce(Pt),ce(Sa))}var me=ys(0);function tl(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ai=[];function ic(){for(var e=0;e<ai.length;e++)ai[e]._workInProgressVersionPrimary=null;ai.length=0}var Cn=Kt.ReactCurrentDispatcher,ni=Kt.ReactCurrentBatchConfig,$s=0,xe=null,ke=null,Se=null,sl=!1,ua=!1,Ea=0,ig=0;function Me(){throw Error(D(321))}function oc(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!kt(e[r],s[r]))return!1;return!0}function cc(e,s,r,a,n,l){if($s=l,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Cn.current=e===null||e.memoizedState===null?ug:mg,e=r(a,n),ua){l=0;do{if(ua=!1,Ea=0,25<=l)throw Error(D(301));l+=1,Se=ke=null,s.updateQueue=null,Cn.current=xg,e=r(a,n)}while(ua)}if(Cn.current=rl,s=ke!==null&&ke.next!==null,$s=0,Se=ke=xe=null,sl=!1,s)throw Error(D(300));return e}function dc(){var e=Ea!==0;return Ea=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?xe.memoizedState=Se=e:Se=Se.next=e,Se}function xt(){if(ke===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var s=Se===null?xe.memoizedState:Se.next;if(s!==null)Se=s,ke=e;else{if(e===null)throw Error(D(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Se===null?xe.memoizedState=Se=e:Se=Se.next=e}return Se}function Aa(e,s){return typeof s=="function"?s(e):s}function li(e){var s=xt(),r=s.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var a=ke,n=a.baseQueue,l=r.pending;if(l!==null){if(n!==null){var i=n.next;n.next=l.next,l.next=i}a.baseQueue=n=l,r.pending=null}if(n!==null){l=n.next,a=a.baseState;var o=i=null,c=null,u=l;do{var d=u.lane;if(($s&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var x={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=x,i=a):c=c.next=x,xe.lanes|=d,Us|=d}u=u.next}while(u!==null&&u!==l);c===null?i=a:c.next=o,kt(a,s.memoizedState)||(Qe=!0),s.memoizedState=a,s.baseState=i,s.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){n=e;do l=n.lane,xe.lanes|=l,Us|=l,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function ii(e){var s=xt(),r=s.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,l=s.memoizedState;if(n!==null){r.pending=null;var i=n=n.next;do l=e(l,i.action),i=i.next;while(i!==n);kt(l,s.memoizedState)||(Qe=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,a]}function kx(){}function _x(e,s){var r=xe,a=xt(),n=s(),l=!kt(a.memoizedState,n);if(l&&(a.memoizedState=n,Qe=!0),a=a.queue,uc(Ex.bind(null,r,a,e),[e]),a.getSnapshot!==s||l||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,Ra(9,Cx.bind(null,r,a,n,s),void 0,null),Ee===null)throw Error(D(349));$s&30||Sx(r,s,n)}return n}function Sx(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=xe.updateQueue,s===null?(s={lastEffect:null,stores:null},xe.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function Cx(e,s,r,a){s.value=r,s.getSnapshot=a,Ax(s)&&Rx(e)}function Ex(e,s,r){return r(function(){Ax(s)&&Rx(e)})}function Ax(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!kt(e,r)}catch{return!0}}function Rx(e){var s=Vt(e,1);s!==null&&jt(s,e,1,-1)}function Yd(e){var s=Et();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},s.queue=e,e=e.dispatch=dg.bind(null,xe,e),[s.memoizedState,e]}function Ra(e,s,r,a){return e={tag:e,create:s,destroy:r,deps:a,next:null},s=xe.updateQueue,s===null?(s={lastEffect:null,stores:null},xe.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,s.lastEffect=e)),e}function Px(){return xt().memoizedState}function En(e,s,r,a){var n=Et();xe.flags|=e,n.memoizedState=Ra(1|s,r,void 0,a===void 0?null:a)}function jl(e,s,r,a){var n=xt();a=a===void 0?null:a;var l=void 0;if(ke!==null){var i=ke.memoizedState;if(l=i.destroy,a!==null&&oc(a,i.deps)){n.memoizedState=Ra(s,r,l,a);return}}xe.flags|=e,n.memoizedState=Ra(1|s,r,l,a)}function Xd(e,s){return En(8390656,8,e,s)}function uc(e,s){return jl(2048,8,e,s)}function Lx(e,s){return jl(4,2,e,s)}function Tx(e,s){return jl(4,4,e,s)}function Mx(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Ox(e,s,r){return r=r!=null?r.concat([e]):null,jl(4,4,Mx.bind(null,s,e),r)}function mc(){}function Ix(e,s){var r=xt();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&oc(s,a[1])?a[0]:(r.memoizedState=[e,s],e)}function Dx(e,s){var r=xt();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&oc(s,a[1])?a[0]:(e=e(),r.memoizedState=[e,s],e)}function Fx(e,s,r){return $s&21?(kt(r,s)||(r=Hm(),xe.lanes|=r,Us|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=r)}function og(e,s){var r=se;se=r!==0&&4>r?r:4,e(!0);var a=ni.transition;ni.transition={};try{e(!1),s()}finally{se=r,ni.transition=a}}function $x(){return xt().memoizedState}function cg(e,s,r){var a=ds(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Ux(e))zx(s,r);else if(r=jx(e,s,r,a),r!==null){var n=Ue();jt(r,e,a,n),Bx(r,s,a)}}function dg(e,s,r){var a=ds(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ux(e))zx(s,n);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,o=l(i,r);if(n.hasEagerState=!0,n.eagerState=o,kt(o,i)){var c=s.interleaved;c===null?(n.next=n,rc(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}r=jx(e,s,n,a),r!==null&&(n=Ue(),jt(r,e,a,n),Bx(r,s,a))}}function Ux(e){var s=e.alternate;return e===xe||s!==null&&s===xe}function zx(e,s){ua=sl=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function Bx(e,s,r){if(r&4194240){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Ho(e,r)}}var rl={readContext:mt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},ug={readContext:mt,useCallback:function(e,s){return Et().memoizedState=[e,s===void 0?null:s],e},useContext:mt,useEffect:Xd,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,En(4194308,4,Mx.bind(null,s,e),r)},useLayoutEffect:function(e,s){return En(4194308,4,e,s)},useInsertionEffect:function(e,s){return En(4,2,e,s)},useMemo:function(e,s){var r=Et();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var a=Et();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=cg.bind(null,xe,e),[a.memoizedState,e]},useRef:function(e){var s=Et();return e={current:e},s.memoizedState=e},useState:Yd,useDebugValue:mc,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Yd(!1),s=e[0];return e=og.bind(null,e[1]),Et().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var a=xe,n=Et();if(ue){if(r===void 0)throw Error(D(407));r=r()}else{if(r=s(),Ee===null)throw Error(D(349));$s&30||Sx(a,s,r)}n.memoizedState=r;var l={value:r,getSnapshot:s};return n.queue=l,Xd(Ex.bind(null,a,l,e),[e]),a.flags|=2048,Ra(9,Cx.bind(null,a,l,r,s),void 0,null),r},useId:function(){var e=Et(),s=Ee.identifierPrefix;if(ue){var r=Ft,a=Dt;r=(a&~(1<<32-bt(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=Ea++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=ig++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},mg={readContext:mt,useCallback:Ix,useContext:mt,useEffect:uc,useImperativeHandle:Ox,useInsertionEffect:Lx,useLayoutEffect:Tx,useMemo:Dx,useReducer:li,useRef:Px,useState:function(){return li(Aa)},useDebugValue:mc,useDeferredValue:function(e){var s=xt();return Fx(s,ke.memoizedState,e)},useTransition:function(){var e=li(Aa)[0],s=xt().memoizedState;return[e,s]},useMutableSource:kx,useSyncExternalStore:_x,useId:$x,unstable_isNewReconciler:!1},xg={readContext:mt,useCallback:Ix,useContext:mt,useEffect:uc,useImperativeHandle:Ox,useInsertionEffect:Lx,useLayoutEffect:Tx,useMemo:Dx,useReducer:ii,useRef:Px,useState:function(){return ii(Aa)},useDebugValue:mc,useDeferredValue:function(e){var s=xt();return ke===null?s.memoizedState=e:Fx(s,ke.memoizedState,e)},useTransition:function(){var e=ii(Aa)[0],s=xt().memoizedState;return[e,s]},useMutableSource:kx,useSyncExternalStore:_x,useId:$x,unstable_isNewReconciler:!1};function ht(e,s){if(e&&e.defaultProps){s=pe({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function eo(e,s,r,a){s=e.memoizedState,r=r(a,s),r=r==null?s:pe({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nl={isMounted:function(e){return(e=e._reactInternals)?Ks(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var a=Ue(),n=ds(e),l=Ut(a,n);l.payload=s,r!=null&&(l.callback=r),s=os(e,l,n),s!==null&&(jt(s,e,n,a),Sn(s,e,n))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var a=Ue(),n=ds(e),l=Ut(a,n);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=os(e,l,n),s!==null&&(jt(s,e,n,a),Sn(s,e,n))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=Ue(),a=ds(e),n=Ut(r,a);n.tag=2,s!=null&&(n.callback=s),s=os(e,n,a),s!==null&&(jt(s,e,a,r),Sn(s,e,a))}};function Zd(e,s,r,a,n,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,l,i):s.prototype&&s.prototype.isPureReactComponent?!Na(r,a)||!Na(n,l):!0}function Hx(e,s,r){var a=!1,n=hs,l=s.contextType;return typeof l=="object"&&l!==null?l=mt(l):(n=Je(s)?Ds:Fe.current,a=s.contextTypes,l=(a=a!=null)?kr(e,n):hs),s=new s(r,l),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Nl,e.stateNode=s,s._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=l),s}function eu(e,s,r,a){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==e&&Nl.enqueueReplaceState(s,s.state,null)}function to(e,s,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},ac(e);var l=s.contextType;typeof l=="object"&&l!==null?n.context=mt(l):(l=Je(s)?Ds:Fe.current,n.context=kr(e,l)),n.state=e.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(eo(e,s,l,r),n.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&Nl.enqueueReplaceState(n,n.state,null),el(e,r,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Er(e,s){try{var r="",a=s;do r+=zp(a),a=a.return;while(a);var n=r}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:s,stack:n,digest:null}}function oi(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function so(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var pg=typeof WeakMap=="function"?WeakMap:Map;function Vx(e,s,r){r=Ut(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){nl||(nl=!0,xo=a),so(e,s)},r}function qx(e,s,r){r=Ut(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=s.value;r.payload=function(){return a(n)},r.callback=function(){so(e,s)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){so(e,s),typeof a!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),r}function tu(e,s,r){var a=e.pingCache;if(a===null){a=e.pingCache=new pg;var n=new Set;a.set(s,n)}else n=a.get(s),n===void 0&&(n=new Set,a.set(s,n));n.has(r)||(n.add(r),e=Eg.bind(null,e,s,r),s.then(e,e))}function su(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function ru(e,s,r,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Ut(-1,1),s.tag=2,os(r,s,1))),r.lanes|=1),e)}var hg=Kt.ReactCurrentOwner,Qe=!1;function $e(e,s,r,a){s.child=e===null?bx(s,null,r,a):Sr(s,e.child,r,a)}function au(e,s,r,a,n){r=r.render;var l=s.ref;return yr(s,n),a=cc(e,s,r,a,l,n),r=dc(),e!==null&&!Qe?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,qt(e,s,n)):(ue&&r&&Yo(s),s.flags|=1,$e(e,s,a,n),s.child)}function nu(e,s,r,a,n){if(e===null){var l=r.type;return typeof l=="function"&&!bc(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,Wx(e,s,l,a,n)):(e=Ln(r.type,null,a,s,s.mode,n),e.ref=s.ref,e.return=s,s.child=e)}if(l=e.child,!(e.lanes&n)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Na,r(i,a)&&e.ref===s.ref)return qt(e,s,n)}return s.flags|=1,e=us(l,a),e.ref=s.ref,e.return=s,s.child=e}function Wx(e,s,r,a,n){if(e!==null){var l=e.memoizedProps;if(Na(l,a)&&e.ref===s.ref)if(Qe=!1,s.pendingProps=a=l,(e.lanes&n)!==0)e.flags&131072&&(Qe=!0);else return s.lanes=e.lanes,qt(e,s,n)}return ro(e,s,r,a,n)}function Gx(e,s,r){var a=s.pendingProps,n=a.children,l=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(xr,et),et|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,re(xr,et),et|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:r,re(xr,et),et|=a}else l!==null?(a=l.baseLanes|r,s.memoizedState=null):a=r,re(xr,et),et|=a;return $e(e,s,n,r),s.child}function Qx(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function ro(e,s,r,a,n){var l=Je(r)?Ds:Fe.current;return l=kr(s,l),yr(s,n),r=cc(e,s,r,a,l,n),a=dc(),e!==null&&!Qe?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,qt(e,s,n)):(ue&&a&&Yo(s),s.flags|=1,$e(e,s,r,n),s.child)}function lu(e,s,r,a,n){if(Je(r)){var l=!0;Kn(s)}else l=!1;if(yr(s,n),s.stateNode===null)An(e,s),Hx(s,r,a),to(s,r,a,n),a=!0;else if(e===null){var i=s.stateNode,o=s.memoizedProps;i.props=o;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=Je(r)?Ds:Fe.current,u=kr(s,u));var d=r.getDerivedStateFromProps,x=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==a||c!==u)&&eu(s,i,a,u),Xt=!1;var v=s.memoizedState;i.state=v,el(s,a,i,n),c=s.memoizedState,o!==a||v!==c||Ke.current||Xt?(typeof d=="function"&&(eo(s,r,d,a),c=s.memoizedState),(o=Xt||Zd(s,r,o,a,v,c,u))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),i.props=a,i.state=c,i.context=u,a=o):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{i=s.stateNode,Nx(e,s),o=s.memoizedProps,u=s.type===s.elementType?o:ht(s.type,o),i.props=u,x=s.pendingProps,v=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=mt(c):(c=Je(r)?Ds:Fe.current,c=kr(s,c));var b=r.getDerivedStateFromProps;(d=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==x||v!==c)&&eu(s,i,a,c),Xt=!1,v=s.memoizedState,i.state=v,el(s,a,i,n);var h=s.memoizedState;o!==x||v!==h||Ke.current||Xt?(typeof b=="function"&&(eo(s,r,b,a),h=s.memoizedState),(u=Xt||Zd(s,r,u,a,v,h,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,h,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=h),i.props=a,i.state=h,i.context=c,a=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(s.flags|=1024),a=!1)}return ao(e,s,r,a,l,n)}function ao(e,s,r,a,n,l){Qx(e,s);var i=(s.flags&128)!==0;if(!a&&!i)return n&&qd(s,r,!1),qt(e,s,l);a=s.stateNode,hg.current=s;var o=i&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,e!==null&&i?(s.child=Sr(s,e.child,null,l),s.child=Sr(s,null,o,l)):$e(e,s,o,l),s.memoizedState=a.state,n&&qd(s,r,!0),s.child}function Kx(e){var s=e.stateNode;s.pendingContext?Vd(e,s.pendingContext,s.pendingContext!==s.context):s.context&&Vd(e,s.context,!1),nc(e,s.containerInfo)}function iu(e,s,r,a,n){return _r(),Zo(n),s.flags|=256,$e(e,s,r,a),s.child}var no={dehydrated:null,treeContext:null,retryLane:0};function lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jx(e,s,r){var a=s.pendingProps,n=me.current,l=!1,i=(s.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(l=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),re(me,n&1),e===null)return Xi(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=a.children,e=a.fallback,l?(a=s.mode,l=s.child,i={mode:"hidden",children:i},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=_l(i,a,0,null),e=Os(e,a,r,null),l.return=s,e.return=s,l.sibling=e,s.child=l,s.child.memoizedState=lo(r),s.memoizedState=no,e):xc(s,i));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return gg(e,s,i,a,o,n,r);if(l){l=a.fallback,i=s.mode,n=e.child,o=n.sibling;var c={mode:"hidden",children:a.children};return!(i&1)&&s.child!==n?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=us(n,c),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?l=us(o,l):(l=Os(l,i,r,null),l.flags|=2),l.return=s,a.return=s,a.sibling=l,s.child=a,a=l,l=s.child,i=e.child.memoizedState,i=i===null?lo(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,s.memoizedState=no,a}return l=e.child,e=l.sibling,a=us(l,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=a,s.memoizedState=null,a}function xc(e,s){return s=_l({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function un(e,s,r,a){return a!==null&&Zo(a),Sr(s,e.child,null,r),e=xc(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function gg(e,s,r,a,n,l,i){if(r)return s.flags&256?(s.flags&=-257,a=oi(Error(D(422))),un(e,s,i,a)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(l=a.fallback,n=s.mode,a=_l({mode:"visible",children:a.children},n,0,null),l=Os(l,n,i,null),l.flags|=2,a.return=s,l.return=s,a.sibling=l,s.child=a,s.mode&1&&Sr(s,e.child,null,i),s.child.memoizedState=lo(i),s.memoizedState=no,l);if(!(s.mode&1))return un(e,s,i,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,l=Error(D(419)),a=oi(l,a,void 0),un(e,s,i,a)}if(o=(i&e.childLanes)!==0,Qe||o){if(a=Ee,a!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|i)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,Vt(e,n),jt(a,e,n,-1))}return vc(),a=oi(Error(D(421))),un(e,s,i,a)}return n.data==="$?"?(s.flags|=128,s.child=e.child,s=Ag.bind(null,e),n._reactRetry=s,null):(e=l.treeContext,tt=is(n.nextSibling),rt=s,ue=!0,ft=null,e!==null&&(ot[ct++]=Dt,ot[ct++]=Ft,ot[ct++]=Fs,Dt=e.id,Ft=e.overflow,Fs=s),s=xc(s,a.children),s.flags|=4096,s)}function ou(e,s,r){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s),Zi(e.return,s,r)}function ci(e,s,r,a,n){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=r,l.tailMode=n)}function Yx(e,s,r){var a=s.pendingProps,n=a.revealOrder,l=a.tail;if($e(e,s,a.children,r),a=me.current,a&2)a=a&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ou(e,r,s);else if(e.tag===19)ou(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(re(me,a),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(r=s.child,n=null;r!==null;)e=r.alternate,e!==null&&tl(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=s.child,s.child=null):(n=r.sibling,r.sibling=null),ci(s,!1,n,r,l);break;case"backwards":for(r=null,n=s.child,s.child=null;n!==null;){if(e=n.alternate,e!==null&&tl(e)===null){s.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}ci(s,!0,r,null,l);break;case"together":ci(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function An(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function qt(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),Us|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(D(153));if(s.child!==null){for(e=s.child,r=us(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=us(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function fg(e,s,r){switch(s.tag){case 3:Kx(s),_r();break;case 5:wx(s);break;case 1:Je(s.type)&&Kn(s);break;case 4:nc(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,n=s.memoizedProps.value;re(Xn,a._currentValue),a._currentValue=n;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(re(me,me.current&1),s.flags|=128,null):r&s.child.childLanes?Jx(e,s,r):(re(me,me.current&1),e=qt(e,s,r),e!==null?e.sibling:null);re(me,me.current&1);break;case 19:if(a=(r&s.childLanes)!==0,e.flags&128){if(a)return Yx(e,s,r);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),re(me,me.current),a)break;return null;case 22:case 23:return s.lanes=0,Gx(e,s,r)}return qt(e,s,r)}var Xx,io,Zx,e0;Xx=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};io=function(){};Zx=function(e,s,r,a){var n=e.memoizedProps;if(n!==a){e=s.stateNode,Rs(Pt.current);var l=null;switch(r){case"input":n=Ai(e,n),a=Ai(e,a),l=[];break;case"select":n=pe({},n,{value:void 0}),a=pe({},a,{value:void 0}),l=[];break;case"textarea":n=Li(e,n),a=Li(e,a),l=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Gn)}Mi(r,a);var i;r=null;for(u in n)if(!a.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var o=n[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ha.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in a){var c=a[u];if(o=n!=null?n[u]:void 0,a.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ha.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&oe("scroll",e),l||o===c||(l=[])):(l=l||[]).push(u,c))}r&&(l=l||[]).push("style",r);var u=l;(s.updateQueue=u)&&(s.flags|=4)}};e0=function(e,s,r,a){r!==a&&(s.flags|=4)};function Jr(e,s){if(!ue)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Oe(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(s)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,s}function yg(e,s,r){var a=s.pendingProps;switch(Xo(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(s),null;case 1:return Je(s.type)&&Qn(),Oe(s),null;case 3:return a=s.stateNode,Cr(),ce(Ke),ce(Fe),ic(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(cn(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ft!==null&&(go(ft),ft=null))),io(e,s),Oe(s),null;case 5:lc(s);var n=Rs(Ca.current);if(r=s.type,e!==null&&s.stateNode!=null)Zx(e,s,r,a,n),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(D(166));return Oe(s),null}if(e=Rs(Pt.current),cn(s)){a=s.stateNode,r=s.type;var l=s.memoizedProps;switch(a[At]=s,a[_a]=l,e=(s.mode&1)!==0,r){case"dialog":oe("cancel",a),oe("close",a);break;case"iframe":case"object":case"embed":oe("load",a);break;case"video":case"audio":for(n=0;n<aa.length;n++)oe(aa[n],a);break;case"source":oe("error",a);break;case"img":case"image":case"link":oe("error",a),oe("load",a);break;case"details":oe("toggle",a);break;case"input":fd(a,l),oe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},oe("invalid",a);break;case"textarea":vd(a,l),oe("invalid",a)}Mi(r,l),n=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?a.textContent!==o&&(l.suppressHydrationWarning!==!0&&on(a.textContent,o,e),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&on(a.textContent,o,e),n=["children",""+o]):ha.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&oe("scroll",a)}switch(r){case"input":Za(a),yd(a,l,!0);break;case"textarea":Za(a),bd(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=Gn)}a=n,s.updateQueue=a,a!==null&&(s.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Em(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=i.createElement(r,{is:a.is}):(e=i.createElement(r),r==="select"&&(i=e,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):e=i.createElementNS(e,r),e[At]=s,e[_a]=a,Xx(e,s,!1,!1),s.stateNode=e;e:{switch(i=Oi(r,a),r){case"dialog":oe("cancel",e),oe("close",e),n=a;break;case"iframe":case"object":case"embed":oe("load",e),n=a;break;case"video":case"audio":for(n=0;n<aa.length;n++)oe(aa[n],e);n=a;break;case"source":oe("error",e),n=a;break;case"img":case"image":case"link":oe("error",e),oe("load",e),n=a;break;case"details":oe("toggle",e),n=a;break;case"input":fd(e,a),n=Ai(e,a),oe("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=pe({},a,{value:void 0}),oe("invalid",e);break;case"textarea":vd(e,a),n=Li(e,a),oe("invalid",e);break;default:n=a}Mi(r,n),o=n;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Pm(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Am(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ga(e,c):typeof c=="number"&&ga(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ha.hasOwnProperty(l)?c!=null&&l==="onScroll"&&oe("scroll",e):c!=null&&Do(e,l,c,i))}switch(r){case"input":Za(e),yd(e,a,!1);break;case"textarea":Za(e),bd(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ps(a.value));break;case"select":e.multiple=!!a.multiple,l=a.value,l!=null?pr(e,!!a.multiple,l,!1):a.defaultValue!=null&&pr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Gn)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Oe(s),null;case 6:if(e&&s.stateNode!=null)e0(e,s,e.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(D(166));if(r=Rs(Ca.current),Rs(Pt.current),cn(s)){if(a=s.stateNode,r=s.memoizedProps,a[At]=s,(l=a.nodeValue!==r)&&(e=rt,e!==null))switch(e.tag){case 3:on(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&on(a.nodeValue,r,(e.mode&1)!==0)}l&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[At]=s,s.stateNode=a}return Oe(s),null;case 13:if(ce(me),a=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&tt!==null&&s.mode&1&&!(s.flags&128))yx(),_r(),s.flags|=98560,l=!1;else if(l=cn(s),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(D(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(D(317));l[At]=s}else _r(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Oe(s),l=!1}else ft!==null&&(go(ft),ft=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(e===null||me.current&1?_e===0&&(_e=3):vc())),s.updateQueue!==null&&(s.flags|=4),Oe(s),null);case 4:return Cr(),io(e,s),e===null&&wa(s.stateNode.containerInfo),Oe(s),null;case 10:return sc(s.type._context),Oe(s),null;case 17:return Je(s.type)&&Qn(),Oe(s),null;case 19:if(ce(me),l=s.memoizedState,l===null)return Oe(s),null;if(a=(s.flags&128)!==0,i=l.rendering,i===null)if(a)Jr(l,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(i=tl(e),i!==null){for(s.flags|=128,Jr(l,!1),a=i.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)l=r,e=a,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return re(me,me.current&1|2),s.child}e=e.sibling}l.tail!==null&&fe()>Ar&&(s.flags|=128,a=!0,Jr(l,!1),s.lanes=4194304)}else{if(!a)if(e=tl(i),e!==null){if(s.flags|=128,a=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Jr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ue)return Oe(s),null}else 2*fe()-l.renderingStartTime>Ar&&r!==1073741824&&(s.flags|=128,a=!0,Jr(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(r=l.last,r!==null?r.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=fe(),s.sibling=null,r=me.current,re(me,a?r&1|2:r&1),s):(Oe(s),null);case 22:case 23:return yc(),a=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?et&1073741824&&(Oe(s),s.subtreeFlags&6&&(s.flags|=8192)):Oe(s),null;case 24:return null;case 25:return null}throw Error(D(156,s.tag))}function vg(e,s){switch(Xo(s),s.tag){case 1:return Je(s.type)&&Qn(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Cr(),ce(Ke),ce(Fe),ic(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return lc(s),null;case 13:if(ce(me),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(D(340));_r()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return ce(me),null;case 4:return Cr(),null;case 10:return sc(s.type._context),null;case 22:case 23:return yc(),null;case 24:return null;default:return null}}var mn=!1,Ie=!1,bg=typeof WeakSet=="function"?WeakSet:Set,H=null;function mr(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){he(e,s,a)}else r.current=null}function oo(e,s,r){try{r()}catch(a){he(e,s,a)}}var cu=!1;function jg(e,s){if(qi=Vn,e=nx(),Jo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,u=0,d=0,x=e,v=null;t:for(;;){for(var b;x!==r||n!==0&&x.nodeType!==3||(o=i+n),x!==l||a!==0&&x.nodeType!==3||(c=i+a),x.nodeType===3&&(i+=x.nodeValue.length),(b=x.firstChild)!==null;)v=x,x=b;for(;;){if(x===e)break t;if(v===r&&++u===n&&(o=i),v===l&&++d===a&&(c=i),(b=x.nextSibling)!==null)break;x=v,v=x.parentNode}x=b}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wi={focusedElem:e,selectionRange:r},Vn=!1,H=s;H!==null;)if(s=H,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,H=e;else for(;H!==null;){s=H;try{var h=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,k=h.memoizedState,m=s.stateNode,f=m.getSnapshotBeforeUpdate(s.elementType===s.type?g:ht(s.type,g),k);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=s.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){he(s,s.return,j)}if(e=s.sibling,e!==null){e.return=s.return,H=e;break}H=s.return}return h=cu,cu=!1,h}function ma(e,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var l=n.destroy;n.destroy=void 0,l!==void 0&&oo(s,r,l)}n=n.next}while(n!==a)}}function wl(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function co(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function t0(e){var s=e.alternate;s!==null&&(e.alternate=null,t0(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[At],delete s[_a],delete s[Ki],delete s[rg],delete s[ag])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function s0(e){return e.tag===5||e.tag===3||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uo(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Gn));else if(a!==4&&(e=e.child,e!==null))for(uo(e,s,r),e=e.sibling;e!==null;)uo(e,s,r),e=e.sibling}function mo(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(mo(e,s,r),e=e.sibling;e!==null;)mo(e,s,r),e=e.sibling}var Re=null,gt=!1;function Jt(e,s,r){for(r=r.child;r!==null;)r0(e,s,r),r=r.sibling}function r0(e,s,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(hl,r)}catch{}switch(r.tag){case 5:Ie||mr(r,s);case 6:var a=Re,n=gt;Re=null,Jt(e,s,r),Re=a,gt=n,Re!==null&&(gt?(e=Re,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Re.removeChild(r.stateNode));break;case 18:Re!==null&&(gt?(e=Re,r=r.stateNode,e.nodeType===8?si(e.parentNode,r):e.nodeType===1&&si(e,r),ba(e)):si(Re,r.stateNode));break;case 4:a=Re,n=gt,Re=r.stateNode.containerInfo,gt=!0,Jt(e,s,r),Re=a,gt=n;break;case 0:case 11:case 14:case 15:if(!Ie&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var l=n,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&oo(r,s,i),n=n.next}while(n!==a)}Jt(e,s,r);break;case 1:if(!Ie&&(mr(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){he(r,s,o)}Jt(e,s,r);break;case 21:Jt(e,s,r);break;case 22:r.mode&1?(Ie=(a=Ie)||r.memoizedState!==null,Jt(e,s,r),Ie=a):Jt(e,s,r);break;default:Jt(e,s,r)}}function uu(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bg),s.forEach(function(a){var n=Rg.bind(null,e,a);r.has(a)||(r.add(a),a.then(n,n))})}}function pt(e,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var l=e,i=s,o=i;e:for(;o!==null;){switch(o.tag){case 5:Re=o.stateNode,gt=!1;break e;case 3:Re=o.stateNode.containerInfo,gt=!0;break e;case 4:Re=o.stateNode.containerInfo,gt=!0;break e}o=o.return}if(Re===null)throw Error(D(160));r0(l,i,n),Re=null,gt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(u){he(n,s,u)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)a0(s,e),s=s.sibling}function a0(e,s){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pt(s,e),St(e),a&4){try{ma(3,e,e.return),wl(3,e)}catch(g){he(e,e.return,g)}try{ma(5,e,e.return)}catch(g){he(e,e.return,g)}}break;case 1:pt(s,e),St(e),a&512&&r!==null&&mr(r,r.return);break;case 5:if(pt(s,e),St(e),a&512&&r!==null&&mr(r,r.return),e.flags&32){var n=e.stateNode;try{ga(n,"")}catch(g){he(e,e.return,g)}}if(a&4&&(n=e.stateNode,n!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Sm(n,l),Oi(o,i);var u=Oi(o,l);for(i=0;i<c.length;i+=2){var d=c[i],x=c[i+1];d==="style"?Pm(n,x):d==="dangerouslySetInnerHTML"?Am(n,x):d==="children"?ga(n,x):Do(n,d,x,u)}switch(o){case"input":Ri(n,l);break;case"textarea":Cm(n,l);break;case"select":var v=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var b=l.value;b!=null?pr(n,!!l.multiple,b,!1):v!==!!l.multiple&&(l.defaultValue!=null?pr(n,!!l.multiple,l.defaultValue,!0):pr(n,!!l.multiple,l.multiple?[]:"",!1))}n[_a]=l}catch(g){he(e,e.return,g)}}break;case 6:if(pt(s,e),St(e),a&4){if(e.stateNode===null)throw Error(D(162));n=e.stateNode,l=e.memoizedProps;try{n.nodeValue=l}catch(g){he(e,e.return,g)}}break;case 3:if(pt(s,e),St(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{ba(s.containerInfo)}catch(g){he(e,e.return,g)}break;case 4:pt(s,e),St(e);break;case 13:pt(s,e),St(e),n=e.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(gc=fe())),a&4&&uu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ie=(u=Ie)||d,pt(s,e),Ie=u):pt(s,e),St(e),a&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(x=H=d;H!==null;){switch(v=H,b=v.child,v.tag){case 0:case 11:case 14:case 15:ma(4,v,v.return);break;case 1:mr(v,v.return);var h=v.stateNode;if(typeof h.componentWillUnmount=="function"){a=v,r=v.return;try{s=a,h.props=s.memoizedProps,h.state=s.memoizedState,h.componentWillUnmount()}catch(g){he(a,r,g)}}break;case 5:mr(v,v.return);break;case 22:if(v.memoizedState!==null){xu(x);continue}}b!==null?(b.return=v,H=b):xu(x)}d=d.sibling}e:for(d=null,x=e;;){if(x.tag===5){if(d===null){d=x;try{n=x.stateNode,u?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=x.stateNode,c=x.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Rm("display",i))}catch(g){he(e,e.return,g)}}}else if(x.tag===6){if(d===null)try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(g){he(e,e.return,g)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;d===x&&(d=null),x=x.return}d===x&&(d=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:pt(s,e),St(e),a&4&&uu(e);break;case 21:break;default:pt(s,e),St(e)}}function St(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(s0(r)){var a=r;break e}r=r.return}throw Error(D(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(ga(n,""),a.flags&=-33);var l=du(e);mo(e,l,n);break;case 3:case 4:var i=a.stateNode.containerInfo,o=du(e);uo(e,o,i);break;default:throw Error(D(161))}}catch(c){he(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Ng(e,s,r){H=e,n0(e)}function n0(e,s,r){for(var a=(e.mode&1)!==0;H!==null;){var n=H,l=n.child;if(n.tag===22&&a){var i=n.memoizedState!==null||mn;if(!i){var o=n.alternate,c=o!==null&&o.memoizedState!==null||Ie;o=mn;var u=Ie;if(mn=i,(Ie=c)&&!u)for(H=n;H!==null;)i=H,c=i.child,i.tag===22&&i.memoizedState!==null?pu(n):c!==null?(c.return=i,H=c):pu(n);for(;l!==null;)H=l,n0(l),l=l.sibling;H=n,mn=o,Ie=u}mu(e)}else n.subtreeFlags&8772&&l!==null?(l.return=n,H=l):mu(e)}}function mu(e){for(;H!==null;){var s=H;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ie||wl(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!Ie)if(r===null)a.componentDidMount();else{var n=s.elementType===s.type?r.memoizedProps:ht(s.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&Jd(s,l,a);break;case 3:var i=s.updateQueue;if(i!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Jd(s,i,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var u=s.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var x=d.dehydrated;x!==null&&ba(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Ie||s.flags&512&&co(s)}catch(v){he(s,s.return,v)}}if(s===e){H=null;break}if(r=s.sibling,r!==null){r.return=s.return,H=r;break}H=s.return}}function xu(e){for(;H!==null;){var s=H;if(s===e){H=null;break}var r=s.sibling;if(r!==null){r.return=s.return,H=r;break}H=s.return}}function pu(e){for(;H!==null;){var s=H;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{wl(4,s)}catch(c){he(s,r,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var n=s.return;try{a.componentDidMount()}catch(c){he(s,n,c)}}var l=s.return;try{co(s)}catch(c){he(s,l,c)}break;case 5:var i=s.return;try{co(s)}catch(c){he(s,i,c)}}}catch(c){he(s,s.return,c)}if(s===e){H=null;break}var o=s.sibling;if(o!==null){o.return=s.return,H=o;break}H=s.return}}var wg=Math.ceil,al=Kt.ReactCurrentDispatcher,pc=Kt.ReactCurrentOwner,ut=Kt.ReactCurrentBatchConfig,J=0,Ee=null,je=null,Pe=0,et=0,xr=ys(0),_e=0,Pa=null,Us=0,kl=0,hc=0,xa=null,We=null,gc=0,Ar=1/0,Ot=null,nl=!1,xo=null,cs=null,xn=!1,ss=null,ll=0,pa=0,po=null,Rn=-1,Pn=0;function Ue(){return J&6?fe():Rn!==-1?Rn:Rn=fe()}function ds(e){return e.mode&1?J&2&&Pe!==0?Pe&-Pe:lg.transition!==null?(Pn===0&&(Pn=Hm()),Pn):(e=se,e!==0||(e=window.event,e=e===void 0?16:Jm(e.type)),e):1}function jt(e,s,r,a){if(50<pa)throw pa=0,po=null,Error(D(185));Ua(e,r,a),(!(J&2)||e!==Ee)&&(e===Ee&&(!(J&2)&&(kl|=r),_e===4&&es(e,Pe)),Ye(e,a),r===1&&J===0&&!(s.mode&1)&&(Ar=fe()+500,bl&&vs()))}function Ye(e,s){var r=e.callbackNode;lh(e,s);var a=Hn(e,e===Ee?Pe:0);if(a===0)r!==null&&wd(r),e.callbackNode=null,e.callbackPriority=0;else if(s=a&-a,e.callbackPriority!==s){if(r!=null&&wd(r),s===1)e.tag===0?ng(hu.bind(null,e)):hx(hu.bind(null,e)),tg(function(){!(J&6)&&vs()}),r=null;else{switch(Vm(a)){case 1:r=Bo;break;case 4:r=zm;break;case 16:r=Bn;break;case 536870912:r=Bm;break;default:r=Bn}r=x0(r,l0.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function l0(e,s){if(Rn=-1,Pn=0,J&6)throw Error(D(327));var r=e.callbackNode;if(vr()&&e.callbackNode!==r)return null;var a=Hn(e,e===Ee?Pe:0);if(a===0)return null;if(a&30||a&e.expiredLanes||s)s=il(e,a);else{s=a;var n=J;J|=2;var l=o0();(Ee!==e||Pe!==s)&&(Ot=null,Ar=fe()+500,Ms(e,s));do try{Sg();break}catch(o){i0(e,o)}while(!0);tc(),al.current=l,J=n,je!==null?s=0:(Ee=null,Pe=0,s=_e)}if(s!==0){if(s===2&&(n=Ui(e),n!==0&&(a=n,s=ho(e,n))),s===1)throw r=Pa,Ms(e,0),es(e,a),Ye(e,fe()),r;if(s===6)es(e,a);else{if(n=e.current.alternate,!(a&30)&&!kg(n)&&(s=il(e,a),s===2&&(l=Ui(e),l!==0&&(a=l,s=ho(e,l))),s===1))throw r=Pa,Ms(e,0),es(e,a),Ye(e,fe()),r;switch(e.finishedWork=n,e.finishedLanes=a,s){case 0:case 1:throw Error(D(345));case 2:Ss(e,We,Ot);break;case 3:if(es(e,a),(a&130023424)===a&&(s=gc+500-fe(),10<s)){if(Hn(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){Ue(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Qi(Ss.bind(null,e,We,Ot),s);break}Ss(e,We,Ot);break;case 4:if(es(e,a),(a&4194240)===a)break;for(s=e.eventTimes,n=-1;0<a;){var i=31-bt(a);l=1<<i,i=s[i],i>n&&(n=i),a&=~l}if(a=n,a=fe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*wg(a/1960))-a,10<a){e.timeoutHandle=Qi(Ss.bind(null,e,We,Ot),a);break}Ss(e,We,Ot);break;case 5:Ss(e,We,Ot);break;default:throw Error(D(329))}}}return Ye(e,fe()),e.callbackNode===r?l0.bind(null,e):null}function ho(e,s){var r=xa;return e.current.memoizedState.isDehydrated&&(Ms(e,s).flags|=256),e=il(e,s),e!==2&&(s=We,We=r,s!==null&&go(s)),e}function go(e){We===null?We=e:We.push.apply(We,e)}function kg(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],l=n.getSnapshot;n=n.value;try{if(!kt(l(),n))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function es(e,s){for(s&=~hc,s&=~kl,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-bt(s),a=1<<r;e[r]=-1,s&=~a}}function hu(e){if(J&6)throw Error(D(327));vr();var s=Hn(e,0);if(!(s&1))return Ye(e,fe()),null;var r=il(e,s);if(e.tag!==0&&r===2){var a=Ui(e);a!==0&&(s=a,r=ho(e,a))}if(r===1)throw r=Pa,Ms(e,0),es(e,s),Ye(e,fe()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Ss(e,We,Ot),Ye(e,fe()),null}function fc(e,s){var r=J;J|=1;try{return e(s)}finally{J=r,J===0&&(Ar=fe()+500,bl&&vs())}}function zs(e){ss!==null&&ss.tag===0&&!(J&6)&&vr();var s=J;J|=1;var r=ut.transition,a=se;try{if(ut.transition=null,se=1,e)return e()}finally{se=a,ut.transition=r,J=s,!(J&6)&&vs()}}function yc(){et=xr.current,ce(xr)}function Ms(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eg(r)),je!==null)for(r=je.return;r!==null;){var a=r;switch(Xo(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Qn();break;case 3:Cr(),ce(Ke),ce(Fe),ic();break;case 5:lc(a);break;case 4:Cr();break;case 13:ce(me);break;case 19:ce(me);break;case 10:sc(a.type._context);break;case 22:case 23:yc()}r=r.return}if(Ee=e,je=e=us(e.current,null),Pe=et=s,_e=0,Pa=null,hc=kl=Us=0,We=xa=null,As!==null){for(s=0;s<As.length;s++)if(r=As[s],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,l=r.pending;if(l!==null){var i=l.next;l.next=n,a.next=i}r.pending=a}As=null}return e}function i0(e,s){do{var r=je;try{if(tc(),Cn.current=rl,sl){for(var a=xe.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}sl=!1}if($s=0,Se=ke=xe=null,ua=!1,Ea=0,pc.current=null,r===null||r.return===null){_e=1,Pa=s,je=null;break}e:{var l=e,i=r.return,o=r,c=s;if(s=Pe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,x=d.tag;if(!(d.mode&1)&&(x===0||x===11||x===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var b=su(i);if(b!==null){b.flags&=-257,ru(b,i,o,l,s),b.mode&1&&tu(l,u,s),s=b,c=u;var h=s.updateQueue;if(h===null){var g=new Set;g.add(c),s.updateQueue=g}else h.add(c);break e}else{if(!(s&1)){tu(l,u,s),vc();break e}c=Error(D(426))}}else if(ue&&o.mode&1){var k=su(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),ru(k,i,o,l,s),Zo(Er(c,o));break e}}l=c=Er(c,o),_e!==4&&(_e=2),xa===null?xa=[l]:xa.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var m=Vx(l,c,s);Kd(l,m);break e;case 1:o=c;var f=l.type,p=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(cs===null||!cs.has(p)))){l.flags|=65536,s&=-s,l.lanes|=s;var j=qx(l,o,s);Kd(l,j);break e}}l=l.return}while(l!==null)}d0(r)}catch(S){s=S,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function o0(){var e=al.current;return al.current=rl,e===null?rl:e}function vc(){(_e===0||_e===3||_e===2)&&(_e=4),Ee===null||!(Us&268435455)&&!(kl&268435455)||es(Ee,Pe)}function il(e,s){var r=J;J|=2;var a=o0();(Ee!==e||Pe!==s)&&(Ot=null,Ms(e,s));do try{_g();break}catch(n){i0(e,n)}while(!0);if(tc(),J=r,al.current=a,je!==null)throw Error(D(261));return Ee=null,Pe=0,_e}function _g(){for(;je!==null;)c0(je)}function Sg(){for(;je!==null&&!Yp();)c0(je)}function c0(e){var s=m0(e.alternate,e,et);e.memoizedProps=e.pendingProps,s===null?d0(e):je=s,pc.current=null}function d0(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=vg(r,s),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,je=null;return}}else if(r=yg(r,s,et),r!==null){je=r;return}if(s=s.sibling,s!==null){je=s;return}je=s=e}while(s!==null);_e===0&&(_e=5)}function Ss(e,s,r){var a=se,n=ut.transition;try{ut.transition=null,se=1,Cg(e,s,r,a)}finally{ut.transition=n,se=a}return null}function Cg(e,s,r,a){do vr();while(ss!==null);if(J&6)throw Error(D(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(ih(e,l),e===Ee&&(je=Ee=null,Pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xn||(xn=!0,x0(Bn,function(){return vr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=ut.transition,ut.transition=null;var i=se;se=1;var o=J;J|=4,pc.current=null,jg(e,r),a0(r,e),Gh(Wi),Vn=!!qi,Wi=qi=null,e.current=r,Ng(r),Xp(),J=o,se=i,ut.transition=l}else e.current=r;if(xn&&(xn=!1,ss=e,ll=n),l=e.pendingLanes,l===0&&(cs=null),th(r.stateNode),Ye(e,fe()),s!==null)for(a=e.onRecoverableError,r=0;r<s.length;r++)n=s[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(nl)throw nl=!1,e=xo,xo=null,e;return ll&1&&e.tag!==0&&vr(),l=e.pendingLanes,l&1?e===po?pa++:(pa=0,po=e):pa=0,vs(),null}function vr(){if(ss!==null){var e=Vm(ll),s=ut.transition,r=se;try{if(ut.transition=null,se=16>e?16:e,ss===null)var a=!1;else{if(e=ss,ss=null,ll=0,J&6)throw Error(D(331));var n=J;for(J|=4,H=e.current;H!==null;){var l=H,i=l.child;if(H.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:ma(8,d,l)}var x=d.child;if(x!==null)x.return=d,H=x;else for(;H!==null;){d=H;var v=d.sibling,b=d.return;if(t0(d),d===u){H=null;break}if(v!==null){v.return=b,H=v;break}H=b}}}var h=l.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var k=g.sibling;g.sibling=null,g=k}while(g!==null)}}H=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,H=i;else e:for(;H!==null;){if(l=H,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ma(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,H=m;break e}H=l.return}}var f=e.current;for(H=f;H!==null;){i=H;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,H=p;else e:for(i=f;H!==null;){if(o=H,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:wl(9,o)}}catch(S){he(o,o.return,S)}if(o===i){H=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,H=j;break e}H=o.return}}if(J=n,vs(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(hl,e)}catch{}a=!0}return a}finally{se=r,ut.transition=s}}return!1}function gu(e,s,r){s=Er(r,s),s=Vx(e,s,1),e=os(e,s,1),s=Ue(),e!==null&&(Ua(e,1,s),Ye(e,s))}function he(e,s,r){if(e.tag===3)gu(e,e,r);else for(;s!==null;){if(s.tag===3){gu(s,e,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(cs===null||!cs.has(a))){e=Er(r,e),e=qx(s,e,1),s=os(s,e,1),e=Ue(),s!==null&&(Ua(s,1,e),Ye(s,e));break}}s=s.return}}function Eg(e,s,r){var a=e.pingCache;a!==null&&a.delete(s),s=Ue(),e.pingedLanes|=e.suspendedLanes&r,Ee===e&&(Pe&r)===r&&(_e===4||_e===3&&(Pe&130023424)===Pe&&500>fe()-gc?Ms(e,0):hc|=r),Ye(e,s)}function u0(e,s){s===0&&(e.mode&1?(s=sn,sn<<=1,!(sn&130023424)&&(sn=4194304)):s=1);var r=Ue();e=Vt(e,s),e!==null&&(Ua(e,s,r),Ye(e,r))}function Ag(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),u0(e,r)}function Rg(e,s){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(D(314))}a!==null&&a.delete(s),u0(e,r)}var m0;m0=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||Ke.current)Qe=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return Qe=!1,fg(e,s,r);Qe=!!(e.flags&131072)}else Qe=!1,ue&&s.flags&1048576&&gx(s,Yn,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;An(e,s),e=s.pendingProps;var n=kr(s,Fe.current);yr(s,r),n=cc(null,s,a,e,n,r);var l=dc();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Je(a)?(l=!0,Kn(s)):l=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,ac(s),n.updater=Nl,s.stateNode=n,n._reactInternals=s,to(s,a,e,r),s=ao(null,s,a,!0,l,r)):(s.tag=0,ue&&l&&Yo(s),$e(null,s,n,r),s=s.child),s;case 16:a=s.elementType;e:{switch(An(e,s),e=s.pendingProps,n=a._init,a=n(a._payload),s.type=a,n=s.tag=Lg(a),e=ht(a,e),n){case 0:s=ro(null,s,a,e,r);break e;case 1:s=lu(null,s,a,e,r);break e;case 11:s=au(null,s,a,e,r);break e;case 14:s=nu(null,s,a,ht(a.type,e),r);break e}throw Error(D(306,a,""))}return s;case 0:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ht(a,n),ro(e,s,a,n,r);case 1:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ht(a,n),lu(e,s,a,n,r);case 3:e:{if(Kx(s),e===null)throw Error(D(387));a=s.pendingProps,l=s.memoizedState,n=l.element,Nx(e,s),el(s,a,null,r);var i=s.memoizedState;if(a=i.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){n=Er(Error(D(423)),s),s=iu(e,s,a,r,n);break e}else if(a!==n){n=Er(Error(D(424)),s),s=iu(e,s,a,r,n);break e}else for(tt=is(s.stateNode.containerInfo.firstChild),rt=s,ue=!0,ft=null,r=bx(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_r(),a===n){s=qt(e,s,r);break e}$e(e,s,a,r)}s=s.child}return s;case 5:return wx(s),e===null&&Xi(s),a=s.type,n=s.pendingProps,l=e!==null?e.memoizedProps:null,i=n.children,Gi(a,n)?i=null:l!==null&&Gi(a,l)&&(s.flags|=32),Qx(e,s),$e(e,s,i,r),s.child;case 6:return e===null&&Xi(s),null;case 13:return Jx(e,s,r);case 4:return nc(s,s.stateNode.containerInfo),a=s.pendingProps,e===null?s.child=Sr(s,null,a,r):$e(e,s,a,r),s.child;case 11:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ht(a,n),au(e,s,a,n,r);case 7:return $e(e,s,s.pendingProps,r),s.child;case 8:return $e(e,s,s.pendingProps.children,r),s.child;case 12:return $e(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,n=s.pendingProps,l=s.memoizedProps,i=n.value,re(Xn,a._currentValue),a._currentValue=i,l!==null)if(kt(l.value,i)){if(l.children===n.children&&!Ke.current){s=qt(e,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(l.tag===1){c=Ut(-1,r&-r),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Zi(l.return,r,s),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(D(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Zi(i,r,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}$e(e,s,n.children,r),s=s.child}return s;case 9:return n=s.type,a=s.pendingProps.children,yr(s,r),n=mt(n),a=a(n),s.flags|=1,$e(e,s,a,r),s.child;case 14:return a=s.type,n=ht(a,s.pendingProps),n=ht(a.type,n),nu(e,s,a,n,r);case 15:return Wx(e,s,s.type,s.pendingProps,r);case 17:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ht(a,n),An(e,s),s.tag=1,Je(a)?(e=!0,Kn(s)):e=!1,yr(s,r),Hx(s,a,n),to(s,a,n,r),ao(null,s,a,!0,e,r);case 19:return Yx(e,s,r);case 22:return Gx(e,s,r)}throw Error(D(156,s.tag))};function x0(e,s){return Um(e,s)}function Pg(e,s,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,s,r,a){return new Pg(e,s,r,a)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lg(e){if(typeof e=="function")return bc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$o)return 11;if(e===Uo)return 14}return 2}function us(e,s){var r=e.alternate;return r===null?(r=dt(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ln(e,s,r,a,n,l){var i=2;if(a=e,typeof e=="function")bc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case rr:return Os(r.children,n,l,s);case Fo:i=8,n|=8;break;case _i:return e=dt(12,r,s,n|2),e.elementType=_i,e.lanes=l,e;case Si:return e=dt(13,r,s,n),e.elementType=Si,e.lanes=l,e;case Ci:return e=dt(19,r,s,n),e.elementType=Ci,e.lanes=l,e;case wm:return _l(r,n,l,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jm:i=10;break e;case Nm:i=9;break e;case $o:i=11;break e;case Uo:i=14;break e;case Yt:i=16,a=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return s=dt(i,r,s,n),s.elementType=e,s.type=a,s.lanes=l,s}function Os(e,s,r,a){return e=dt(7,e,a,s),e.lanes=r,e}function _l(e,s,r,a){return e=dt(22,e,a,s),e.elementType=wm,e.lanes=r,e.stateNode={isHidden:!1},e}function di(e,s,r){return e=dt(6,e,null,s),e.lanes=r,e}function ui(e,s,r){return s=dt(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function Tg(e,s,r,a,n){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function jc(e,s,r,a,n,l,i,o,c){return e=new Tg(e,s,r,o,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=dt(3,null,null,s),e.current=l,l.stateNode=e,l.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ac(l),e}function Mg(e,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:a==null?null:""+a,children:e,containerInfo:s,implementation:r}}function p0(e){if(!e)return hs;e=e._reactInternals;e:{if(Ks(e)!==e||e.tag!==1)throw Error(D(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Je(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(Je(r))return px(e,r,s)}return s}function h0(e,s,r,a,n,l,i,o,c){return e=jc(r,a,!0,e,n,l,i,o,c),e.context=p0(null),r=e.current,a=Ue(),n=ds(r),l=Ut(a,n),l.callback=s??null,os(r,l,n),e.current.lanes=n,Ua(e,n,a),Ye(e,a),e}function Sl(e,s,r,a){var n=s.current,l=Ue(),i=ds(n);return r=p0(r),s.context===null?s.context=r:s.pendingContext=r,s=Ut(l,i),s.payload={element:e},a=a===void 0?null:a,a!==null&&(s.callback=a),e=os(n,s,i),e!==null&&(jt(e,n,i,l),Sn(e,n,i)),i}function ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fu(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function Nc(e,s){fu(e,s),(e=e.alternate)&&fu(e,s)}function Og(){return null}var g0=typeof reportError=="function"?reportError:function(e){console.error(e)};function wc(e){this._internalRoot=e}Cl.prototype.render=wc.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(D(409));Sl(e,s,null,null)};Cl.prototype.unmount=wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;zs(function(){Sl(null,e,null,null)}),s[Ht]=null}};function Cl(e){this._internalRoot=e}Cl.prototype.unstable_scheduleHydration=function(e){if(e){var s=Gm();e={blockedOn:null,target:e,priority:s};for(var r=0;r<Zt.length&&s!==0&&s<Zt[r].priority;r++);Zt.splice(r,0,e),r===0&&Km(e)}};function kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yu(){}function Ig(e,s,r,a,n){if(n){if(typeof a=="function"){var l=a;a=function(){var u=ol(i);l.call(u)}}var i=h0(s,a,e,0,null,!1,!1,"",yu);return e._reactRootContainer=i,e[Ht]=i.current,wa(e.nodeType===8?e.parentNode:e),zs(),i}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var u=ol(c);o.call(u)}}var c=jc(e,0,!1,null,null,!1,!1,"",yu);return e._reactRootContainer=c,e[Ht]=c.current,wa(e.nodeType===8?e.parentNode:e),zs(function(){Sl(s,c,r,a)}),c}function Al(e,s,r,a,n){var l=r._reactRootContainer;if(l){var i=l;if(typeof n=="function"){var o=n;n=function(){var c=ol(i);o.call(c)}}Sl(s,i,e,n)}else i=Ig(r,s,e,n,a);return ol(i)}qm=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=ra(s.pendingLanes);r!==0&&(Ho(s,r|1),Ye(s,fe()),!(J&6)&&(Ar=fe()+500,vs()))}break;case 13:zs(function(){var a=Vt(e,1);if(a!==null){var n=Ue();jt(a,e,1,n)}}),Nc(e,1)}};Vo=function(e){if(e.tag===13){var s=Vt(e,134217728);if(s!==null){var r=Ue();jt(s,e,134217728,r)}Nc(e,134217728)}};Wm=function(e){if(e.tag===13){var s=ds(e),r=Vt(e,s);if(r!==null){var a=Ue();jt(r,e,s,a)}Nc(e,s)}};Gm=function(){return se};Qm=function(e,s){var r=se;try{return se=e,s()}finally{se=r}};Di=function(e,s,r){switch(s){case"input":if(Ri(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==e&&a.form===e.form){var n=vl(a);if(!n)throw Error(D(90));_m(a),Ri(a,n)}}}break;case"textarea":Cm(e,r);break;case"select":s=r.value,s!=null&&pr(e,!!r.multiple,s,!1)}};Mm=fc;Om=zs;var Dg={usingClientEntryPoint:!1,Events:[Ba,ir,vl,Lm,Tm,fc]},Yr={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fg={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fm(e),e===null?null:e.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||Og,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pn.isDisabled&&pn.supportsFiber)try{hl=pn.inject(Fg),Rt=pn}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dg;lt.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kc(s))throw Error(D(200));return Mg(e,s,null,r)};lt.createRoot=function(e,s){if(!kc(e))throw Error(D(299));var r=!1,a="",n=g0;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=jc(e,1,!1,null,null,r,!1,a,n),e[Ht]=s.current,wa(e.nodeType===8?e.parentNode:e),new wc(s)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Fm(s),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return zs(e)};lt.hydrate=function(e,s,r){if(!El(s))throw Error(D(200));return Al(null,e,s,!0,r)};lt.hydrateRoot=function(e,s,r){if(!kc(e))throw Error(D(405));var a=r!=null&&r.hydratedSources||null,n=!1,l="",i=g0;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),s=h0(s,null,e,1,r??null,n,!1,l,i),e[Ht]=s.current,wa(e),a)for(e=0;e<a.length;e++)r=a[e],n=r._getVersion,n=n(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,n]:s.mutableSourceEagerHydrationData.push(r,n);return new Cl(s)};lt.render=function(e,s,r){if(!El(s))throw Error(D(200));return Al(null,e,s,!1,r)};lt.unmountComponentAtNode=function(e){if(!El(e))throw Error(D(40));return e._reactRootContainer?(zs(function(){Al(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};lt.unstable_batchedUpdates=fc;lt.unstable_renderSubtreeIntoContainer=function(e,s,r,a){if(!El(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Al(e,s,r,!1,a)};lt.version="18.3.1-next-f1338f8080-20240426";function f0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f0)}catch(e){console.error(e)}}f0(),fm.exports=lt;var $g=fm.exports,vu=$g;wi.createRoot=vu.createRoot,wi.hydrateRoot=vu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},La.apply(this,arguments)}var rs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rs||(rs={}));const bu="popstate";function Ug(e){e===void 0&&(e={});function s(a,n){let{pathname:l,search:i,hash:o}=a.location;return fo("",{pathname:l,search:i,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:cl(n)}return Bg(s,r,null,e)}function ye(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function _c(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function zg(){return Math.random().toString(36).substr(2,8)}function ju(e,s){return{usr:e.state,key:e.key,idx:s}}function fo(e,s,r,a){return r===void 0&&(r=null),La({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?Dr(s):s,{state:r,key:s&&s.key||a||zg()})}function cl(e){let{pathname:s="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Dr(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(s.search=e.substr(a),e=e.substr(0,a)),e&&(s.pathname=e)}return s}function Bg(e,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:l=!1}=a,i=n.history,o=rs.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(La({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function x(){o=rs.Pop;let k=d(),m=k==null?null:k-u;u=k,c&&c({action:o,location:g.location,delta:m})}function v(k,m){o=rs.Push;let f=fo(g.location,k,m);u=d()+1;let p=ju(f,u),j=g.createHref(f);try{i.pushState(p,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;n.location.assign(j)}l&&c&&c({action:o,location:g.location,delta:1})}function b(k,m){o=rs.Replace;let f=fo(g.location,k,m);u=d();let p=ju(f,u),j=g.createHref(f);i.replaceState(p,"",j),l&&c&&c({action:o,location:g.location,delta:0})}function h(k){let m=n.location.origin!=="null"?n.location.origin:n.location.href,f=typeof k=="string"?k:cl(k);return f=f.replace(/ $/,"%20"),ye(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let g={get action(){return o},get location(){return e(n,i)},listen(k){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(bu,x),c=k,()=>{n.removeEventListener(bu,x),c=null}},createHref(k){return s(n,k)},createURL:h,encodeLocation(k){let m=h(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:v,replace:b,go(k){return i.go(k)}};return g}var Nu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nu||(Nu={}));function Hg(e,s,r){return r===void 0&&(r="/"),Vg(e,s,r)}function Vg(e,s,r,a){let n=typeof s=="string"?Dr(s):s,l=Sc(n.pathname||"/",r);if(l==null)return null;let i=y0(e);qg(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=rf(l);o=ef(i[c],u)}return o}function y0(e,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(ye(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=ms([a,c.relativePath]),d=r.concat(c);l.children&&l.children.length>0&&(ye(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),y0(l.children,s,d,u)),!(l.path==null&&!l.index)&&s.push({path:u,score:Xg(u,l.index),routesMeta:d})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))n(l,i);else for(let c of v0(l.path))n(l,i,c)}),s}function v0(e){let s=e.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return n?[l,""]:[l];let i=v0(a.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),n&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function qg(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:Zg(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Wg=/^:[\w-]+$/,Gg=3,Qg=2,Kg=1,Jg=10,Yg=-2,wu=e=>e==="*";function Xg(e,s){let r=e.split("/"),a=r.length;return r.some(wu)&&(a+=Yg),s&&(a+=Qg),r.filter(n=>!wu(n)).reduce((n,l)=>n+(Wg.test(l)?Gg:l===""?Kg:Jg),a)}function Zg(e,s){return e.length===s.length&&e.slice(0,-1).every((a,n)=>a===s[n])?e[e.length-1]-s[s.length-1]:0}function ef(e,s,r){let{routesMeta:a}=e,n={},l="/",i=[];for(let o=0;o<a.length;++o){let c=a[o],u=o===a.length-1,d=l==="/"?s:s.slice(l.length)||"/",x=tf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),v=c.route;if(!x)return null;Object.assign(n,x.params),i.push({params:n,pathname:ms([l,x.pathname]),pathnameBase:cf(ms([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=ms([l,x.pathnameBase]))}return i}function tf(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=sf(e.path,e.caseSensitive,e.end),n=s.match(r);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((u,d,x)=>{let{paramName:v,isOptional:b}=d;if(v==="*"){let g=o[x]||"";i=l.slice(0,l.length-g.length).replace(/(.)\/+$/,"$1")}const h=o[x];return b&&!h?u[v]=void 0:u[v]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:i,pattern:e}}function sf(e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),_c(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function rf(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return _c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function Sc(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const af=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nf=e=>af.test(e);function lf(e,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?Dr(e):e,l;if(r)if(nf(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),_c(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?l=ku(r.substring(1),"/"):l=ku(r,s)}else l=s;return{pathname:l,search:df(a),hash:uf(n)}}function ku(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function mi(e,s,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function of(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Cc(e,s){let r=of(e);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Ec(e,s,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Dr(e):(n=La({},e),ye(!n.pathname||!n.pathname.includes("?"),mi("?","pathname","search",n)),ye(!n.pathname||!n.pathname.includes("#"),mi("#","pathname","hash",n)),ye(!n.search||!n.search.includes("#"),mi("#","search","hash",n)));let l=e===""||n.pathname==="",i=l?"/":n.pathname,o;if(i==null)o=r;else{let x=s.length-1;if(!a&&i.startsWith("..")){let v=i.split("/");for(;v[0]==="..";)v.shift(),x-=1;n.pathname=v.join("/")}o=x>=0?s[x]:"/"}let c=lf(n,o),u=i&&i!=="/"&&i.endsWith("/"),d=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ms=e=>e.join("/").replace(/\/\/+/g,"/"),cf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),df=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uf=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const b0=["post","put","patch","delete"];new Set(b0);const xf=["get",...b0];new Set(xf);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ta.apply(this,arguments)}const Ac=y.createContext(null),pf=y.createContext(null),bs=y.createContext(null),Rl=y.createContext(null),js=y.createContext({outlet:null,matches:[],isDataRoute:!1}),j0=y.createContext(null);function hf(e,s){let{relative:r}=s===void 0?{}:s;Fr()||ye(!1);let{basename:a,navigator:n}=y.useContext(bs),{hash:l,pathname:i,search:o}=w0(e,{relative:r}),c=i;return a!=="/"&&(c=i==="/"?a:ms([a,i])),n.createHref({pathname:c,search:o,hash:l})}function Fr(){return y.useContext(Rl)!=null}function Js(){return Fr()||ye(!1),y.useContext(Rl).location}function N0(e){y.useContext(bs).static||y.useLayoutEffect(e)}function Ys(){let{isDataRoute:e}=y.useContext(js);return e?Ef():gf()}function gf(){Fr()||ye(!1);let e=y.useContext(Ac),{basename:s,future:r,navigator:a}=y.useContext(bs),{matches:n}=y.useContext(js),{pathname:l}=Js(),i=JSON.stringify(Cc(n,r.v7_relativeSplatPath)),o=y.useRef(!1);return N0(()=>{o.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){a.go(u);return}let x=Ec(u,JSON.parse(i),l,d.relative==="path");e==null&&s!=="/"&&(x.pathname=x.pathname==="/"?s:ms([s,x.pathname])),(d.replace?a.replace:a.push)(x,d.state,d)},[s,a,i,l,e])}function w0(e,s){let{relative:r}=s===void 0?{}:s,{future:a}=y.useContext(bs),{matches:n}=y.useContext(js),{pathname:l}=Js(),i=JSON.stringify(Cc(n,a.v7_relativeSplatPath));return y.useMemo(()=>Ec(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function ff(e,s){return yf(e,s)}function yf(e,s,r,a){Fr()||ye(!1);let{navigator:n}=y.useContext(bs),{matches:l}=y.useContext(js),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Js(),d;if(s){var x;let k=typeof s=="string"?Dr(s):s;c==="/"||(x=k.pathname)!=null&&x.startsWith(c)||ye(!1),d=k}else d=u;let v=d.pathname||"/",b=v;if(c!=="/"){let k=c.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let h=Hg(e,{pathname:b}),g=wf(h&&h.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:ms([c,n.encodeLocation?n.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:ms([c,n.encodeLocation?n.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,r,a);return s&&g?y.createElement(Rl.Provider,{value:{location:Ta({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:rs.Pop}},g):g}function vf(){let e=Cf(),s=mf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},s),r?y.createElement("pre",{style:n},r):null,null)}const bf=y.createElement(vf,null);class jf extends y.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?y.createElement(js.Provider,{value:this.props.routeContext},y.createElement(j0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nf(e){let{routeContext:s,match:r,children:a}=e,n=y.useContext(Ac);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(js.Provider,{value:s},a)}function wf(e,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=a)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(n=r)==null?void 0:n.errors;if(o!=null){let d=i.findIndex(x=>x.route.id&&(o==null?void 0:o[x.route.id])!==void 0);d>=0||ye(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let d=0;d<i.length;d++){let x=i[d];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(u=d),x.route.id){let{loaderData:v,errors:b}=r,h=x.route.loader&&v[x.route.id]===void 0&&(!b||b[x.route.id]===void 0);if(x.route.lazy||h){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,x,v)=>{let b,h=!1,g=null,k=null;r&&(b=o&&x.route.id?o[x.route.id]:void 0,g=x.route.errorElement||bf,c&&(u<0&&v===0?(Af("route-fallback"),h=!0,k=null):u===v&&(h=!0,k=x.route.hydrateFallbackElement||null)));let m=s.concat(i.slice(0,v+1)),f=()=>{let p;return b?p=g:h?p=k:x.route.Component?p=y.createElement(x.route.Component,null):x.route.element?p=x.route.element:p=d,y.createElement(Nf,{match:x,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:p})};return r&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?y.createElement(jf,{location:r.location,revalidation:r.revalidation,component:g,error:b,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var k0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k0||{}),_0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_0||{});function kf(e){let s=y.useContext(Ac);return s||ye(!1),s}function _f(e){let s=y.useContext(pf);return s||ye(!1),s}function Sf(e){let s=y.useContext(js);return s||ye(!1),s}function S0(e){let s=Sf(),r=s.matches[s.matches.length-1];return r.route.id||ye(!1),r.route.id}function Cf(){var e;let s=y.useContext(j0),r=_f(),a=S0();return s!==void 0?s:(e=r.errors)==null?void 0:e[a]}function Ef(){let{router:e}=kf(k0.UseNavigateStable),s=S0(_0.UseNavigateStable),r=y.useRef(!1);return N0(()=>{r.current=!0}),y.useCallback(function(n,l){l===void 0&&(l={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Ta({fromRouteId:s},l)))},[e,s])}const _u={};function Af(e,s,r){_u[e]||(_u[e]=!0)}function Rf(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function yo(e){let{to:s,replace:r,state:a,relative:n}=e;Fr()||ye(!1);let{future:l,static:i}=y.useContext(bs),{matches:o}=y.useContext(js),{pathname:c}=Js(),u=Ys(),d=Ec(s,Cc(o,l.v7_relativeSplatPath),c,n==="path"),x=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(x),{replace:r,state:a,relative:n}),[u,x,n,r,a]),null}function Z(e){ye(!1)}function Pf(e){let{basename:s="/",children:r=null,location:a,navigationType:n=rs.Pop,navigator:l,static:i=!1,future:o}=e;Fr()&&ye(!1);let c=s.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:l,static:i,future:Ta({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof a=="string"&&(a=Dr(a));let{pathname:d="/",search:x="",hash:v="",state:b=null,key:h="default"}=a,g=y.useMemo(()=>{let k=Sc(d,c);return k==null?null:{location:{pathname:k,search:x,hash:v,state:b,key:h},navigationType:n}},[c,d,x,v,b,h,n]);return g==null?null:y.createElement(bs.Provider,{value:u},y.createElement(Rl.Provider,{children:r,value:g}))}function Lf(e){let{children:s,location:r}=e;return ff(vo(s),r)}new Promise(()=>{});function vo(e,s){s===void 0&&(s=[]);let r=[];return y.Children.forEach(e,(a,n)=>{if(!y.isValidElement(a))return;let l=[...s,n];if(a.type===y.Fragment){r.push.apply(r,vo(a.props.children,l));return}a.type!==Z&&ye(!1),!a.props.index||!a.props.children||ye(!1);let i={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=vo(a.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bo.apply(this,arguments)}function Tf(e,s){if(e==null)return{};var r={},a=Object.keys(e),n,l;for(l=0;l<a.length;l++)n=a[l],!(s.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Mf(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Of(e,s){return e.button===0&&(!s||s==="_self")&&!Mf(e)}function jo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let a=e[r];return s.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function If(e,s){let r=jo(e);return s&&s.forEach((a,n)=>{r.has(n)||s.getAll(n).forEach(l=>{r.append(n,l)})}),r}const Df=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ff="6";try{window.__reactRouterVersion=Ff}catch{}const $f="startTransition",Su=Ep[$f];function Uf(e){let{basename:s,children:r,future:a,window:n}=e,l=y.useRef();l.current==null&&(l.current=Ug({window:n,v5Compat:!0}));let i=l.current,[o,c]=y.useState({action:i.action,location:i.location}),{v7_startTransition:u}=a||{},d=y.useCallback(x=>{u&&Su?Su(()=>c(x)):c(x)},[c,u]);return y.useLayoutEffect(()=>i.listen(d),[i,d]),y.useEffect(()=>Rf(a),[a]),y.createElement(Pf,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:i,future:a})}const zf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=y.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:l,replace:i,state:o,target:c,to:u,preventScrollReset:d,viewTransition:x}=s,v=Tf(s,Df),{basename:b}=y.useContext(bs),h,g=!1;if(typeof u=="string"&&Bf.test(u)&&(h=u,zf))try{let p=new URL(window.location.href),j=u.startsWith("//")?new URL(p.protocol+u):new URL(u),S=Sc(j.pathname,b);j.origin===p.origin&&S!=null?u=S+j.search+j.hash:g=!0}catch{}let k=hf(u,{relative:n}),m=Hf(u,{replace:i,state:o,target:c,preventScrollReset:d,relative:n,viewTransition:x});function f(p){a&&a(p),p.defaultPrevented||m(p)}return y.createElement("a",bo({},v,{href:h||k,onClick:g||l?a:f,ref:r,target:c}))});var Cu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cu||(Cu={}));var Eu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Eu||(Eu={}));function Hf(e,s){let{target:r,replace:a,state:n,preventScrollReset:l,relative:i,viewTransition:o}=s===void 0?{}:s,c=Ys(),u=Js(),d=w0(e,{relative:i});return y.useCallback(x=>{if(Of(x,r)){x.preventDefault();let v=a!==void 0?a:cl(u)===cl(d);c(e,{replace:v,state:n,preventScrollReset:l,relative:i,viewTransition:o})}},[u,c,d,a,n,r,e,l,i,o])}function C0(e){let s=y.useRef(jo(e)),r=y.useRef(!1),a=Js(),n=y.useMemo(()=>If(a.search,r.current?null:s.current),[a.search]),l=Ys(),i=y.useCallback((o,c)=>{const u=jo(typeof o=="function"?o(n):o);r.current=!0,l("?"+u,c)},[l,n]);return[n,i]}function E0(e,s){return function(){return e.apply(s,arguments)}}const{toString:Vf}=Object.prototype,{getPrototypeOf:Rc}=Object,{iterator:Pl,toStringTag:A0}=Symbol,Ll=(e=>s=>{const r=Vf.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),_t=e=>(e=e.toLowerCase(),s=>Ll(s)===e),Tl=e=>s=>typeof s===e,{isArray:$r}=Array,Rr=Tl("undefined");function Va(e){return e!==null&&!Rr(e)&&e.constructor!==null&&!Rr(e.constructor)&&Xe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const R0=_t("ArrayBuffer");function qf(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&R0(e.buffer),s}const Wf=Tl("string"),Xe=Tl("function"),P0=Tl("number"),qa=e=>e!==null&&typeof e=="object",Gf=e=>e===!0||e===!1,Tn=e=>{if(Ll(e)!=="object")return!1;const s=Rc(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(A0 in e)&&!(Pl in e)},Qf=e=>{if(!qa(e)||Va(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Kf=_t("Date"),Jf=_t("File"),Yf=_t("Blob"),Xf=_t("FileList"),Zf=e=>qa(e)&&Xe(e.pipe),ey=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||Xe(e.append)&&((s=Ll(e))==="formdata"||s==="object"&&Xe(e.toString)&&e.toString()==="[object FormData]"))},ty=_t("URLSearchParams"),[sy,ry,ay,ny]=["ReadableStream","Request","Response","Headers"].map(_t),ly=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wa(e,s,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),$r(e))for(a=0,n=e.length;a<n;a++)s.call(null,e[a],a,e);else{if(Va(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(a=0;a<i;a++)o=l[a],s.call(null,e[o],o,e)}}function L0(e,s){if(Va(e))return null;s=s.toLowerCase();const r=Object.keys(e);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Ps=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,T0=e=>!Rr(e)&&e!==Ps;function No(){const{caseless:e,skipUndefined:s}=T0(this)&&this||{},r={},a=(n,l)=>{const i=e&&L0(r,l)||l;Tn(r[i])&&Tn(n)?r[i]=No(r[i],n):Tn(n)?r[i]=No({},n):$r(n)?r[i]=n.slice():(!s||!Rr(n))&&(r[i]=n)};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&Wa(arguments[n],a);return r}const iy=(e,s,r,{allOwnKeys:a}={})=>(Wa(s,(n,l)=>{r&&Xe(n)?e[l]=E0(n,r):e[l]=n},{allOwnKeys:a}),e),oy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cy=(e,s,r,a)=>{e.prototype=Object.create(s.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),r&&Object.assign(e.prototype,r)},dy=(e,s,r,a)=>{let n,l,i;const o={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),l=n.length;l-- >0;)i=n[l],(!a||a(i,e,s))&&!o[i]&&(s[i]=e[i],o[i]=!0);e=r!==!1&&Rc(e)}while(e&&(!r||r(e,s))&&e!==Object.prototype);return s},uy=(e,s,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=s.length;const a=e.indexOf(s,r);return a!==-1&&a===r},my=e=>{if(!e)return null;if($r(e))return e;let s=e.length;if(!P0(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=e[s];return r},xy=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Rc(Uint8Array)),py=(e,s)=>{const a=(e&&e[Pl]).call(e);let n;for(;(n=a.next())&&!n.done;){const l=n.value;s.call(e,l[0],l[1])}},hy=(e,s)=>{let r;const a=[];for(;(r=e.exec(s))!==null;)a.push(r);return a},gy=_t("HTMLFormElement"),fy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Au=(({hasOwnProperty:e})=>(s,r)=>e.call(s,r))(Object.prototype),yy=_t("RegExp"),M0=(e,s)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Wa(r,(n,l)=>{let i;(i=s(n,l,e))!==!1&&(a[l]=i||n)}),Object.defineProperties(e,a)},vy=e=>{M0(e,(s,r)=>{if(Xe(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Xe(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},by=(e,s)=>{const r={},a=n=>{n.forEach(l=>{r[l]=!0})};return $r(e)?a(e):a(String(e).split(s)),r},jy=()=>{},Ny=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function wy(e){return!!(e&&Xe(e.append)&&e[A0]==="FormData"&&e[Pl])}const ky=e=>{const s=new Array(10),r=(a,n)=>{if(qa(a)){if(s.indexOf(a)>=0)return;if(Va(a))return a;if(!("toJSON"in a)){s[n]=a;const l=$r(a)?[]:{};return Wa(a,(i,o)=>{const c=r(i,n+1);!Rr(c)&&(l[o]=c)}),s[n]=void 0,l}}return a};return r(e,0)},_y=_t("AsyncFunction"),Sy=e=>e&&(qa(e)||Xe(e))&&Xe(e.then)&&Xe(e.catch),O0=((e,s)=>e?setImmediate:s?((r,a)=>(Ps.addEventListener("message",({source:n,data:l})=>{n===Ps&&l===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Ps.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xe(Ps.postMessage)),Cy=typeof queueMicrotask<"u"?queueMicrotask.bind(Ps):typeof process<"u"&&process.nextTick||O0,Ey=e=>e!=null&&Xe(e[Pl]),P={isArray:$r,isArrayBuffer:R0,isBuffer:Va,isFormData:ey,isArrayBufferView:qf,isString:Wf,isNumber:P0,isBoolean:Gf,isObject:qa,isPlainObject:Tn,isEmptyObject:Qf,isReadableStream:sy,isRequest:ry,isResponse:ay,isHeaders:ny,isUndefined:Rr,isDate:Kf,isFile:Jf,isBlob:Yf,isRegExp:yy,isFunction:Xe,isStream:Zf,isURLSearchParams:ty,isTypedArray:xy,isFileList:Xf,forEach:Wa,merge:No,extend:iy,trim:ly,stripBOM:oy,inherits:cy,toFlatObject:dy,kindOf:Ll,kindOfTest:_t,endsWith:uy,toArray:my,forEachEntry:py,matchAll:hy,isHTMLForm:gy,hasOwnProperty:Au,hasOwnProp:Au,reduceDescriptors:M0,freezeMethods:vy,toObjectSet:by,toCamelCase:fy,noop:jy,toFiniteNumber:Ny,findKey:L0,global:Ps,isContextDefined:T0,isSpecCompliantForm:wy,toJSONObject:ky,isAsyncFn:_y,isThenable:Sy,setImmediate:O0,asap:Cy,isIterable:Ey};function q(e,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}P.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const I0=q.prototype,D0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{D0[e]={value:e}});Object.defineProperties(q,D0);Object.defineProperty(I0,"isAxiosError",{value:!0});q.from=(e,s,r,a,n,l)=>{const i=Object.create(I0);P.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=s==null&&e?e.code:s;return q.call(i,o,c,r,a,n),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const Ay=null;function wo(e){return P.isPlainObject(e)||P.isArray(e)}function F0(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function Ru(e,s,r){return e?e.concat(s).map(function(n,l){return n=F0(n),!r&&l?"["+n+"]":n}).join(r?".":""):s}function Ry(e){return P.isArray(e)&&!e.some(wo)}const Py=P.toFlatObject(P,{},null,function(s){return/^is[A-Z]/.test(s)});function Ml(e,s,r){if(!P.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,r=P.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,k){return!P.isUndefined(k[g])});const a=r.metaTokens,n=r.visitor||d,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(s);if(!P.isFunction(n))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(P.isDate(h))return h.toISOString();if(P.isBoolean(h))return h.toString();if(!c&&P.isBlob(h))throw new q("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(h)||P.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,g,k){let m=h;if(h&&!k&&typeof h=="object"){if(P.endsWith(g,"{}"))g=a?g:g.slice(0,-2),h=JSON.stringify(h);else if(P.isArray(h)&&Ry(h)||(P.isFileList(h)||P.endsWith(g,"[]"))&&(m=P.toArray(h)))return g=F0(g),m.forEach(function(p,j){!(P.isUndefined(p)||p===null)&&s.append(i===!0?Ru([g],j,l):i===null?g:g+"[]",u(p))}),!1}return wo(h)?!0:(s.append(Ru(k,g,l),u(h)),!1)}const x=[],v=Object.assign(Py,{defaultVisitor:d,convertValue:u,isVisitable:wo});function b(h,g){if(!P.isUndefined(h)){if(x.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));x.push(h),P.forEach(h,function(m,f){(!(P.isUndefined(m)||m===null)&&n.call(s,m,P.isString(f)?f.trim():f,g,v))===!0&&b(m,g?g.concat(f):[f])}),x.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return b(e),s}function Pu(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Pc(e,s){this._pairs=[],e&&Ml(e,this,s)}const $0=Pc.prototype;$0.append=function(s,r){this._pairs.push([s,r])};$0.toString=function(s){const r=s?function(a){return s.call(this,a,Pu)}:Pu;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Ly(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function U0(e,s,r){if(!s)return e;const a=r&&r.encode||Ly;P.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let l;if(n?l=n(s,r):l=P.isURLSearchParams(s)?s.toString():new Pc(s,r).toString(a),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Lu{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){P.forEach(this.handlers,function(a){a!==null&&s(a)})}}const z0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ty=typeof URLSearchParams<"u"?URLSearchParams:Pc,My=typeof FormData<"u"?FormData:null,Oy=typeof Blob<"u"?Blob:null,Iy={isBrowser:!0,classes:{URLSearchParams:Ty,FormData:My,Blob:Oy},protocols:["http","https","file","blob","url","data"]},Lc=typeof window<"u"&&typeof document<"u",ko=typeof navigator=="object"&&navigator||void 0,Dy=Lc&&(!ko||["ReactNative","NativeScript","NS"].indexOf(ko.product)<0),Fy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$y=Lc&&window.location.href||"http://localhost",Uy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lc,hasStandardBrowserEnv:Dy,hasStandardBrowserWebWorkerEnv:Fy,navigator:ko,origin:$y},Symbol.toStringTag,{value:"Module"})),De={...Uy,...Iy};function zy(e,s){return Ml(e,new De.classes.URLSearchParams,{visitor:function(r,a,n,l){return De.isNode&&P.isBuffer(r)?(this.append(a,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...s})}function By(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Hy(e){const s={},r=Object.keys(e);let a;const n=r.length;let l;for(a=0;a<n;a++)l=r[a],s[l]=e[l];return s}function B0(e){function s(r,a,n,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&P.isArray(n)?n.length:i,c?(P.hasOwnProp(n,i)?n[i]=[n[i],a]:n[i]=a,!o):((!n[i]||!P.isObject(n[i]))&&(n[i]=[]),s(r,a,n[i],l)&&P.isArray(n[i])&&(n[i]=Hy(n[i])),!o)}if(P.isFormData(e)&&P.isFunction(e.entries)){const r={};return P.forEachEntry(e,(a,n)=>{s(By(a),n,r,0)}),r}return null}function Vy(e,s,r){if(P.isString(e))try{return(s||JSON.parse)(e),P.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Ga={transitional:z0,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,l=P.isObject(s);if(l&&P.isHTMLForm(s)&&(s=new FormData(s)),P.isFormData(s))return n?JSON.stringify(B0(s)):s;if(P.isArrayBuffer(s)||P.isBuffer(s)||P.isStream(s)||P.isFile(s)||P.isBlob(s)||P.isReadableStream(s))return s;if(P.isArrayBufferView(s))return s.buffer;if(P.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return zy(s,this.formSerializer).toString();if((o=P.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ml(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return l||n?(r.setContentType("application/json",!1),Vy(s)):s}],transformResponse:[function(s){const r=this.transitional||Ga.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(P.isResponse(s)||P.isReadableStream(s))return s;if(s&&P.isString(s)&&(a&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?q.from(o,q.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:De.classes.FormData,Blob:De.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{Ga.headers[e]={}});const qy=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wy=e=>{const s={};let r,a,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),a=i.substring(n+1).trim(),!(!r||s[r]&&qy[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Tu=Symbol("internals");function Xr(e){return e&&String(e).trim().toLowerCase()}function Mn(e){return e===!1||e==null?e:P.isArray(e)?e.map(Mn):String(e)}function Gy(e){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)s[a[1]]=a[2];return s}const Qy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function xi(e,s,r,a,n){if(P.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!P.isString(s)){if(P.isString(a))return s.indexOf(a)!==-1;if(P.isRegExp(a))return a.test(s)}}function Ky(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function Jy(e,s){const r=P.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(n,l,i){return this[a].call(this,s,n,l,i)},configurable:!0})})}let Ze=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function l(o,c,u){const d=Xr(c);if(!d)throw new Error("header name must be a non-empty string");const x=P.findKey(n,d);(!x||n[x]===void 0||u===!0||u===void 0&&n[x]!==!1)&&(n[x||c]=Mn(o))}const i=(o,c)=>P.forEach(o,(u,d)=>l(u,d,c));if(P.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(P.isString(s)&&(s=s.trim())&&!Qy(s))i(Wy(s),r);else if(P.isObject(s)&&P.isIterable(s)){let o={},c,u;for(const d of s){if(!P.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?P.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(o,r)}else s!=null&&l(r,s,a);return this}get(s,r){if(s=Xr(s),s){const a=P.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return Gy(n);if(P.isFunction(r))return r.call(this,n,a);if(P.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Xr(s),s){const a=P.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||xi(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function l(i){if(i=Xr(i),i){const o=P.findKey(a,i);o&&(!r||xi(a,a[o],o,r))&&(delete a[o],n=!0)}}return P.isArray(s)?s.forEach(l):l(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const l=r[a];(!s||xi(this,this[l],l,s,!0))&&(delete this[l],n=!0)}return n}normalize(s){const r=this,a={};return P.forEach(this,(n,l)=>{const i=P.findKey(a,l);if(i){r[i]=Mn(n),delete r[l];return}const o=s?Ky(l):String(l).trim();o!==l&&delete r[l],r[o]=Mn(n),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return P.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&P.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Tu]=this[Tu]={accessors:{}}).accessors,n=this.prototype;function l(i){const o=Xr(i);a[o]||(Jy(n,i),a[o]=!0)}return P.isArray(s)?s.forEach(l):l(s),this}};Ze.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Ze.prototype,({value:e},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(a){this[r]=a}}});P.freezeMethods(Ze);function pi(e,s){const r=this||Ga,a=s||r,n=Ze.from(a.headers);let l=a.data;return P.forEach(e,function(o){l=o.call(r,l,n.normalize(),s?s.status:void 0)}),n.normalize(),l}function H0(e){return!!(e&&e.__CANCEL__)}function Ur(e,s,r){q.call(this,e??"canceled",q.ERR_CANCELED,s,r),this.name="CanceledError"}P.inherits(Ur,q,{__CANCEL__:!0});function V0(e,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):s(new q("Request failed with status code "+r.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Yy(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function Xy(e,s){e=e||10;const r=new Array(e),a=new Array(e);let n=0,l=0,i;return s=s!==void 0?s:1e3,function(c){const u=Date.now(),d=a[l];i||(i=u),r[n]=c,a[n]=u;let x=l,v=0;for(;x!==n;)v+=r[x++],x=x%e;if(n=(n+1)%e,n===l&&(l=(l+1)%e),u-i<s)return;const b=d&&u-d;return b?Math.round(v*1e3/b):void 0}}function Zy(e,s){let r=0,a=1e3/s,n,l;const i=(u,d=Date.now())=>{r=d,n=null,l&&(clearTimeout(l),l=null),e(...u)};return[(...u)=>{const d=Date.now(),x=d-r;x>=a?i(u,d):(n=u,l||(l=setTimeout(()=>{l=null,i(n)},a-x)))},()=>n&&i(n)]}const dl=(e,s,r=3)=>{let a=0;const n=Xy(50,250);return Zy(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-a,u=n(c),d=i<=o;a=i;const x={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-i)/u:void 0,event:l,lengthComputable:o!=null,[s?"download":"upload"]:!0};e(x)},r)},Mu=(e,s)=>{const r=e!=null;return[a=>s[0]({lengthComputable:r,total:e,loaded:a}),s[1]]},Ou=e=>(...s)=>P.asap(()=>e(...s)),ev=De.hasStandardBrowserEnv?((e,s)=>r=>(r=new URL(r,De.origin),e.protocol===r.protocol&&e.host===r.host&&(s||e.port===r.port)))(new URL(De.origin),De.navigator&&/(msie|trident)/i.test(De.navigator.userAgent)):()=>!0,tv=De.hasStandardBrowserEnv?{write(e,s,r,a,n,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(s)}`];P.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),P.isString(a)&&o.push(`path=${a}`),P.isString(n)&&o.push(`domain=${n}`),l===!0&&o.push("secure"),P.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function sv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rv(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function q0(e,s,r){let a=!sv(s);return e&&(a||r==!1)?rv(e,s):s}const Iu=e=>e instanceof Ze?{...e}:e;function Bs(e,s){s=s||{};const r={};function a(u,d,x,v){return P.isPlainObject(u)&&P.isPlainObject(d)?P.merge.call({caseless:v},u,d):P.isPlainObject(d)?P.merge({},d):P.isArray(d)?d.slice():d}function n(u,d,x,v){if(P.isUndefined(d)){if(!P.isUndefined(u))return a(void 0,u,x,v)}else return a(u,d,x,v)}function l(u,d){if(!P.isUndefined(d))return a(void 0,d)}function i(u,d){if(P.isUndefined(d)){if(!P.isUndefined(u))return a(void 0,u)}else return a(void 0,d)}function o(u,d,x){if(x in s)return a(u,d);if(x in e)return a(void 0,u)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,d,x)=>n(Iu(u),Iu(d),x,!0)};return P.forEach(Object.keys({...e,...s}),function(d){const x=c[d]||n,v=x(e[d],s[d],d);P.isUndefined(v)&&x!==o||(r[d]=v)}),r}const W0=e=>{const s=Bs({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:l,headers:i,auth:o}=s;if(s.headers=i=Ze.from(i),s.url=U0(q0(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),P.isFormData(r)){if(De.hasStandardBrowserEnv||De.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(P.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,x])=>{u.includes(d.toLowerCase())&&i.set(d,x)})}}if(De.hasStandardBrowserEnv&&(a&&P.isFunction(a)&&(a=a(s)),a||a!==!1&&ev(s.url))){const c=n&&l&&tv.read(l);c&&i.set(n,c)}return s},av=typeof XMLHttpRequest<"u",nv=av&&function(e){return new Promise(function(r,a){const n=W0(e);let l=n.data;const i=Ze.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=n,d,x,v,b,h;function g(){b&&b(),h&&h(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let k=new XMLHttpRequest;k.open(n.method.toUpperCase(),n.url,!0),k.timeout=n.timeout;function m(){if(!k)return;const p=Ze.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:p,config:e,request:k};V0(function(N){r(N),g()},function(N){a(N),g()},S),k=null}"onloadend"in k?k.onloadend=m:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(m)},k.onabort=function(){k&&(a(new q("Request aborted",q.ECONNABORTED,e,k)),k=null)},k.onerror=function(j){const S=j&&j.message?j.message:"Network Error",_=new q(S,q.ERR_NETWORK,e,k);_.event=j||null,a(_),k=null},k.ontimeout=function(){let j=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const S=n.transitional||z0;n.timeoutErrorMessage&&(j=n.timeoutErrorMessage),a(new q(j,S.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,e,k)),k=null},l===void 0&&i.setContentType(null),"setRequestHeader"in k&&P.forEach(i.toJSON(),function(j,S){k.setRequestHeader(S,j)}),P.isUndefined(n.withCredentials)||(k.withCredentials=!!n.withCredentials),o&&o!=="json"&&(k.responseType=n.responseType),u&&([v,h]=dl(u,!0),k.addEventListener("progress",v)),c&&k.upload&&([x,b]=dl(c),k.upload.addEventListener("progress",x),k.upload.addEventListener("loadend",b)),(n.cancelToken||n.signal)&&(d=p=>{k&&(a(!p||p.type?new Ur(null,e,k):p),k.abort(),k=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const f=Yy(n.url);if(f&&De.protocols.indexOf(f)===-1){a(new q("Unsupported protocol "+f+":",q.ERR_BAD_REQUEST,e));return}k.send(l||null)})},lv=(e,s)=>{const{length:r}=e=e?e.filter(Boolean):[];if(s||r){let a=new AbortController,n;const l=function(u){if(!n){n=!0,o();const d=u instanceof Error?u:this.reason;a.abort(d instanceof q?d:new Ur(d instanceof Error?d.message:d))}};let i=s&&setTimeout(()=>{i=null,l(new q(`timeout ${s} of ms exceeded`,q.ETIMEDOUT))},s);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(l):u.removeEventListener("abort",l)}),e=null)};e.forEach(u=>u.addEventListener("abort",l));const{signal:c}=a;return c.unsubscribe=()=>P.asap(o),c}},iv=function*(e,s){let r=e.byteLength;if(r<s){yield e;return}let a=0,n;for(;a<r;)n=a+s,yield e.slice(a,n),a=n},ov=async function*(e,s){for await(const r of cv(e))yield*iv(r,s)},cv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},Du=(e,s,r,a)=>{const n=ov(e,s);let l=0,i,o=c=>{i||(i=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await n.next();if(u){o(),c.close();return}let x=d.byteLength;if(r){let v=l+=x;r(v)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},Fu=64*1024,{isFunction:hn}=P,dv=(({Request:e,Response:s})=>({Request:e,Response:s}))(P.global),{ReadableStream:$u,TextEncoder:Uu}=P.global,zu=(e,...s)=>{try{return!!e(...s)}catch{return!1}},uv=e=>{e=P.merge.call({skipUndefined:!0},dv,e);const{fetch:s,Request:r,Response:a}=e,n=s?hn(s):typeof fetch=="function",l=hn(r),i=hn(a);if(!n)return!1;const o=n&&hn($u),c=n&&(typeof Uu=="function"?(h=>g=>h.encode(g))(new Uu):async h=>new Uint8Array(await new r(h).arrayBuffer())),u=l&&o&&zu(()=>{let h=!1;const g=new r(De.origin,{body:new $u,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!g}),d=i&&o&&zu(()=>P.isReadableStream(new a("").body)),x={stream:d&&(h=>h.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!x[h]&&(x[h]=(g,k)=>{let m=g&&g[h];if(m)return m.call(g);throw new q(`Response type '${h}' is not supported`,q.ERR_NOT_SUPPORT,k)})});const v=async h=>{if(h==null)return 0;if(P.isBlob(h))return h.size;if(P.isSpecCompliantForm(h))return(await new r(De.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(P.isArrayBufferView(h)||P.isArrayBuffer(h))return h.byteLength;if(P.isURLSearchParams(h)&&(h=h+""),P.isString(h))return(await c(h)).byteLength},b=async(h,g)=>{const k=P.toFiniteNumber(h.getContentLength());return k??v(g)};return async h=>{let{url:g,method:k,data:m,signal:f,cancelToken:p,timeout:j,onDownloadProgress:S,onUploadProgress:_,responseType:N,headers:w,withCredentials:C="same-origin",fetchOptions:R}=W0(h),E=s||fetch;N=N?(N+"").toLowerCase():"text";let z=lv([f,p&&p.toAbortSignal()],j),A=null;const U=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let I;try{if(_&&u&&k!=="get"&&k!=="head"&&(I=await b(w,m))!==0){let B=new r(g,{method:"POST",body:m,duplex:"half"}),V;if(P.isFormData(m)&&(V=B.headers.get("content-type"))&&w.setContentType(V),B.body){const[te,ne]=Mu(I,dl(Ou(_)));m=Du(B.body,Fu,te,ne)}}P.isString(C)||(C=C?"include":"omit");const W=l&&"credentials"in r.prototype,ee={...R,signal:z,method:k.toUpperCase(),headers:w.normalize().toJSON(),body:m,duplex:"half",credentials:W?C:void 0};A=l&&new r(g,ee);let $=await(l?E(A,R):E(g,ee));const L=d&&(N==="stream"||N==="response");if(d&&(S||L&&U)){const B={};["status","statusText","headers"].forEach(qe=>{B[qe]=$[qe]});const V=P.toFiniteNumber($.headers.get("content-length")),[te,ne]=S&&Mu(V,dl(Ou(S),!0))||[];$=new a(Du($.body,Fu,te,()=>{ne&&ne(),U&&U()}),B)}N=N||"text";let O=await x[P.findKey(x,N)||"text"]($,h);return!L&&U&&U(),await new Promise((B,V)=>{V0(B,V,{data:O,headers:Ze.from($.headers),status:$.status,statusText:$.statusText,config:h,request:A})})}catch(W){throw U&&U(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new q("Network Error",q.ERR_NETWORK,h,A),{cause:W.cause||W}):q.from(W,W&&W.code,h,A)}}},mv=new Map,G0=e=>{let s=e&&e.env||{};const{fetch:r,Request:a,Response:n}=s,l=[a,n,r];let i=l.length,o=i,c,u,d=mv;for(;o--;)c=l[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:uv(s)),d=u;return u};G0();const Tc={http:Ay,xhr:nv,fetch:{get:G0}};P.forEach(Tc,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const Bu=e=>`- ${e}`,xv=e=>P.isFunction(e)||e===null||e===!1;function pv(e,s){e=P.isArray(e)?e:[e];const{length:r}=e;let a,n;const l={};for(let i=0;i<r;i++){a=e[i];let o;if(n=a,!xv(a)&&(n=Tc[(o=String(a)).toLowerCase()],n===void 0))throw new q(`Unknown adapter '${o}'`);if(n&&(P.isFunction(n)||(n=n.get(s))))break;l[o||"#"+i]=n}if(!n){const i=Object.entries(l).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(Bu).join(`
`):" "+Bu(i[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const Q0={getAdapter:pv,adapters:Tc};function hi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ur(null,e)}function Hu(e){return hi(e),e.headers=Ze.from(e.headers),e.data=pi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Q0.getAdapter(e.adapter||Ga.adapter,e)(e).then(function(a){return hi(e),a.data=pi.call(e,e.transformResponse,a),a.headers=Ze.from(a.headers),a},function(a){return H0(a)||(hi(e),a&&a.response&&(a.response.data=pi.call(e,e.transformResponse,a.response),a.response.headers=Ze.from(a.response.headers))),Promise.reject(a)})}const K0="1.13.2",Ol={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{Ol[e]=function(a){return typeof a===e||"a"+(s<1?"n ":" ")+e}});const Vu={};Ol.transitional=function(s,r,a){function n(l,i){return"[Axios v"+K0+"] Transitional option '"+l+"'"+i+(a?". "+a:"")}return(l,i,o)=>{if(s===!1)throw new q(n(i," has been removed"+(r?" in "+r:"")),q.ERR_DEPRECATED);return r&&!Vu[i]&&(Vu[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(l,i,o):!0}};Ol.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function hv(e,s,r){if(typeof e!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const l=a[n],i=s[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new q("option "+l+" must be "+c,q.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new q("Unknown option "+l,q.ERR_BAD_OPTION)}}const On={assertOptions:hv,validators:Ol},Ct=On.validators;let Is=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Lu,response:new Lu}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const l=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Bs(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:l}=r;a!==void 0&&On.assertOptions(a,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1),n!=null&&(P.isFunction(n)?r.paramsSerializer={serialize:n}:On.assertOptions(n,{encode:Ct.function,serialize:Ct.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),On.assertOptions(r,{baseUrl:Ct.spelling("baseURL"),withXsrfToken:Ct.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&P.merge(l.common,l[r.method]);l&&P.forEach(["delete","get","head","post","put","patch","common"],h=>{delete l[h]}),r.headers=Ze.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,x=0,v;if(!c){const h=[Hu.bind(this),void 0];for(h.unshift(...o),h.push(...u),v=h.length,d=Promise.resolve(r);x<v;)d=d.then(h[x++],h[x++]);return d}v=o.length;let b=r;for(;x<v;){const h=o[x++],g=o[x++];try{b=h(b)}catch(k){g.call(this,k);break}}try{d=Hu.call(this,b)}catch(h){return Promise.reject(h)}for(x=0,v=u.length;x<v;)d=d.then(u[x++],u[x++]);return d}getUri(s){s=Bs(this.defaults,s);const r=q0(s.baseURL,s.url,s.allowAbsoluteUrls);return U0(r,s.params,s.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(s){Is.prototype[s]=function(r,a){return this.request(Bs(a||{},{method:s,url:r,data:(a||{}).data}))}});P.forEach(["post","put","patch"],function(s){function r(a){return function(l,i,o){return this.request(Bs(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Is.prototype[s]=r(),Is.prototype[s+"Form"]=r(!0)});let gv=class J0{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const a=this;this.promise.then(n=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](n);a._listeners=null}),this.promise.then=n=>{let l;const i=new Promise(o=>{a.subscribe(o),l=o}).then(n);return i.cancel=function(){a.unsubscribe(l)},i},s(function(l,i,o){a.reason||(a.reason=new Ur(l,i,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new J0(function(n){s=n}),cancel:s}}};function fv(e){return function(r){return e.apply(null,r)}}function yv(e){return P.isObject(e)&&e.isAxiosError===!0}const _o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_o).forEach(([e,s])=>{_o[s]=e});function Y0(e){const s=new Is(e),r=E0(Is.prototype.request,s);return P.extend(r,Is.prototype,s,{allOwnKeys:!0}),P.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return Y0(Bs(e,n))},r}const ve=Y0(Ga);ve.Axios=Is;ve.CanceledError=Ur;ve.CancelToken=gv;ve.isCancel=H0;ve.VERSION=K0;ve.toFormData=Ml;ve.AxiosError=q;ve.Cancel=ve.CanceledError;ve.all=function(s){return Promise.all(s)};ve.spread=fv;ve.isAxiosError=yv;ve.mergeConfig=Bs;ve.AxiosHeaders=Ze;ve.formToJSON=e=>B0(P.isHTMLForm(e)?new FormData(e):e);ve.getAdapter=Q0.getAdapter;ve.HttpStatusCode=_o;ve.default=ve;const{Axios:pj,AxiosError:hj,CanceledError:gj,isCancel:fj,CancelToken:yj,VERSION:vj,all:bj,Cancel:jj,isAxiosError:Nj,spread:wj,toFormData:kj,AxiosHeaders:_j,HttpStatusCode:Sj,formToJSON:Cj,getAdapter:Ej,mergeConfig:Aj}=ve,vv="/api",T=ve.create({baseURL:vv,headers:{"Content-Type":"application/json"}});T.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e});T.interceptors.response.use(e=>e.data,e=>{var s,r;return((s=e.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(((r=e.response)==null?void 0:r.data)||e)});const br={login:e=>T.post("/auth/login",e),logout:()=>T.post("/auth/logout"),me:()=>T.get("/auth/me"),changePassword:e=>T.post("/auth/change-password",e),forgotPassword:e=>T.post("/auth/forgot-password",{email:e}),resetPassword:e=>T.post("/auth/reset-password",e)},Ge={getAdmin:e=>T.get("/dashboard/admin",{params:{event_id:e}}),getGroupLeader:()=>T.get("/dashboard/group-leader"),getQA:()=>T.get("/dashboard/qa"),getBackup:()=>T.get("/dashboard/backup"),getEditor:()=>T.get("/dashboard/editor"),getWorkflowProgress:e=>T.get("/dashboard/workflow-progress",{params:{event_id:e}}),getTimeAnalytics:e=>T.get("/dashboard/time-analytics",{params:{event_id:e}}),getIncidents:(e,s)=>T.get("/dashboard/incidents",{params:{event_id:e,days:s}}),getSdCardLifecycle:e=>T.get("/dashboard/sd-card-lifecycle",{params:{event_id:e}}),getComparative:e=>T.get("/dashboard/comparative",{params:{event_id:e}}),getPredictive:e=>T.get("/dashboard/predictive",{params:{event_id:e}}),getAlerts:e=>T.get("/dashboard/alerts",{params:{event_id:e}}),getLiveOperations:e=>T.get("/dashboard/live-operations",{params:{event_id:e}})},Ls={getAll:e=>T.get("/events",{params:e}),getActive:()=>T.get("/events/active"),getOne:e=>T.get(`/events/${e}`),create:e=>T.post("/events",e),update:(e,s)=>T.put(`/events/${e}`,s),activate:(e,s=!1)=>T.post(`/events/${e}/activate`,{force:s}),complete:e=>T.post(`/events/${e}/complete`),getStats:e=>T.get(`/events/${e}/stats`)},$t={getAll:e=>T.get("/groups",{params:e}),getOne:e=>T.get(`/groups/${e}`),create:e=>T.post("/groups",e),update:(e,s)=>T.put(`/groups/${e}`,s),getMembers:e=>T.get(`/groups/${e}/members`),addMember:(e,s)=>T.post(`/groups/${e}/members`,{user_id:s}),removeMember:(e,s)=>T.delete(`/groups/${e}/members`,{data:{user_id:s}})},yt={search:e=>T.get("/media/search",{params:e}),getStatus:e=>T.get(`/media/${e}/status`),getDownloadUrl:e=>T.get(`/media/${e}/download-url`),logPlayback:(e,s)=>T.post(`/media/${e}/log-playback`,s),logDownload:(e,s)=>T.post(`/media/${e}/log-download`,s),getPlaybackSource:e=>T.get(`/media/${e}/playback-source`)},gn={getAll:e=>T.get("/issues",{params:e}),getOne:e=>T.get(`/issues/${e}`),acknowledge:e=>T.post(`/issues/${e}/acknowledge`),resolve:(e,s)=>T.post(`/issues/${e}/resolve`,{resolution_notes:s}),escalate:(e,s)=>T.post(`/issues/${e}/escalate`,{reason:s}),getGroupSummary:()=>T.get("/issues/group-summary")},So={getCoverage:e=>T.get("/backup/coverage",{params:{event_id:e}}),getPending:e=>T.get("/backup/pending",{params:e}),getDiskStatus:e=>T.get(`/backup/disk/${e}`),getAnalytics:e=>T.get("/backup/analytics",{params:{event_id:e}})},Nt={getAll:e=>T.get("/users",{params:e}),getOne:e=>T.get(`/users/${e}`),create:e=>T.post("/users",e),update:(e,s)=>T.put(`/users/${e}`,s),delete:e=>T.delete(`/users/${e}`),toggleStatus:e=>T.post(`/users/${e}/toggle-status`),assignGroups:(e,s)=>T.post(`/users/${e}/groups`,{group_ids:s}),getRoles:()=>T.get("/users/roles"),getEditorsStatus:e=>T.get("/users/editors-status",{params:e}),bulkImport:e=>T.post("/users/bulk-import",e),downloadTemplate:()=>T.get("/users/import-template",{responseType:"blob"}),getInvitations:()=>T.get("/users/invitations"),createInvitation:e=>T.post("/users/invitations",e),revokeInvitation:e=>T.delete(`/users/invitations/${e}`)},fn={getAll:e=>T.get("/audit-logs",{params:e}),getOne:e=>T.get(`/audit-logs/${e}`),getStats:()=>T.get("/audit-logs/stats"),getActions:()=>T.get("/audit-logs/actions"),getEntityTypes:()=>T.get("/audit-logs/entity-types")},Ts={register:e=>T.post("/auth/register",e),registerWithInvitation:e=>T.post("/auth/register/invitation",e),checkInvitation:e=>T.get(`/auth/invitation/${e}`),getPending:e=>T.get("/registrations/pending",{params:e}),sendInvitation:e=>T.post("/registrations/invite",e),approve:(e,s)=>T.post(`/registrations/${e}/approve`,s),reject:(e,s)=>T.post(`/registrations/${e}/reject`,s),suspend:(e,s)=>T.post(`/registrations/${e}/suspend`,s),reactivate:e=>T.post(`/registrations/${e}/reactivate`)},Zr={getAll:e=>T.get("/settings",{params:{group:e}}),update:e=>T.put("/settings",{settings:e}),getSmtp:()=>T.get("/settings/smtp"),updateSmtp:e=>T.put("/settings/smtp",e),testSmtp:e=>T.post("/settings/smtp/test",{email:e}),getGeneral:()=>T.get("/settings/general"),updateGeneral:e=>T.put("/settings/general",e)},ea={getAll:e=>T.get("/cameras",{params:e}),getOne:e=>T.get(`/cameras/${e}`),create:e=>T.post("/cameras",e),update:(e,s)=>T.put(`/cameras/${e}`,s),delete:e=>T.delete(`/cameras/${e}`),getStats:e=>T.get("/cameras/stats",{params:e}),bindSdCard:(e,s)=>T.post(`/cameras/${e}/bind-sd`,{sd_card_id:s}),unbindSdCard:e=>T.post(`/cameras/${e}/unbind-sd`)},ws={getAll:e=>T.get("/healing-cases",{params:e}),getOne:e=>T.get(`/healing-cases/${e}`),create:e=>T.post("/healing-cases",e),update:(e,s)=>T.put(`/healing-cases/${e}`,s),delete:e=>T.delete(`/healing-cases/${e}`),getStats:e=>T.get("/healing-cases/stats",{params:e}),verify:e=>T.post(`/healing-cases/${e}/verify`),publish:e=>T.post(`/healing-cases/${e}/publish`)},tr={exportMedia:e=>T.get("/export/media",{params:e,responseType:"blob"}),exportIssues:e=>T.get("/export/issues",{params:e,responseType:"blob"}),exportAuditLogs:e=>T.get("/export/audit-logs",{params:e,responseType:"blob"}),exportHealingCases:e=>T.get("/export/healing-cases",{params:e,responseType:"blob"}),backupReport:e=>T.get("/export/backup-report",{params:e,responseType:"blob"}),editorPerformance:e=>T.get("/export/editor-performance",{params:e,responseType:"blob"})},qu={dailySummary:e=>T.get("/reports/daily-summary",{params:e}),eventReport:(e,s)=>T.get(`/reports/event/${e}`,{params:s})},Wu={get:e=>T.get("/activity-feed",{params:e}),timeline:e=>T.get("/activity-feed/timeline",{params:e}),stats:e=>T.get("/activity-feed/stats",{params:e})},bv={getOverview:e=>T.get("/quality-control",{params:{event_id:e}}),getDashboard:e=>T.get("/quality-control",{params:{event_id:e}}),getQueue:e=>T.get("/quality-control/queue",{params:e}),submit:(e,s)=>T.post(`/quality-control/${e}/submit`,s),getHistory:e=>T.get(`/quality-control/${e}/history`),getStats:e=>T.get("/quality-control/stats",{params:e})},jv={getForecast:e=>T.get("/storage",{params:e}),getUsage:()=>T.get("/storage"),getDisks:()=>T.get("/storage")},Nv={getOverview:e=>T.get("/work-allocation/overview",{params:{event_id:e}}),assign:(e,s)=>T.post("/work-allocation/assign",{editor_id:e,media_ids:s}),autoDistribute:e=>T.post("/work-allocation/auto-distribute",e),reassign:(e,s,r)=>T.post("/work-allocation/reassign",{from_editor_id:e,to_editor_id:s,media_ids:r})},X0=y.createContext(null);function wv({children:e}){const[s,r]=y.useState(null),[a,n]=y.useState(null),[l,i]=y.useState(!0);y.useEffect(()=>{const N=localStorage.getItem("token"),w=localStorage.getItem("user");N&&w?(r(JSON.parse(w)),Promise.all([br.me(),Ls.getActive().catch(()=>({event:null}))]).then(([C,R])=>{r(C.user),localStorage.setItem("user",JSON.stringify(C.user)),n((R==null?void 0:R.event)||null)}).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)}).finally(()=>i(!1))):i(!1)},[]);const o=async()=>{try{const N=await Ls.getActive();return n((N==null?void 0:N.event)||null),(N==null?void 0:N.event)||null}catch{return n(null),null}},c=async(N,w)=>{const C=await br.login({email:N,password:w});return localStorage.setItem("token",C.authorization.token),localStorage.setItem("user",JSON.stringify(C.user)),r(C.user),await o(),C},u=async()=>{try{await br.logout()}catch{}localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)},d=()=>{const N=s==null?void 0:s.roles;return Array.isArray(N)?N.map(w=>w?typeof w=="string"?w:typeof w=="object"&&(w.name||w.slug||w.code)||null:null).filter(Boolean):[]},x=N=>d().includes(N),v=N=>{const w=d();return N.some(C=>w.includes(C))},b=()=>x("admin"),h=()=>x("team-lead"),g=()=>x("group-leader"),k=()=>x("qa-lead"),m=()=>x("qa"),f=()=>x("backup-lead"),p=()=>x("backup"),j=()=>x("editor"),S=()=>b()||h(),_=()=>b()||h()||g()||k()||f();return t.jsx(X0.Provider,{value:{user:s,activeEvent:a,loading:l,login:c,logout:u,refreshActiveEvent:o,hasRole:x,hasAnyRole:v,isAdmin:b,isTeamLead:h,isGroupLeader:g,isQALead:k,isQA:m,isBackupLead:f,isBackup:p,isEditor:j,hasOperationalAccess:S,canManageUsers:_},children:e})}function de(){const e=y.useContext(X0);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Z0=y.createContext(null),kv=(e,s)=>{switch(s.type){case"ADD_TOAST":return[s.toast,...e].slice(0,5);case"REMOVE_TOAST":return e.filter(r=>r.id!==s.id);case"CLEAR_ALL":return[];default:return e}};function _v({children:e}){const[s,r]=y.useReducer(kv,[]),a=y.useCallback(d=>{const x=`toast-${Date.now()}-${Math.random().toString(16).slice(2)}`,v={...d,id:x,createdAt:Date.now()};r({type:"ADD_TOAST",toast:v});const b=d.duration||4500;return b>0&&setTimeout(()=>{r({type:"REMOVE_TOAST",id:x})},b),x},[]),n=y.useCallback(d=>{r({type:"REMOVE_TOAST",id:d})},[]),l=y.useCallback(()=>{r({type:"CLEAR_ALL"})},[]),i=y.useCallback((d,x,v={})=>a({kind:"success",title:d,message:x,...v}),[a]),o=y.useCallback((d,x,v={})=>a({kind:"error",title:d,message:x,...v}),[a]),c=y.useCallback((d,x,v={})=>a({kind:"warning",title:d,message:x,...v}),[a]),u=y.useCallback((d,x,v={})=>a({kind:"info",title:d,message:x,...v}),[a]);return t.jsx(Z0.Provider,{value:{toasts:s,addToast:a,removeToast:n,clearAll:l,success:i,error:o,warning:c,info:u},children:e})}function ep(){const e=y.useContext(Z0);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,s)=>{const r=y.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...u},d)=>y.createElement("svg",{ref:d,...Sv,width:n,height:n,stroke:a,strokeWidth:i?Number(l)*24/Number(n):l,className:["lucide",`lucide-${Cv(e)}`,o].join(" "),...u},[...s.map(([x,v])=>y.createElement(x,v)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=F("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=F("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=F("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=F("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=F("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=F("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=F("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=F("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=F("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=F("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=F("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=F("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=F("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=F("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=F("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=F("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=F("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=F("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=F("FileVideo",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=F("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=F("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=F("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=F("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=F("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=F("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=F("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=F("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=F("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=F("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=F("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=F("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=F("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=F("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=F("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=F("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=F("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=F("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=F("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=F("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=F("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=F("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=F("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=F("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=F("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=F("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=F("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=F("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=F("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=F("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=F("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=F("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=F("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=F("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=F("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=F("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Yv={ok:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-700 border-amber-200",error:"bg-red-50 text-red-700 border-red-200",info:"bg-sky-50 text-sky-700 border-sky-200",neutral:"bg-gray-50 text-gray-600 border-gray-200",live:"bg-purple-50 text-purple-700 border-purple-200"};function Fn({kind:e="neutral",children:s,icon:r,pulse:a}){return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full border ${Yv[e]}`,children:[a&&t.jsxs("span",{className:"relative flex h-2 w-2",children:[t.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${e==="ok"?"bg-emerald-400":e==="live"?"bg-purple-400":"bg-amber-400"}`}),t.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${e==="ok"?"bg-emerald-500":e==="live"?"bg-purple-500":"bg-amber-500"}`})]}),r&&!a&&t.jsx(r,{className:"w-3.5 h-3.5"}),s]})}function Xv({online:e}){return e==null?t.jsx(Fn,{kind:"neutral",icon:ge,children:"Connecting..."}):e?t.jsx(Fn,{kind:"ok",icon:Ws,children:"Online"}):t.jsx(Fn,{kind:"error",icon:Fa,children:"Offline"})}function Zv({isLive:e,label:s}){return e?t.jsx(Fn,{kind:"live",pulse:!0,children:s||"Live"}):null}function eb({children:e}){var S,_,N;const{user:s,logout:r,isAdmin:a,isGroupLeader:n,isQA:l,isBackup:i}=de(),o=Js(),c=Ys(),[u,d]=y.useState(!0),[x,v]=y.useState(["overview"]),[b,h]=y.useState(()=>{const w=localStorage.getItem("darkMode");return w?JSON.parse(w):!1}),[g,k]=y.useState(!1);Mo.useEffect(()=>{b?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(b))},[b]);const m=async()=>{await r(),c("/login")},f=w=>{v(C=>C.includes(w)?[]:[w])},j=[{id:"overview",name:"Overview",icon:Ju,roles:["admin","team-lead","group-leader","qa","backup","editor"],items:[{name:"Dashboard",href:"/",icon:Ju,roles:["admin","team-lead","group-leader","qa","backup","editor"]},{name:"Live Operations",href:"/live-operations",icon:ae,roles:["admin","team-lead","group-leader"]},{name:"Analytics",href:"/analytics-dashboard",icon:Hs,roles:["admin","team-lead","group-leader"]}]},{id:"operations",name:"Operations",icon:Wt,roles:["admin","team-lead","group-leader"],items:[{name:"Events",href:"/events",icon:Wt,roles:["admin","team-lead"]},{name:"Groups",href:"/groups",icon:Ne,roles:["admin","team-lead","group-leader"]},{name:"Work Allocation",href:"/work-allocation",icon:Dn,roles:["admin","team-lead","group-leader"]},{name:"Cameras",href:"/cameras",icon:st,roles:["admin","team-lead"]}]},{id:"media",name:"Media",icon:nt,roles:["admin","team-lead","group-leader","qa"],items:[{name:"Search & Playback",href:"/search",icon:Gt,roles:["admin","team-lead","group-leader","qa"]},{name:"Media Library",href:"/media",icon:nt,roles:["admin","team-lead"]},{name:"Quality Control",href:"/quality-control",icon:Y,roles:["admin","team-lead","qa","group-leader"]},{name:"Issues",href:"/issues",icon:G,roles:["admin","team-lead","group-leader","qa"]},{name:"Healing Cases",href:"/healing-cases",icon:In,roles:["admin","team-lead","group-leader"]}]},{id:"storage",name:"Storage",icon:Oc,roles:["admin","team-lead","backup"],items:[{name:"Backups",href:"/backups",icon:X,roles:["admin","team-lead","backup"]},{name:"Storage Forecast",href:"/storage-forecast",icon:Hs,roles:["admin","team-lead","backup"]},{name:"Data Protection",href:"/data-protection",icon:wt,roles:["admin","team-lead"]}]},{id:"admin",name:"Administration",icon:Mv,roles:["admin","team-lead","group-leader","qa-lead","backup-lead"],items:[{name:"Users",href:"/users",icon:Jv,roles:["admin","team-lead","group-leader","qa-lead","backup-lead"]},{name:"Shifts",href:"/shifts",icon:ge,roles:["admin","team-lead","group-leader"]},{name:"Reports",href:"/reports",icon:Ia,roles:["admin","team-lead","group-leader"]},{name:"Activity Feed",href:"/activity-feed",icon:ae,roles:["admin","team-lead","group-leader"]},{name:"Approvals",href:"/approvals",icon:Da,roles:["admin","team-lead","group-leader"]},{name:"Audit Logs",href:"/audit-logs",icon:gs,roles:["admin"]},{name:"Settings",href:"/settings",icon:Tr,roles:["admin"]}]},{id:"support",name:"Support",icon:Eo,roles:["admin","team-lead","group-leader","qa","qa-lead","backup","backup-lead","editor"],items:[{name:"Help & Docs",href:"/help",icon:Eo,roles:["admin","team-lead","group-leader","qa","qa-lead","backup","backup-lead","editor"]}]}].filter(w=>w.roles.some(C=>{var R;return(R=s==null?void 0:s.roles)==null?void 0:R.includes(C)})).map(w=>({...w,items:w.items.filter(C=>C.roles.some(R=>{var E;return(E=s==null?void 0:s.roles)==null?void 0:E.includes(R)}))})).filter(w=>w.items.length>0);return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-200 ${u?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[t.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"G1"})}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold text-gray-900",children:"Gate 1 System"}),t.jsx("span",{className:"block text-[10px] text-gray-400",children:"Powered by Nelium Systems"})]})]}),t.jsx("button",{onClick:()=>d(!1),className:"lg:hidden",children:t.jsx(Ae,{className:"w-5 h-5 text-gray-500"})})]}),t.jsx("nav",{className:"p-4 space-y-2 overflow-y-auto",style:{maxHeight:"calc(100vh - 180px)"},children:j.map(w=>{const C=x.includes(w.id),R=w.items.some(E=>o.pathname===E.href);return t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{onClick:()=>f(w.id),className:`flex items-center justify-between w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors ${R?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(w.icon,{className:"w-5 h-5"}),w.name]}),C?t.jsx(ul,{className:"w-4 h-4"}):t.jsx(Pr,{className:"w-4 h-4"})]}),C&&t.jsx("div",{className:"ml-4 space-y-1",children:w.items.map(E=>{const z=o.pathname===E.href;return t.jsxs(Ce,{to:E.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${z?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsx(E.icon,{className:"w-4 h-4"}),E.name]},E.name)})})]},w.id)})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:[t.jsxs(Ce,{to:"/profile",className:"flex items-center gap-3 mb-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-medium",children:((_=(S=s==null?void 0:s.name)==null?void 0:S.charAt(0))==null?void 0:_.toUpperCase())||"U"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s==null?void 0:s.name}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:(N=s==null?void 0:s.roles)==null?void 0:N[0]})]})]}),t.jsxs("button",{onClick:m,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg",children:[t.jsx(Dc,{className:"w-4 h-4"}),"Sign out"]})]})]}),t.jsxs("div",{className:`${u?"lg:pl-64":""} transition-all duration-200`,children:[t.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>d(!u),className:"lg:hidden",children:t.jsx(Uv,{className:"w-6 h-6 text-gray-500"})}),t.jsxs("div",{className:"relative hidden md:block",children:[t.jsx(Gt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 w-64 bg-gray-100 border-0 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:bg-white"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"hidden lg:flex items-center gap-2 mr-2",children:[t.jsx(Xv,{online:!0}),t.jsx(Zv,{isLive:!0,label:"System Live"})]}),t.jsx("button",{onClick:()=>h(!b),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg dark:hover:bg-gray-700",title:b?"Light mode":"Dark mode",children:b?t.jsx(Wv,{className:"w-5 h-5"}):t.jsx(Hv,{className:"w-5 h-5"})}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>k(!g),className:"relative p-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:[t.jsx(Oa,{className:"w-5 h-5"}),t.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),g&&t.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50",children:[t.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:"Notifications"}),t.jsx(Ce,{to:"/notifications",onClick:()=>k(!1),className:"text-sm text-blue-600 hover:text-blue-700",children:"View all"})]}),t.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[t.jsxs("div",{className:"p-3 hover:bg-gray-50 border-b border-gray-100",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New Issue Reported"}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Camera CAM-042 reported corrupt file"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"5 min ago"})]}),t.jsxs("div",{className:"p-3 hover:bg-gray-50 border-b border-gray-100",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Backup Completed"}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Daily backup completed successfully"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"1 hour ago"})]}),t.jsxs("div",{className:"p-3 hover:bg-gray-50",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Storage Warning"}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"DISK-003 is at 85% capacity"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"3 hours ago"})]})]}),t.jsx("div",{className:"p-2 border-t border-gray-100",children:t.jsx(Ce,{to:"/notifications",onClick:()=>k(!1),className:"block w-full text-center text-sm text-gray-600 hover:text-gray-900 py-2",children:"See all notifications"})})]})]})]})]})}),t.jsx("main",{className:"p-6",children:e})]})]})}const tb={success:Y,error:Gs,warning:G,info:Vs},Yu={success:{bg:"bg-emerald-50",border:"border-emerald-200",icon:"text-emerald-500",title:"text-emerald-800",message:"text-emerald-600"},error:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500",title:"text-red-800",message:"text-red-600"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:"text-amber-500",title:"text-amber-800",message:"text-amber-600"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:"text-sky-500",title:"text-sky-800",message:"text-sky-600"}};function sb(){const{toasts:e,removeToast:s}=ep();return e.length===0?null:t.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 max-w-sm",children:e.map(r=>{const a=tb[r.kind]||Vs,n=Yu[r.kind]||Yu.info;return t.jsxs("div",{className:`${n.bg} ${n.border} border rounded-xl p-4 shadow-lg animate-slide-in-right flex items-start gap-3`,role:"alert",children:[t.jsx(a,{className:`w-5 h-5 ${n.icon} flex-shrink-0 mt-0.5`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`font-semibold text-sm ${n.title}`,children:r.title}),r.message&&t.jsx("p",{className:`text-sm mt-0.5 ${n.message}`,children:r.message})]}),t.jsx("button",{onClick:()=>s(r.id),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:t.jsx(Ae,{className:"w-4 h-4"})})]},r.id)})})}function rb(){const[e,s]=y.useState(""),[r,a]=y.useState(""),[n,l]=y.useState(""),[i,o]=y.useState(!1),{login:c}=de(),u=Ys(),d=async x=>{x.preventDefault(),l(""),o(!0);try{await c(e,r),u("/")}catch(v){l(v.message||"Invalid credentials")}finally{o(!1)}};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-white font-bold text-2xl",children:"G1"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gate 1 System"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Media Chain & Evidence Management"})]}),t.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n&&t.jsx("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg text-sm",children:n}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),t.jsx("input",{type:"email",value:e,onChange:x=>s(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com",required:!0})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),t.jsx(Ce,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})]}),t.jsx("input",{type:"password",value:r,onChange:x=>a(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),t.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Signing in...":"Sign in"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",t.jsx(Ce,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Register here"})]})})]})})})}function ab(){var f;const[e]=C0();Ys();const s=e.get("token")||e.get("invite"),[r,a]=y.useState({name:"",email:"",phone:"",password:"",password_confirmation:"",registration_notes:""}),[n,l]=y.useState(null),[i,o]=y.useState(!1),[c,u]=y.useState(!1),[d,x]=y.useState(!1),[v,b]=y.useState(""),[h,g]=y.useState(!!s);y.useEffect(()=>{s&&k()},[s]);const k=async()=>{try{const p=await Ts.checkInvitation(s);l(p),p!=null&&p.email&&a(j=>({...j,email:p.email}))}catch{b("Invalid or expired invitation link")}finally{g(!1)}},m=async p=>{if(p.preventDefault(),u(!0),b(""),r.password!==r.password_confirmation){b("Passwords do not match"),u(!1);return}try{s?await Ts.registerWithInvitation({token:s,...r}):await Ts.register(r),x(!0)}catch(j){b(j.message||j.error||"Registration failed")}finally{u(!1)}};return h?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent"})}):d?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 text-center border border-white/20",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-500/30",children:t.jsx(Y,{className:"w-10 h-10 text-white"})}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:s?"Registration Complete!":"Application Submitted!"}),t.jsx("p",{className:"text-gray-300 mb-6",children:s?"Your account is ready. You can now login to the system.":"Your registration is pending approval. You will receive an email once your account has been approved."}),t.jsx(Ce,{to:"/login",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl font-medium hover:from-purple-600 hover:to-indigo-700 transition-all shadow-lg shadow-purple-500/30",children:"Go to Login"})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/20",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-purple-500/30",children:t.jsx("span",{className:"text-3xl font-bold text-white",children:"G1"})}),t.jsx("h1",{className:"text-2xl font-bold text-white",children:s?"Complete Your Registration":"Join Gate 1 System"}),t.jsx("p",{className:"text-gray-400 mt-2",children:s?"You have been invited to join the team":"Create your editor account"}),((f=n==null?void 0:n.groups)==null?void 0:f.length)>0&&t.jsx("div",{className:"mt-3 px-4 py-2 bg-purple-500/20 rounded-lg inline-block",children:t.jsxs("span",{className:"text-purple-300 text-sm",children:["Joining: ",n.groups.map(p=>p.name).join(", ")]})})]}),v&&t.jsxs("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 text-red-300 rounded-xl flex items-center gap-3",children:[t.jsx(ze,{className:"w-5 h-5 flex-shrink-0"}),v]}),t.jsxs("form",{onSubmit:m,className:"space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Qt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",value:r.name,onChange:p=>a({...r,name:p.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"John Doe",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(qs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"email",value:r.email,onChange:p=>a({...r,email:p.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all disabled:opacity-50",placeholder:"you@example.com",required:!0,disabled:!!s&&!!(n!=null&&n.email)})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Il,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"tel",value:r.phone,onChange:p=>a({...r,phone:p.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"+1 234 567 8900"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Lr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:i?"text":"password",value:r.password,onChange:p=>a({...r,password:p.target.value}),className:"w-full pl-12 pr-12 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"",required:!0,minLength:8}),t.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:i?t.jsx(jr,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Minimum 8 characters"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Lr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:i?"text":"password",value:r.password_confirmation,onChange:p=>a({...r,password_confirmation:p.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"",required:!0})]})]}),!s&&t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Notes ",t.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(gs,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400"}),t.jsx("textarea",{value:r.registration_notes,onChange:p=>a({...r,registration_notes:p.target.value}),className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none",placeholder:"Any additional information...",rows:3})]})]}),t.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-indigo-700 disabled:opacity-50 transition-all shadow-lg shadow-purple-500/30",children:c?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):s?"Complete Registration":"Submit Application"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(Ce,{to:"/login",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[t.jsx(Ma,{className:"w-4 h-4"}),"Already have an account? Sign in"]})})]})})})}function nb(){const[e,s]=y.useState(""),[r,a]=y.useState(!1),[n,l]=y.useState(!1),[i,o]=y.useState(""),c=async u=>{u.preventDefault(),a(!0),o("");try{await br.forgotPassword(e),l(!0)}catch(d){o(d.message||"Failed to send reset instructions")}finally{a(!1)}};return n?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Y,{className:"w-8 h-8 text-green-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email"}),t.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent password reset instructions to ",t.jsx("strong",{children:e})]}),t.jsxs(Ce,{to:"/login",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[t.jsx(Ma,{className:"w-4 h-4"}),"Back to Login"]})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-2xl font-bold text-white",children:"G1"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Forgot Password?"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your email and we'll send you reset instructions"})]}),i&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center gap-3",children:[t.jsx(ze,{className:"w-5 h-5 flex-shrink-0"}),i]}),t.jsxs("form",{onSubmit:c,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"email",value:e,onChange:u=>s(u.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",required:!0})]})]}),t.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:r?"Sending...":"Send Reset Instructions"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(Ce,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[t.jsx(Ma,{className:"w-4 h-4"}),"Back to Login"]})})]})})})}function lb(){const[e]=C0(),s=Ys(),r=e.get("token"),[a,n]=y.useState({password:"",password_confirmation:""}),[l,i]=y.useState(!1),[o,c]=y.useState(!1),[u,d]=y.useState(!1),[x,v]=y.useState(""),b=async h=>{if(h.preventDefault(),c(!0),v(""),a.password!==a.password_confirmation){v("Passwords do not match"),c(!1);return}try{await br.resetPassword({token:r,password:a.password,password_confirmation:a.password_confirmation}),d(!0),setTimeout(()=>s("/login"),3e3)}catch(g){v(g.message||"Failed to reset password")}finally{c(!1)}};return r?u?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Y,{className:"w-8 h-8 text-green-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully reset. Redirecting to login..."}),t.jsxs(Ce,{to:"/login",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[t.jsx(Ma,{className:"w-4 h-4"}),"Go to Login"]})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx(rp,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your new password below"})]}),x&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center gap-3",children:[t.jsx(ze,{className:"w-5 h-5 flex-shrink-0"}),x]}),t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:l?"text":"password",value:a.password,onChange:h=>n({...a,password:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",placeholder:"",required:!0,minLength:8}),t.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?t.jsx(jr,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum 8 characters"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),t.jsx("input",{type:l?"text":"password",value:a.password_confirmation,onChange:h=>n({...a,password_confirmation:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),t.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:o?"Resetting...":"Reset Password"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(Ce,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[t.jsx(Ma,{className:"w-4 h-4"}),"Back to Login"]})})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(ze,{className:"w-8 h-8 text-red-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Link"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),t.jsx(Ce,{to:"/forgot-password",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:"Request a new link"})]})})})}function yi(){const[e,s]=y.useState([]),[r,a]=y.useState({total:0,online:0,offline:0}),[n,l]=y.useState([]),[i,o]=y.useState(!0),[c,u]=y.useState({groupId:"",online:""}),[d,x]=y.useState(!0);y.useEffect(()=>{v(),b();let g;return d&&(g=setInterval(b,3e4)),()=>clearInterval(g)},[c,d]);const v=async()=>{try{const g=await $t.getAll();l(g.data||g)}catch(g){console.error("Failed to load groups:",g)}},b=async()=>{try{o(!0);const g={};c.groupId&&(g.group_id=c.groupId),c.online!==""&&(g.online=c.online);const k=await Nt.getEditorsStatus(g);s(k.editors||[]),a(k.summary||{total:0,online:0,offline:0})}catch(g){console.error("Failed to load editors status:",g)}finally{o(!1)}},h=g=>{if(!g)return"Never";const k=new Date(g),f=new Date-k,p=Math.floor(f/6e4),j=Math.floor(f/36e5),S=Math.floor(f/864e5);return p<1?"Just now":p<60?`${p}m ago`:j<24?`${j}h ago`:`${S}d ago`};return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-50 rounded-lg",children:t.jsx(Ne,{className:"w-5 h-5 text-sky-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Editor Status"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Real-time online/offline tracking"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-full text-sm font-medium",children:[t.jsx(zt,{className:"w-2 h-2 fill-emerald-500"}),r.online," Online"]}),t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-600 rounded-full text-sm font-medium",children:[t.jsx(zt,{className:"w-2 h-2 fill-gray-400"}),r.offline," Offline"]})]}),t.jsx("button",{onClick:b,disabled:i,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-sky-50 rounded-lg transition-colors",title:"Refresh",children:t.jsx(Be,{className:`w-5 h-5 ${i?"animate-spin":""}`})})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ic,{className:"w-4 h-4 text-gray-400"}),t.jsxs("select",{value:c.groupId,onChange:g=>u({...c,groupId:g.target.value}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500",children:[t.jsx("option",{value:"",children:"All Groups"}),n.map(g=>t.jsxs("option",{value:g.id,children:[g.group_code," - ",g.name]},g.id))]})]}),t.jsxs("select",{value:c.online,onChange:g=>u({...c,online:g.target.value}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"true",children:"Online Only"}),t.jsx("option",{value:"false",children:"Offline Only"})]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 ml-auto",children:[t.jsx("input",{type:"checkbox",checked:d,onChange:g=>x(g.target.checked),className:"rounded border-gray-300 text-sky-600 focus:ring-sky-500"}),"Auto-refresh (30s)"]})]})]}),t.jsx("div",{className:"divide-y divide-gray-50",children:i&&e.length===0?t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(Be,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-sky-500"}),"Loading editors..."]}):e.length===0?t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(Ne,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),"No editors found"]}):e.map(g=>{var k,m;return t.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-10 h-10 bg-sky-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-sky-700 font-semibold text-sm",children:(k=g.name)==null?void 0:k.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2)})}),t.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white ${g.is_online?"bg-emerald-500":"bg-gray-400"}`})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:g.name}),g.is_online&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-emerald-50 text-emerald-700 rounded text-xs font-medium",children:[t.jsx(zt,{className:"w-1.5 h-1.5 fill-emerald-500"}),"Online"]})]}),t.jsx("div",{className:"text-sm text-gray-500",children:g.email})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[((m=g.groups)==null?void 0:m.length)>0&&t.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.groups.slice(0,2).map(f=>t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:f.group_code},f.id)),g.groups.length>2&&t.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",g.groups.length-2]})]}),t.jsx("div",{className:"text-right min-w-[140px]",children:g.is_online?t.jsxs("div",{className:"flex items-center gap-2 text-emerald-600",children:[t.jsx(Bv,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:g.current_activity||"Active"})]}):t.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[t.jsx(ge,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:h(g.last_seen_at)})]})})]})]},g.id)})})]})}function Cs({percentage:e,color:s="sky"}){const r={sky:"bg-sky-500",emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500",purple:"bg-purple-500"};return t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:`h-2.5 rounded-full ${r[s]} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})})}function yn({title:e,value:s,subtitle:r,icon:a,color:n,percentage:l,secondaryPercentage:i,secondaryLabel:o}){const c={sky:"bg-sky-50 text-sky-600",emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r}),l!==void 0&&t.jsxs("div",{className:"mt-3 space-y-2",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[t.jsx("span",{className:"text-gray-500",children:"Copied"}),t.jsxs("span",{className:"font-medium",children:[l,"%"]})]}),t.jsx(Cs,{percentage:l,color:n})]}),i!==void 0&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[t.jsx("span",{className:"text-gray-500",children:o||"Renamed"}),t.jsxs("span",{className:"font-medium",children:[i,"%"]})]}),t.jsx(Cs,{percentage:i,color:"emerald"})]})]})]}),t.jsx("div",{className:`p-3 rounded-lg ${c[n]}`,children:t.jsx(a,{className:"w-5 h-5"})})]})})}function vi(){var u,d,x,v,b,h,g,k;const{activeEvent:e}=de(),[s,r]=y.useState(null),[a,n]=y.useState(!0),[l,i]=y.useState("overview");y.useEffect(()=>{o()},[e==null?void 0:e.id]);const o=async()=>{try{n(!0);const m=await Ge.getWorkflowProgress(e==null?void 0:e.id);r(m)}catch(m){console.error("Failed to load workflow progress:",m)}finally{n(!1)}};if(a&&!s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Be,{className:"w-8 h-8 animate-spin text-sky-500"})});const c=(s==null?void 0:s.overall)||{};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Workflow Progress"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"Copy & rename progress tracking"})]}),t.jsxs("button",{onClick:o,disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors text-sm",children:[t.jsx(Be,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(yn,{title:"Files Detected",value:((u=c.files_detected)==null?void 0:u.toLocaleString())||0,subtitle:`${((d=c.files_pending)==null?void 0:d.toLocaleString())||0} pending`,icon:gs,color:"sky",percentage:c.copy_percentage,secondaryPercentage:c.rename_percentage}),t.jsx(yn,{title:"Files Copied",value:((x=c.files_copied)==null?void 0:x.toLocaleString())||0,subtitle:c.total_size_formatted,icon:Mc,color:"emerald"}),t.jsx(yn,{title:"Media Renamed",value:((v=c.renamed_media)==null?void 0:v.toLocaleString())||0,subtitle:`of ${((b=c.total_media)==null?void 0:b.toLocaleString())||0} total`,icon:Y,color:"emerald"}),t.jsx(yn,{title:"Active Sessions",value:c.active_sessions||0,subtitle:"Currently processing",icon:ae,color:c.active_sessions>0?"amber":"sky"})]}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-6",children:[{id:"overview",label:"By Group",icon:ap},{id:"editors",label:"By Editor",icon:Ne},{id:"sessions",label:"Active Sessions",icon:ae}].map(m=>t.jsxs("button",{onClick:()=>i(m.id),className:`flex items-center gap-2 py-3 border-b-2 transition-colors text-sm ${l===m.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(m.icon,{className:"w-4 h-4"}),m.label]},m.id))})}),l==="overview"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress by Group"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Detected"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Copied"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Copy %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Renamed"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rename %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(h=s==null?void 0:s.by_group)==null?void 0:h.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium text-gray-900",children:m.group_code}),t.jsxs("div",{className:"text-xs text-gray-500",children:[m.member_count," members"]})]}),t.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:m.files_detected.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.files_copied.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right",children:m.files_pending>0?t.jsx("span",{className:"text-amber-600 font-medium",children:m.files_pending.toLocaleString()}):t.jsx("span",{className:"text-emerald-600",children:""})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Cs,{percentage:m.copy_percentage,color:m.copy_percentage>=90?"emerald":m.copy_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.copy_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.renamed_media.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Cs,{percentage:m.rename_percentage,color:m.rename_percentage>=90?"emerald":m.rename_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.rename_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600 text-sm",children:m.total_size_formatted})]},m.id)),(!(s!=null&&s.by_group)||s.by_group.length===0)&&t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"No group data available"})})]})]})})]}),l==="editors"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress by Editor"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Groups"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Detected"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Copied"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Copy %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Renamed"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rename %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(g=s==null?void 0:s.by_editor)==null?void 0:g.map(m=>{var f;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-2.5 h-2.5 ${m.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:m.name}),t.jsx("div",{className:"text-xs text-gray-500",children:m.email})]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"flex flex-wrap gap-1",children:(f=m.groups)==null?void 0:f.map(p=>t.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:p.group_code},p.id))})}),t.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:m.files_detected.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.files_copied.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Cs,{percentage:m.copy_percentage,color:m.copy_percentage>=90?"emerald":m.copy_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.copy_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.renamed_media.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Cs,{percentage:m.rename_percentage,color:m.rename_percentage>=90?"emerald":m.rename_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.rename_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600 text-sm",children:m.total_size_formatted})]},m.id)}),(!(s!=null&&s.by_editor)||s.by_editor.length===0)&&t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"No editor data available"})})]})]})})]}),l==="sessions"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Active Copy Sessions"})}),((k=s==null?void 0:s.active_sessions)==null?void 0:k.length)>0?t.jsx("div",{className:"divide-y divide-gray-100",children:s.active_sessions.map(m=>t.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),t.jsx("span",{className:"font-medium text-gray-900",children:m.editor}),t.jsx("span",{className:"text-gray-500",children:""}),t.jsxs("span",{className:"text-gray-600",children:["Camera ",m.camera_number]}),m.sd_label&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-500",children:""}),t.jsx("span",{className:"text-gray-600",children:m.sd_label})]})]}),t.jsxs("span",{className:"text-sm text-gray-500",children:["Started ",new Date(m.started_at).toLocaleTimeString()]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Cs,{percentage:m.copy_progress,color:"sky"})}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"font-medium text-gray-900",children:m.files_copied}),t.jsxs("span",{className:"text-gray-500",children:[" / ",m.files_detected]}),t.jsxs("span",{className:"text-gray-400 ml-2",children:["(",m.copy_progress,"%)"]})]})]}),m.files_pending>0&&t.jsxs("div",{className:"mt-1 text-xs text-amber-600",children:[m.files_pending," files pending"]})]},m.session_id))}):t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(ae,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),t.jsx("p",{children:"No active copy sessions"})]})]})]})}const ib={sd:X,backup:X,snapshot:st,session:ae,copy:X,issues:G,attention:G,rename:Vs,system:ae,user:Qt,network:Ws},Xu={success:{bg:"bg-emerald-50",border:"border-emerald-200",icon:"text-emerald-500",dot:"bg-emerald-500"},error:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500",dot:"bg-red-500"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:"text-amber-500",dot:"bg-amber-500"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:"text-sky-500",dot:"bg-sky-500"}};function ob(e){if(!e)return"-";const s=new Date(e);if(isNaN(s.getTime()))return"-";const a=new Date-s,n=Math.floor(a/6e4),l=Math.floor(a/36e5);return n<1?"Just now":n<60?`${n}m ago`:l<24?`${l}h ago`:s.toLocaleTimeString("en-KE",{hour:"2-digit",minute:"2-digit",hour12:!1})}function cb({item:e,expanded:s,onToggle:r}){const a=ib[e.source]||ae,n=Xu[e.kind]||Xu.info,l=e.details&&Object.keys(e.details).length>0;return t.jsx("div",{className:`${n.bg} ${n.border} border rounded-xl p-3 transition-all hover:shadow-sm`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex flex-col items-center",children:t.jsx("div",{className:`w-8 h-8 rounded-full ${n.bg} border ${n.border} flex items-center justify-center`,children:t.jsx(a,{className:`w-4 h-4 ${n.icon}`})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:e.title}),t.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:ob(e.createdAt)})]}),e.message&&t.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:e.message}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${n.bg} ${n.icon}`,children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${n.dot}`}),e.source]}),l&&t.jsxs("button",{onClick:()=>r(e.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[s?t.jsx(Tv,{className:"w-3 h-3"}):t.jsx(ul,{className:"w-3 h-3"}),s?"Hide":"Details"]})]}),s&&l&&t.jsx("div",{className:"mt-2 p-2 bg-white/60 rounded-lg border border-gray-200",children:t.jsx("pre",{className:"text-xs text-gray-600 overflow-auto max-h-32 whitespace-pre-wrap",children:JSON.stringify(e.details,null,2)})})]})]})})}function db({items:e=[],maxItems:s=20,title:r="Live Activity",showRefresh:a=!0,onRefresh:n,compact:l=!1,className:i=""}){const[o,c]=y.useState(new Set),[u,d]=y.useState("all"),x=y.useCallback(h=>{c(g=>{const k=new Set(g);return k.has(h)?k.delete(h):k.add(h),k})},[]),v=e.filter(h=>u==="all"||h.kind===u).slice(0,s),b=e.reduce((h,g)=>(h[g.kind]=(h[g.kind]||0)+1,h),{});return t.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 shadow-sm ${i}`,children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ae,{className:"w-5 h-5 text-gray-600"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:r}),t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:e.length})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"hidden sm:flex items-center gap-1",children:["all","success","warning","error","info"].map(h=>t.jsxs("button",{onClick:()=>d(h),className:`px-2 py-1 text-xs rounded-full transition-colors ${u===h?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[h==="all"?"All":h.charAt(0).toUpperCase()+h.slice(1),h!=="all"&&b[h]>0&&t.jsxs("span",{className:"ml-1 opacity-70",children:["(",b[h],")"]})]},h))}),a&&n&&t.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Be,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:`p-4 space-y-3 overflow-y-auto ${l?"max-h-64":"max-h-96"}`,children:v.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ae,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"No activity yet"})]}):v.map(h=>t.jsx(cb,{item:h,expanded:o.has(h.id),onToggle:x},h.id))}),e.length>s&&t.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:t.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",s," of ",e.length," activities"]})})]})}const Zu={IDLE:{bg:"bg-gray-50",border:"border-gray-200",icon:ge,iconColor:"text-gray-500",title:"Ready",subtitle:"Waiting for activity"},SD_DETECTED:{bg:"bg-sky-50",border:"border-sky-200",icon:X,iconColor:"text-sky-500",title:"SD Card Detected",subtitle:"Preparing session..."},SESSION_ACTIVE:{bg:"bg-emerald-50",border:"border-emerald-200",icon:ae,iconColor:"text-emerald-500",title:"Session Active",subtitle:"Workflow in progress"},COPYING_IN_PROGRESS:{bg:"bg-purple-50",border:"border-purple-200",icon:vt,iconColor:"text-purple-500",title:"Copying Files",subtitle:"Verifying and copying...",animate:!0},BACKUP_IN_PROGRESS:{bg:"bg-indigo-50",border:"border-indigo-200",icon:X,iconColor:"text-indigo-500",title:"Backup Running",subtitle:"Backing up to disk...",animate:!0},ATTENTION_REQUIRED:{bg:"bg-amber-50",border:"border-amber-300",icon:G,iconColor:"text-amber-500",title:"Attention Required",subtitle:"Action needed"},ISSUE_RECORDED:{bg:"bg-orange-50",border:"border-orange-200",icon:G,iconColor:"text-orange-500",title:"Issue Recorded",subtitle:"Pending QA review"},SD_REMOVAL_CHECK:{bg:"bg-amber-50",border:"border-amber-200",icon:X,iconColor:"text-amber-500",title:"SD Removal Check",subtitle:"Verifying safe removal..."},SESSION_CLOSED:{bg:"bg-emerald-50",border:"border-emerald-200",icon:Y,iconColor:"text-emerald-500",title:"Session Complete",subtitle:"All tasks finished"},RETENTION_PENDING:{bg:"bg-gray-50",border:"border-gray-200",icon:ge,iconColor:"text-gray-500",title:"Retention Pending",subtitle:"Auto-delete scheduled"}};function ub({percent:e,color:s="sky"}){const r={sky:"bg-sky-500",emerald:"bg-emerald-500",purple:"bg-purple-500",indigo:"bg-indigo-500",amber:"bg-amber-500"};return t.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${r[s]||r.sky} transition-all duration-500`,style:{width:`${Math.min(100,Math.max(0,e))}%`}})})}function mb({state:e="IDLE",sessionId:s,eventName:r,cameraNumber:a,progress:n,progressLabel:l,onAction:i,dismissible:o=!1,onDismiss:c,className:u=""}){const d=Zu[e]||Zu.IDLE,x=d.icon;return e==="IDLE"&&!s&&!r?null:t.jsx("div",{className:`${d.bg} ${d.border} border rounded-xl p-4 ${u}`,children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`p-2 rounded-full bg-white/80 ${d.animate?"animate-pulse":""}`,children:t.jsx(x,{className:`w-6 h-6 ${d.iconColor} ${d.animate?"animate-spin":""}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:d.title}),t.jsx("p",{className:"text-sm text-gray-600",children:d.subtitle})]}),o&&c&&t.jsx("button",{onClick:c,className:"p-1 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-white/50",children:t.jsx(Ae,{className:"w-4 h-4"})})]}),(s||r||a)&&t.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[r&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-700",children:[t.jsx(ae,{className:"w-3.5 h-3.5"}),r]}),a&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-700",children:[t.jsx(st,{className:"w-3.5 h-3.5"}),"Camera ",a]}),s&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-500",children:["ID: ",s]})]}),n!=null&&t.jsxs("div",{className:"mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-gray-600",children:l||"Progress"}),t.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(n),"%"]})]}),t.jsx(ub,{percent:n,color:e==="BACKUP_IN_PROGRESS"?"indigo":e==="COPYING_IN_PROGRESS"?"purple":"sky"})]}),i&&e==="ATTENTION_REQUIRED"&&t.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[t.jsx("button",{onClick:()=>i("review"),className:"px-3 py-1.5 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors",children:"Review Now"}),t.jsx("button",{onClick:()=>i("dismiss"),className:"px-3 py-1.5 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:"Dismiss"})]})]})]})})}const xb={SD_REMOVAL_PENDING:"SD Card Removed Early",WRONG_DESTINATION:"Wrong Destination Detected",DUPLICATE_FILE:"Potential Duplicate Detected",FILENAME_MAJOR:"Filename Needs Attention",SD_SESSION_OVERLAP:"SD Session Overlap",BACKUP_FAILED:"Backup Failed",QUALITY_ISSUE:"Quality Issue Detected",STORAGE_CRITICAL:"Storage Critical",AGENT_OFFLINE:"Agent Went Offline"},em={critical:{bg:"bg-red-50",border:"border-red-200",icon:Gs,iconColor:"text-red-500",headerBg:"bg-red-100"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:G,iconColor:"text-amber-500",headerBg:"bg-amber-100"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:Vs,iconColor:"text-sky-500",headerBg:"bg-sky-100"}};function pb({open:e,onClose:s,reason:r,severity:a="warning",title:n,message:l,details:i,actions:o=[],onAction:c}){if(!e)return null;const u=em[a]||em.warning,d=u.icon,x=n||xb[r]||"Attention Required",v=async h=>{c&&await c(h),h.closeOnClick!==!1&&s()},b=o.length>0?o:[{id:"acknowledge",label:"Acknowledge",variant:"primary"},{id:"dismiss",label:"Dismiss",variant:"secondary"}];return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:`w-full max-w-lg ${u.bg} ${u.border} border rounded-2xl shadow-2xl overflow-hidden animate-scale-in`,children:[t.jsxs("div",{className:`${u.headerBg} px-6 py-4 flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-full bg-white/80",children:t.jsx(d,{className:`w-6 h-6 ${u.iconColor}`})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900",children:x}),r&&r!==x&&t.jsx("p",{className:"text-sm text-gray-600",children:r})]})]}),t.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-white/50 transition-colors",children:t.jsx(Ae,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"px-6 py-4",children:[l&&t.jsx("p",{className:"text-gray-700 mb-4",children:l}),i&&t.jsxs("div",{className:"bg-white/60 border border-gray-200 rounded-xl p-4 mb-4",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Details"}),typeof i=="object"?t.jsx("pre",{className:"text-sm text-gray-700 overflow-auto max-h-40 whitespace-pre-wrap",children:JSON.stringify(i,null,2)}):t.jsx("p",{className:"text-sm text-gray-700",children:i})]}),a==="critical"&&t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-100 border border-red-200 rounded-lg mb-4",children:[t.jsx(ze,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-700 font-medium",children:"This requires immediate attention."})]})]}),t.jsx("div",{className:"px-6 py-4 bg-white/50 border-t border-gray-200 flex flex-wrap gap-3 justify-end",children:b.map(h=>t.jsx("button",{onClick:()=>v(h),disabled:h.disabled,className:`px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${h.variant==="primary"?"bg-gray-900 text-white hover:bg-gray-800 shadow-lg":h.variant==="danger"?"bg-red-600 text-white hover:bg-red-700":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"} ${h.disabled?"opacity-50 cursor-not-allowed":""}`,children:h.label},h.id))})]})})}function hb(e){if(!e)return null;const a=new Date(e)-new Date;if(a<=0)return{expired:!0,text:"Event ended",days:0,hours:0};const n=Math.floor(a/(1e3*60*60*24)),l=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),i=Math.floor(a%(1e3*60*60)/(1e3*60));let o="";return n>0?o=`${n}d ${l}h remaining`:l>0?o=`${l}h ${i}m remaining`:o=`${i}m remaining`,{expired:!1,text:o,days:n,hours:l,minutes:i}}function bi({event:e}){if(!e)return t.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(G,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium opacity-90",children:"No Active Event"})]}),t.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Activate an Event to Begin"}),t.jsx("p",{className:"text-white/80 text-sm",children:"All operations are scoped to the active event. Go to Events to activate one."})]}),t.jsxs(Ce,{to:"/events",className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[t.jsx(zr,{className:"w-4 h-4"}),"Go to Events"]})]})});const s=hb(e.end_datetime||e.end_date),r=new Date(e.start_datetime||e.start_date),a=e.end_datetime||e.end_date?new Date(e.end_datetime||e.end_date):null;return t.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 opacity-10",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white rounded-full -translate-y-1/2 translate-x-1/2"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white rounded-full translate-y-1/2 -translate-x-1/2"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),t.jsx("span",{className:"text-sm font-medium opacity-90",children:"ACTIVE EVENT"})]}),t.jsx("h2",{className:"text-3xl font-bold mb-1",children:e.name}),t.jsx("p",{className:"text-white/80 text-sm",children:e.code})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xl,{className:"w-6 h-6"}),t.jsx("span",{className:"text-lg font-semibold",children:"Running"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[t.jsx(Wt,{className:"w-3 h-3"}),"Started"]}),t.jsx("div",{className:"font-semibold",children:r.toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),a&&t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[t.jsx(ge,{className:"w-3 h-3"}),"Ends"]}),t.jsx("div",{className:"font-semibold",children:a.toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),e.location&&t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[t.jsx(Fc,{className:"w-3 h-3"}),"Location"]}),t.jsx("div",{className:"font-semibold truncate",children:e.location})]}),s&&t.jsxs("div",{className:`rounded-lg p-3 ${s.expired?"bg-yellow-500/30":"bg-white/10"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[t.jsx(ae,{className:"w-3 h-3"}),"Time Left"]}),t.jsx("div",{className:"font-semibold",children:s.expired?"Past end date":s.text})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nt,{className:"w-4 h-4 opacity-70"}),t.jsxs("span",{children:[e.media_count||0," media files"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ne,{className:"w-4 h-4 opacity-70"}),t.jsxs("span",{children:[e.groups_count||0," groups"]})]})]}),t.jsxs(Ce,{to:"/events",className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:["Manage Event",t.jsx(Ev,{className:"w-4 h-4"})]})]})]})]})}function le({title:e,value:s,icon:r,color:a,subtitle:n}){const l={blue:"bg-blue-50 text-blue-600",red:"bg-red-50 text-red-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:s}),n&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),t.jsx("div",{className:`p-3 rounded-lg ${l[a]}`,children:t.jsx(r,{className:"w-6 h-6"})})]})})}function ji({issues:e}){const s={critical:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",medium:"bg-yellow-100 text-yellow-700",low:"bg-gray-100 text-gray-700"};return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Issues"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[(e==null?void 0:e.length)===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No open issues"}),e==null?void 0:e.map(r=>t.jsx("div",{className:"p-4 hover:bg-gray-50",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:r.type.replace("_"," ")}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Reported by ",r.reporter]})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s[r.severity]}`,children:r.severity})]})},r.id))]})]})}function tm({groups:e}){return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Groups Health"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:e==null?void 0:e.map(s=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:s.code}),t.jsx("p",{className:"text-sm text-gray-500",children:s.name})]}),t.jsx("div",{className:"flex items-center gap-2",children:s.open_issues>0?t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:[s.open_issues," issues"]}):t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"Healthy"})})]},s.id))})]})}function gb(){var w,C,R,E,z,A,U,I,W,ee,$,L;const{user:e,activeEvent:s,isAdmin:r,isTeamLead:a,isGroupLeader:n,isQALead:l,isQA:i,isBackupLead:o,isBackup:c}=de(),u=ep(),[d,x]=y.useState(null),[v,b]=y.useState(!0),[h,g]=y.useState([]),[k,m]=y.useState("IDLE"),[f,p]=y.useState({open:!1,reason:null,details:null}),j=y.useCallback(O=>{const B=[],V=Date.now();return O!=null&&O.recent_issues&&O.recent_issues.slice(0,5).forEach((te,ne)=>{var qe;B.push({id:`issue-${te.id||ne}`,source:"issues",kind:te.severity==="critical"?"error":"warning",title:`Issue: ${((qe=te.type)==null?void 0:qe.replace("_"," "))||"Unknown"}`,message:`Reported by ${te.reporter||"Unknown"}`,details:te,createdAt:V-ne*6e4})}),O!=null&&O.overview&&(O.overview.active_sessions>0&&B.push({id:"sessions-active",source:"session",kind:"info",title:`${O.overview.active_sessions} Active Sessions`,message:"SD cards currently being processed",createdAt:V-12e4}),O.overview.pending_backups>0&&B.push({id:"backups-pending",source:"backup",kind:O.overview.pending_backups>10?"warning":"info",title:`${O.overview.pending_backups} Pending Backups`,message:"Files awaiting backup verification",createdAt:V-18e4})),B.sort((te,ne)=>ne.createdAt-te.createdAt),B},[]);y.useEffect(()=>{S()},[s==null?void 0:s.id]);const S=async()=>{var O,B;try{let V;r()?V=await Ge.getAdmin(s==null?void 0:s.id):a()?V=await Ge.getAdmin(s==null?void 0:s.id):n()?V=await Ge.getGroupLeader():l()||i()?V=await Ge.getQA():o()||c()?V=await Ge.getBackup():V=await Ge.getEditor(),x(V);const te=j(V);g(te),((O=V==null?void 0:V.overview)==null?void 0:O.active_sessions)>0?m("SESSION_ACTIVE"):((B=V==null?void 0:V.overview)==null?void 0:B.open_issues)>5&&m("ATTENTION_REQUIRED")}catch(V){console.error("Failed to load dashboard:",V),u.error("Dashboard Error","Failed to load dashboard data")}finally{b(!1)}},_=async()=>{u.info("Refreshing","Updating dashboard data..."),await S(),u.success("Updated","Dashboard data refreshed")},N=O=>{u.success("Action Recorded",`Decision: ${O.id}`),p({open:!1,reason:null,details:null})};if(v)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(r()&&(d!=null&&d.overview))return t.jsxs("div",{className:"space-y-6",children:[t.jsx(pb,{open:f.open,onClose:()=>p({open:!1,reason:null,details:null}),reason:f.reason,severity:f.severity,title:f.title,message:f.message,details:f.details,onAction:N}),t.jsx(bi,{event:s}),k!=="IDLE"&&t.jsx(mb,{state:k,eventName:d.overview.active_event_name,onAction:O=>{O==="review"&&p({open:!0,reason:"ATTENTION_REQUIRED",severity:"warning",title:"Issues Require Attention",message:`There are ${d.overview.open_issues} open issues that need review.`,details:{openIssues:d.overview.open_issues,criticalIssues:d.overview.critical_issues}})},dismissible:!0,onDismiss:()=>m("IDLE")}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Command View"}),t.jsx("p",{className:"text-gray-500",children:"System-wide situational awareness  signals, not metrics"})]}),t.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[t.jsx(Be,{className:"w-4 h-4"}),"Refresh"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(Ce,{to:"/events",className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Events"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Activate / switch active event"})]}),t.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:t.jsx(Wt,{className:"w-5 h-5"})})]})}),t.jsx(Ce,{to:"/issues",className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Issues"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Triage and assign"})]}),t.jsx("div",{className:"p-2 rounded-lg bg-red-50 text-red-600",children:t.jsx(G,{className:"w-5 h-5"})})]})}),t.jsx(Ce,{to:"/users",className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Users"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Invite and manage access"})]}),t.jsx("div",{className:"p-2 rounded-lg bg-purple-50 text-purple-600",children:t.jsx(Ne,{className:"w-5 h-5"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Operational Status"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Fast read on risk and throughput"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${(d.overview.critical_issues||0)>0?"bg-red-100 text-red-700":(d.overview.open_issues||0)>5?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:(d.overview.critical_issues||0)>0?"Critical":(d.overview.open_issues||0)>5?"Attention":"Stable"})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[t.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Open Issues"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:d.overview.open_issues||0})]}),t.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Critical"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:d.overview.critical_issues||0})]}),t.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Pending Backups"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:d.overview.pending_backups||0})]}),t.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Active Sessions"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:d.overview.active_sessions||0})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Editors Online"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Last 2 minutes"})]}),t.jsx(Ws,{className:"w-4 h-4 text-green-600"})]}),t.jsxs("div",{className:"mt-4 flex items-baseline gap-2",children:[t.jsx("div",{className:"text-3xl font-bold text-gray-900",children:d.overview.online_agents||0}),t.jsxs("div",{className:"text-sm text-gray-500",children:["/ ",d.overview.total_editors||0]})]}),t.jsxs("div",{className:"mt-3 rounded-lg bg-gray-50 p-3",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Backup Coverage"}),t.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[d.overview.backup_coverage||0,"%"]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsx(le,{title:"Active SD Sessions",value:d.overview.active_sessions||0,icon:ae,color:"blue",subtitle:"Currently copying"}),t.jsx(le,{title:"Cameras Healthy",value:d.overview.cameras_healthy||0,icon:st,color:"green",subtitle:`${d.overview.cameras_attention||0} need attention`}),t.jsx(le,{title:"Open Issues",value:d.overview.open_issues||0,icon:G,color:"red",subtitle:`${d.overview.critical_issues||0} critical`}),t.jsx(le,{title:"Pending Backups",value:d.overview.pending_backups||0,icon:X,color:"yellow"}),t.jsx(le,{title:"Early Removals",value:d.overview.early_removals_today||0,icon:G,color:d.overview.early_removals_today>0?"red":"green",subtitle:"Today"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Media Today"}),t.jsx(nt,{className:"w-4 h-4 text-blue-500"})]}),t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.overview.media_today||0,t.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"files indexed"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Total Media"}),t.jsx(xs,{className:"w-4 h-4 text-purple-500"})]}),t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.overview.total_media||0,t.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"files indexed"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Cameras Needing Attention"}),t.jsx(st,{className:"w-4 h-4 text-red-500"})]}),t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[d.overview.cameras_attention||0,t.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"cameras"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx(ji,{issues:d.recent_issues}),t.jsx(tm,{groups:d.groups_health}),t.jsx(db,{items:h,maxItems:10,title:"Live Activity",showRefresh:!0,onRefresh:_,compact:!0})]}),t.jsx(vi,{}),t.jsx(yi,{})]});if(a()&&(d!=null&&d.overview))return t.jsxs("div",{className:"space-y-6",children:[t.jsx(bi,{event:s}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Operations Command"}),t.jsx("p",{className:"text-gray-500",children:"Event operations oversight  real-time situational awareness"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsx(le,{title:"Active SD Sessions",value:d.overview.active_sessions||0,icon:ae,color:"blue",subtitle:"Currently copying"}),t.jsx(le,{title:"Cameras Healthy",value:d.overview.cameras_healthy||0,icon:st,color:"green",subtitle:`${d.overview.cameras_attention||0} need attention`}),t.jsx(le,{title:"Open Issues",value:d.overview.open_issues||0,icon:G,color:"red",subtitle:`${d.overview.critical_issues||0} critical`}),t.jsx(le,{title:"Pending Backups",value:d.overview.pending_backups||0,icon:X,color:"yellow"}),t.jsx(le,{title:"Early Removals",value:d.overview.early_removals_today||0,icon:G,color:d.overview.early_removals_today>0?"red":"green",subtitle:"Today"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(ji,{issues:d.recent_issues}),t.jsx(tm,{groups:d.groups_health})]}),t.jsx(vi,{}),t.jsx(yi,{})]});if(n()&&(d!=null&&d.groups))return t.jsxs("div",{className:"space-y-6",children:[t.jsx(bi,{event:s}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Control View"}),t.jsx("p",{className:"text-gray-500",children:"Your group's operations  no global data, only your team"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(le,{title:"Editors Online",value:((w=d.team_stats)==null?void 0:w.online_members)||0,icon:Ws,color:"green",subtitle:`of ${((C=d.team_stats)==null?void 0:C.total_members)||0} total`}),t.jsx(le,{title:"Active Sessions",value:((R=d.team_stats)==null?void 0:R.active_sessions)||0,icon:ae,color:"blue",subtitle:"In your group"}),t.jsx(le,{title:"Open Issues",value:((E=d.groups)==null?void 0:E.reduce((O,B)=>O+B.open_issues,0))||0,icon:G,color:"red"}),t.jsx(le,{title:"Backup Completion",value:`${((z=d.team_stats)==null?void 0:z.backup_percentage)||0}%`,icon:X,color:((A=d.team_stats)==null?void 0:A.backup_percentage)>=80?"green":"yellow",subtitle:"Group only"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"My Team"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:(U=d.groups)==null?void 0:U.map(O=>t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"font-medium",children:[O.code," - ",O.name]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[t.jsx(zt,{className:"w-2 h-2 fill-green-500 text-green-500"}),O.online_count||0," online"]})})]}),t.jsxs("div",{className:"flex gap-4 text-sm",children:[t.jsxs("span",{className:"text-gray-600",children:[O.member_count," members"]}),t.jsxs("span",{className:"text-red-600",children:[O.open_issues," issues"]})]})]},O.id))})]}),t.jsx(ji,{issues:d.recent_issues})]}),t.jsx(vi,{}),t.jsx(yi,{}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 text-sm text-blue-700",children:[t.jsx("strong",{children:" Scoped View"}),"  You only see data from your assigned groups. No global search or unrelated data."]})]});if((l()||i())&&(d!=null&&d.issue_summary)){const O=d.severity_distribution||{critical:0,high:0,medium:0,low:0},B=Object.values(O).reduce((V,te)=>V+te,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l()?"QA Lead Workbench":"Issue Workbench"}),t.jsx("p",{className:"text-gray-500",children:"Issue review only  you never see clean footage, only problems to resolve"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(le,{title:"Open Queue",value:d.issue_summary.open||0,icon:ge,color:"blue"}),t.jsx(le,{title:"Acknowledged",value:d.issue_summary.acknowledged||0,icon:ae,color:"yellow"}),t.jsx(le,{title:"In Progress",value:d.issue_summary.in_progress||0,icon:xs,color:"purple"}),t.jsx(le,{title:"Resolved Today",value:d.issue_summary.resolved_today||0,icon:Y,color:"green"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Severity Distribution"}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-red-700",children:O.critical||0}),t.jsx("div",{className:"text-xs text-red-600",children:"Critical"})]}),t.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-700",children:O.high||0}),t.jsx("div",{className:"text-xs text-orange-600",children:"High"})]}),t.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:O.medium||0}),t.jsx("div",{className:"text-xs text-yellow-600",children:"Medium"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-700",children:O.low||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Low"})]})]}),B>0&&t.jsxs("div",{className:"h-3 flex rounded-full overflow-hidden",children:[t.jsx("div",{className:"bg-red-500",style:{width:`${O.critical/B*100}%`}}),t.jsx("div",{className:"bg-orange-500",style:{width:`${O.high/B*100}%`}}),t.jsx("div",{className:"bg-yellow-500",style:{width:`${O.medium/B*100}%`}}),t.jsx("div",{className:"bg-gray-400",style:{width:`${O.low/B*100}%`}})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Critical Issues Queue"})}),t.jsxs("div",{className:"divide-y divide-gray-100 max-h-80 overflow-y-auto",children:[((I=d.critical_issues)==null?void 0:I.length)===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No critical issues"}),(W=d.critical_issues)==null?void 0:W.map(V=>{var te,ne;return t.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:(te=V.type)==null?void 0:te.replace("_"," ")}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Camera ",V.camera_number||"?","  ",(ne=V.group)==null?void 0:ne.group_code]})]}),t.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:"Critical"})]})},V.id)})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Cameras with Repeated Issues"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[(d.problem_cameras||[]).length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No cameras flagged"}),(d.problem_cameras||[]).map(V=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(st,{className:"w-5 h-5 text-gray-400"}),t.jsxs("span",{className:"font-medium",children:["Camera ",V.camera_number]})]}),t.jsxs("span",{className:"text-red-600 text-sm",children:[V.issue_count," issues"]})]},V.camera_number))]})]})]}),t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-3 text-sm text-purple-700",children:[t.jsx("strong",{children:" QA Access"}),"  You can only view and resolve issues. No access to names, regions, or clean footage."]})]})}if((o()||c())&&(d!=null&&d.coverage)){const O=d.coverage;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o()?"Archive Integrity Lead":"Archive Integrity View"}),t.jsx("p",{className:"text-gray-500",children:"Coverage and verification status  you see integrity, not content"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(le,{title:"Pending Backups",value:O.pending||0,icon:ge,color:O.pending>10?"red":"yellow",subtitle:"By editor"}),t.jsx(le,{title:"Disks In Use",value:O.disks_in_use||0,icon:X,color:"blue"}),t.jsx(le,{title:"Verification Failures",value:O.verification_failures||0,icon:G,color:O.verification_failures>0?"red":"green"}),t.jsx(le,{title:"Coverage",value:`${O.coverage_percentage||0}%`,icon:Y,color:O.coverage_percentage>=90?"green":"yellow"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Backup Coverage"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:O.total_media||0}),t.jsx("div",{className:"text-sm text-gray-500",children:"Total Files"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:O.backed_up||0}),t.jsx("div",{className:"text-sm text-gray-500",children:"Backed Up"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:O.verified||0}),t.jsx("div",{className:"text-sm text-gray-500",children:"Verified"})]})]}),t.jsx("div",{className:"overflow-hidden h-4 flex rounded-full bg-gray-200",children:t.jsx("div",{style:{width:`${O.coverage_percentage}%`},className:"bg-green-500 transition-all duration-500"})}),t.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[t.jsx("span",{children:"0%"}),t.jsxs("span",{children:[O.coverage_percentage,"% backed up"]}),t.jsx("span",{children:"100%"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending by Editor"})}),t.jsxs("div",{className:"divide-y divide-gray-100 max-h-60 overflow-y-auto",children:[(d.pending_by_editor||[]).length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"All caught up!"}),(d.pending_by_editor||[]).map(B=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:B.name}),t.jsxs("span",{className:`text-sm ${B.pending>5?"text-red-600":"text-yellow-600"}`,children:[B.pending," pending"]})]},B.id))]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Disk Rotation Status"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[(d.disk_status||[]).length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No disk data"}),(d.disk_status||[]).map(B=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(X,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"font-medium",children:B.label})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${B.status==="active"?"bg-green-100 text-green-700":B.status==="full"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:B.status})]},B.id))]})]})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 text-sm text-green-700",children:[t.jsx("strong",{children:" Archive View"}),"  You see coverage and verification, not file contents. Focus on integrity, not media."]})]})}return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome, ",e==null?void 0:e.name]}),t.jsx("p",{className:"text-gray-500",children:"Your activity overview"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(le,{title:"Files Indexed Today",value:((ee=d==null?void 0:d.today)==null?void 0:ee.files_indexed)||0,icon:nt,color:"blue"}),t.jsx(le,{title:"Issues Reported",value:(($=d==null?void 0:d.today)==null?void 0:$.issues_reported)||0,icon:G,color:"yellow"}),t.jsx(le,{title:"Backups Verified",value:((L=d==null?void 0:d.today)==null?void 0:L.backups_verified)||0,icon:Y,color:"green"})]})]})}function Ni({percentage:e,color:s="sky",size:r="md"}){const a={sky:"bg-sky-500",emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500",purple:"bg-purple-500"},n={sm:"h-1.5",md:"h-2.5",lg:"h-3"};return t.jsx("div",{className:`w-full bg-gray-200 rounded-full ${n[r]}`,children:t.jsx("div",{className:`${n[r]} rounded-full ${a[s]} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})})}function be({title:e,value:s,subtitle:r,icon:a,color:n,trend:l,trendValue:i}){const o={sky:"bg-sky-50 text-sky-600",emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",red:"bg-red-50 text-red-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r}),l&&t.jsxs("div",{className:`flex items-center gap-1 mt-2 text-sm ${l==="up"?"text-emerald-600":l==="down"?"text-red-600":"text-gray-500"}`,children:[l==="up"?t.jsx(xs,{className:"w-4 h-4"}):l==="down"?t.jsx(Nr,{className:"w-4 h-4"}):t.jsx($c,{className:"w-4 h-4"}),t.jsx("span",{children:i})]})]}),t.jsx("div",{className:`p-3 rounded-lg ${o[n]}`,children:t.jsx(a,{className:"w-5 h-5"})})]})})}function fb({alert:e}){const s={critical:"border-red-200 bg-red-50",warning:"border-amber-200 bg-amber-50",info:"border-sky-200 bg-sky-50"},r={critical:t.jsx(Gs,{className:"w-5 h-5 text-red-500"}),warning:t.jsx(G,{className:"w-5 h-5 text-amber-500"}),info:t.jsx(ze,{className:"w-5 h-5 text-sky-500"})};return t.jsxs("div",{className:`p-3 rounded-lg border ${s[e.severity]} flex items-start gap-3`,children:[r[e.severity],t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-gray-900 text-sm",children:e.title}),t.jsx("div",{className:"text-gray-600 text-xs mt-0.5",children:e.message}),t.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:[e.time_ago,"  ",e.user]})]})]})}function yb(){var p,j,S,_,N,w,C,R,E,z,A,U,I,W,ee,$,L,O,B,V,te,ne,qe,Q,Te,Ns,Mt,Xs,Dl,Zs,Hr,Qa,zc,Bc,Hc,Vc,qc,Wc,Gc,Qc,Kc,Jc,Yc,Xc,Zc,ed,td,sd,rd,ad,nd,ld,id,od,cd,dd;const{activeEvent:e}=de(),[s,r]=y.useState(!0),[a,n]=y.useState("overview"),[l,i]=y.useState(null),[o,c]=y.useState(null),[u,d]=y.useState(null),[x,v]=y.useState(null),[b,h]=y.useState(null),[g,k]=y.useState(null);y.useEffect(()=>{m()},[e==null?void 0:e.id]);const m=async()=>{r(!0);const M=e==null?void 0:e.id;try{const[we,Ka,Fl,Ja,$l,dp]=await Promise.all([Ge.getTimeAnalytics(M),Ge.getIncidents(M,7),Ge.getSdCardLifecycle(M),Ge.getComparative(M),Ge.getPredictive(M),Ge.getAlerts(M)]);i(we),c(Ka),d(Fl),v(Ja),h($l),k(dp)}catch(we){console.error("Failed to load analytics:",we)}finally{r(!1)}};if(s&&!l)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Be,{className:"w-8 h-8 animate-spin text-sky-500"})});const f=[{id:"overview",label:"Overview",icon:Hs},{id:"time",label:"Time Analytics",icon:ge},{id:"incidents",label:"Incidents",icon:G},{id:"sdcards",label:"SD Cards",icon:X},{id:"leaderboard",label:"Leaderboard",icon:Rv},{id:"planning",label:"Planning",icon:Dn}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"360 view of workflow operations"})]}),t.jsxs("button",{onClick:m,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors text-sm",children:[t.jsx(Be,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Refresh"]})]}),((p=g==null?void 0:g.summary)==null?void 0:p.critical)>0&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-4",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(Oa,{className:"w-6 h-6 text-red-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"font-semibold text-red-900",children:[g.summary.critical," Critical Alert",g.summary.critical>1?"s":""]}),t.jsx("div",{className:"text-red-700 text-sm",children:"Immediate attention required"})]}),t.jsx("button",{onClick:()=>n("incidents"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"View Alerts"})]}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:f.map(M=>t.jsxs("button",{onClick:()=>n(M.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors text-sm whitespace-nowrap ${a===M.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(M.icon,{className:"w-4 h-4"}),M.label]},M.id))})}),a==="overview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Processing Rate",value:`${((j=l==null?void 0:l.summary)==null?void 0:j.files_per_hour_24h)||0}/hr`,subtitle:`${((S=l==null?void 0:l.summary)==null?void 0:S.total_files_24h)||0} files in 24h`,icon:xl,color:"sky"}),t.jsx(be,{title:"Active Alerts",value:((_=g==null?void 0:g.summary)==null?void 0:_.total)||0,subtitle:`${((N=g==null?void 0:g.summary)==null?void 0:N.critical)||0} critical`,icon:Oa,color:((w=g==null?void 0:g.summary)==null?void 0:w.critical)>0?"red":"emerald"}),t.jsx(be,{title:"ETA Completion",value:((C=b==null?void 0:b.eta)==null?void 0:C.copies_formatted)||"N/A",subtitle:`${((R=b==null?void 0:b.pending_work)==null?void 0:R.total)||0} pending`,icon:fi,color:"purple"}),t.jsx(be,{title:"Online Editors",value:((E=b==null?void 0:b.resources)==null?void 0:E.online_editors)||0,subtitle:((z=b==null?void 0:b.resources)==null?void 0:z.status)==="understaffed"?"Need more staff":"Optimal",icon:Ne,color:((A=b==null?void 0:b.resources)==null?void 0:A.status)==="understaffed"?"amber":"emerald"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Alerts"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[((U=g==null?void 0:g.summary)==null?void 0:U.total)||0," total"]})]}),t.jsxs("div",{className:"p-4 space-y-3 max-h-80 overflow-y-auto",children:[(I=g==null?void 0:g.alerts)==null?void 0:I.slice(0,5).map((M,we)=>t.jsx(fb,{alert:M},we)),(!(g!=null&&g.alerts)||g.alerts.length===0)&&t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(Y,{className:"w-12 h-12 mx-auto mb-2 text-emerald-300"}),t.jsx("p",{children:"No active alerts"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Top Performers Today"})}),t.jsx("div",{className:"p-4 space-y-3",children:(W=x==null?void 0:x.editor_leaderboard)==null?void 0:W.slice(0,5).map((M,we)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${we===0?"bg-amber-100 text-amber-700":we===1?"bg-gray-100 text-gray-700":we===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:we+1}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-gray-900 text-sm",children:M.name}),t.jsxs("div",{className:"text-xs text-gray-500",children:[M.files_this_week," this week"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold text-gray-900",children:M.files_today}),t.jsxs("div",{className:`text-xs flex items-center gap-1 ${M.trend==="up"?"text-emerald-600":M.trend==="down"?"text-red-600":"text-gray-500"}`,children:[M.trend==="up"?t.jsx(xs,{className:"w-3 h-3"}):M.trend==="down"?t.jsx(Nr,{className:"w-3 h-3"}):null,M.change_percent>0?"+":"",M.change_percent,"%"]})]})]},M.id))})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Files Processed (Last 12 Hours)"}),t.jsx("div",{className:"flex items-end gap-2 h-32",children:(ee=l==null?void 0:l.hourly_breakdown)==null?void 0:ee.map((M,we)=>{var Ja;const Ka=Math.max(...((Ja=l.hourly_breakdown)==null?void 0:Ja.map($l=>$l.files))||[1]),Fl=Ka>0?M.files/Ka*100:0;return t.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[t.jsx("div",{className:"w-full bg-gray-100 rounded-t relative",style:{height:"100px"},children:t.jsx("div",{className:"absolute bottom-0 w-full bg-sky-500 rounded-t transition-all",style:{height:`${Fl}%`}})}),t.jsx("span",{className:"text-xs text-gray-500",children:M.hour})]},we)})})]})]}),a==="time"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Avg Session Duration",value:`${(($=l==null?void 0:l.summary)==null?void 0:$.avg_session_minutes)||0} min`,icon:ge,color:"sky"}),t.jsx(be,{title:"Avg Files/Session",value:((L=l==null?void 0:l.summary)==null?void 0:L.avg_files_per_session)||0,icon:ae,color:"emerald"}),t.jsx(be,{title:"Files/Hour (24h)",value:((O=l==null?void 0:l.summary)==null?void 0:O.files_per_hour_24h)||0,icon:xl,color:"purple"}),t.jsx(be,{title:"Total (24h)",value:((B=l==null?void 0:l.summary)==null?void 0:B.total_files_24h)||0,icon:Hs,color:"amber"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Editor Efficiency (Last 8 Hours)"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sessions"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files/Hour"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(V=l==null?void 0:l.editor_efficiency)==null?void 0:V.map(M=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-2.5 h-2.5 ${M.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),t.jsx("span",{className:"font-medium text-gray-900",children:M.name})]})}),t.jsx("td",{className:"px-4 py-3 text-right font-medium",children:M.files_last_8h}),t.jsx("td",{className:"px-4 py-3 text-right",children:M.sessions_last_8h}),t.jsx("td",{className:"px-4 py-3 text-right font-bold text-sky-600",children:M.files_per_hour}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${M.is_online?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:M.is_online?"Online":"Offline"})})]},M.id))})]})})]}),((te=l==null?void 0:l.bottlenecks)==null?void 0:te.length)>0&&t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[t.jsxs("h3",{className:"font-semibold text-amber-900 mb-3 flex items-center gap-2",children:[t.jsx(G,{className:"w-5 h-5"}),"Bottlenecks Detected"]}),t.jsx("div",{className:"space-y-2",children:l.bottlenecks.map(M=>t.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:M.editor}),t.jsx("span",{className:"text-gray-500 mx-2",children:""}),t.jsxs("span",{children:["Camera ",M.camera]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm",children:[M.files_copied,"/",M.files_detected," files"]}),t.jsxs("div",{className:"text-xs text-amber-600",children:[M.duration_minutes," min elapsed"]})]})]},M.session_id))})]})]}),a==="incidents"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Total Incidents",value:((ne=o==null?void 0:o.summary)==null?void 0:ne.total_incidents)||0,subtitle:"Last 7 days",icon:G,color:"amber"}),t.jsx(be,{title:"File Deletions",value:((qe=o==null?void 0:o.summary)==null?void 0:qe.deletions)||0,icon:Tt,color:"red"}),t.jsx(be,{title:"Early Removals",value:((Q=o==null?void 0:o.summary)==null?void 0:Q.early_removals)||0,icon:Dc,color:"amber"}),t.jsx(be,{title:"Repeat Offenders",value:((Te=o==null?void 0:o.summary)==null?void 0:Te.repeat_offenders)||0,icon:Ne,color:((Ns=o==null?void 0:o.summary)==null?void 0:Ns.repeat_offenders)>0?"red":"emerald"})]}),((Mt=o==null?void 0:o.repeat_offenders)==null?void 0:Mt.length)>0&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[t.jsx("h3",{className:"font-semibold text-red-900 mb-3",children:" Repeat Offenders"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:o.repeat_offenders.map(M=>t.jsxs("div",{className:"bg-white rounded-lg p-3",children:[t.jsx("div",{className:"font-medium text-gray-900",children:M.name}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:M.email}),t.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[M.deletions>0&&t.jsxs("span",{className:"text-red-600",children:[M.deletions," deletions"]}),M.early_removals>0&&t.jsxs("span",{className:"text-amber-600",children:[M.early_removals," early removals"]})]})]},M.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-2",children:[t.jsx(Tt,{className:"w-5 h-5 text-red-500"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"File Deletions"})]}),t.jsxs("div",{className:"p-4 space-y-2 max-h-64 overflow-y-auto",children:[(Xs=o==null?void 0:o.deletions)==null?void 0:Xs.map(M=>t.jsxs("div",{className:"p-2 bg-red-50 rounded-lg text-sm",children:[t.jsx("div",{className:"font-medium text-red-900",children:M.user}),t.jsx("div",{className:"text-red-700 text-xs",children:M.details}),t.jsx("div",{className:"text-red-500 text-xs mt-1",children:new Date(M.created_at).toLocaleString()})]},M.id)),(!(o!=null&&o.deletions)||o.deletions.length===0)&&t.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No deletions recorded"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-2",children:[t.jsx(Kv,{className:"w-5 h-5 text-amber-500"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"Early SD Removals"})]}),t.jsxs("div",{className:"p-4 space-y-2 max-h-64 overflow-y-auto",children:[(Dl=o==null?void 0:o.early_removals)==null?void 0:Dl.map(M=>t.jsxs("div",{className:"p-2 bg-amber-50 rounded-lg text-sm",children:[t.jsxs("div",{className:"font-medium text-amber-900",children:[M.user," - Camera ",M.camera]}),t.jsxs("div",{className:"text-amber-700 text-xs",children:[M.files_pending," files not copied"]}),t.jsx("div",{className:"text-amber-500 text-xs mt-1",children:new Date(M.created_at).toLocaleString()})]},M.id)),(!(o!=null&&o.early_removals)||o.early_removals.length===0)&&t.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No early removals recorded"})]})]})]})]}),a==="sdcards"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Total SD Cards",value:((Zs=u==null?void 0:u.summary)==null?void 0:Zs.total_cards)||0,icon:X,color:"sky"}),t.jsx(be,{title:"Currently In Use",value:((Hr=u==null?void 0:u.summary)==null?void 0:Hr.in_use)||0,icon:ae,color:"emerald"}),t.jsx(be,{title:"Available",value:((Qa=u==null?void 0:u.summary)==null?void 0:Qa.available)||0,icon:Y,color:"sky"}),t.jsx(be,{title:"Avg Reliability",value:`${((zc=u==null?void 0:u.summary)==null?void 0:zc.avg_reliability)||100}%`,icon:Dn,color:((Bc=u==null?void 0:u.summary)==null?void 0:Bc.avg_reliability)<90?"amber":"emerald"})]}),((Hc=u==null?void 0:u.problematic_cards)==null?void 0:Hc.length)>0&&t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[t.jsx("h3",{className:"font-semibold text-amber-900 mb-3",children:" Cards Needing Attention"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:u.problematic_cards.map(M=>t.jsxs("div",{className:"bg-white rounded-lg p-3",children:[t.jsxs("div",{className:"font-medium",children:["Camera ",M.camera_number,M.sd_label]}),t.jsx("div",{className:"text-xs text-gray-500",children:M.hardware_id}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(Ni,{percentage:M.reliability_score,color:"amber",size:"sm"}),t.jsxs("span",{className:"text-xs text-amber-600",children:[M.reliability_score,"%"]})]}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[M.early_removals," early removals"]})]},M.id))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"All SD Cards"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Card"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sessions"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Reliability"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Last Used"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(Vc=u==null?void 0:u.cards)==null?void 0:Vc.map(M=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsxs("div",{className:"font-medium",children:["Camera ",M.camera_number,M.sd_label]}),t.jsx("div",{className:"text-xs text-gray-500",children:M.hardware_id})]}),t.jsx("td",{className:"px-4 py-3 text-right",children:M.total_sessions}),t.jsx("td",{className:"px-4 py-3 text-right",children:M.total_files_processed}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[t.jsx("div",{className:"w-16",children:t.jsx(Ni,{percentage:M.reliability_score,color:M.reliability_score>=90?"emerald":M.reliability_score>=70?"amber":"red",size:"sm"})}),t.jsxs("span",{className:"text-xs",children:[M.reliability_score,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${M.status==="in_use"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:M.status==="in_use"?"In Use":"Available"})}),t.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-500",children:M.last_used?new Date(M.last_used).toLocaleDateString():"Never"})]},M.id))})]})})]})]}),a==="leaderboard"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Group Performance"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Today"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Yesterday"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"This Week"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Backup %"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Trend"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(qc=x==null?void 0:x.group_comparison)==null?void 0:qc.map(M=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium",children:M.group_code}),t.jsxs("div",{className:"text-xs text-gray-500",children:[M.member_count," members"]})]}),t.jsx("td",{className:"px-4 py-3 text-right font-bold",children:M.files_today}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:M.files_yesterday}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:M.files_this_week}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[t.jsx("div",{className:"w-16",children:t.jsx(Ni,{percentage:M.backup_percentage,color:"emerald",size:"sm"})}),t.jsxs("span",{className:"text-xs",children:[M.backup_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:M.trend==="up"?t.jsx(xs,{className:"w-5 h-5 text-emerald-500 mx-auto"}):M.trend==="down"?t.jsx(Nr,{className:"w-5 h-5 text-red-500 mx-auto"}):t.jsx($c,{className:"w-5 h-5 text-gray-400 mx-auto"})})]},M.id))})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:" Editor Leaderboard"})}),t.jsx("div",{className:"p-4 space-y-3",children:(Wc=x==null?void 0:x.editor_leaderboard)==null?void 0:Wc.map((M,we)=>t.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold ${we===0?"bg-amber-100 text-amber-700":we===1?"bg-gray-200 text-gray-700":we===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:we<3?["","",""][we]:we+1}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-gray-900",children:M.name}),t.jsxs("div",{className:"text-xs text-gray-500",children:[M.files_this_week," files this week"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:M.files_today}),t.jsxs("div",{className:`text-xs flex items-center justify-end gap-1 ${M.trend==="up"?"text-emerald-600":M.trend==="down"?"text-red-600":"text-gray-500"}`,children:[M.trend==="up"?t.jsx(xs,{className:"w-3 h-3"}):M.trend==="down"?t.jsx(Nr,{className:"w-3 h-3"}):null,M.change_percent>0?"+":"",M.change_percent,"% vs yesterday"]})]})]},M.id))})]})]}),a==="planning"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Pending Copies",value:((Gc=b==null?void 0:b.pending_work)==null?void 0:Gc.copies)||0,icon:ae,color:"sky"}),t.jsx(be,{title:"Pending Backups",value:((Qc=b==null?void 0:b.pending_work)==null?void 0:Qc.backups)||0,icon:X,color:"amber"}),t.jsx(be,{title:"Pending Verification",value:((Kc=b==null?void 0:b.pending_work)==null?void 0:Kc.verification)||0,icon:Y,color:"purple"}),t.jsx(be,{title:"Total Pending",value:((Jc=b==null?void 0:b.pending_work)==null?void 0:Jc.total)||0,icon:Dn,color:"red"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Estimated Completion Time"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-sky-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Copies ETA"}),t.jsx("div",{className:"text-2xl font-bold text-sky-700",children:((Yc=b==null?void 0:b.eta)==null?void 0:Yc.copies_formatted)||"N/A"})]}),t.jsx(fi,{className:"w-8 h-8 text-sky-500"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Backups ETA"}),t.jsx("div",{className:"text-2xl font-bold text-amber-700",children:((Xc=b==null?void 0:b.eta)==null?void 0:Xc.backups_formatted)||"N/A"})]}),t.jsx(fi,{className:"w-8 h-8 text-amber-500"})]}),t.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Based on ",((Zc=b==null?void 0:b.processing_rate)==null?void 0:Zc.files_per_hour)||0," files/hour processing rate"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Resource Status"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:`p-4 rounded-lg ${((ed=b==null?void 0:b.resources)==null?void 0:ed.status)==="understaffed"?"bg-red-50":((td=b==null?void 0:b.resources)==null?void 0:td.status)==="overstaffed"?"bg-amber-50":"bg-emerald-50"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),t.jsx("div",{className:`text-xl font-bold capitalize ${((sd=b==null?void 0:b.resources)==null?void 0:sd.status)==="understaffed"?"text-red-700":((rd=b==null?void 0:b.resources)==null?void 0:rd.status)==="overstaffed"?"text-amber-700":"text-emerald-700"}`,children:((ad=b==null?void 0:b.resources)==null?void 0:ad.status)||"Unknown"})]}),t.jsx(Ne,{className:`w-8 h-8 ${((nd=b==null?void 0:b.resources)==null?void 0:nd.status)==="understaffed"?"text-red-500":((ld=b==null?void 0:b.resources)==null?void 0:ld.status)==="overstaffed"?"text-amber-500":"text-emerald-500"}`})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:((id=b==null?void 0:b.resources)==null?void 0:id.online_editors)||0}),t.jsx("div",{className:"text-xs text-gray-500",children:"Online Editors"})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:((od=b==null?void 0:b.resources)==null?void 0:od.recommended_editors)||0}),t.jsx("div",{className:"text-xs text-gray-500",children:"Recommended"})]})]}),t.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Workload: ",((cd=b==null?void 0:b.resources)==null?void 0:cd.workload_per_editor)||0," files per editor"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Editor Workload Distribution"})}),t.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:(dd=b==null?void 0:b.editor_workload)==null?void 0:dd.map(M=>t.jsxs("div",{className:`p-3 rounded-lg border ${M.status==="overloaded"?"border-red-200 bg-red-50":M.status==="busy"?"border-amber-200 bg-amber-50":M.status==="available"?"border-emerald-200 bg-emerald-50":"border-gray-200 bg-gray-50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-2.5 h-2.5 ${M.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),t.jsx("span",{className:"font-medium",children:M.name})]}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${M.status==="overloaded"?"bg-red-200 text-red-700":M.status==="busy"?"bg-amber-200 text-amber-700":M.status==="available"?"bg-emerald-200 text-emerald-700":"bg-gray-200 text-gray-600"}`,children:M.status})]}),t.jsxs("div",{className:"mt-2 text-sm",children:[t.jsx("span",{className:"font-bold",children:M.pending_files})," files pending"]})]},M.id))})]})]})]})}function vb(e){if(!e)return null;const a=new Date(e)-new Date;if(a<=0)return{expired:!0,text:"Ended"};const n=Math.floor(a/(1e3*60*60*24)),l=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),i=Math.floor(a%(1e3*60*60)/(1e3*60));return n>0?{expired:!1,text:`${n}d ${l}h remaining`}:l>0?{expired:!1,text:`${l}h ${i}m remaining`}:{expired:!1,text:`${i}m remaining`}}function bb(){const{refreshActiveEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState(!0),[l,i]=y.useState(!1),[o,c]=y.useState(!1),[u,d]=y.useState(!1),[x,v]=y.useState(null),[b,h]=y.useState(null),[g,k]=y.useState(null),[m,f]=y.useState(!1),[p,j]=y.useState({name:"",description:"",location:"",start_date:"",start_time:"09:00",end_date:"",end_time:"17:00",auto_delete_enabled:!0,auto_delete_days_after_end:30});y.useEffect(()=>{S()},[]);const S=async()=>{try{const A=await Ls.getAll();r(A.data||[])}catch(A){console.error("Failed to load events:",A)}finally{n(!1)}},_=async A=>{A.preventDefault();try{const U={...p,start_datetime:p.start_date&&p.start_time?`${p.start_date}T${p.start_time}:00`:null,end_datetime:p.end_date&&p.end_time?`${p.end_date}T${p.end_time}:00`:null};await Ls.create(U),i(!1),j({name:"",description:"",location:"",start_date:"",start_time:"09:00",end_date:"",end_time:"17:00",auto_delete_enabled:!0,auto_delete_days_after_end:30}),S()}catch(U){console.error("Failed to create event:",U)}},N=(A,U)=>{if(!A)return"-";const I=new Date(A),W={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return I.toLocaleString(void 0,W)},w=async(A,U=!1)=>{var I,W,ee,$;f(!0);try{const L=await Ls.activate(A,U);e&&await e(),S(),d(!1),v(null),h(null)}catch(L){if((L==null?void 0:L.code)==="ACTIVE_EVENT_EXISTS"||((W=(I=L==null?void 0:L.response)==null?void 0:I.data)==null?void 0:W.code)==="ACTIVE_EVENT_EXISTS"){const O=(L==null?void 0:L.active_event)||(($=(ee=L==null?void 0:L.response)==null?void 0:ee.data)==null?void 0:$.active_event);h(O),v(A),d(!0)}else console.error("Failed to activate event:",L)}finally{f(!1)}},C=async()=>{x&&await w(x,!0)},R=async A=>{try{await Ls.complete(A),S()}catch(U){console.error("Failed to complete event:",U)}},E={draft:"bg-gray-100 text-gray-700",active:"bg-green-100 text-green-700 ring-2 ring-green-400 ring-offset-1",completed:"bg-blue-100 text-blue-700",archived:"bg-gray-100 text-gray-500"},z=[...s].sort((A,U)=>A.status==="active"&&U.status!=="active"?-1:U.status==="active"&&A.status!=="active"?1:new Date(U.start_date)-new Date(A.start_date));return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Events"}),t.jsx("p",{className:"text-gray-500",children:"Manage healing service events"})]}),t.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[t.jsx(Br,{className:"w-5 h-5"}),"New Event"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(A=>{const U=A.status==="active",I=U?vb(A.end_datetime||A.end_date):null;return t.jsxs("div",{className:`bg-white rounded-xl shadow-sm overflow-hidden transition-all ${U?"border-2 border-green-400 ring-4 ring-green-100":"border border-gray-100"}`,children:[U&&t.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-2 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-white",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),t.jsx("span",{className:"font-semibold text-sm",children:"RUNNING NOW"})]}),I&&!I.expired&&t.jsx("span",{className:"text-white/90 text-sm font-medium",children:I.text}),(I==null?void 0:I.expired)&&t.jsx("span",{className:"text-yellow-200 text-sm font-medium",children:"Past end date"})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:`font-semibold ${U?"text-green-700":"text-gray-900"}`,children:A.name}),t.jsx("p",{className:"text-sm text-gray-500",children:A.code})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${E[A.status]}`,children:U?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(xl,{className:"w-3 h-3"}),"Active"]}):A.status})]}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wt,{className:"w-4 h-4"}),t.jsx("span",{children:N(A.start_datetime||A.start_date)})]}),(A.end_datetime||A.end_date)&&t.jsxs("div",{className:`flex items-center gap-2 ${U?"text-green-600 font-medium":""}`,children:[t.jsx(ge,{className:"w-4 h-4"}),t.jsxs("span",{children:["Ends: ",N(A.end_datetime||A.end_date)]})]}),A.location&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Fc,{className:"w-4 h-4"}),t.jsx("span",{children:A.location})]}),A.auto_delete_enabled&&t.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[t.jsx(Tt,{className:"w-4 h-4"}),t.jsxs("span",{children:["Auto-delete ",A.auto_delete_days_after_end||30,"d after end"]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[t.jsx(nt,{className:"w-4 h-4"}),t.jsx("span",{children:A.media_count||0})]}),t.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[t.jsx(Ne,{className:"w-4 h-4"}),t.jsxs("span",{children:[A.groups_count||0," groups"]})]})]})]}),t.jsxs("div",{className:`px-6 py-3 border-t flex gap-2 ${U?"bg-green-50 border-green-100":"bg-gray-50 border-gray-100"}`,children:[A.status==="draft"&&t.jsxs("button",{onClick:()=>w(A.id),disabled:m,className:"flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded disabled:opacity-50",children:[t.jsx(zr,{className:"w-4 h-4"}),m?"Activating...":"Activate Event"]}),A.status==="active"&&t.jsxs("button",{onClick:()=>R(A.id),className:"flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded",children:[t.jsx(Y,{className:"w-4 h-4"}),"Mark Complete"]}),t.jsx("button",{onClick:()=>{k(A),c(!0)},className:"flex-1 text-center py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded",children:"View Details"})]})]},A.id)})}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Create New Event"}),t.jsxs("form",{onSubmit:_,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Name"}),t.jsx("input",{type:"text",value:p.name,onChange:A=>j({...p,name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{value:p.description,onChange:A=>j({...p,description:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),t.jsx("input",{type:"text",value:p.location,onChange:A=>j({...p,location:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),t.jsx("input",{type:"date",value:p.start_date,onChange:A=>j({...p,start_date:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),t.jsx("input",{type:"time",value:p.start_time,onChange:A=>j({...p,start_time:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),t.jsx("input",{type:"date",value:p.end_date,onChange:A=>j({...p,end_date:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),t.jsx("input",{type:"time",value:p.end_time,onChange:A=>j({...p,end_time:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(G,{className:"w-4 h-4 text-orange-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Data Protection"})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("input",{type:"checkbox",id:"auto_delete",checked:p.auto_delete_enabled,onChange:A=>j({...p,auto_delete_enabled:A.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"auto_delete",className:"text-sm text-gray-700",children:"Auto-delete media from editor devices after event"})]}),p.auto_delete_enabled&&t.jsxs("div",{className:"ml-7",children:[t.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Delete files ",t.jsx("span",{className:"font-medium",children:p.auto_delete_days_after_end})," days after event ends"]}),t.jsx("input",{type:"range",min:"1",max:"90",value:p.auto_delete_days_after_end,onChange:A=>j({...p,auto_delete_days_after_end:parseInt(A.target.value)}),className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[t.jsx("span",{children:"1 day"}),t.jsx("span",{children:"30 days"}),t.jsx("span",{children:"90 days"})]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Event"})]})]})]})}),o&&g&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg p-6 m-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:g.name}),t.jsx("p",{className:"text-sm text-gray-500",children:g.code})]}),t.jsx("button",{onClick:()=>c(!1),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Status"}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${E[g.status]}`,children:g.status})]}),g.description&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"Description"}),t.jsx("p",{className:"text-gray-900 mt-1",children:g.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"Start"}),t.jsx("p",{className:"text-gray-900 font-medium",children:N(g.start_datetime||g.start_date)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"End"}),t.jsx("p",{className:"text-gray-900 font-medium",children:N(g.end_datetime||g.end_date)})]})]}),g.auto_delete_enabled&&t.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[t.jsx(Tt,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium text-sm",children:"Data Protection Active"})]}),t.jsxs("p",{className:"text-sm text-orange-600 mt-1",children:["Media files will be auto-deleted from editor devices ",g.auto_delete_days_after_end||30," days after event ends"]})]}),g.location&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"Location"}),t.jsx("p",{className:"text-gray-900",children:g.location})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.media_count||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Media Files"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.groups_count||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Groups"})]})]})]}),t.jsx("div",{className:"flex gap-3 mt-6",children:t.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Close"})})]})}),u&&b&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center",children:t.jsx(G,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Another Event is Active"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Only one event can be active at a time"})]})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"font-medium text-green-700",children:"Currently Running"})]}),t.jsx("p",{className:"font-semibold text-gray-900",children:b.name}),t.jsx("p",{className:"text-sm text-gray-500",children:b.code}),b.end_date&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Ends: ",N(b.end_date)]})]}),t.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Activating a new event will automatically mark ",t.jsx("strong",{children:b.name})," as completed. Do you want to proceed?"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{d(!1),v(null),h(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:C,disabled:m,className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50",children:m?"Switching...":"Switch Event"})]})]})})]})}function jb(){var C,R;const{activeEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState(!0),[l,i]=y.useState(!1),[o,c]=y.useState(null),[u,d]=y.useState([]),[x,v]=y.useState(!1),[b,h]=y.useState([]),[g,k]=y.useState(""),[m,f]=y.useState({name:"",description:"",leader_phone:""});y.useEffect(()=>{p()},[e==null?void 0:e.id]);const p=async()=>{try{const E=await $t.getAll({event_id:e==null?void 0:e.id});r(E.data||[])}catch(E){console.error("Failed to load data:",E)}finally{n(!1)}},j=async E=>{E.preventDefault();try{if(!(e!=null&&e.id)){console.error("No active event set; cannot create group");return}await $t.create({...m,event_id:e.id}),i(!1),f({name:"",description:"",leader_phone:""}),p()}catch(z){console.error("Failed to create group:",z)}},S=async E=>{try{const z=await $t.getMembers(E);d(z.members||[])}catch(z){console.error("Failed to load members:",z)}},_=async E=>{c(E),await S(E.id)},N=async()=>{try{const E=await Nt.getAll({per_page:100}),z=E.data||E||[],A=u.map(U=>U.id);h(z.filter(U=>!A.includes(U.id))),v(!0)}catch(E){console.error("Failed to load users:",E)}},w=async()=>{if(!(!g||!o))try{await $t.addMember(o.id,g),await S(o.id),v(!1),k("")}catch(E){console.error("Failed to add member:",E)}};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Groups"}),t.jsxs("p",{className:"text-gray-500",children:["Manage editor groups and team leaders",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:()=>i(!0),disabled:!(e!=null&&e.id),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[t.jsx(Br,{className:"w-5 h-5"}),"New Group"]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"All Groups"})}),t.jsxs("div",{className:"divide-y divide-gray-100 max-h-[600px] overflow-y-auto",children:[s.length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No groups created yet"}),s.map(E=>t.jsxs("button",{onClick:()=>_(E),className:`w-full p-4 text-left hover:bg-gray-50 flex items-center justify-between ${(o==null?void 0:o.id)===E.id?"bg-blue-50":""}`,children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:E.group_code}),E.open_issues>0&&t.jsx("span",{className:"px-1.5 py-0.5 bg-red-100 text-red-700 rounded text-xs",children:E.open_issues})]}),t.jsx("p",{className:"text-sm text-gray-500",children:E.name}),t.jsxs("p",{className:"text-xs text-gray-400",children:[E.members_count||0," members"]})]}),t.jsx(Pr,{className:"w-5 h-5 text-gray-400"})]},E.id))]})]}),t.jsx("div",{className:"lg:col-span-2",children:o?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[o.group_code," - ",o.name]}),t.jsx("p",{className:"text-gray-500",children:o.description||"No description"})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${o.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:o.is_active?"Active":"Inactive"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Leader"}),t.jsx("p",{className:"font-medium text-gray-900",children:((C=o.leader)==null?void 0:C.name)||"Not assigned"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Event"}),t.jsx("p",{className:"font-medium text-gray-900",children:((R=o.event)==null?void 0:R.name)||"Unknown"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Team Members"}),t.jsxs("button",{onClick:N,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[t.jsx(Uc,{className:"w-4 h-4"}),"Add Member"]})]}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[u.length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No members in this group"}),u.map(E=>{var z,A;return t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-gray-600 font-medium",children:((A=(z=E.name)==null?void 0:z.charAt(0))==null?void 0:A.toUpperCase())||"U"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:E.name}),t.jsx("p",{className:"text-sm text-gray-500",children:E.email})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right text-sm",children:[t.jsxs("p",{className:"text-gray-900",children:[E.media_today||0," files today"]}),E.open_issues>0&&t.jsxs("p",{className:"text-red-600",children:[E.open_issues," issues"]})]}),t.jsx("div",{className:`w-3 h-3 rounded-full ${E.is_online?"bg-green-500":"bg-gray-300"}`,title:E.is_online?"Online":"Offline"})]})]},E.id)})]})]})]}):t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[t.jsx(Ne,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"Select a group to view details"})]})})]}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Create New Group"}),!(e!=null&&e.id)&&t.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-800",children:"You must activate an event before creating groups."}),t.jsxs("form",{onSubmit:j,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Name"}),t.jsx("input",{type:"text",value:m.name,onChange:E=>f({...m,name:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Blue Team - Camera 3",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{value:m.description,onChange:E=>f({...m,description:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leader Phone"}),t.jsx("input",{type:"tel",value:m.leader_phone,onChange:E=>f({...m,leader_phone:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"+254..."})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:!(e!=null&&e.id),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Group"})]})]})]})}),x&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add Team Member"}),t.jsx("button",{onClick:()=>v(!1),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),t.jsxs("select",{value:g,onChange:E=>k(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Choose a user..."}),b.map(E=>t.jsxs("option",{value:E.id,children:[E.name," (",E.email,")"]},E.id))]})]}),b.length===0&&t.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No available users to add"}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:w,disabled:!g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Add Member"})]})]})]})})]})}function Nb(){const{activeEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState([]),[l,i]=y.useState(!0),[o,c]=y.useState(""),[u,d]=y.useState(""),[x,v]=y.useState(null),[b,h]=y.useState({type:"",text:""}),[g,k]=y.useState(!1),[m,f]=y.useState(null),[p,j]=y.useState({camera_id:"",group_id:"",model:"",serial_number:"",status:"active",notes:""});y.useEffect(()=>{S()},[o,u,e==null?void 0:e.id]);const S=async()=>{i(!0);try{if(!(e!=null&&e.id)){r([]),n([]),v(null);return}const[E,z,A]=await Promise.all([ea.getAll({event_id:e.id,search:o,status:u}),$t.getAll({event_id:e.id}),ea.getStats({event_id:e.id})]);r(E.data.data||E.data),n(z.data.data||z.data),v(A.data)}catch{h({type:"error",text:"Failed to load cameras"})}finally{i(!1)}},_=async E=>{E.preventDefault();try{m?(await ea.update(m.id,p),h({type:"success",text:"Camera updated successfully"})):(await ea.create(p),h({type:"success",text:"Camera created successfully"})),k(!1),C(),S()}catch(z){h({type:"error",text:z.message||"Operation failed"})}},N=async E=>{if(confirm(`Delete camera ${E.camera_id}?`))try{await ea.delete(E.id),h({type:"success",text:"Camera deleted"}),S()}catch{h({type:"error",text:"Failed to delete camera"})}},w=E=>{f(E),j({camera_id:E.camera_id,group_id:E.group_id,model:E.model||"",serial_number:E.serial_number||"",status:E.status,notes:E.notes||""}),k(!0)},C=()=>{f(null),j({camera_id:"",group_id:"",model:"",serial_number:"",status:"active",notes:""})},R=E=>{const z={active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-700",maintenance:"bg-amber-100 text-amber-700"};return t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${z[E]||z.inactive}`,children:E})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cameras"}),t.jsxs("p",{className:"text-gray-500",children:["Manage cameras and SD card bindings",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:()=>{C(),k(!0)},disabled:!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[t.jsx(Br,{className:"w-4 h-4"}),"Add Camera"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing cameras."}),b.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${b.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[b.type==="success"?t.jsx(Y,{className:"w-5 h-5"}):t.jsx(ze,{className:"w-5 h-5"}),b.text,t.jsx("button",{onClick:()=>h({type:"",text:""}),className:"ml-auto",children:""})]}),x&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Cameras"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.total})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.active})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"With SD Card"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.with_sd_card})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Maintenance"}),t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:x.maintenance})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Gt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search cameras...",value:o,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("select",{value:u,onChange:E=>d(E.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),l?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(E=>{var z;return t.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 hover:shadow-lg transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:t.jsx(st,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:E.camera_id}),t.jsx("p",{className:"text-sm text-gray-500",children:E.model||"No model"})]})]}),R(E.status)]}),t.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Group:"}),t.jsx("span",{className:"font-medium",children:((z=E.group)==null?void 0:z.group_code)||"-"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Serial:"}),t.jsx("span",{className:"font-medium",children:E.serial_number||"-"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-500",children:"SD Card:"}),E.current_sd_card?t.jsxs("span",{className:"flex items-center gap-1 text-green-600 font-medium",children:[t.jsx(Ov,{className:"w-4 h-4"}),E.current_sd_card.sd_card_id]}):t.jsx("span",{className:"text-gray-400",children:"Not bound"})]})]}),t.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[t.jsxs("button",{onClick:()=>w(E),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 text-sm font-medium",children:[t.jsx(ip,{className:"w-4 h-4"}),"Edit"]}),t.jsx("button",{onClick:()=>N(E),className:"flex items-center justify-center gap-1 px-3 py-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:t.jsx(Tt,{className:"w-4 h-4"})})]})]},E.id)})}),g&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold",children:m?"Edit Camera":"Add Camera"}),t.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:_,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Camera ID *"}),t.jsx("input",{type:"text",value:p.camera_id,onChange:E=>j({...p,camera_id:E.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group *"}),t.jsxs("select",{value:p.group_id,onChange:E=>j({...p,group_id:E.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Select group..."}),a.map(E=>t.jsxs("option",{value:E.id,children:[E.group_code," - ",E.name]},E.id))]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),t.jsx("input",{type:"text",value:p.model,onChange:E=>j({...p,model:E.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),t.jsx("input",{type:"text",value:p.serial_number,onChange:E=>j({...p,serial_number:E.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),t.jsxs("select",{value:p.status,onChange:E=>j({...p,status:E.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),t.jsx("textarea",{value:p.notes,onChange:E=>j({...p,notes:E.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 resize-none",rows:2})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>k(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:m?"Update":"Create"})]})]})]})})]})}function wb({media:e,onClose:s}){return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.filename}),t.jsx("p",{className:"text-sm text-gray-500",children:e.media_id})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"aspect-video bg-black",children:e.preview_url?t.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:e.preview_url,children:"Your browser does not support video playback."}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(nt,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Preview not available"}),t.jsx("p",{className:"text-sm",children:"File is stored on backup disk"})]})})}),t.jsx("div",{className:"p-4 bg-gray-50",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Person:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.full_name||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Condition:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.condition||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Region:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.region||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Status:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.status})]})]})})]})}):null}function kb(){const{activeEvent:e,isQA:s,isQALead:r,isBackup:a,isBackupLead:n,isAdmin:l,isTeamLead:i,isGroupLeader:o}=de(),[c,u]=y.useState([]),[d,x]=y.useState(!0),[v,b]=y.useState(null),h=s()||r(),g=a()||n(),k=l()||i()||o(),[m,f]=y.useState({full_name:"",condition:"",region:"",status:"",type:"",page:1}),[p,j]=y.useState({current_page:1,last_page:1,total:0});y.useEffect(()=>{S()},[m,e==null?void 0:e.id]);const S=async()=>{x(!0);try{const R=Object.fromEntries(Object.entries(m).filter(([z,A])=>A!==""));e!=null&&e.id&&(R.event_id=e.id);const E=await yt.search(R);u(E.data||[]),j({current_page:E.current_page||1,last_page:E.last_page||1,total:E.total||0})}catch(R){console.error("Failed to load media:",R)}finally{x(!1)}},_=R=>{R.preventDefault(),f({...m,page:1})},N=R=>{f({...m,page:R})},w={indexed:"bg-gray-100 text-gray-700",synced:"bg-blue-100 text-blue-700",backed_up:"bg-yellow-100 text-yellow-700",verified:"bg-green-100 text-green-700",issue:"bg-red-100 text-red-700"},C=R=>{if(!R)return"0 B";const E=1024,z=["B","KB","MB","GB"],A=Math.floor(Math.log(R)/Math.log(E));return parseFloat((R/Math.pow(E,A)).toFixed(2))+" "+z[A]};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Media Search"}),t.jsx("p",{className:"text-gray-500",children:h?"Search media with issues  you cannot search by name or region":g?"View backup status  you see coverage, not content":"Search and browse all indexed media files"})]}),h&&t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-3 text-sm text-purple-700 flex items-center gap-2",children:[t.jsx(Lr,{className:"w-4 h-4"}),t.jsxs("span",{children:[t.jsx("strong",{children:"QA Access:"})," You can only search by issue status. Name, region, and clean footage are hidden."]})]}),g&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 text-sm text-green-700 flex items-center gap-2",children:[t.jsx(Lr,{className:"w-4 h-4"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Backup Access:"})," You see file status and coverage only. No content playback available."]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("form",{onSubmit:_,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[k&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),t.jsx("input",{type:"text",value:m.full_name,onChange:R=>f({...m,full_name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Search name..."})]}),!g&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Condition"}),t.jsx("input",{type:"text",value:m.condition,onChange:R=>f({...m,condition:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Cripple"})]}),k&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Region"}),t.jsx("input",{type:"text",value:m.region,onChange:R=>f({...m,region:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Kisumu"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Status"}),t.jsxs("select",{value:m.status,onChange:R=>f({...m,status:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"indexed",children:"Indexed"}),t.jsx("option",{value:"synced",children:"Synced"}),t.jsx("option",{value:"backed_up",children:"Backed Up"}),t.jsx("option",{value:"verified",children:"Verified"}),t.jsx("option",{value:"issue",children:"Has Issues"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Type"}),t.jsxs("select",{value:m.type,onChange:R=>f({...m,type:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Types"}),t.jsx("option",{value:"before",children:"Before"}),t.jsx("option",{value:"after",children:"After"})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Search"]})})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"File"}),k&&t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Person"}),!g&&t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Condition"}),k&&t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Region"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[c.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No media found. Try adjusting your search filters."})}),c.map(R=>{var E,z;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsx(nt,{className:"w-5 h-5 text-gray-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 truncate max-w-xs",children:R.filename}),t.jsx("p",{className:"text-xs text-gray-500",children:R.media_id})]})]})}),k&&t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-900",children:R.full_name||"-"}),t.jsx("p",{className:"text-xs text-gray-500",children:R.age?`${R.age} years`:"-"})]})}),!g&&t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:R.condition||"-"}),k&&t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:R.region||"-"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:C(R.size_bytes)}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${w[R.status]}`,children:R.status}),((E=R.issues)==null?void 0:E.length)>0&&t.jsx(G,{className:"w-4 h-4 text-red-500"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[!g&&(k||h&&((z=R.issues)==null?void 0:z.length)>0)&&t.jsx("button",{onClick:()=>b(R),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Play",children:t.jsx(zr,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>b(R),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"View Details",children:t.jsx(Lt,{className:"w-4 h-4"})})]})})]},R.id)})]})]})}),p.last_page>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",p.current_page," of ",p.last_page," (",p.total," total)"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>N(p.current_page-1),disabled:p.current_page===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Previous"}),t.jsx("button",{onClick:()=>N(p.current_page+1),disabled:p.current_page===p.last_page,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Next"})]})]})]}),v&&t.jsx(wb,{media:v,onClose:()=>b(null)})]})}function sm({percentage:e,color:s="emerald"}){const r={emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500"};return t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full ${r[s]} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})})}function vn({title:e,value:s,subtitle:r,icon:a,color:n}){const l={emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",red:"bg-red-50 text-red-600",sky:"bg-sky-50 text-sky-600"};return t.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]}),t.jsx("div",{className:`p-3 rounded-lg ${l[n]}`,children:t.jsx(a,{className:"w-5 h-5"})})]})})}function _b(){var u,d,x,v,b,h,g,k;const{activeEvent:e}=de(),[s,r]=y.useState(null),[a,n]=y.useState(!0),[l,i]=y.useState("overview");y.useEffect(()=>{o()},[e==null?void 0:e.id]);const o=async()=>{try{if(n(!0),!(e!=null&&e.id)){r(null);return}const m=await bv.getOverview(e==null?void 0:e.id);r(m)}catch(m){console.error("Failed to load quality control data:",m)}finally{n(!1)}};if(a&&!s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Be,{className:"w-8 h-8 animate-spin text-sky-500"})});const c=(s==null?void 0:s.overview)||{};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quality Control"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"Monitor filename errors and editor performance"})]}),t.jsxs("button",{onClick:o,disabled:a||!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:[t.jsx(Be,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing Quality Control."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(vn,{title:"Total Media",value:((u=c.total_media)==null?void 0:u.toLocaleString())||0,subtitle:`${c.valid_percentage||100}% valid`,icon:Hs,color:"sky"}),t.jsx(vn,{title:"Valid Files",value:((d=c.valid_count)==null?void 0:d.toLocaleString())||0,subtitle:"Properly named",icon:Y,color:"emerald"}),t.jsx(vn,{title:"Warnings",value:((x=c.warning_count)==null?void 0:x.toLocaleString())||0,subtitle:"Minor issues",icon:G,color:"amber"}),t.jsx(vn,{title:"Errors",value:((v=c.error_count)==null?void 0:v.toLocaleString())||0,subtitle:`${c.error_rate||0}% error rate`,icon:Gs,color:"red"})]}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-6",children:[{id:"overview",label:"By Editor",icon:Ne},{id:"groups",label:"By Group",icon:Ne},{id:"issues",label:"Common Issues",icon:G},{id:"training",label:"Needs Training",icon:Ku}].map(m=>t.jsxs("button",{onClick:()=>i(m.id),className:`flex items-center gap-2 py-3 border-b-2 transition-colors text-sm ${l===m.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(m.icon,{className:"w-4 h-4"}),m.label]},m.id))})}),l==="overview"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality by Editor"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Valid"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Warnings"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Errors"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Error Rate"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Quality Score"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(b=s==null?void 0:s.by_editor)==null?void 0:b.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:m.editor_name}),m.needs_training&&t.jsx("span",{className:"px-1.5 py-0.5 bg-amber-100 text-amber-700 text-xs rounded",children:"Needs Training"})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:m.total_files.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600",children:m.valid.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-amber-600",children:m.warnings.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-red-600",children:m.errors.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[t.jsx("div",{className:"w-16",children:t.jsx(sm,{percentage:m.error_rate,color:m.error_rate>10?"red":m.error_rate>5?"amber":"emerald"})}),t.jsxs("span",{className:`text-xs font-medium ${m.error_rate>10?"text-red-600":m.error_rate>5?"text-amber-600":"text-emerald-600"}`,children:[m.error_rate,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.quality_score>=95?"bg-emerald-100 text-emerald-700":m.quality_score>=90?"bg-sky-100 text-sky-700":m.quality_score>=80?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[m.quality_score.toFixed(1),"%"]})})]},m.editor_id)),(!(s!=null&&s.by_editor)||s.by_editor.length===0)&&t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No editor data available"})})]})]})})]}),l==="groups"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality by Group"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Members"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Valid"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Errors"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Quality Score"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(h=s==null?void 0:s.by_group)==null?void 0:h.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium text-gray-900",children:m.group_code}),t.jsx("div",{className:"text-xs text-gray-500",children:m.group_name})]}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:m.member_count}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:m.total_files.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600",children:m.valid.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-red-600",children:(m.warnings+m.errors).toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.quality_score>=95?"bg-emerald-100 text-emerald-700":m.quality_score>=90?"bg-sky-100 text-sky-700":m.quality_score>=80?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[m.quality_score.toFixed(1),"%"]})})]},m.group_id))})]})})]}),l==="issues"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Common Filename Issues"})}),t.jsx("div",{className:"p-4",children:((g=s==null?void 0:s.common_issues)==null?void 0:g.length)>0?t.jsx("div",{className:"space-y-4",children:s.common_issues.map((m,f)=>t.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-lg",children:t.jsx(G,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:m.label}),t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-full font-medium",children:[m.count," occurrences"]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.suggestion})]})]},f))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Y,{className:"w-12 h-12 mx-auto text-emerald-400 mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No common issues detected"})]})})]}),l==="training"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Editors Needing Training"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Editors with error rate above 10%"})]}),t.jsx("div",{className:"p-4",children:((k=s==null?void 0:s.by_editor)==null?void 0:k.filter(m=>m.needs_training).length)>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.by_editor.filter(m=>m.needs_training).map(m=>t.jsxs("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:m.editor_name}),t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:[m.error_rate,"% errors"]})]}),t.jsx("div",{className:"text-sm text-gray-600",children:t.jsxs("p",{children:[m.total_files," files  ",m.errors," errors"]})}),t.jsx("div",{className:"mt-2",children:t.jsx(sm,{percentage:100-m.error_rate,color:"amber"})})]},m.editor_id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Ku,{className:"w-12 h-12 mx-auto text-emerald-400 mb-3"}),t.jsx("p",{className:"text-gray-500",children:"All editors are performing well!"})]})})]}),(s==null?void 0:s.daily_trend)&&s.daily_trend.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality Trend (Last 7 Days)"})}),t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"flex items-end gap-2 h-32",children:s.daily_trend.map((m,f)=>t.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[t.jsxs("div",{className:"w-full flex flex-col gap-0.5",style:{height:"100px"},children:[t.jsx("div",{className:"bg-emerald-400 rounded-t",style:{height:`${m.valid/m.total*100}%`}}),t.jsx("div",{className:"bg-amber-400",style:{height:`${m.warning/m.total*100}%`}}),t.jsx("div",{className:"bg-red-400 rounded-b",style:{height:`${m.error/m.total*100}%`}})]}),t.jsx("span",{className:"text-xs text-gray-500 mt-2",children:new Date(m.date).toLocaleDateString("en",{weekday:"short"})})]},f))}),t.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Valid"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-amber-400 rounded"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Warnings"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-red-400 rounded"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Errors"})]})]})]})]})]})}function Sb({issue:e,onClose:s}){var a,n;if(!e)return null;const r=e.media;return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:["Review Issue: ",e.issue_id]}),t.jsx("p",{className:"text-sm text-gray-500",children:(r==null?void 0:r.filename)||"Unknown file"})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"aspect-video bg-black",children:r!=null&&r.preview_url?t.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:r.preview_url,children:"Your browser does not support video playback."}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(nt,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Preview not available"}),t.jsx("p",{className:"text-sm",children:"Request playback from backup disk"})]})})}),t.jsxs("div",{className:"p-4 bg-gray-50",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Type:"}),t.jsx("span",{className:"ml-2 font-medium",children:(a=e.type)==null?void 0:a.replace("_"," ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Severity:"}),t.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-medium ${e.severity==="critical"?"bg-red-100 text-red-700":e.severity==="high"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:e.severity})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Camera:"}),t.jsx("span",{className:"ml-2 font-medium",children:(r==null?void 0:r.camera_number)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Reported:"}),t.jsx("span",{className:"ml-2 font-medium",children:((n=e.reporter)==null?void 0:n.name)||"Unknown"})]})]}),e.description&&t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("p",{className:"text-sm text-gray-700",children:e.description})})]})]})})}function Cb(){const{activeEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState(!0),[l,i]=y.useState("open"),[o,c]=y.useState(null),[u,d]=y.useState(null),[x,v]=y.useState("");y.useEffect(()=>{b()},[l,e==null?void 0:e.id]);const b=async()=>{try{if(!(e!=null&&e.id)){r([]);return}const j=await gn.getAll({event_id:e.id,status:l!=="all"?l:void 0});r(j.data||[])}catch(j){console.error("Failed to load issues:",j)}finally{n(!1)}},h=async j=>{try{await gn.acknowledge(j),b()}catch(S){console.error("Failed to acknowledge issue:",S)}},g=async j=>{try{await gn.resolve(j,x),c(null),v(""),b()}catch(S){console.error("Failed to resolve issue:",S)}},k=async j=>{try{await gn.escalate(j,"Escalated by user"),b()}catch(S){console.error("Failed to escalate issue:",S)}},m={critical:"bg-red-100 text-red-700 border-red-200",high:"bg-orange-100 text-orange-700 border-orange-200",medium:"bg-yellow-100 text-yellow-700 border-yellow-200",low:"bg-gray-100 text-gray-700 border-gray-200"},f={open:"bg-red-50 text-red-700",acknowledged:"bg-yellow-50 text-yellow-700",in_progress:"bg-blue-50 text-blue-700",escalated:"bg-purple-50 text-purple-700",resolved:"bg-green-50 text-green-700",closed:"bg-gray-50 text-gray-700"},p={no_audio:"No Audio",low_audio:"Low Audio",blurry:"Blurry Video",shaky:"Shaky Video",cut_interview:"Cut Interview",filename_error:"Filename Error",duplicate:"Duplicate",other:"Other"};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Issues"}),t.jsxs("p",{className:"text-gray-500",children:["Quality issues and resolution tracking",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing issues."}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","open","acknowledged","in_progress","escalated","resolved"].map(j=>t.jsx("button",{onClick:()=>i(j),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l===j?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:j.replace("_"," ").charAt(0).toUpperCase()+j.replace("_"," ").slice(1)},j))}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Issue"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Severity"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Reporter"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[s.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No issues found"})}),s.map(j=>{var S,_,N;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:j.issue_id}),t.jsx("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:((S=j.media)==null?void 0:S.filename)||"Unknown file"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-sm text-gray-900",children:p[j.type]||j.type})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m[j.severity]}`,children:j.severity})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${f[j.status]}`,children:j.status.replace("_"," ")})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-900",children:((_=j.reporter)==null?void 0:_.name)||"Unknown"}),t.jsx("p",{className:"text-xs text-gray-500",children:(N=j.group)==null?void 0:N.group_code})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>d(j),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Play & Review",children:t.jsx(zr,{className:"w-4 h-4"})}),j.status==="open"&&t.jsx("button",{onClick:()=>h(j.issue_id),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",title:"Acknowledge",children:t.jsx(Lt,{className:"w-4 h-4"})}),["open","acknowledged","in_progress"].includes(j.status)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>c(j),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Resolve",children:t.jsx(Y,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>k(j.issue_id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Escalate",children:t.jsx(Av,{className:"w-4 h-4"})})]})]})})]},j.id)})]})]})})}),o&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Resolve Issue"}),t.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Issue: ",o.issue_id," - ",p[o.type]]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Notes"}),t.jsx("textarea",{value:x,onChange:j=>v(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Describe how the issue was resolved..."})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{c(null),v("")},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:()=>g(o.issue_id),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Mark Resolved"})]})]})}),u&&t.jsx(Sb,{issue:u,onClose:()=>d(null)})]})}function Eb(){var ee,$;const{activeEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState([]),[l,i]=y.useState(!0),[o,c]=y.useState(""),[u,d]=y.useState(""),[x,v]=y.useState(null),[b,h]=y.useState({type:"",text:""}),[g,k]=y.useState(!1),[m,f]=y.useState(!1),[p,j]=y.useState(null),[S,_]=y.useState(null),[N,w]=y.useState({event_id:"",group_id:"",person_name:"",description:"",healing_date:"",status:"pending"});y.useEffect(()=>{C()},[o,u,e==null?void 0:e.id]);const C=async()=>{i(!0);try{if(!(e!=null&&e.id)){r([]),n([]),v(null);return}const[L,O,B]=await Promise.all([ws.getAll({event_id:e.id,search:o,status:u}),$t.getAll({event_id:e.id}),ws.getStats({event_id:e.id})]);r(L.data.data||L.data),n(O.data.data||O.data),v(B.data)}catch{h({type:"error",text:"Failed to load healing cases"})}finally{i(!1)}},R=async L=>{L.preventDefault();try{if(!(e!=null&&e.id)){h({type:"error",text:"No active event. Activate an event first."});return}const O={...N,event_id:e.id};S?(await ws.update(S.id,O),h({type:"success",text:"Healing case updated"})):(await ws.create(O),h({type:"success",text:"Healing case created"})),k(!1),I(),C()}catch(O){h({type:"error",text:O.message||"Operation failed"})}},E=async L=>{try{await ws.verify(L.id),h({type:"success",text:"Case verified successfully"}),C()}catch{h({type:"error",text:"Failed to verify case"})}},z=async L=>{try{await ws.publish(L.id),h({type:"success",text:"Case published successfully"}),C()}catch(O){h({type:"error",text:O.message||"Failed to publish case"})}},A=async L=>{if(confirm(`Delete healing case ${L.case_id}?`))try{await ws.delete(L.id),h({type:"success",text:"Case deleted"}),C()}catch{h({type:"error",text:"Failed to delete case"})}},U=L=>{if(!(e!=null&&e.id)){h({type:"error",text:"No active event. Activate an event first."});return}_(L),w({event_id:e.id,group_id:L.group_id,person_name:L.person_name,description:L.description,healing_date:L.healing_date,status:L.status}),k(!0)},I=()=>{_(null),w({event_id:"",group_id:"",person_name:"",description:"",healing_date:"",status:"pending"})},W=L=>{const O={pending:"bg-amber-100 text-amber-700",verified:"bg-blue-100 text-blue-700",published:"bg-green-100 text-green-700"},B={pending:t.jsx(ze,{className:"w-3 h-3"}),verified:t.jsx(wt,{className:"w-3 h-3"}),published:t.jsx(Co,{className:"w-3 h-3"})};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium ${O[L]}`,children:[B[L],L]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Healing Cases"}),t.jsxs("p",{className:"text-gray-500",children:["Document and manage healing testimonies",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:()=>{I(),k(!0)},disabled:!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2.5 bg-rose-600 text-white rounded-xl hover:bg-rose-700 transition-colors font-medium",children:[t.jsx(Br,{className:"w-4 h-4"}),"Add Case"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing healing cases."}),b.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${b.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[b.type==="success"?t.jsx(Y,{className:"w-5 h-5"}):t.jsx(ze,{className:"w-5 h-5"}),b.text,t.jsx("button",{onClick:()=>h({type:"",text:""}),className:"ml-auto",children:""})]}),x&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-pink-600 rounded-xl p-4 text-white",children:[t.jsx("p",{className:"text-rose-100 text-sm",children:"Total Cases"}),t.jsx("p",{className:"text-2xl font-bold",children:x.total})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:x.pending})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Verified"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.verified})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Published"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.published})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"This Month"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x.this_month})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Gt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search cases...",value:o,onChange:L=>c(L.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]}),t.jsxs("select",{value:u,onChange:L=>d(L.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"verified",children:"Verified"}),t.jsx("option",{value:"published",children:"Published"})]})]}),l?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-rose-600"})}):s.length===0?t.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-gray-100",children:[t.jsx(In,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No healing cases found"}),t.jsx("p",{className:"text-gray-500",children:"Start documenting healing testimonies"})]}):t.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Case"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Person"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Event"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(L=>{var O,B;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-500 to-pink-600 rounded-lg flex items-center justify-center",children:t.jsx(In,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"font-medium text-gray-900",children:L.case_id})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"font-medium text-gray-900",children:L.person_name}),t.jsx("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:L.description})]}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"text-gray-900",children:((O=L.event)==null?void 0:O.event_code)||"-"}),t.jsx("p",{className:"text-sm text-gray-500",children:(B=L.group)==null?void 0:B.group_code})]}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(L.healing_date).toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4",children:W(L.status)}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>{j(L),f(!0)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"View",children:t.jsx(Lt,{className:"w-4 h-4"})}),L.status==="pending"&&t.jsx("button",{onClick:()=>E(L),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Verify",children:t.jsx(wt,{className:"w-4 h-4"})}),L.status==="verified"&&t.jsx("button",{onClick:()=>z(L),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Publish",children:t.jsx(Co,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>U(L),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",title:"Edit",children:t.jsx(ip,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>A(L),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:t.jsx(Tt,{className:"w-4 h-4"})})]})})]},L.id)})})]})})}),g&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold",children:S?"Edit Healing Case":"Add Healing Case"}),t.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:R,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event *"}),t.jsxs("select",{value:N.event_id,onChange:L=>w({...N,event_id:L.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0,children:[t.jsx("option",{value:"",children:"Select event..."}),events.map(L=>t.jsxs("option",{value:L.id,children:[L.event_code," - ",L.name]},L.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group *"}),t.jsxs("select",{value:N.group_id,onChange:L=>w({...N,group_id:L.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0,children:[t.jsx("option",{value:"",children:"Select group..."}),a.map(L=>t.jsxs("option",{value:L.id,children:[L.group_code," - ",L.name]},L.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Person Name *"}),t.jsx("input",{type:"text",value:N.person_name,onChange:L=>w({...N,person_name:L.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Healing Date *"}),t.jsx("input",{type:"date",value:N.healing_date,onChange:L=>w({...N,healing_date:L.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),t.jsx("textarea",{value:N.description,onChange:L=>w({...N,description:L.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500 resize-none",rows:4,required:!0})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>k(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-rose-600 text-white rounded-xl hover:bg-rose-700",children:S?"Update":"Create"})]})]})]})}),m&&p&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-500 to-pink-600 rounded-xl flex items-center justify-center",children:t.jsx(In,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:p.case_id}),W(p.status)]})]}),t.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Person Name"}),t.jsx("p",{className:"font-medium text-gray-900",children:p.person_name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Healing Date"}),t.jsx("p",{className:"font-medium text-gray-900",children:new Date(p.healing_date).toLocaleDateString()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Event"}),t.jsx("p",{className:"font-medium text-gray-900",children:(ee=p.event)==null?void 0:ee.event_code})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Group"}),t.jsx("p",{className:"font-medium text-gray-900",children:($=p.group)==null?void 0:$.group_code})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),t.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-xl",children:p.description})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[t.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Close"}),p.status==="pending"&&t.jsx("button",{onClick:()=>{E(p),f(!1)},className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Verify Case"}),p.status==="verified"&&t.jsx("button",{onClick:()=>{z(p),f(!1)},className:"flex-1 px-4 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700",children:"Publish Case"})]})]})})]})}function Ab(){var u,d,x,v,b,h;const{activeEvent:e}=de(),[s,r]=y.useState(null),[a,n]=y.useState([]),[l,i]=y.useState(!0);y.useEffect(()=>{o()},[e==null?void 0:e.id]);const o=async()=>{try{if(!(e!=null&&e.id)){r(null),n([]);return}const[g,k]=await Promise.all([So.getCoverage(e.id),So.getPending({per_page:50,event_id:e.id})]);r(g),n(k.data||[])}catch(g){console.error("Failed to load backup data:",g)}finally{i(!1)}},c=g=>{if(!g)return"0 B";const k=1024,m=["B","KB","MB","GB","TB"],f=Math.floor(Math.log(g)/Math.log(k));return parseFloat((g/Math.pow(k,f)).toFixed(2))+" "+m[f]};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Backup Management"}),t.jsxs("p",{className:"text-gray-500",children:["Monitor backup coverage and verification status",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:o,disabled:!(e!=null&&e.id),className:"flex items-center gap-2 bg-white border border-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50",children:[t.jsx(Be,{className:"w-4 h-4"}),"Refresh"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing backup operations."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:t.jsx(X,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((u=s==null?void 0:s.total_media)==null?void 0:u.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total Media"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg",children:t.jsx(ge,{className:"w-6 h-6 text-yellow-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((d=s==null?void 0:s.backed_up)==null?void 0:d.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Backed Up"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:t.jsx(Y,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((x=s==null?void 0:s.verified)==null?void 0:x.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Verified"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:t.jsx(G,{className:"w-6 h-6 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((v=s==null?void 0:s.pending)==null?void 0:v.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:t.jsxs("span",{className:"text-xl font-bold text-purple-600",children:[(s==null?void 0:s.coverage_percentage)||0,"%"]})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Coverage"}),t.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full mt-1",children:t.jsx("div",{className:"h-full bg-purple-600 rounded-full",style:{width:`${(s==null?void 0:s.coverage_percentage)||0}%`}})})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Disks"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[((b=s==null?void 0:s.disks)==null?void 0:b.length)===0&&t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No backup disks registered"}),(h=s==null?void 0:s.disks)==null?void 0:h.map(g=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-3 rounded-lg ${g.status==="active"?"bg-green-50":"bg-gray-50"}`,children:t.jsx(X,{className:`w-6 h-6 ${g.status==="active"?"text-green-600":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:g.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[g.purpose,"  ",g.backups_count," files  ",g.verified_backups," verified"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g.status==="active"?"bg-green-100 text-green-700":g.status==="full"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:g.status})}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[g.usage_percentage,"% used"]})]})]},g.id))]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending Backups"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"File"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Event"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Age"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[a.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"All files are backed up and verified! "})}),a.map(g=>{var k,m;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"font-medium text-gray-900 truncate max-w-xs",children:g.filename}),t.jsx("p",{className:"text-xs text-gray-500",children:g.media_id})]}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:((k=g.editor)==null?void 0:k.name)||"-"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:((m=g.event)==null?void 0:m.name)||"-"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c(g.size_bytes)}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(g.created_at).toLocaleDateString()})]},g.id)})]})]})})]})]})}function na({percentage:e,showLabel:s=!0}){const r=()=>e>=95?"bg-red-500":e>=90?"bg-amber-500":e>=75?"bg-yellow-500":"bg-emerald-500";return t.jsxs("div",{className:"w-full",children:[t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:t.jsx("div",{className:`h-3 rounded-full ${r()} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})}),s&&t.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[t.jsx("span",{className:"text-gray-500",children:"Used"}),t.jsxs("span",{className:`font-medium ${e>=90?"text-red-600":"text-gray-700"}`,children:[e,"%"]})]})]})}function Rb({disk:e}){const s={healthy:"border-emerald-200 bg-emerald-50",caution:"border-yellow-200 bg-yellow-50",warning:"border-amber-200 bg-amber-50",critical:"border-red-200 bg-red-50"},r={healthy:t.jsx(Y,{className:"w-5 h-5 text-emerald-500"}),caution:t.jsx(ge,{className:"w-5 h-5 text-yellow-500"}),warning:t.jsx(G,{className:"w-5 h-5 text-amber-500"}),critical:t.jsx(G,{className:"w-5 h-5 text-red-500"})};return t.jsxs("div",{className:`rounded-xl border-2 p-4 ${s[e.health]}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:t.jsx(X,{className:"w-6 h-6 text-gray-700"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.disk_label}),t.jsx("p",{className:"text-xs text-gray-500",children:e.serial_number})]})]}),r[e.health]]}),t.jsx(na,{percentage:e.used_percent}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Used"}),t.jsx("p",{className:"font-medium text-gray-900",children:e.used_space})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Free"}),t.jsx("p",{className:"font-medium text-emerald-600",children:e.free_space})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),t.jsx("p",{className:"font-medium text-gray-900",children:e.total_capacity})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),t.jsx("p",{className:`font-medium capitalize ${e.status==="active"?"text-emerald-600":"text-gray-500"}`,children:e.status})]})]})]})}function Pb(){var h,g,k,m,f,p,j,S,_,N;const{activeEvent:e}=de(),[s,r]=y.useState(null),[a,n]=y.useState(null),[l,i]=y.useState(!0),[o,c]=y.useState("overview");y.useEffect(()=>{u()},[e==null?void 0:e.id]);const u=async()=>{try{if(i(!0),!(e!=null&&e.id)){r(null),n(null);return}const[w,C]=await Promise.all([jv.getUsage(),So.getAnalytics(e.id)]);r(w),n(C)}catch(w){console.error("Failed to load storage data:",w)}finally{i(!1)}};if(l&&!s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Be,{className:"w-8 h-8 animate-spin text-sky-500"})});const d=(s==null?void 0:s.totals)||{},x=(s==null?void 0:s.forecast)||{},v=(a==null?void 0:a.overall)||{},b=[{id:"overview",label:"Overview",icon:Hs},{id:"disks",label:"Disks",icon:X},{id:"groups",label:"By Group",icon:ap},{id:"editors",label:"By Editor",icon:Ne}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Storage & Backup"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"Monitor storage, backup coverage, and capacity forecast"})]}),t.jsxs("button",{onClick:u,disabled:l||!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:[t.jsx(Be,{className:`w-4 h-4 ${l?"animate-spin":""}`}),"Refresh"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing storage forecast and backup analytics."}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:b.map(w=>t.jsxs("button",{onClick:()=>c(w.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors text-sm whitespace-nowrap ${o===w.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(w.icon,{className:"w-4 h-4"}),w.label]},w.id))})}),((h=s==null?void 0:s.alerts)==null?void 0:h.length)>0&&t.jsx("div",{className:"space-y-2",children:s.alerts.map((w,C)=>t.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg ${w.level==="critical"?"bg-red-50 border border-red-200":w.level==="warning"?"bg-amber-50 border border-amber-200":"bg-blue-50 border border-blue-200"}`,children:[t.jsx(G,{className:`w-5 h-5 ${w.level==="critical"?"text-red-500":w.level==="warning"?"text-amber-500":"text-blue-500"}`}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.message})]},C))}),o==="overview"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:t.jsx(Oc,{className:"w-5 h-5 text-sky-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Total Capacity"})]}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.total_capacity}),t.jsxs("p",{className:"text-sm text-gray-500",children:[d.disk_count," disks"]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(X,{className:"w-5 h-5 text-emerald-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Free Space"})]}),t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:d.total_free}),t.jsxs("p",{className:"text-sm text-gray-500",children:[100-(d.overall_used_percent||0),"% available"]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:t.jsx(xs,{className:"w-5 h-5 text-amber-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Data Rate"})]}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((g=s==null?void 0:s.data_rate)==null?void 0:g.avg_per_hour)||"0 B"}),t.jsx("p",{className:"text-sm text-gray-500",children:"per hour average"})]}),t.jsxs("div",{className:`rounded-xl p-5 shadow-sm border ${x.status==="critical"?"bg-red-50 border-red-200":x.status==="warning"?"bg-amber-50 border-amber-200":x.status==="caution"?"bg-yellow-50 border-yellow-200":"bg-emerald-50 border-emerald-200"}`,children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:`p-2 rounded-lg ${x.status==="critical"?"bg-red-100":x.status==="warning"?"bg-amber-100":x.status==="caution"?"bg-yellow-100":"bg-emerald-100"}`,children:t.jsx(ge,{className:`w-5 h-5 ${x.status==="critical"?"text-red-600":x.status==="warning"?"text-amber-600":x.status==="caution"?"text-yellow-600":"text-emerald-600"}`})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Time Remaining"})]}),t.jsx("p",{className:`text-2xl font-bold ${x.status==="critical"?"text-red-700":x.status==="warning"?"text-amber-700":"text-gray-900"}`,children:x.days_remaining?`${x.days_remaining} days`:"N/A"}),t.jsx("p",{className:"text-sm text-gray-600",children:x.message})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Overall Storage Usage"}),t.jsx("div",{className:"mb-4",children:t.jsx(na,{percentage:d.overall_used_percent||0})}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Used"}),t.jsx("p",{className:"font-semibold text-gray-900",children:d.total_used})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Free"}),t.jsx("p",{className:"font-semibold text-emerald-600",children:d.total_free})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),t.jsx("p",{className:"font-semibold text-gray-900",children:d.total_capacity})]})]})]}),x.estimated_full_at&&t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Storage Forecast"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Estimated Full At"}),t.jsx("p",{className:"font-semibold text-gray-900",children:x.estimated_full_formatted})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Hours Remaining"}),t.jsxs("p",{className:"font-semibold text-gray-900",children:[x.hours_remaining," hours"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Projected Daily Usage"}),t.jsx("p",{className:"font-semibold text-gray-900",children:(k=s==null?void 0:s.data_rate)==null?void 0:k.projected_daily})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Clips"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((m=v.total_clips)==null?void 0:m.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:v.total_size_formatted})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Backed Up"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:((f=v.backed_up_clips)==null?void 0:f.toLocaleString())||0}),t.jsxs("div",{className:"mt-2",children:[t.jsx(na,{percentage:v.backup_percentage||0,showLabel:!1}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.backup_percentage||0,"% complete"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Verified"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:((p=v.verified_clips)==null?void 0:p.toLocaleString())||0}),t.jsxs("p",{className:"text-sm text-gray-500",children:[v.verification_percentage||0,"% verified"]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),t.jsx("p",{className:`text-2xl font-bold ${v.pending_clips>0?"text-amber-600":"text-emerald-600"}`,children:((j=v.pending_clips)==null?void 0:j.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:v.pending_size_formatted})]})]})]}),o==="disks"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(S=s==null?void 0:s.disks)==null?void 0:S.map(w=>t.jsx(Rb,{disk:w},w.id)),(!(s!=null&&s.disks)||s.disks.length===0)&&t.jsxs("div",{className:"col-span-full text-center py-8 bg-gray-50 rounded-xl",children:[t.jsx(X,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No backup disks registered"})]})]}),o==="groups"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Coverage by Group"})}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Members"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Clips"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Backed Up"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Progress"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(_=a==null?void 0:a.by_group)==null?void 0:_.map(w=>{var C,R,E;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-medium text-gray-900",children:w.group_code}),t.jsx("div",{className:"text-sm text-gray-500",children:w.name})]}),t.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:w.member_count}),t.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:(C=w.total_clips)==null?void 0:C.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:w.total_size_formatted}),t.jsx("td",{className:"px-6 py-4 text-right text-emerald-600 font-medium",children:(R=w.backed_up_clips)==null?void 0:R.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right",children:w.pending_clips>0?t.jsx("span",{className:"text-amber-600 font-medium",children:(E=w.pending_clips)==null?void 0:E.toLocaleString()}):t.jsx("span",{className:"text-emerald-600",children:""})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24",children:t.jsx(na,{percentage:w.backup_percentage||0,showLabel:!1})}),t.jsxs("span",{className:"text-sm font-medium text-gray-900 w-12",children:[w.backup_percentage,"%"]})]})})]},w.id)})})]}),(!(a!=null&&a.by_group)||a.by_group.length===0)&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No group data available"})]})]}),o==="editors"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Coverage by Editor"})}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Groups"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Clips"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Backed Up"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Progress"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(N=a==null?void 0:a.by_editor)==null?void 0:N.map(w=>{var C,R,E,z;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-medium text-gray-900",children:w.name}),t.jsx("div",{className:"text-sm text-gray-500",children:w.email})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"flex flex-wrap gap-1",children:(C=w.groups)==null?void 0:C.map(A=>t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:A.group_code},A.id))})}),t.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:(R=w.total_clips)==null?void 0:R.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:w.total_size_formatted}),t.jsx("td",{className:"px-6 py-4 text-right text-emerald-600 font-medium",children:(E=w.backed_up_clips)==null?void 0:E.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right",children:w.pending_clips>0?t.jsx("span",{className:"text-amber-600 font-medium",children:(z=w.pending_clips)==null?void 0:z.toLocaleString()}):t.jsx("span",{className:"text-emerald-600",children:""})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24",children:t.jsx(na,{percentage:w.backup_percentage||0,showLabel:!1})}),t.jsxs("span",{className:"text-sm font-medium text-gray-900 w-12",children:[w.backup_percentage,"%"]})]})})]},w.id)})})]}),(!(a!=null&&a.by_editor)||a.by_editor.length===0)&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No editor data available"})]})]})]})}function Lb(){const[e,s]=y.useState([]),[r,a]=y.useState(!0),[n,l]=y.useState(null),[i,o]=y.useState(!1),[c,u]=y.useState(!1),[d,x]=y.useState({auto_delete_enabled:!1,auto_delete_date:"",auto_delete_days_after_end:""}),[v,b]=y.useState(""),[h,g]=y.useState(!1);y.useEffect(()=>{k()},[]);const k=async()=>{try{a(!0);const S=await T.get("/media-deletion/status");s(S.data)}catch(S){console.error("Failed to load events:",S)}finally{a(!1)}},m=async S=>{try{const _=await T.get(`/media-deletion/event/${S.id}`);l(S),x({auto_delete_enabled:_.data.auto_delete_enabled||!1,auto_delete_date:_.data.auto_delete_date||"",auto_delete_days_after_end:_.data.auto_delete_days_after_end||""}),o(!0)}catch(_){console.error("Failed to load settings:",_)}},f=async()=>{try{g(!0),await T.put(`/media-deletion/event/${n.id}`,d),o(!1),k()}catch(S){console.error("Failed to save settings:",S),alert("Failed to save settings")}finally{g(!1)}},p=async()=>{if(!v||v.length<10){alert("Please provide a reason (at least 10 characters)");return}try{g(!0),await T.post(`/media-deletion/event/${n.id}/trigger`,{confirm:!0,reason:v}),u(!1),b(""),k()}catch(S){console.error("Failed to trigger deletion:",S),alert("Failed to trigger deletion")}finally{g(!1)}},j=S=>{const _={deleted:{bg:"bg-gray-100",text:"text-gray-600",icon:Y},disabled:{bg:"bg-yellow-100",text:"text-yellow-700",icon:Vs},pending_deletion:{bg:"bg-red-100",text:"text-red-700",icon:G},scheduled:{bg:"bg-blue-100",text:"text-blue-700",icon:ge},not_configured:{bg:"bg-gray-100",text:"text-gray-500",icon:Tr}},N=_[S]||_.not_configured,w=N.icon;return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${N.bg} ${N.text}`,children:[t.jsx(w,{size:12}),S.replace("_"," ")]})};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Be,{className:"animate-spin text-blue-500",size:32})}):t.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(wt,{className:"text-red-600",size:24})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Protection"})]}),t.jsx("p",{className:"text-gray-600",children:"Configure automatic media deletion for events to comply with data protection requirements. Videos will be permanently deleted from all editor devices after the specified date."})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Vs,{className:"text-blue-600 mt-0.5",size:20}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-blue-900",children:"How Auto-Delete Works"}),t.jsxs("ul",{className:"mt-2 text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:" Set a specific date or number of days after event ends"}),t.jsx("li",{children:" Media files are permanently deleted from server storage"}),t.jsx("li",{children:" Deletion tasks are sent to all editor devices (works offline)"}),t.jsx("li",{children:" Metadata is preserved for audit purposes"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Event Media Deletion Status"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Event"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"End Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Delete Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Media Files"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.map(S=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-medium text-gray-900",children:S.name})}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:S.end_date||"Not set"}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:S.calculated_delete_date||"Not configured"}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("span",{className:"text-gray-900 font-medium",children:S.media_count}),t.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"files"})]}),t.jsx("td",{className:"px-6 py-4",children:j(S.status)}),t.jsx("td",{className:"px-6 py-4 text-right",children:S.status!=="deleted"?t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>m(S),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Configure auto-delete",children:t.jsx(Tr,{size:18})}),t.jsx("button",{onClick:()=>{l(S),u(!0)},className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete now",children:t.jsx(Tt,{size:18})})]}):t.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-400",children:[t.jsx(Lr,{size:18}),t.jsx("span",{className:"text-xs",children:"Deleted"})]})})]},S.id)),e.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No events found"})})]})]})})]}),i&&n&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Auto-Delete Settings"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.name})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:d.auto_delete_enabled,onChange:S=>x({...d,auto_delete_enabled:S.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Enable auto-delete"})]}),d.auto_delete_enabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delete on specific date"}),t.jsx("input",{type:"date",value:d.auto_delete_date,onChange:S=>x({...d,auto_delete_date:S.target.value,auto_delete_days_after_end:""}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsx("div",{className:"text-center text-gray-500 text-sm",children:" OR "}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Days after event ends"}),t.jsx("input",{type:"number",value:d.auto_delete_days_after_end,onChange:S=>x({...d,auto_delete_days_after_end:S.target.value,auto_delete_date:""}),min:"1",max:"365",placeholder:"e.g., 30",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Media will be deleted this many days after the event end date"})]})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{onClick:f,disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:h?"Saving...":"Save Settings"})]})]})}),c&&n&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(G,{className:"text-red-600",size:20})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Immediate Deletion"})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("p",{className:"text-gray-600 mb-4",children:["You are about to permanently delete ",t.jsxs("strong",{children:[n.media_count," media files"]})," from event ",t.jsxs("strong",{children:['"',n.name,'"']}),"."]}),t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:t.jsxs("p",{className:"text-sm text-red-800",children:[t.jsx("strong",{children:"Warning:"})," This action cannot be undone. Files will be permanently deleted from the server and deletion tasks will be sent to all editor devices."]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for deletion (required)"}),t.jsx("textarea",{value:v,onChange:S=>b(S.target.value),placeholder:"Enter the reason for immediate deletion...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>{u(!1),b("")},className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{onClick:p,disabled:h||v.length<10,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:h?"Deleting...":"Delete All Media"})]})]})})]})}function Tb({user:e,roles:s,groups:r,onClose:a,onSave:n}){var b;const[l,i]=y.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",password:"",roles:((b=e==null?void 0:e.roles)==null?void 0:b.map(h=>h.slug))||["editor"],is_active:(e==null?void 0:e.is_active)??!0}),[o,c]=y.useState(!1),[u,d]=y.useState(""),x=async h=>{h.preventDefault(),c(!0),d("");try{const g={...l};if(g.password||delete g.password,e)await Nt.update(e.id,g);else{if(!g.password){d("Password is required for new users"),c(!1);return}await Nt.create(g)}n()}catch(g){d(g.message||"Failed to save user")}finally{c(!1)}},v=h=>{i(g=>({...g,roles:g.roles.includes(h)?g.roles.filter(k=>k!==h):[...g.roles,h]}))};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h3",{className:"text-lg font-semibold",children:e?"Edit User":"Create User"}),t.jsx("button",{onClick:a,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:x,className:"p-4 space-y-4",children:[u&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[t.jsx(ze,{className:"w-4 h-4"}),u]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),t.jsx("input",{type:"text",value:l.name,onChange:h=>i({...l,name:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",value:l.email,onChange:h=>i({...l,email:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),t.jsx("input",{type:"text",value:l.phone,onChange:h=>i({...l,phone:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e?"New Password (leave blank to keep current)":"Password"}),t.jsx("input",{type:"password",value:l.password,onChange:h=>i({...l,password:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...!e&&{required:!0},minLength:8})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Roles"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(h=>t.jsx("button",{type:"button",onClick:()=>v(h.slug),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${l.roles.includes(h.slug)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h.name},h.slug))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"is_active",checked:l.is_active,onChange:h=>i({...l,is_active:h.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Active"})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o?"Saving...":"Save"})]})]})]})})}function Mb({user:e,onClose:s,onConfirm:r}){const[a,n]=y.useState(!1),l=async()=>{n(!0);try{await Nt.delete(e.id),r()}catch(i){console.error("Failed to delete user:",i)}finally{n(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm mx-4 p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Tt,{className:"w-6 h-6 text-red-600"})}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete User"}),t.jsxs("p",{className:"text-gray-500 mb-6",children:["Are you sure you want to delete ",t.jsx("strong",{children:e.name}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:l,disabled:a,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:a?"Deleting...":"Delete"})]})]})})})}function Ob({roles:e,groups:s,onClose:r,onSuccess:a}){var p,j,S,_,N,w;const[n,l]=y.useState(""),[i,o]=y.useState("editor"),[c,u]=y.useState(""),[d,x]=y.useState(!1),[v,b]=y.useState(null),[h,g]=y.useState(""),k=C=>{const R=C.trim().split(`
`),E=[];for(let z=0;z<R.length;z++){const A=R[z].trim();if(!A||z===0&&A.toLowerCase().includes("name")&&A.toLowerCase().includes("email"))continue;const U=A.split(",").map(I=>I.trim().replace(/^["']|["']$/g,""));U.length>=2&&U[1].includes("@")&&E.push({name:U[0],email:U[1],phone:U[2]||""})}return E},m=async()=>{x(!0),g(""),b(null);const C=k(n);if(C.length===0){g("No valid users found in CSV. Format: name,email,phone"),x(!1);return}try{const R=await Nt.bulkImport({users:C,role:i,group_id:c||null,send_invitations:!1});b(R)}catch(R){g(R.message||"Import failed")}finally{x(!1)}},f=C=>{const R=C.target.files[0];if(R){const E=new FileReader;E.onload=z=>{l(z.target.result)},E.readAsText(R)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(ml,{className:"w-5 h-5"}),"Bulk Import Users"]}),t.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[h&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[t.jsx(ze,{className:"w-4 h-4"}),h]}),v?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-green-50 text-green-700 rounded-lg",children:[t.jsx("p",{className:"font-medium",children:"Import completed!"}),t.jsxs("p",{className:"text-sm mt-1",children:["Created: ",((p=v.summary)==null?void 0:p.created)||0," | Skipped: ",((j=v.summary)==null?void 0:j.skipped)||0]})]}),((_=(S=v.results)==null?void 0:S.created)==null?void 0:_.length)>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Created Users:"}),t.jsx("div",{className:"max-h-40 overflow-y-auto bg-gray-50 rounded-lg p-2",children:v.results.created.map((C,R)=>t.jsxs("div",{className:"text-sm py-1",children:[C.name," (",C.email,")",C.temp_password&&t.jsxs("span",{className:"ml-2 text-gray-500",children:["Password: ",t.jsx("code",{className:"bg-gray-200 px-1 rounded",children:C.temp_password})]})]},R))})]}),((w=(N=v.results)==null?void 0:N.skipped)==null?void 0:w.length)>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2 text-yellow-700",children:"Skipped:"}),t.jsx("div",{className:"max-h-32 overflow-y-auto bg-yellow-50 rounded-lg p-2",children:v.results.skipped.map((C,R)=>t.jsxs("div",{className:"text-sm py-1 text-yellow-700",children:[C.email,": ",C.reason]},R))})]}),t.jsx("button",{onClick:()=>{a(),r()},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Done"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),t.jsx("select",{value:i,onChange:C=>o(C.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:e.map(C=>t.jsx("option",{value:C.slug,children:C.name},C.slug))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Group (optional)"}),t.jsxs("select",{value:c,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"No group"}),s.map(C=>t.jsxs("option",{value:C.id,children:[C.group_code," - ",C.name]},C.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload CSV or paste data"}),t.jsx("input",{type:"file",accept:".csv,.txt",onChange:f,className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CSV Data (name,email,phone)"}),t.jsx("textarea",{value:n,onChange:C=>l(C.target.value),placeholder:`John Doe,john@example.com,+1234567890
Jane Smith,jane@example.com,`,rows:8,className:"w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"One user per line. Format: name,email,phone (phone is optional)"})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:m,disabled:d||!n.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:d?"Importing...":t.jsxs(t.Fragment,{children:[t.jsx(ml,{className:"w-4 h-4"})," Import Users"]})})]})]})]})]})})}function Ib({roles:e,groups:s,onClose:r,onSuccess:a}){const[n,l]=y.useState("editor"),[i,o]=y.useState(""),[c,u]=y.useState(100),[d,x]=y.useState(7),[v,b]=y.useState(!1),[h,g]=y.useState(null),[k,m]=y.useState(""),[f,p]=y.useState(!1),j=async()=>{b(!0),m("");try{const _=await Nt.createInvitation({role:n,group_id:i||null,max_uses:c,expires_days:d});g(_.invitation),a()}catch(_){m(_.message||"Failed to create invitation")}finally{b(!1)}},S=()=>{navigator.clipboard.writeText(h.link),p(!0),setTimeout(()=>p(!1),2e3)};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(np,{className:"w-5 h-5"}),"Create Invitation Link"]}),t.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[k&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[t.jsx(ze,{className:"w-4 h-4"}),k]}),h?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-green-50 text-green-700 rounded-lg",children:[t.jsx("p",{className:"font-medium",children:"Invitation created!"}),t.jsxs("p",{className:"text-sm mt-1",children:["Share this link with users to let them register as ",n,"."]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invitation Link"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:h.link,readOnly:!0,className:"flex-1 px-3 py-2 border rounded-lg bg-gray-50 text-sm"}),t.jsxs("button",{onClick:S,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1",children:[t.jsx(Mc,{className:"w-4 h-4"}),f?"Copied!":"Copy"]})]})]}),t.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[t.jsxs("p",{children:["Max uses: ",h.max_uses]}),t.jsxs("p",{children:["Expires: ",new Date(h.expires_at).toLocaleDateString()]})]}),t.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Done"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role for new users"}),t.jsx("select",{value:n,onChange:_=>l(_.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:e.map(_=>t.jsx("option",{value:_.slug,children:_.name},_.slug))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Group (optional)"}),t.jsxs("select",{value:i,onChange:_=>o(_.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"No group"}),s.map(_=>t.jsxs("option",{value:_.id,children:[_.group_code," - ",_.name]},_.id))]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Uses"}),t.jsx("input",{type:"number",value:c,onChange:_=>u(parseInt(_.target.value)||100),min:1,max:500,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expires in (days)"}),t.jsx("input",{type:"number",value:d,onChange:_=>x(parseInt(_.target.value)||7),min:1,max:30,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:j,disabled:v,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:v?"Creating...":"Create Link"})]})]})]})]})})}function Db(){const{isAdmin:e,isTeamLead:s,isGroupLeader:r,isQALead:a,isBackupLead:n}=de(),[l,i]=y.useState([]),[o,c]=y.useState([]),[u,d]=y.useState([]),[x,v]=y.useState(!0),[b,h]=y.useState(""),[g,k]=y.useState(""),[m,f]=y.useState(""),[p,j]=y.useState(!1),[S,_]=y.useState(!1),[N,w]=y.useState(!1),[C,R]=y.useState(null),[E,z]=y.useState(null),[A,U]=y.useState({current_page:1,last_page:1}),I=()=>e()?["admin","team-lead","group-leader","qa-lead","qa","backup-lead","backup","editor"]:s()?["group-leader","qa-lead","qa","backup-lead","backup","editor"]:r()?["editor"]:a()?["qa"]:n()?["backup"]:[],W=()=>e()?{title:"User Management",subtitle:"Manage all system users and roles"}:s()?{title:"Team Management",subtitle:"Manage team members (except admins)"}:r()?{title:"Group Members",subtitle:"Manage editors in your groups"}:a()?{title:"QA Team",subtitle:"Manage QA team members"}:n()?{title:"Backup Team",subtitle:"Manage backup team members"}:{title:"Users",subtitle:""},ee=I(),$=W();y.useEffect(()=>{L()},[b,g,m]);const L=async()=>{v(!0);try{const Q=g||(ee.length<8?ee.join(","):""),[Te,Ns,Mt]=await Promise.all([Nt.getAll({search:b,role:Q,status:m}),Nt.getRoles(),$t.getAll()]);let Xs=Te.data||[];e()||(Xs=Xs.filter(Zs=>{var Hr;return(Hr=Zs.roles)==null?void 0:Hr.some(Qa=>ee.includes(Qa.slug))})),i(Xs),U({current_page:Te.current_page,last_page:Te.last_page}),c((Ns||[]).filter(Zs=>ee.includes(Zs.slug))),d(Mt.data||Mt||[])}catch(Q){console.error("Failed to load users:",Q)}finally{v(!1)}},O=async Q=>{try{await Nt.toggleStatus(Q.id),L()}catch(Te){console.error("Failed to toggle status:",Te)}},B=Q=>{R(Q),j(!0)},V=()=>{R(null),j(!0)},te=()=>{j(!1),R(null)},ne=()=>{te(),L()},qe={admin:"bg-purple-100 text-purple-700","team-lead":"bg-indigo-100 text-indigo-700","group-leader":"bg-blue-100 text-blue-700","qa-lead":"bg-emerald-100 text-emerald-700",qa:"bg-green-100 text-green-700","backup-lead":"bg-orange-100 text-orange-700",backup:"bg-yellow-100 text-yellow-700",editor:"bg-gray-100 text-gray-700"};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:$.title}),t.jsx("p",{className:"text-gray-500",children:$.subtitle})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:"Bulk Import",children:[t.jsx(ml,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Import CSV"})]}),t.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:"Create Invitation Link",children:[t.jsx(np,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Invite Link"})]}),t.jsxs("button",{onClick:V,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[t.jsx(Br,{className:"w-4 h-4"}),"Add ",a()?"QA Member":n()?"Backup Member":r()?"Editor":"User"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search users...",value:b,onChange:Q=>h(Q.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("select",{value:g,onChange:Q=>k(Q.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Roles"}),o.map(Q=>t.jsx("option",{value:Q.slug,children:Q.name},Q.slug))]}),t.jsxs("select",{value:m,onChange:Q=>f(Q.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),x?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Roles"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(Q=>{var Te,Ns;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-blue-600 font-medium",children:(Te=Q.name)==null?void 0:Te.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:Q.name}),t.jsx("p",{className:"text-sm text-gray-500",children:Q.email})]})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("div",{className:"flex flex-wrap gap-1",children:(Ns=Q.roles)==null?void 0:Ns.map(Mt=>t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${qe[Mt.slug]||"bg-gray-100 text-gray-700"}`,children:Mt.name},Mt.slug))})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("button",{onClick:()=>O(Q),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${Q.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:Q.is_active?t.jsxs(t.Fragment,{children:[t.jsx(Da,{className:"w-3 h-3"}),"Active"]}):t.jsxs(t.Fragment,{children:[t.jsx(op,{className:"w-3 h-3"}),"Inactive"]})})}),t.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:new Date(Q.created_at).toLocaleDateString()}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>B(Q),className:"p-2 hover:bg-gray-100 rounded-lg",title:"Edit",children:t.jsx(lp,{className:"w-4 h-4 text-gray-500"})}),t.jsx("button",{onClick:()=>z(Q),className:"p-2 hover:bg-red-50 rounded-lg",title:"Delete",children:t.jsx(Tt,{className:"w-4 h-4 text-red-500"})})]})})]},Q.id)})})]}),l.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ne,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No users found"})]})]})]}),p&&t.jsx(Tb,{user:C,roles:o,groups:u,onClose:te,onSave:ne}),E&&t.jsx(Mb,{user:E,onClose:()=>z(null),onConfirm:()=>{z(null),L()}}),S&&t.jsx(Ob,{roles:o,groups:u,onClose:()=>_(!1),onSuccess:L}),N&&t.jsx(Ib,{roles:o,groups:u,onClose:()=>w(!1),onSuccess:L})]})}function Fb(){const{activeEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState([]),[l,i]=y.useState(!0),[o,c]=y.useState(null),[u,d]=y.useState({type:"",text:""}),[x,v]=y.useState(null),[b,h]=y.useState(!1),[g,k]=y.useState(!1),[m,f]=y.useState(!1),[p,j]=y.useState({group_id:"",notes:""}),[S,_]=y.useState(""),[N,w]=y.useState({email:"",group_id:""});y.useEffect(()=>{R()},[e==null?void 0:e.id]);const C=I=>Array.isArray(I)?I:Array.isArray(I==null?void 0:I.data)?I.data:Array.isArray(I==null?void 0:I.items)?I.items:[],R=async()=>{i(!0);try{const[I,W]=await Promise.all([Ts.getPending(),$t.getAll({event_id:e==null?void 0:e.id})]);r(C(I)),n(C(W))}catch{d({type:"error",text:"Failed to load data"})}finally{i(!1)}},E=async()=>{if(!p.group_id){d({type:"error",text:"Please select a group"});return}c("approve");try{await Ts.approve(x.id,p),d({type:"success",text:`${x.name} has been approved`}),r(I=>I.filter(W=>W.id!==x.id)),h(!1),v(null),j({group_id:"",notes:""})}catch(I){d({type:"error",text:I.message||"Failed to approve user"})}finally{c(null)}},z=async()=>{c("reject");try{await Ts.reject(x.id,{reason:S}),d({type:"success",text:"Registration rejected"}),r(I=>I.filter(W=>W.id!==x.id)),k(!1),v(null),_("")}catch(I){d({type:"error",text:I.message||"Failed to reject"})}finally{c(null)}},A=async()=>{if(!N.email){d({type:"error",text:"Please enter an email address"});return}c("invite");try{await Ts.sendInvitation(N),d({type:"success",text:`Invitation sent to ${N.email}`}),f(!1),w({email:"",group_id:""})}catch(I){d({type:"error",text:I.message||"Failed to send invitation"})}finally{c(null)}},U=I=>new Date(I).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Registration Approvals"}),t.jsx("p",{className:"text-gray-500",children:"Manage pending user registrations"})]}),t.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[t.jsx(gi,{className:"w-4 h-4"}),"Send Invitation"]})]}),u.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${u.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[u.type==="success"?t.jsx(Y,{className:"w-5 h-5"}):t.jsx(ze,{className:"w-5 h-5"}),u.text,t.jsx("button",{onClick:()=>d({type:"",text:""}),className:"ml-auto text-current opacity-50 hover:opacity-100",children:""})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"No active event. You can review registrations, but group assignment will be unavailable until an event is activated."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-amber-100",children:"Pending Approvals"}),t.jsx("p",{className:"text-3xl font-bold mt-1",children:s.length})]}),t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(ge,{className:"w-6 h-6"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-emerald-100",children:"Active Groups"}),t.jsx("p",{className:"text-3xl font-bold mt-1",children:a.length})]}),t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(Ne,{className:"w-6 h-6"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-blue-100",children:"Quick Action"}),t.jsx("p",{className:"text-lg font-medium mt-1",children:"Invite New Editor"})]}),t.jsx("button",{onClick:()=>f(!0),className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",children:t.jsx(Uc,{className:"w-6 h-6"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pending Registrations"})}),s.length===0?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Da,{className:"w-8 h-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Pending Registrations"}),t.jsx("p",{className:"text-gray-500",children:"All registration requests have been processed"})]}):t.jsx("div",{className:"divide-y divide-gray-100",children:s.map(I=>{var W,ee;return t.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:((ee=(W=I.name)==null?void 0:W.charAt(0))==null?void 0:ee.toUpperCase())||"?"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:I.name}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-1 text-sm text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(qs,{className:"w-4 h-4"}),I.email]}),I.phone&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Il,{className:"w-4 h-4"}),I.phone]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Wt,{className:"w-4 h-4"}),U(I.created_at)]})]}),I.registration_notes&&t.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-sm text-gray-600",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(gs,{className:"w-4 h-4 mt-0.5 text-gray-400"}),t.jsx("span",{children:I.registration_notes})]})})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{v(I),k(!0)},className:"flex items-center gap-2 px-4 py-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors font-medium",children:[t.jsx(Gs,{className:"w-4 h-4"}),"Reject"]}),t.jsxs("button",{onClick:()=>{v(I),h(!0)},className:"flex items-center gap-2 px-4 py-2 text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors font-medium",children:[t.jsx(Y,{className:"w-4 h-4"}),"Approve"]})]})]})},I.id)})})]}),b&&x&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(Da,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Approve Registration"}),t.jsx("p",{className:"text-sm text-gray-500",children:x.name})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Assign to Group ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:p.group_id,onChange:I=>j({...p,group_id:I.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[t.jsx("option",{value:"",children:"Select a group..."}),a.map(I=>t.jsxs("option",{value:I.id,children:[I.group_code," - ",I.name]},I.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),t.jsx("textarea",{value:p.notes,onChange:I=>j({...p,notes:I.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none",rows:3,placeholder:"Any notes about this approval..."})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>{h(!1),v(null),j({group_id:"",notes:""})},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:E,disabled:o==="approve",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50 font-medium transition-colors",children:[o==="approve"?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(Y,{className:"w-4 h-4"}),"Approve"]})]})]})}),g&&x&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(op,{className:"w-6 h-6 text-red-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reject Registration"}),t.jsx("p",{className:"text-sm text-gray-500",children:x.name})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional)"}),t.jsx("textarea",{value:S,onChange:I=>_(I.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none",rows:3,placeholder:"Reason for rejection..."}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"The user will be notified via email with this reason."})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>{k(!1),v(null),_("")},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:z,disabled:o==="reject",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 disabled:opacity-50 font-medium transition-colors",children:[o==="reject"?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(Gs,{className:"w-4 h-4"}),"Reject"]})]})]})}),m&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(gi,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Send Invitation"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Invite a new editor to join"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:N.email,onChange:I=>w({...N,email:I.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"editor@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pre-assign to Group (optional)"}),t.jsxs("select",{value:N.group_id,onChange:I=>w({...N,group_id:I.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"No group (assign later)"}),a.map(I=>t.jsxs("option",{value:I.id,children:[I.group_code," - ",I.name]},I.id))]})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>{f(!1),w({email:"",group_id:""})},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:A,disabled:o==="invite",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[o==="invite"?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(gi,{className:"w-4 h-4"}),"Send Invitation"]})]})]})})]})}function $b({log:e,onClose:s}){var r,a;return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Audit Log Details"}),t.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Action"}),t.jsx("p",{className:"font-medium",children:e.action})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Timestamp"}),t.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"User"}),t.jsx("p",{className:"font-medium",children:((r=e.user)==null?void 0:r.name)||"System"}),t.jsx("p",{className:"text-sm text-gray-500",children:(a=e.user)==null?void 0:a.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"IP Address"}),t.jsx("p",{className:"font-medium",children:e.ip_address||"N/A"})]})]}),e.entity_type&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Entity"}),t.jsxs("p",{className:"font-medium",children:[e.entity_type," #",e.entity_id]})]}),e.metadata&&Object.keys(e.metadata).length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase mb-2 block",children:"Metadata"}),t.jsx("pre",{className:"bg-gray-50 p-3 rounded-lg text-sm overflow-auto max-h-48",children:JSON.stringify(e.metadata,null,2)})]})]}),t.jsx("div",{className:"p-4 border-t",children:t.jsx("button",{onClick:s,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Close"})})]})})}function bn({title:e,value:s,icon:r,color:a}){const n={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-2 rounded-lg ${n[a]}`,children:t.jsx(r,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:e})]})]})})}function Ub(){const[e,s]=y.useState([]),[r,a]=y.useState(null),[n,l]=y.useState([]),[i,o]=y.useState([]),[c,u]=y.useState(!0),[d,x]=y.useState(null),[v,b]=y.useState({search:"",action:"",entity_type:"",date_from:"",date_to:""}),[h,g]=y.useState({current_page:1,last_page:1,per_page:50,total:0});y.useEffect(()=>{k()},[]),y.useEffect(()=>{m()},[v,h.current_page]);const k=async()=>{try{const[N,w,C]=await Promise.all([fn.getStats(),fn.getActions(),fn.getEntityTypes()]);a(N),l(w||[]),o(C||[])}catch(N){console.error("Failed to load initial data:",N)}},m=async()=>{u(!0);try{const N=await fn.getAll({...v,page:h.current_page,per_page:h.per_page});s(N.data||[]),g(w=>({...w,current_page:N.current_page,last_page:N.last_page,total:N.total}))}catch(N){console.error("Failed to load logs:",N)}finally{u(!1)}},f=(N,w)=>{b(C=>({...C,[N]:w})),g(C=>({...C,current_page:1}))},p=()=>{b({search:"",action:"",entity_type:"",date_from:"",date_to:""})},j=N=>{g(w=>({...w,current_page:N}))},S={"user.create":"bg-green-100 text-green-700","user.update":"bg-blue-100 text-blue-700","user.delete":"bg-red-100 text-red-700","auth.login":"bg-purple-100 text-purple-700","auth.logout":"bg-gray-100 text-gray-700","media.sync":"bg-cyan-100 text-cyan-700","issue.report":"bg-orange-100 text-orange-700","issue.resolve":"bg-green-100 text-green-700"},_=N=>S[N]||"bg-gray-100 text-gray-700";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),t.jsx("p",{className:"text-gray-500",children:"Track all system activities and changes"})]}),r&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(bn,{title:"Total Logs",value:r.total,icon:Oc,color:"blue"}),t.jsx(bn,{title:"Today",value:r.today,icon:ge,color:"green"}),t.jsx(bn,{title:"This Week",value:r.this_week,icon:Wt,color:"yellow"}),t.jsx(bn,{title:"This Month",value:r.this_month,icon:ae,color:"purple"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search logs...",value:v.search,onChange:N=>f("search",N.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("select",{value:v.action,onChange:N=>f("action",N.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Actions"}),n.map(N=>t.jsx("option",{value:N,children:N},N))]}),t.jsxs("select",{value:v.entity_type,onChange:N=>f("entity_type",N.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Entities"}),i.map(N=>t.jsx("option",{value:N,children:N},N))]}),t.jsx("input",{type:"date",value:v.date_from,onChange:N=>f("date_from",N.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"From"}),t.jsx("input",{type:"date",value:v.date_to,onChange:N=>f("date_to",N.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"To"}),(v.search||v.action||v.entity_type||v.date_from||v.date_to)&&t.jsxs("button",{onClick:p,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg flex items-center gap-2",children:[t.jsx(Ae,{className:"w-4 h-4"}),"Clear"]})]})}),c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Timestamp"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Entity"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"IP Address"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Details"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(N=>{var w,C;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(N.created_at).toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_(N.action)}`,children:N.action})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:t.jsx(Qt,{className:"w-4 h-4 text-gray-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:((w=N.user)==null?void 0:w.name)||"System"}),t.jsx("p",{className:"text-xs text-gray-500",children:((C=N.user)==null?void 0:C.email)||""})]})]})}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:N.entity_type?`${N.entity_type} #${N.entity_id}`:"-"}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:N.ip_address||"-"}),t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsx("button",{onClick:()=>x(N),className:"p-2 hover:bg-gray-100 rounded-lg",title:"View Details",children:t.jsx(Lt,{className:"w-4 h-4 text-gray-500"})})})]},N.id)})})]}),e.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(gs,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No audit logs found"})]})]}),h.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-100",children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(h.current_page-1)*h.per_page+1," to"," ",Math.min(h.current_page*h.per_page,h.total)," of"," ",h.total," results"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>j(h.current_page-1),disabled:h.current_page===1,className:"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(sp,{className:"w-4 h-4"})}),t.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",h.current_page," of ",h.last_page]}),t.jsx("button",{onClick:()=>j(h.current_page+1),disabled:h.current_page===h.last_page,className:"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(Pr,{className:"w-4 h-4"})})]})]})]})]}),d&&t.jsx($b,{log:d,onClose:()=>x(null)})]})}function zb(){const[e,s]=y.useState("general"),[r,a]=y.useState(!0),[n,l]=y.useState(!1),[i,o]=y.useState(!1),[c,u]=y.useState({type:"",text:""}),[d,x]=y.useState({app_name:"",app_url:"",require_approval:!0,allow_self_registration:!0}),[v,b]=y.useState({smtp_host:"",smtp_port:587,smtp_username:"",smtp_password:"",smtp_encryption:"tls",smtp_from_address:"",smtp_from_name:""}),[h,g]=y.useState(""),[k,m]=y.useState(!1);y.useEffect(()=>{f()},[]);const f=async()=>{a(!0);try{const[N,w]=await Promise.all([Zr.getGeneral(),Zr.getSmtp()]);x(N),b(w)}catch{u({type:"error",text:"Failed to load settings"})}finally{a(!1)}},p=async()=>{l(!0),u({type:"",text:""});try{await Zr.updateGeneral(d),u({type:"success",text:"General settings saved successfully"})}catch(N){u({type:"error",text:N.message||"Failed to save settings"})}finally{l(!1)}},j=async()=>{l(!0),u({type:"",text:""});try{await Zr.updateSmtp(v),u({type:"success",text:"SMTP settings saved successfully"})}catch(N){u({type:"error",text:N.message||"Failed to save settings"})}finally{l(!1)}},S=async()=>{if(!h){u({type:"error",text:"Please enter a test email address"});return}o(!0),u({type:"",text:""});try{const N=await Zr.testSmtp(h);u({type:"success",text:N.message})}catch(N){u({type:"error",text:N.message||"SMTP test failed"})}finally{o(!1)}};if(r)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})});const _=[{id:"general",label:"General",icon:Co},{id:"smtp",label:"Email (SMTP)",icon:qs},{id:"security",label:"Security",icon:wt}];return t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),t.jsx("p",{className:"text-gray-500",children:"Configure your Gate 1 System"})]}),c.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${c.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[c.type==="success"?t.jsx(Y,{className:"w-5 h-5"}):t.jsx(ze,{className:"w-5 h-5"}),c.text]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"border-b border-gray-100",children:t.jsx("nav",{className:"flex",children:_.map(N=>t.jsxs("button",{onClick:()=>s(N.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${e===N.id?"border-blue-600 text-blue-600 bg-blue-50/50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(N.icon,{className:"w-4 h-4"}),N.label]},N.id))})}),t.jsxs("div",{className:"p-6",children:[e==="general"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Name"}),t.jsx("input",{type:"text",value:d.app_name,onChange:N=>x({...d,app_name:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application URL"}),t.jsx("input",{type:"url",value:d.app_url,onChange:N=>x({...d,app_url:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://gate1.cloud"})]})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Registration Settings"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[t.jsx("input",{type:"checkbox",checked:d.allow_self_registration,onChange:N=>x({...d,allow_self_registration:N.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Allow Self-Registration"}),t.jsx("div",{className:"text-sm text-gray-500",children:"Allow users to register themselves without an invitation"})]})]}),t.jsxs("label",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[t.jsx("input",{type:"checkbox",checked:d.require_approval,onChange:N=>x({...d,require_approval:N.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Require Approval"}),t.jsx("div",{className:"text-sm text-gray-500",children:"New registrations must be approved by an admin or group leader"})]})]})]})]}),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsxs("button",{onClick:p,disabled:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[n?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(Ao,{className:"w-4 h-4"}),"Save Changes"]})})]}),e==="smtp"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(qs,{className:"w-5 h-5 text-blue-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-900",children:"Email Configuration"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Configure SMTP settings to enable email notifications for password resets, registration approvals, and alerts."})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Host"}),t.jsxs("div",{className:"relative",children:[t.jsx(qv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",value:v.smtp_host,onChange:N=>b({...v,smtp_host:N.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"smtp.gmail.com"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Port"}),t.jsx("input",{type:"number",value:v.smtp_port,onChange:N=>b({...v,smtp_port:parseInt(N.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"587"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),t.jsx("input",{type:"text",value:v.smtp_username,onChange:N=>b({...v,smtp_username:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:k?"text":"password",value:v.smtp_password,onChange:N=>b({...v,smtp_password:N.target.value}),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:""}),t.jsx("button",{type:"button",onClick:()=>m(!k),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:k?t.jsx(jr,{className:"w-4 h-4"}):t.jsx(Lt,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Encryption"}),t.jsxs("select",{value:v.smtp_encryption,onChange:N=>b({...v,smtp_encryption:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"tls",children:"TLS"}),t.jsx("option",{value:"ssl",children:"SSL"}),t.jsx("option",{value:"none",children:"None"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Address"}),t.jsx("input",{type:"email",value:v.smtp_from_address,onChange:N=>b({...v,smtp_from_address:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"noreply@gate1system.org"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Name"}),t.jsx("input",{type:"text",value:v.smtp_from_name,onChange:N=>b({...v,smtp_from_name:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Gate 1 System"})]})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Configuration"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("input",{type:"email",value:h,onChange:N=>g(N.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email to send test message"}),t.jsxs("button",{onClick:S,disabled:i,className:"flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 disabled:opacity-50 font-medium transition-colors",children:[i?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(Qv,{className:"w-4 h-4"}),"Send Test"]})]})]}),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsxs("button",{onClick:j,disabled:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[n?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(Ao,{className:"w-4 h-4"}),"Save SMTP Settings"]})})]}),e==="security"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(wt,{className:"w-5 h-5 text-amber-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-amber-900",children:"Security Settings"}),t.jsx("p",{className:"text-sm text-amber-700",children:"Additional security settings will be available in a future update."})]})]})}),t.jsxs("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(wt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:"Security settings coming soon"}),t.jsx("p",{className:"text-sm",children:"Session management, 2FA, and more"})]})]})]})]})]})}function Bb(){var k,m,f;const{user:e}=de(),[s,r]=y.useState("profile"),[a,n]=y.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||""}),[l,i]=y.useState({current_password:"",password:"",password_confirmation:""}),[o,c]=y.useState({current:!1,new:!1,confirm:!1}),[u,d]=y.useState(!1),[x,v]=y.useState({type:"",text:""}),b=async p=>{p.preventDefault(),d(!0),v({type:"",text:""});try{await Nt.update(e.id,a),v({type:"success",text:"Profile updated successfully"})}catch(j){v({type:"error",text:j.message||"Failed to update profile"})}finally{d(!1)}},h=async p=>{if(p.preventDefault(),d(!0),v({type:"",text:""}),l.password!==l.password_confirmation){v({type:"error",text:"Passwords do not match"}),d(!1);return}try{await br.changePassword(l),v({type:"success",text:"Password changed successfully"}),i({current_password:"",password:"",password_confirmation:""})}catch(j){v({type:"error",text:j.message||"Failed to change password"})}finally{d(!1)}},g=p=>{c(j=>({...j,[p]:!j[p]}))};return t.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"}),t.jsx("p",{className:"text-gray-500",children:"Manage your account settings"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-3xl font-bold text-white",children:((m=(k=e==null?void 0:e.name)==null?void 0:k.charAt(0))==null?void 0:m.toUpperCase())||"U"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e==null?void 0:e.name}),t.jsx("p",{className:"text-gray-500",children:e==null?void 0:e.email}),t.jsx("div",{className:"flex gap-2 mt-2",children:(f=e==null?void 0:e.roles)==null?void 0:f.map(p=>t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:p},p))})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"border-b border-gray-100",children:t.jsxs("nav",{className:"flex",children:[t.jsx("button",{onClick:()=>r("profile"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="profile"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qt,{className:"w-4 h-4"}),"Profile Information"]})}),t.jsx("button",{onClick:()=>r("security"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="security"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(wt,{className:"w-4 h-4"}),"Security"]})})]})}),t.jsxs("div",{className:"p-6",children:[x.text&&t.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${x.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[x.type==="success"?t.jsx(Y,{className:"w-5 h-5"}):t.jsx(ze,{className:"w-5 h-5"}),x.text]}),s==="profile"&&t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qt,{className:"w-4 h-4"}),"Full Name"]})}),t.jsx("input",{type:"text",value:a.name,onChange:p=>n({...a,name:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qs,{className:"w-4 h-4"}),"Email Address"]})}),t.jsx("input",{type:"email",value:a.email,onChange:p=>n({...a,email:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Il,{className:"w-4 h-4"}),"Phone Number"]})}),t.jsx("input",{type:"text",value:a.phone,onChange:p=>n({...a,phone:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional"})]}),t.jsx("div",{className:"pt-4",children:t.jsxs("button",{type:"submit",disabled:u,className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:[t.jsx(Ao,{className:"w-4 h-4"}),u?"Saving...":"Save Changes"]})})]}),s==="security"&&t.jsxs("form",{onSubmit:h,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:o.current?"text":"password",value:l.current_password,onChange:p=>i({...l,current_password:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0}),t.jsx("button",{type:"button",onClick:()=>g("current"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.current?t.jsx(jr,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:o.new?"text":"password",value:l.password,onChange:p=>i({...l,password:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0,minLength:8}),t.jsx("button",{type:"button",onClick:()=>g("new"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.new?t.jsx(jr,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum 8 characters"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:o.confirm?"text":"password",value:l.password_confirmation,onChange:p=>i({...l,password_confirmation:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0}),t.jsx("button",{type:"button",onClick:()=>g("confirm"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.confirm?t.jsx(jr,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"pt-4",children:t.jsxs("button",{type:"submit",disabled:u,className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:[t.jsx(rp,{className:"w-4 h-4"}),u?"Changing...":"Change Password"]})})]})]})]})]})}const Hb=[{id:1,type:"alert",title:"New Issue Reported",message:"Camera CAM-042 reported corrupt file in Group Alpha",time:"5 min ago",read:!1,link:"/issues"},{id:2,type:"success",title:"Backup Completed",message:"Daily backup for Event TEST-2024 completed successfully",time:"1 hour ago",read:!1,link:"/backups"},{id:3,type:"info",title:"New Editor Joined",message:"John Doe has joined Group Beta as an editor",time:"2 hours ago",read:!0,link:"/users"},{id:4,type:"warning",title:"Storage Warning",message:"Backup disk DISK-003 is at 85% capacity",time:"3 hours ago",read:!0,link:"/storage-forecast"},{id:5,type:"alert",title:"Issue Escalated",message:"Missing footage issue #127 has been escalated",time:"5 hours ago",read:!0,link:"/issues"},{id:6,type:"success",title:"QA Review Complete",message:"15 media files passed quality control",time:"1 day ago",read:!0,link:"/quality-control"},{id:7,type:"info",title:"Event Started",message:"Event TEST-2024 is now active",time:"2 days ago",read:!0,link:"/events"}];function Vb(){const{user:e}=de(),[s,r]=y.useState(Hb),[a,n]=y.useState("all"),[l,i]=y.useState(!1),[o,c]=y.useState({issues:!0,backups:!0,storage:!0,users:!0,qa:!0}),u=s.filter(m=>a==="unread"?!m.read:a==="read"?m.read:!0),d=s.filter(m=>!m.read).length,x=m=>{r(f=>f.map(p=>p.id===m?{...p,read:!0}:p))},v=()=>{r(m=>m.map(f=>({...f,read:!0})))},b=m=>{r(f=>f.filter(p=>p.id!==m))},h=()=>{r([])},g=m=>{switch(m){case"alert":return t.jsx(G,{className:"w-5 h-5 text-red-500"});case"warning":return t.jsx(G,{className:"w-5 h-5 text-yellow-500"});case"success":return t.jsx(Y,{className:"w-5 h-5 text-green-500"});case"info":return t.jsx(Vs,{className:"w-5 h-5 text-blue-500"});default:return t.jsx(Oa,{className:"w-5 h-5 text-gray-500"})}},k=(m,f)=>{if(f)return"bg-white";switch(m){case"alert":return"bg-red-50";case"warning":return"bg-yellow-50";case"success":return"bg-green-50";case"info":return"bg-blue-50";default:return"bg-gray-50"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),t.jsx("p",{className:"text-gray-500",children:d>0?`${d} unread notifications`:"All caught up!"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i(!l),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[t.jsx(Tr,{className:"w-4 h-4"}),"Preferences"]}),d>0&&t.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[t.jsx(Lv,{className:"w-4 h-4"}),"Mark all read"]})]})]}),l&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[t.jsx("h3",{className:"font-medium mb-3",children:"Notification Preferences"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(o).map(([m,f])=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f,onChange:()=>c(p=>({...p,[m]:!p[m]})),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm capitalize",children:m})]},m))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ic,{className:"w-4 h-4 text-gray-400"}),t.jsxs("select",{value:a,onChange:m=>n(m.target.value),className:"border-0 bg-transparent text-sm font-medium focus:ring-0",children:[t.jsx("option",{value:"all",children:"All Notifications"}),t.jsx("option",{value:"unread",children:"Unread"}),t.jsx("option",{value:"read",children:"Read"})]})]}),s.length>0&&t.jsx("button",{onClick:h,className:"text-sm text-red-600 hover:text-red-700",children:"Clear all"})]}),t.jsx("div",{className:"divide-y divide-gray-100",children:u.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Oa,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No notifications"})]}):u.map(m=>t.jsx("div",{className:`p-4 ${k(m.type,m.read)} hover:bg-gray-50 transition-colors`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:g(m.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`font-medium ${m.read?"text-gray-700":"text-gray-900"}`,children:m.title}),t.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:m.message})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!m.read&&t.jsx("button",{onClick:()=>x(m.id),className:"p-1 hover:bg-gray-200 rounded",title:"Mark as read",children:t.jsx(tp,{className:"w-4 h-4 text-gray-400"})}),t.jsx("button",{onClick:()=>b(m.id),className:"p-1 hover:bg-gray-200 rounded",title:"Delete",children:t.jsx(Tt,{className:"w-4 h-4 text-gray-400"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(ge,{className:"w-3 h-3 text-gray-400"}),t.jsx("span",{className:"text-xs text-gray-400",children:m.time}),m.link&&t.jsx("a",{href:m.link,className:"text-xs text-blue-600 hover:underline ml-2",children:"View details "})]})]})]})},m.id))})]})]})}const rm=[{id:"daily-summary",name:"Daily Summary",description:"Overview of daily operations including media count, issues, and editor activity",icon:Wt,formats:["pdf","xlsx"],category:"operations"},{id:"event-report",name:"Event Report",description:"Complete report for a specific event including all statistics and media",icon:Hs,formats:["pdf","xlsx"],category:"operations"},{id:"media-export",name:"Media Inventory",description:"Export list of all media files with metadata and status",icon:nt,formats:["xlsx","csv"],category:"media"},{id:"issues-report",name:"Issues Report",description:"List of all issues with resolution status and timeline",icon:G,formats:["pdf","xlsx"],category:"quality"},{id:"backup-report",name:"Backup Status",description:"Backup coverage and verification report by disk and event",icon:X,formats:["pdf","xlsx"],category:"storage"},{id:"editor-performance",name:"Editor Performance",description:"Performance metrics and productivity stats for editors",icon:Ne,formats:["pdf","xlsx"],category:"team"},{id:"healing-cases",name:"Healing Cases",description:"Export healing case records with patient info and status",icon:gs,formats:["xlsx","csv"],category:"media"},{id:"audit-logs",name:"Audit Trail",description:"System audit logs for compliance and tracking",icon:gs,formats:["xlsx","csv"],category:"admin"}],qb={operations:"Operations",media:"Media",quality:"Quality Control",storage:"Storage",team:"Team",admin:"Administration"};function Wb(){const{activeEvent:e}=de(),[s,r]=y.useState(null),[a,n]=y.useState({start:"",end:""}),[l,i]=y.useState(""),[o,c]=y.useState(!1),[u,d]=y.useState([]),[x,v]=y.useState([]),[b,h]=y.useState("");y.useEffect(()=>{e!=null&&e.id&&i(String(e.id))},[e==null?void 0:e.id]),y.useEffect(()=>{(async()=>{try{const S=await Ls.getAll({status:"active"}),_=(S==null?void 0:S.data)||(S==null?void 0:S.events)||S||[];v(Array.isArray(_)?_:[])}catch{v([])}})()},[]);const g=y.useMemo(()=>rm.reduce((j,S)=>(j[S.category]||(j[S.category]=[]),j[S.category].push(S),j),{}),[]),k=(j,S)=>{const _=window.URL.createObjectURL(j),N=document.createElement("a");N.href=_,N.download=S,document.body.appendChild(N),N.click(),N.remove(),window.URL.revokeObjectURL(_)},m=j=>{if(!j)return"";try{return new Date(j).toISOString().slice(0,10)}catch{return""}},f=(j,S)=>{const _=m(new Date);return`${j}_${_}.${S}`},p=async(j,S)=>{c(!0),h("");try{const _=rm.find(C=>C.id===j);if(!_)throw new Error("Unknown report type");const N={event_id:l||void 0,from_date:a.start||void 0,to_date:a.end||void 0};if(j==="media-export"){const C=await tr.exportMedia(N);k(C,f("media_export","csv"))}else if(j==="issues-report"){const C=await tr.exportIssues(N);k(C,f("issues_export","csv"))}else if(j==="backup-report"){const C=await tr.backupReport(N);k(C,f("backup_report","csv"))}else if(j==="editor-performance"){const C=await tr.editorPerformance(N);k(C,f("editor_performance","csv"))}else if(j==="healing-cases"){const C=await tr.exportHealingCases(N);k(C,f("healing_cases_export","csv"))}else if(j==="audit-logs"){const C=await tr.exportAuditLogs(N);k(C,f("audit_logs_export","csv"))}else if(j==="daily-summary"){const C=await qu.dailySummary({date:a.start||void 0,event_id:l||void 0}),R=new Blob([JSON.stringify(C,null,2)],{type:"application/json"});k(R,f("daily_summary","json"))}else if(j==="event-report"){if(!l)throw new Error("Please select an event");const C=await qu.eventReport(l,{event_id:l}),R=new Blob([JSON.stringify(C,null,2)],{type:"application/json"});k(R,f(`event_report_${l}`,"json"))}else throw new Error("This report type is not implemented yet");const w={id:Date.now(),name:`${_.name} - ${new Date().toLocaleDateString()}`,type:S,size:"downloaded",time:"Just now"};d(C=>[w,...C.slice(0,9)]),r(null)}catch(_){h((_==null?void 0:_.message)||"Failed to generate report")}finally{c(!1)}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),t.jsx("p",{className:"text-gray-500",children:"Generate and download system reports"})]})}),b&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 text-sm text-red-700",children:b}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2 space-y-6",children:Object.entries(g).map(([j,S])=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h2",{className:"font-semibold text-gray-900",children:qb[j]})}),t.jsx("div",{className:"divide-y divide-gray-100",children:S.map(_=>t.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(_.icon,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:_.name}),t.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:_.description}),t.jsx("div",{className:"flex items-center gap-2 mt-3",children:_.formats.map(N=>t.jsxs("button",{onClick:()=>r({..._,format:N}),className:"flex items-center gap-1 px-3 py-1.5 text-sm border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[N==="pdf"?t.jsx(Qu,{className:"w-4 h-4 text-red-500"}):t.jsx(Gu,{className:"w-4 h-4 text-green-500"}),N.toUpperCase()]},N))})]})]})},_.id))})]},j))}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h2",{className:"font-semibold text-gray-900",children:"Recent Reports"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:u.length===0?t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No recent reports"}):u.map(j=>t.jsx("div",{className:"p-4 hover:bg-gray-50",children:t.jsxs("div",{className:"flex items-center gap-3",children:[j.type==="pdf"?t.jsx(Qu,{className:"w-8 h-8 text-red-500"}):t.jsx(Gu,{className:"w-8 h-8 text-green-500"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:j.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:[j.size,"  ",j.time]})]}),t.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(Ia,{className:"w-4 h-4 text-gray-500"})})]})},j.id))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Quick Stats"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-blue-100",children:"Reports this month"}),t.jsx("span",{className:"font-semibold",children:"24"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-blue-100",children:"Total downloads"}),t.jsx("span",{className:"font-semibold",children:"156"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-blue-100",children:"Storage used"}),t.jsx("span",{className:"font-semibold",children:"48 MB"})]})]})]})]})]}),s&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h3",{className:"text-lg font-semibold",children:"Generate Report"})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Report Type"}),t.jsxs("p",{className:"font-medium",children:[s.name," (",s.format.toUpperCase(),")"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("input",{type:"date",value:a.start,onChange:j=>n(S=>({...S,start:j.target.value})),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),t.jsx("input",{type:"date",value:a.end,onChange:j=>n(S=>({...S,end:j.target.value})),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.id==="event-report"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event"}),t.jsxs("select",{value:l,onChange:j=>i(j.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select event..."}),x.map(j=>t.jsxs("option",{value:String(j.id),children:[j.event_code||j.code||j.name," ",j.name?`- ${j.name}`:""]},j.id))]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:()=>r(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:()=>p(s.id,s.format),disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:o?t.jsxs(t.Fragment,{children:[t.jsx(ge,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ia,{className:"w-4 h-4"}),"Generate"]})})]})]})]})})]})}const Gb=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],am=Array.from({length:24},(e,s)=>s),Qb=[{id:1,userId:1,userName:"John Doe",date:"2024-12-26",startHour:8,endHour:16,status:"active",checkedIn:!0},{id:2,userId:2,userName:"Jane Smith",date:"2024-12-26",startHour:16,endHour:24,status:"scheduled"},{id:3,userId:3,userName:"Mike Johnson",date:"2024-12-26",startHour:8,endHour:16,status:"completed"},{id:4,userId:1,userName:"John Doe",date:"2024-12-27",startHour:8,endHour:16,status:"scheduled"},{id:5,userId:4,userName:"Sarah Wilson",date:"2024-12-27",startHour:16,endHour:24,status:"scheduled"}],nm=[{id:1,name:"John Doe"},{id:2,name:"Jane Smith"},{id:3,name:"Mike Johnson"},{id:4,name:"Sarah Wilson"},{id:5,name:"Tom Brown"}];function Kb(){const{isAdmin:e,isTeamLead:s,isGroupLeader:r}=de(),[a,n]=y.useState(new Date),[l,i]=y.useState("week"),[o,c]=y.useState(Qb),[u,d]=y.useState(!1),[x,v]=y.useState(null),[b,h]=y.useState({userId:"",startHour:8,endHour:16}),g=e()||s()||r(),m=(()=>{const C=[],R=new Date(a);R.setDate(a.getDate()-a.getDay());for(let E=0;E<7;E++){const z=new Date(R);z.setDate(R.getDate()+E),C.push(z)}return C})(),f=C=>C.toISOString().split("T")[0],p=C=>o.filter(R=>R.date===f(C)),j=C=>{const R=new Date(a);R.setDate(a.getDate()+C*7),n(R)},S=(C,R)=>{g&&(v({date:f(C),hour:R}),h({userId:"",startHour:R,endHour:R+8}),d(!0))},_=()=>{if(!b.userId)return;const C=nm.find(E=>E.id===parseInt(b.userId)),R={id:Date.now(),userId:parseInt(b.userId),userName:(C==null?void 0:C.name)||"Unknown",date:x.date,startHour:parseInt(b.startHour),endHour:parseInt(b.endHour),status:"scheduled"};c(E=>[...E,R]),d(!1)},N=C=>{switch(C){case"active":return"bg-green-100 border-green-300 text-green-800";case"completed":return"bg-gray-100 border-gray-300 text-gray-600";case"scheduled":return"bg-blue-100 border-blue-300 text-blue-800";default:return"bg-gray-100 border-gray-300 text-gray-600"}},w={scheduled:o.filter(C=>C.date===f(new Date)&&C.status==="scheduled").length,active:o.filter(C=>C.date===f(new Date)&&C.status==="active").length,completed:o.filter(C=>C.date===f(new Date)&&C.status==="completed").length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shift Schedule"}),t.jsx("p",{className:"text-gray-500",children:"Manage editor work schedules"})]}),g&&t.jsxs("button",{onClick:()=>{v({date:f(new Date),hour:8}),h({userId:"",startHour:8,endHour:16}),d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[t.jsx(Br,{className:"w-4 h-4"}),"Add Shift"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(ge,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.scheduled}),t.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled Today"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(Vv,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.active}),t.jsx("p",{className:"text-sm text-gray-500",children:"Currently Active"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:t.jsx(tp,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.completed}),t.jsx("p",{className:"text-sm text-gray-500",children:"Completed Today"})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>j(-1),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(sp,{className:"w-5 h-5"})}),t.jsxs("h2",{className:"font-semibold text-gray-900",children:[m[0].toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",m[6].toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),t.jsx("button",{onClick:()=>j(1),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(Pr,{className:"w-5 h-5"})})]}),t.jsx("button",{onClick:()=>n(new Date),className:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg hover:bg-gray-50",children:"Today"})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("div",{className:"min-w-[800px]",children:[t.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-100",children:[t.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 border-r border-gray-100",children:"Time"}),m.map((C,R)=>{const E=f(C)===f(new Date);return t.jsxs("div",{className:`p-3 text-center border-r border-gray-100 last:border-r-0 ${E?"bg-blue-50":""}`,children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:Gb[C.getDay()]}),t.jsx("p",{className:`text-lg font-semibold ${E?"text-blue-600":"text-gray-900"}`,children:C.getDate()})]},R)})]}),[6,8,10,12,14,16,18,20,22].map(C=>t.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"p-2 text-center text-sm text-gray-500 border-r border-gray-100 bg-gray-50",children:[C.toString().padStart(2,"0"),":00"]}),m.map((R,E)=>{const z=p(R).filter(U=>U.startHour<=C&&U.endHour>C),A=f(R)===f(new Date);return t.jsx("div",{onClick:()=>S(R,C),className:`p-1 min-h-[60px] border-r border-gray-100 last:border-r-0 ${A?"bg-blue-50/50":""} ${g?"cursor-pointer hover:bg-gray-50":""}`,children:z.map(U=>t.jsxs("div",{className:`px-2 py-1 rounded text-xs font-medium border ${N(U.status)} mb-1`,children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Qt,{className:"w-3 h-3"}),U.userName]}),t.jsxs("div",{className:"text-[10px] opacity-75",children:[U.startHour,":00 - ",U.endHour,":00"]})]},U.id))},E)})]},C))]})})]}),u&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Schedule Shift"}),t.jsx("button",{onClick:()=>d(!1),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),t.jsx("input",{type:"date",value:(x==null?void 0:x.date)||"",onChange:C=>v(R=>({...R,date:C.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Editor"}),t.jsxs("select",{value:b.userId,onChange:C=>h(R=>({...R,userId:C.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select editor..."}),nm.map(C=>t.jsx("option",{value:C.id,children:C.name},C.id))]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),t.jsx("select",{value:b.startHour,onChange:C=>h(R=>({...R,startHour:C.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:am.map(C=>t.jsxs("option",{value:C,children:[C.toString().padStart(2,"0"),":00"]},C))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),t.jsx("select",{value:b.endHour,onChange:C=>h(R=>({...R,endHour:C.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:am.map(C=>t.jsxs("option",{value:C,children:[C.toString().padStart(2,"0"),":00"]},C))})]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:_,disabled:!b.userId,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Schedule"})]})]})]})})]})}const Jb={media_upload:{icon:ml,color:"text-blue-500",bg:"bg-blue-100"},media_edit:{icon:lp,color:"text-purple-500",bg:"bg-purple-100"},issue_created:{icon:G,color:"text-red-500",bg:"bg-red-100"},issue_resolved:{icon:Y,color:"text-green-500",bg:"bg-green-100"},backup_complete:{icon:X,color:"text-green-500",bg:"bg-green-100"},backup_started:{icon:X,color:"text-yellow-500",bg:"bg-yellow-100"},user_login:{icon:$v,color:"text-blue-500",bg:"bg-blue-100"},user_logout:{icon:Dc,color:"text-gray-500",bg:"bg-gray-100"},user_joined:{icon:Uc,color:"text-green-500",bg:"bg-green-100"},camera_bind:{icon:st,color:"text-purple-500",bg:"bg-purple-100"},qa_approved:{icon:Y,color:"text-green-500",bg:"bg-green-100"},settings_changed:{icon:Tr,color:"text-gray-500",bg:"bg-gray-100"},event_started:{icon:ae,color:"text-blue-500",bg:"bg-blue-100"}};function Yb(){var p,j,S;const{user:e,activeEvent:s}=de(),[r,a]=y.useState([]),[n,l]=y.useState("all"),[i,o]=y.useState(!0),[c,u]=y.useState(!1),[d,x]=y.useState({today:{},hourly_activity:[]}),v=r.filter(_=>n==="all"?!0:_.type.includes(n)),b=_=>{var E,z;const N=((E=_.user)==null?void 0:E.name)||"System",w=(z=_.group)==null?void 0:z.code,C=_.description||_.title||"",R=(()=>{const A=_.metadata||{};return A.issue_id||A.media_id||A.camera_number||A.disk_label||A.event_code||null})();return{id:_.id,type:_.type,user:N,target:R,message:C,time:_.time_ago||(_.created_at?new Date(_.created_at).toLocaleString():""),group:w,raw:_}},h=async()=>{u(!0);try{const[_,N]=await Promise.all([Wu.get({event_id:s==null?void 0:s.id,limit:100}),Wu.stats({event_id:s==null?void 0:s.id})]);a(((_==null?void 0:_.activities)||[]).map(b)),x(N||{today:{},hourly_activity:[]})}finally{u(!1)}};y.useEffect(()=>{h()},[s==null?void 0:s.id]),y.useEffect(()=>{if(!i)return;const _=setInterval(()=>{h()},3e4);return()=>clearInterval(_)},[i,n,s==null?void 0:s.id]);const g=_=>{const N=Jb[_]||{icon:ae,color:"text-gray-500",bg:"bg-gray-100"},w=N.icon;return t.jsx("div",{className:`p-2 rounded-full ${N.bg}`,children:t.jsx(w,{className:`w-4 h-4 ${N.color}`})})},k=r.length,m=((p=d==null?void 0:d.today)==null?void 0:p.issues_reported)??r.filter(_=>_.type.includes("issue")).length,f=(((j=d==null?void 0:d.today)==null?void 0:j.copies_started)??0)+(((S=d==null?void 0:d.today)==null?void 0:S.copies_completed)??0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Activity Feed"}),t.jsx("p",{className:"text-gray-500",children:"Real-time system activity"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>o(!i),className:`flex items-center gap-2 px-3 py-2 rounded-lg border ${i?"bg-green-50 border-green-200 text-green-700":"border-gray-300"}`,children:[t.jsx("span",{className:`w-2 h-2 rounded-full ${i?"bg-green-500 animate-pulse":"bg-gray-400"}`}),i?"Live":"Paused"]}),t.jsxs("button",{onClick:h,disabled:c,className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[t.jsx(Be,{className:`w-4 h-4 ${c?"animate-spin":""}`}),"Refresh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(ae,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k}),t.jsx("p",{className:"text-sm text-gray-500",children:"Activities Today"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(nt,{className:"w-5 h-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f}),t.jsx("p",{className:"text-sm text-gray-500",children:"Media Activities"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(G,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m}),t.jsx("p",{className:"text-sm text-gray-500",children:"Issue Activities"})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ic,{className:"w-4 h-4 text-gray-400"}),t.jsxs("select",{value:n,onChange:_=>l(_.target.value),className:"border-0 bg-transparent text-sm font-medium focus:ring-0",children:[t.jsx("option",{value:"all",children:"All Activities"}),t.jsx("option",{value:"media",children:"Media"}),t.jsx("option",{value:"issue",children:"Issues"}),t.jsx("option",{value:"backup",children:"Backups"}),t.jsx("option",{value:"user",children:"Users"})]})]}),t.jsxs("span",{className:"text-sm text-gray-500",children:[v.length," activities"]})]}),t.jsx("div",{className:"divide-y divide-gray-100",children:v.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ae,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No activities found"})]}):v.map(_=>t.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-3",children:[g(_.type),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("p",{className:"text-sm text-gray-900",children:[t.jsx("span",{className:"font-medium",children:_.user})," ",_.message,_.target&&t.jsxs("span",{className:"font-medium text-blue-600",children:[" ",_.target]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(ge,{className:"w-3 h-3 text-gray-400"}),t.jsx("span",{className:"text-xs text-gray-400",children:_.time}),_.group&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-300",children:""}),t.jsxs("span",{className:"text-xs text-gray-500",children:["Group ",_.group]})]})]})]})]})},_.id))}),t.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:t.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Load more activities"})})]})]})}const Xb=[{category:"Getting Started",icon:Pv,questions:[{q:"How do I set up the Desktop Agent?",a:"Download the Desktop Agent from the downloads section. Install it, then log in with your credentials. The agent will automatically connect to the server and sync your assigned cameras."},{q:"How do I join a group?",a:"Groups are assigned by your Group Leader or Admin. Contact them to be added to a specific group. Once added, you'll see the group in your dashboard."},{q:"What are the different user roles?",a:"Admin: Full system access. Team Lead: Operational management. Group Leader: Manages editors in their group. QA Lead: Quality control oversight. Backup Lead: Storage management. Editor: Media ingestion via Desktop Agent."}]},{category:"Media Management",icon:nt,questions:[{q:"How do I upload media files?",a:"Media files are uploaded automatically through the Desktop Agent when you process SD cards. Insert the SD card, select the camera, and the agent will sync the files."},{q:"What file formats are supported?",a:"The system supports MP4, MOV, AVI for video and JPG, PNG, RAW for images. Maximum file size is determined by your system settings."},{q:"How do I search for specific media?",a:"Use the Media Library search. You can filter by date, camera, group, event, and status. Use the advanced search for more specific queries."}]},{category:"Issues & Quality Control",icon:G,questions:[{q:"How do I report an issue?",a:'Click "Report Issue" from the Issues page or directly from a media item. Select the issue type, add a description, and submit. The issue will be routed to QA.'},{q:"What happens when an issue is escalated?",a:"Escalated issues are flagged for immediate attention and notify Team Leads. They appear at the top of the issue queue with high priority."},{q:"How does the QA review process work?",a:"QA team members review media in the Quality Control queue. They can approve, reject, or flag items for re-processing. Approved items move to the backup queue."}]},{category:"Backups & Storage",icon:X,questions:[{q:"How are backups performed?",a:"Backups are managed through the Backup Dashboard. Media is backed up to registered disks. The system tracks backup status and verification for each file."},{q:"What does backup verification mean?",a:"Verification ensures backup integrity by comparing checksums. Verified backups are confirmed to be complete and uncorrupted."},{q:"How do I check storage capacity?",a:"The Storage Forecast page shows current usage and predictions. You'll receive alerts when disks approach capacity thresholds."}]}],Zb=[{title:"Editor Quick Start Guide",icon:gs,description:"Basic guide for new editors"},{title:"Group Leader Handbook",icon:Ne,description:"Managing your team effectively"},{title:"Camera Setup Guide",icon:st,description:"Binding cameras and SD cards"},{title:"Backup Procedures",icon:X,description:"Best practices for data backup"},{title:"Quality Control Standards",icon:wt,description:"QA review guidelines"},{title:"System Administration",icon:Tr,description:"Admin configuration guide"}];function ej(){const[e,s]=y.useState("Getting Started"),[r,a]=y.useState(null),[n,l]=y.useState(""),i=Xb.map(o=>({...o,questions:o.questions.filter(c=>c.q.toLowerCase().includes(n.toLowerCase())||c.a.toLowerCase().includes(n.toLowerCase()))})).filter(o=>o.questions.length>0);return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Help & Documentation"}),t.jsx("p",{className:"text-gray-500",children:"Guides, FAQs, and support resources"})]})}),t.jsxs("div",{className:"relative",children:[t.jsx(Gt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search help articles...",value:n,onChange:o=>l(o.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Frequently Asked Questions"}),i.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[t.jsx(Eo,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsxs("p",{className:"text-gray-500",children:['No results found for "',n,'"']})]}):i.map(o=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsxs("button",{onClick:()=>s(e===o.category?null:o.category),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(o.icon,{className:"w-5 h-5 text-blue-600"})}),t.jsx("span",{className:"font-medium text-gray-900",children:o.category}),t.jsxs("span",{className:"text-sm text-gray-400",children:["(",o.questions.length,")"]})]}),e===o.category?t.jsx(ul,{className:"w-5 h-5 text-gray-400"}):t.jsx(Pr,{className:"w-5 h-5 text-gray-400"})]}),e===o.category&&t.jsx("div",{className:"border-t border-gray-100 divide-y divide-gray-100",children:o.questions.map((c,u)=>t.jsxs("div",{className:"p-4",children:[t.jsxs("button",{onClick:()=>a(r===`${o.category}-${u}`?null:`${o.category}-${u}`),className:"w-full flex items-start justify-between text-left",children:[t.jsx("span",{className:"font-medium text-gray-700 pr-4",children:c.q}),r===`${o.category}-${u}`?t.jsx(ul,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-1"}):t.jsx(Pr,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-1"})]}),r===`${o.category}-${u}`&&t.jsx("p",{className:"mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:c.a})]},u))})]},o.category))]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quick Guides"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:Zb.map(o=>t.jsxs("a",{href:"#",className:"flex items-center gap-3 p-4 hover:bg-gray-50 transition-colors",children:[t.jsx(o.icon,{className:"w-5 h-5 text-gray-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.title}),t.jsx("p",{className:"text-xs text-gray-500",children:o.description})]}),t.jsx(Iv,{className:"w-4 h-4 text-gray-400"})]},o.title))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:[t.jsx(zv,{className:"w-8 h-8 mb-4"}),t.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Need More Help?"}),t.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Can't find what you're looking for? Contact our support team."}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("a",{href:"mailto:support@neliumsystems.com",className:"flex items-center gap-2 text-white hover:text-blue-100",children:[t.jsx(qs,{className:"w-4 h-4"}),"support@neliumsystems.com"]}),t.jsxs("a",{href:"tel:+254700000000",className:"flex items-center gap-2 text-white hover:text-blue-100",children:[t.jsx(Il,{className:"w-4 h-4"}),"+254 700 000 000"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"System Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Version"}),t.jsx("span",{className:"font-medium",children:"1.0.0"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Build"}),t.jsx("span",{className:"font-medium",children:"2024.12.26"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Developer"}),t.jsx("span",{className:"font-medium",children:"Nelium Systems"})]})]})]})]})]})]})}function cp({assigned:e,completed:s,showNumbers:r=!0}){const a=e>0?Math.round(s/e*100):0,n=e-s;return t.jsxs("div",{className:"w-full",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-300",style:{width:`${a}%`}})}),r&&t.jsxs("span",{className:"text-xs text-gray-500 min-w-[60px] text-right",children:[s,"/",e]})]}),n>0&&t.jsxs("p",{className:"text-xs text-orange-600 mt-0.5",children:[n," pending"]})]})}function tj({editor:e}){const r=(()=>{const n=e.mediaAssigned-e.mediaCompleted;return n===0?{label:"Available",color:"text-green-600",bg:"bg-green-100",icon:Y,priority:1}:n<=5?{label:"Light Load",color:"text-blue-600",bg:"bg-blue-100",icon:Nr,priority:2}:n<=15?{label:"Normal",color:"text-yellow-600",bg:"bg-yellow-100",icon:$c,priority:3}:{label:"Heavy Load",color:"text-red-600",bg:"bg-red-100",icon:xs,priority:4}})(),a=r.icon;return t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-all",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-medium",children:e.name.charAt(0)})}),t.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white ${e.isOnline?"bg-green-500":"bg-gray-400"}`})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.name}),t.jsx("p",{className:"text-xs text-gray-500",children:e.group})]})]}),t.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${r.bg} ${r.color}`,children:[t.jsx(a,{className:"w-3 h-3"}),r.label]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Status"}),t.jsx("span",{className:e.isOnline?"text-green-600":"text-gray-500",children:e.isOnline?e.currentActivity||"Online":`Offline  ${rj(e.lastSeen)}`})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Workload"}),t.jsxs("span",{className:"font-medium",children:[e.mediaAssigned-e.mediaCompleted," pending"]})]}),t.jsx(cp,{assigned:e.mediaAssigned,completed:e.mediaCompleted}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-1",children:[t.jsxs("span",{children:["Avg: ",e.avgProcessingTime," min/file"]}),t.jsxs("span",{children:[e.mediaCompleted," completed"]})]})]})]})}function sj({group:e}){const s=e.totalMedia>0?Math.round(e.completedMedia/e.totalMedia*100):0,r=e.totalMedia-e.completedMedia,a=e.editorCount>0?Math.round(r/e.editorCount):0;return t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:e.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:[e.code,"  ",e.editorCount," editors"]})]}),t.jsxs("div",{className:`text-2xl font-bold ${s>=80?"text-green-600":s>=50?"text-yellow-600":"text-red-600"}`,children:[s,"%"]})]}),t.jsx(cp,{assigned:e.totalMedia,completed:e.completedMedia}),t.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[t.jsxs("span",{className:"text-gray-500",children:[r," pending"]}),t.jsxs("span",{className:"text-gray-500",children:["~",a," per editor"]})]})]})}function rj(e){const s=Math.floor((new Date-new Date(e))/1e3);if(s<60)return"just now";const r=Math.floor(s/60);if(r<60)return`${r}m ago`;const a=Math.floor(r/60);return a<24?`${a}h ago`:`${Math.floor(a/24)}d ago`}function aj(){const{activeEvent:e,isAdmin:s,isTeamLead:r,isGroupLeader:a}=de(),[n,l]=y.useState([]),[i,o]=y.useState([]),[c,u]=y.useState(!0),[d,x]=y.useState("all"),[v,b]=y.useState("all"),[h,g]=y.useState("workload"),[k,m]=y.useState(!0),[f,p]=y.useState(new Date),j=y.useCallback(async()=>{if(!(e!=null&&e.id)){l([]),o([]),u(!1);return}try{const w=await Nv.getOverview(e.id),C=(w.editors||[]).map(E=>{var z,A,U,I;return{id:E.id,name:E.name,email:E.email,group:((A=(z=E.groups)==null?void 0:z[0])==null?void 0:A.name)||"Unassigned",groupId:((I=(U=E.groups)==null?void 0:U[0])==null?void 0:I.id)||null,isOnline:E.is_online,lastSeen:E.last_seen_at,currentActivity:E.current_activity,mediaAssigned:E.media_assigned||0,mediaCompleted:E.media_completed||0,avgProcessingTime:E.avg_processing_time||0}}),R=(w.groups||[]).map(E=>({id:E.id,name:E.name,code:E.code,totalMedia:E.total_media||0,completedMedia:E.completed_media||0,editorCount:E.editor_count||0}));l(C),o(R),p(new Date)}catch(w){console.error("Failed to fetch work allocation:",w)}finally{u(!1)}},[e==null?void 0:e.id]);y.useEffect(()=>{j()},[j]),y.useEffect(()=>{let w;return k&&(e!=null&&e.id)&&(w=setInterval(j,5e3)),()=>{w&&clearInterval(w)}},[k,e==null?void 0:e.id,j]);const S=!!(e!=null&&e.id),_=n.filter(w=>!(d!=="all"&&w.groupId!==parseInt(d)||v==="online"&&!w.isOnline||v==="offline"&&w.isOnline||v==="available"&&w.mediaAssigned-w.mediaCompleted>0||v==="light"&&w.mediaAssigned-w.mediaCompleted>5)).sort((w,C)=>h==="workload"?w.mediaAssigned-w.mediaCompleted-(C.mediaAssigned-C.mediaCompleted):h==="name"?w.name.localeCompare(C.name):h==="group"?w.group.localeCompare(C.group):0),N={totalEditors:n.length,onlineEditors:n.filter(w=>w.isOnline).length,availableEditors:n.filter(w=>w.isOnline&&w.mediaAssigned-w.mediaCompleted===0).length,lightLoadEditors:n.filter(w=>w.isOnline&&w.mediaAssigned-w.mediaCompleted>0&&w.mediaAssigned-w.mediaCompleted<=5).length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Work Allocation"}),t.jsxs("p",{className:"text-gray-500",children:["Assign and balance editor workloads",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),!S&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing work allocation."}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:["Team Status",k&&t.jsxs("span",{className:"flex items-center gap-1.5 text-sm font-normal text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live"]})]}),t.jsxs("p",{className:"text-gray-500",children:["Real-time editor availability  Last updated: ",f.toLocaleTimeString()]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("button",{onClick:()=>m(!k),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${k?"bg-green-50 border-green-200 text-green-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[t.jsx(zt,{className:`w-3 h-3 ${k?"fill-green-500 text-green-500":"text-gray-400"}`}),k?"Live Updates On":"Live Updates Off"]})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(Ne,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.totalEditors}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total Editors"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(Da,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.onlineEditors}),t.jsx("p",{className:"text-sm text-gray-500",children:"Online Now"})]})]})}),t.jsx("div",{className:"bg-green-50 rounded-xl border border-green-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(Y,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-700",children:N.availableEditors}),t.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Available for Work"})]})]})}),t.jsx("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(Nr,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-blue-700",children:N.lightLoadEditors}),t.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Light Workload"})]})]})})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Group Workload"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(w=>t.jsx(sj,{group:w},w.id))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Editor Status",t.jsx("span",{className:"ml-2 text-sm font-normal text-gray-500",children:"(sorted by availability - assign work to those at the top)"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:d,onChange:w=>x(w.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Groups"}),i.map(w=>t.jsx("option",{value:w.id,children:w.name},w.id))]}),t.jsxs("select",{value:v,onChange:w=>b(w.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"online",children:"Online Only"}),t.jsx("option",{value:"available",children:"Available"}),t.jsx("option",{value:"light",children:"Light Load"})]}),t.jsxs("select",{value:h,onChange:w=>g(w.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"workload",children:"Sort by Workload"}),t.jsx("option",{value:"name",children:"Sort by Name"}),t.jsx("option",{value:"group",children:"Sort by Group"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(w=>t.jsx(tj,{editor:w},w.id))}),_.length===0&&t.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200",children:[t.jsx(Ne,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No editors match the filter"})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[t.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Assignment Tips"}),t.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Green (Available)"})," - No pending work, ready for new assignments"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Blue (Light Load)"})," - 1-5 pending items, can take more work"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Yellow (Normal)"})," - 6-15 pending items, moderate workload"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Red (Heavy Load)"})," - 15+ pending items, avoid assigning more"]})]})]})]})}function nj({session:e}){const s=e.files_total>0?Math.round(e.files_copied/e.files_total*100):0,r=()=>e.status==="completed"?"border-green-200 bg-green-50":e.status==="early_removal"||s<25?"border-red-200 bg-red-50":s<75?"border-yellow-200 bg-yellow-50":"border-blue-200 bg-blue-50",a=()=>e.status==="completed"?t.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-xs font-medium",children:[t.jsx(Y,{className:"w-3 h-3"})," Complete"]}):e.status==="early_removal"?t.jsxs("span",{className:"flex items-center gap-1 text-red-600 text-xs font-medium",children:[t.jsx(Gs,{className:"w-3 h-3"})," Early Removal!"]}):e.status==="active"?t.jsxs("span",{className:"flex items-center gap-1 text-blue-600 text-xs font-medium",children:[t.jsx(Fv,{className:"w-3 h-3 animate-spin"})," Copying"]}):t.jsx("span",{className:"text-gray-500 text-xs",children:e.status});return t.jsxs("div",{className:`rounded-xl border-2 p-4 transition-all ${r()}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:t.jsx(st,{className:"w-5 h-5 text-gray-700"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:["Camera ",e.camera_number,e.sd_label||""]}),t.jsx("p",{className:"text-sm text-gray-500",children:e.event_name||"Unknown Event"})]})]}),a()]}),t.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-600",children:[t.jsx(Qt,{className:"w-4 h-4"}),t.jsx("span",{children:e.editor_name||"Unknown"}),t.jsx("span",{className:"text-gray-300",children:""}),t.jsx("span",{children:e.group_code||""})]}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[t.jsxs("span",{className:"text-gray-600",children:[e.files_copied," / ",e.files_total," files"]}),t.jsxs("span",{className:"font-medium",children:[s,"%"]})]}),t.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full transition-all duration-500 ${s===100?"bg-green-500":s<25?"bg-red-500":s<75?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${s}%`}})})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ge,{className:"w-3 h-3"}),"Started ",new Date(e.started_at).toLocaleTimeString()]}),e.files_pending>0&&t.jsxs("span",{className:"text-orange-600 font-medium",children:[e.files_pending," pending"]})]})]})}function lj({removal:e}){return t.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(G,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-red-900",children:"Early SD Removal"}),t.jsxs("p",{className:"text-sm text-red-700",children:["Camera ",e.camera_number,e.sd_label," - ",e.files_pending," files not copied"]}),t.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[e.editor_name,"  ",new Date(e.removed_at).toLocaleTimeString()]})]})]})})}function ij({camera:e}){const r=e.health_score>=80?{bg:"bg-green-50",border:"border-green-200",icon:"text-green-500"}:e.health_score>=50?{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-500"}:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500"};return t.jsxs("div",{className:`rounded-lg border ${r.border} ${r.bg} p-3 flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-3 h-3 fill-current ${r.icon}`}),t.jsxs("span",{className:"font-medium text-gray-900",children:["Camera ",e.camera_number]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("span",{className:"text-sm font-medium",children:[e.health_score,"%"]}),e.open_issues>0&&t.jsxs("span",{className:"ml-2 text-xs text-red-600",children:[e.open_issues," issues"]})]})]})}function oj(){const{activeEvent:e,isAdmin:s,isTeamLead:r,isGroupLeader:a}=de(),[n,l]=y.useState(!0),[i,o]=y.useState(new Date),[c,u]=y.useState(!0),[d,x]=y.useState({activeSessions:[],earlyRemovals:[],cameraHealth:[],stats:{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),v=y.useCallback(async()=>{try{if(!(e!=null&&e.id)){x({activeSessions:[],earlyRemovals:[],cameraHealth:[],stats:{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),u(!1);return}const b=await Ge.getLiveOperations(e.id);x({activeSessions:b.activeSessions||[],earlyRemovals:b.earlyRemovals||[],cameraHealth:b.cameraHealth||[],stats:b.stats||{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),o(new Date)}catch(b){console.error("Failed to fetch live operations:",b)}finally{u(!1)}},[e==null?void 0:e.id]);return y.useEffect(()=>{v()},[v]),y.useEffect(()=>{let b;return n&&(b=setInterval(v,3e3)),()=>{b&&clearInterval(b)}},[n,v]),c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[t.jsx(ae,{className:"w-7 h-7 text-blue-600"}),"Live Operations",n&&t.jsxs("span",{className:"flex items-center gap-1.5 text-sm font-normal text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live"]})]}),t.jsxs("p",{className:"text-gray-500",children:["Real-time SD sessions and camera activity  Updated: ",i.toLocaleTimeString()]}),e!=null&&e.name?t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Active event: ",t.jsx("span",{className:"font-medium text-blue-600",children:e.name})]}):null]}),t.jsxs("button",{onClick:()=>l(!n),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${n?"bg-green-50 border-green-200 text-green-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[n?t.jsx(Ws,{className:"w-4 h-4"}):t.jsx(Fa,{className:"w-4 h-4"}),n?"Live Updates On":"Live Updates Off"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-sm text-amber-800",children:"You must activate an event before viewing live operations."}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-700",children:d.stats.totalActiveSessions}),t.jsx("div",{className:"text-sm text-blue-600",children:"Active Sessions"})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-green-700",children:d.stats.editorsOnline}),t.jsx("div",{className:"text-sm text-green-600",children:"Editors Online"})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-green-700",children:d.stats.camerasHealthy}),t.jsx("div",{className:"text-sm text-green-600",children:"Cameras Healthy"})]}),t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-yellow-700",children:d.stats.camerasAttention}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Need Attention"})]}),t.jsxs("div",{className:`rounded-xl p-4 text-center ${d.stats.earlyRemovalsToday>0?"bg-red-50 border border-red-200":"bg-gray-50 border border-gray-200"}`,children:[t.jsx("div",{className:`text-3xl font-bold ${d.stats.earlyRemovalsToday>0?"text-red-700":"text-gray-400"}`,children:d.stats.earlyRemovalsToday}),t.jsx("div",{className:`text-sm ${d.stats.earlyRemovalsToday>0?"text-red-600":"text-gray-500"}`,children:"Early Removals Today"})]})]}),d.earlyRemovals.length>0&&t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-semibold text-red-900 mb-3 flex items-center gap-2",children:[t.jsx(G,{className:"w-5 h-5"}),"Early Removal Warnings"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.earlyRemovals.map(b=>t.jsx(lj,{removal:b},b.id))})]}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(X,{className:"w-5 h-5 text-blue-600"}),"Active SD Sessions",t.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",d.activeSessions.filter(b=>b.status==="active").length," active)"]})]}),d.activeSessions.length===0?t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[t.jsx(X,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No active SD sessions"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Sessions will appear here when editors insert SD cards"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.activeSessions.map(b=>t.jsx(nj,{session:b},b.id))})]}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(st,{className:"w-5 h-5 text-gray-600"}),"Camera Health"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:d.cameraHealth.map(b=>t.jsx(ij,{camera:b},b.camera_number))}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Health based on issue frequency, severity, and resolution time"})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:t.jsxs("p",{className:"text-sm text-blue-700",children:[t.jsx("strong",{children:" Observation Only"}),"  This view is for monitoring. Problems should be addressed by contacting editors directly or through the Issues module."]})})]})}const ks={VERIFIED_BACKUP:"verified_backup",EDITOR_STREAM:"editor_stream",QA_CACHE:"qa_cache",OFFLINE:"offline"};function cj({media:e,onClose:s,canDownload:r,onDownload:a,user:n}){var k,m,f;const[l,i]=y.useState(!1),[o,c]=y.useState(!1),[u,d]=y.useState(null),[x,v]=y.useState(!0);y.useEffect(()=>{(()=>{e.backup_verified&&e.backup_available?d({type:ks.VERIFIED_BACKUP,label:"Verified Backup",icon:X,color:"text-green-600",bgColor:"bg-green-50",url:e.backup_stream_url||e.preview_url}):e.editor_online&&e.local_available?d({type:ks.EDITOR_STREAM,label:"Editor Stream (Live)",icon:Ws,color:"text-blue-600",bgColor:"bg-blue-50",url:e.editor_stream_url||e.preview_url}):e.qa_cache_available?d({type:ks.QA_CACHE,label:"QA Review Cache",icon:wt,color:"text-yellow-600",bgColor:"bg-yellow-50",url:e.qa_cache_url}):d({type:ks.OFFLINE,label:"Source Offline",icon:Fa,color:"text-red-600",bgColor:"bg-red-50",url:null}),v(!1)})()},[e]);const b=async()=>{var p,j;if(!o)try{await((j=yt.logPlayback)==null?void 0:j.call(yt,e.media_id,{source:u==null?void 0:u.type,reason:((p=e.issues)==null?void 0:p.length)>0?"issue_review":"admin_oversight"})),c(!0)}catch(S){console.error("Failed to log playback:",S)}i(!0)},h=async()=>{var p;if(a){try{await((p=yt.logDownload)==null?void 0:p.call(yt,e.media_id,{source:u==null?void 0:u.type}))}catch(j){console.error("Failed to log download:",j)}a(e)}};if(!e)return null;const g=(u==null?void 0:u.icon)||X;return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-5xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.filename}),t.jsx("p",{className:"text-sm text-gray-500",children:e.media_id})]}),u&&t.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${u.bgColor}`,children:[t.jsx(g,{className:`w-4 h-4 ${u.color}`}),t.jsxs("span",{className:`text-sm font-medium ${u.color}`,children:["Source: ",u.label]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[r&&(u==null?void 0:u.type)!==ks.OFFLINE&&t.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(Ia,{className:"w-4 h-4"}),"Download"]}),r&&(u==null?void 0:u.type)!==ks.OFFLINE&&t.jsxs("button",{onClick:()=>navigator.clipboard.writeText((u==null?void 0:u.url)||""),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Copy stream URL",children:[t.jsx(Mc,{className:"w-4 h-4"}),"Copy URL"]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Ae,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"flex-1 bg-black relative",children:x?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):(u==null?void 0:u.type)===ks.OFFLINE?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Fa,{className:"w-20 h-20 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-xl font-medium",children:"Source Offline"}),t.jsx("p",{className:"text-sm mt-2",children:"Video is not currently available for playback"}),t.jsx("p",{className:"text-xs mt-4 text-gray-500",children:"Backup disk may be disconnected or editor is offline"})]})}):l?t.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:(u==null?void 0:u.url)||e.preview_url,onEnded:()=>i(!1),children:"Your browser does not support video playback."}):t.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[t.jsxs("button",{onClick:b,className:"flex items-center gap-3 px-8 py-4 bg-white/10 hover:bg-white/20 rounded-full transition-colors text-white",children:[t.jsx(zr,{className:"w-8 h-8"}),t.jsx("span",{className:"text-lg font-medium",children:"Play Video"})]}),t.jsx("p",{className:"absolute bottom-8 text-white/60 text-sm",children:"Playback will be logged for audit purposes"})]})}),t.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qt,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Person"}),t.jsx("span",{className:"font-medium",children:e.full_name||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Gv,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Condition"}),t.jsx("span",{className:"font-medium",children:e.condition||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Fc,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Region"}),t.jsx("span",{className:"font-medium",children:e.region||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(st,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Camera / SD"}),t.jsxs("span",{className:"font-medium",children:[e.camera_number||"?"," / ",e.sd_label||"?"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Indexed"}),t.jsx("span",{className:"font-medium",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qt,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Editor"}),t.jsx("span",{className:"font-medium",children:((k=e.editor)==null?void 0:k.name)||"N/A"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[((m=e.issues)==null?void 0:m.length)>0&&t.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-50 border border-red-200 rounded-full",children:[t.jsx(G,{className:"w-4 h-4 text-red-600"}),t.jsxs("span",{className:"text-sm text-red-700",children:[e.issues.length," Issue",e.issues.length>1?"s":""]})]}),t.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${e.backup_verified?"bg-green-50 border border-green-200":e.backup_pending?"bg-yellow-50 border border-yellow-200":"bg-gray-50 border border-gray-200"}`,children:[t.jsx(X,{className:`w-4 h-4 ${e.backup_verified?"text-green-600":e.backup_pending?"text-yellow-600":"text-gray-600"}`}),t.jsx("span",{className:`text-sm ${e.backup_verified?"text-green-700":e.backup_pending?"text-yellow-700":"text-gray-700"}`,children:e.backup_verified?"Backup Verified":e.backup_pending?"Backup Pending":"No Backup"})]})]}),((f=e.issues)==null?void 0:f.length)>0&&t.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Issue Notes"}),e.issues.map((p,j)=>{var S;return t.jsxs("div",{className:"text-sm text-red-700",children:[t.jsxs("span",{className:"font-medium",children:[(S=p.type)==null?void 0:S.replace("_"," "),":"]})," ",p.description||"No description"]},j)})]})]}),t.jsx("div",{className:"px-4 py-2 bg-gray-100 border-t border-gray-200 text-center",children:t.jsxs("p",{className:"text-xs text-gray-500",children:[t.jsx(wt,{className:"w-3 h-3 inline mr-1"}),"All playback actions are logged for audit. User: ",n==null?void 0:n.name," (",n==null?void 0:n.role,")"]})})]})})}function dj(){const{user:e,activeEvent:s,isAdmin:r,isTeamLead:a,isGroupLeader:n,isQA:l,isQALead:i}=de(),[o,c]=y.useState([]),[u,d]=y.useState(!1),[x,v]=y.useState(null),[b,h]=y.useState(!1),g=r()||a(),k=l()||i(),m=n(),f=g,p=g,j=g,S=g||m,[_,N]=y.useState({full_name:"",age:"",condition:"",region:"",camera_number:"",sd_label:"",editor_id:"",group_id:"",issue_type:"",issue_status:"",backup_status:"",date_from:"",date_to:"",page:1}),[w,C]=y.useState({current_page:1,last_page:1,total:0}),R=async A=>{if(A==null||A.preventDefault(),!(s!=null&&s.id)){c([]),C({current_page:1,last_page:1,total:0}),h(!0);return}d(!0),h(!0);try{const U={};g?Object.entries(_).forEach(([W,ee])=>{ee&&(U[W]=ee)}):k?(_.issue_type&&(U.issue_type=_.issue_type),_.issue_status&&(U.issue_status=_.issue_status),_.camera_number&&(U.camera_number=_.camera_number),_.sd_label&&(U.sd_label=_.sd_label),U.has_issues=!0):m&&(_.issue_type&&(U.issue_type=_.issue_type),_.issue_status&&(U.issue_status=_.issue_status),_.camera_number&&(U.camera_number=_.camera_number),U.my_groups=!0),U.event_id=s.id;const I=await yt.search(U);c(I.data||[]),C({current_page:I.current_page||1,last_page:I.last_page||1,total:I.total||0})}catch(U){console.error("Search failed:",U)}finally{d(!1)}},E=async A=>{var U;if(f)try{const I=await((U=yt.getDownloadUrl)==null?void 0:U.call(yt,A.media_id));I!=null&&I.url?window.open(I.url,"_blank"):window.open(A.preview_url||A.backup_stream_url,"_blank")}catch(I){console.error("Download failed:",I)}},z=[{value:"no_audio",label:"No Audio"},{value:"low_audio",label:"Low Audio"},{value:"blurry",label:"Blurry Video"},{value:"shaky",label:"Shaky Video"},{value:"cut_interview",label:"Cut Interview"},{value:"filename_error",label:"Filename Error"},{value:"duplicate",label:"Duplicate"},{value:"other",label:"Other"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Search & Playback"}),t.jsx("p",{className:"text-gray-500",children:g?"Global search across all indexed media  find any video ever indexed":k?"Search videos with reported issues only":m?"Search issues within your groups":"Search indexed media"}),s!=null&&s.name?t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Active event: ",t.jsx("span",{className:"font-medium text-blue-600",children:s.name})]}):null]}),!(s!=null&&s.id)&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-sm text-amber-800",children:"You must activate an event before searching media."}),k&&t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 flex items-start gap-3",children:[t.jsx(Lr,{className:"w-5 h-5 text-purple-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-purple-800",children:"QA Search Restrictions"}),t.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"You can only search videos with reported issues. Search by name, condition, region, editor, or group is not available. This is enforced at API level."})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("form",{onSubmit:R,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[p&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Full Name"}),t.jsx("input",{type:"text",value:_.full_name,onChange:A=>N({..._,full_name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Search by name..."})]}),p&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Age"}),t.jsx("input",{type:"number",value:_.age,onChange:A=>N({..._,age:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Age"})]}),S&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Condition"}),t.jsx("input",{type:"text",value:_.condition,onChange:A=>N({..._,condition:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Cripple"})]}),j&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Region"}),t.jsx("input",{type:"text",value:_.region,onChange:A=>N({..._,region:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Kisumu"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Camera Number"}),t.jsx("input",{type:"text",value:_.camera_number,onChange:A=>N({..._,camera_number:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 10"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"SD Card Label"}),t.jsx("input",{type:"text",value:_.sd_label,onChange:A=>N({..._,sd_label:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 10B"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Issue Type"}),t.jsxs("select",{value:_.issue_type,onChange:A=>N({..._,issue_type:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Types"}),z.map(A=>t.jsx("option",{value:A.value,children:A.label},A.value))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Issue Status"}),t.jsxs("select",{value:_.issue_status,onChange:A=>N({..._,issue_status:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Any Status"}),t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"acknowledged",children:"Acknowledged"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"})]})]}),g&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Backup Status"}),t.jsxs("select",{value:_.backup_status,onChange:A=>N({..._,backup_status:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Any Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"backed_up",children:"Backed Up"}),t.jsx("option",{value:"verified",children:"Verified"})]})]}),g&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"From Date"}),t.jsx("input",{type:"date",value:_.date_from,onChange:A=>N({..._,date_from:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"To Date"}),t.jsx("input",{type:"date",value:_.date_to,onChange:A=>N({..._,date_to:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[t.jsx("button",{type:"button",onClick:()=>N({full_name:"",age:"",condition:"",region:"",camera_number:"",sd_label:"",editor_id:"",group_id:"",issue_type:"",issue_status:"",backup_status:"",date_from:"",date_to:"",page:1}),className:"text-gray-600 hover:text-gray-800",children:"Clear Filters"}),t.jsxs("button",{type:"submit",disabled:u||!(s!=null&&s.id),className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[t.jsx(Gt,{className:"w-4 h-4"}),u?"Searching...":"Search"]})]})]})}),b&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:t.jsxs("h3",{className:"font-semibold text-gray-900",children:[w.total," Result",w.total!==1?"s":""," Found"]})}),u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.length===0?t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(nt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No videos found matching your search criteria"})]}):t.jsx("div",{className:"divide-y divide-gray-100",children:o.map(A=>{var U,I;return t.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center gap-4",children:[t.jsx("div",{className:"w-24 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:A.thumbnail_url?t.jsx("img",{src:A.thumbnail_url,alt:"",className:"w-full h-full object-cover"}):t.jsx(Dv,{className:"w-8 h-8 text-gray-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-medium text-gray-900 truncate",children:A.filename}),((U=A.issues)==null?void 0:U.length)>0&&t.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs font-medium",children:"Issue"}),t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${A.backup_verified?"bg-green-100 text-green-700":A.backup_pending?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:A.backup_verified?"Verified":A.backup_pending?"Pending":"No Backup"})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[g&&A.full_name&&t.jsx("span",{children:A.full_name}),t.jsxs("span",{children:["Camera ",A.camera_number||"?"]}),t.jsxs("span",{children:["SD ",A.sd_label||"?"]}),((I=A.editor)==null?void 0:I.name)&&t.jsxs("span",{children:["Editor: ",A.editor.name]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[A.backup_available&&t.jsx("span",{className:"flex items-center gap-1 text-green-600",children:t.jsx(X,{className:"w-4 h-4"})}),A.editor_online&&t.jsx("span",{className:"flex items-center gap-1 text-blue-600",children:t.jsx(Ws,{className:"w-4 h-4"})}),!A.backup_available&&!A.editor_online&&t.jsx("span",{className:"flex items-center gap-1 text-red-600",children:t.jsx(Fa,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>v(A),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[t.jsx(zr,{className:"w-4 h-4"}),"Play"]}),f&&t.jsx("button",{onClick:()=>E(A),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Download",children:t.jsx(Ia,{className:"w-4 h-4"})})]})]},A.id)})}),w.last_page>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",w.current_page," of ",w.last_page]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{N({..._,page:w.current_page-1}),R()},disabled:w.current_page===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Previous"}),t.jsx("button",{onClick:()=>{N({..._,page:w.current_page+1}),R()},disabled:w.current_page===w.last_page,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Next"})]})]})]}),x&&t.jsx(cj,{media:x,onClose:()=>v(null),canDownload:f,onDownload:E,user:e})]})}function ie({children:e,roles:s}){const{user:r,loading:a,hasAnyRole:n}=de();return a?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?s&&!n(s)?t.jsx(yo,{to:"/"}):t.jsx(eb,{children:e}):t.jsx(yo,{to:"/login"})}function uj(){return t.jsx(wv,{children:t.jsx(_v,{children:t.jsxs(Uf,{children:[t.jsxs(Lf,{children:[t.jsx(Z,{path:"/login",element:t.jsx(rb,{})}),t.jsx(Z,{path:"/register",element:t.jsx(ab,{})}),t.jsx(Z,{path:"/forgot-password",element:t.jsx(nb,{})}),t.jsx(Z,{path:"/reset-password",element:t.jsx(lb,{})}),t.jsx(Z,{path:"/",element:t.jsx(ie,{children:t.jsx(gb,{})})}),t.jsx(Z,{path:"/analytics-dashboard",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(yb,{})})}),t.jsx(Z,{path:"/live-operations",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(oj,{})})}),t.jsx(Z,{path:"/events",element:t.jsx(ie,{roles:["admin","team-lead"],children:t.jsx(bb,{})})}),t.jsx(Z,{path:"/groups",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(jb,{})})}),t.jsx(Z,{path:"/cameras",element:t.jsx(ie,{roles:["admin","team-lead"],children:t.jsx(Nb,{})})}),t.jsx(Z,{path:"/search",element:t.jsx(ie,{roles:["admin","team-lead","group-leader","qa"],children:t.jsx(dj,{})})}),t.jsx(Z,{path:"/media",element:t.jsx(ie,{roles:["admin","team-lead"],children:t.jsx(kb,{})})}),t.jsx(Z,{path:"/quality-control",element:t.jsx(ie,{roles:["admin","team-lead","qa","group-leader"],children:t.jsx(_b,{})})}),t.jsx(Z,{path:"/issues",element:t.jsx(ie,{roles:["admin","team-lead","group-leader","qa"],children:t.jsx(Cb,{})})}),t.jsx(Z,{path:"/healing-cases",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(Eb,{})})}),t.jsx(Z,{path:"/backups",element:t.jsx(ie,{roles:["admin","team-lead","backup"],children:t.jsx(Ab,{})})}),t.jsx(Z,{path:"/storage-forecast",element:t.jsx(ie,{roles:["admin","team-lead","backup"],children:t.jsx(Pb,{})})}),t.jsx(Z,{path:"/data-protection",element:t.jsx(ie,{roles:["admin","team-lead"],children:t.jsx(Lb,{})})}),t.jsx(Z,{path:"/users",element:t.jsx(ie,{roles:["admin","team-lead","group-leader","qa-lead","backup-lead"],children:t.jsx(Db,{})})}),t.jsx(Z,{path:"/approvals",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(Fb,{})})}),t.jsx(Z,{path:"/audit-logs",element:t.jsx(ie,{roles:["admin"],children:t.jsx(Ub,{})})}),t.jsx(Z,{path:"/settings",element:t.jsx(ie,{roles:["admin"],children:t.jsx(zb,{})})}),t.jsx(Z,{path:"/profile",element:t.jsx(ie,{children:t.jsx(Bb,{})})}),t.jsx(Z,{path:"/notifications",element:t.jsx(ie,{children:t.jsx(Vb,{})})}),t.jsx(Z,{path:"/reports",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(Wb,{})})}),t.jsx(Z,{path:"/shifts",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(Kb,{})})}),t.jsx(Z,{path:"/activity-feed",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(Yb,{})})}),t.jsx(Z,{path:"/help",element:t.jsx(ie,{children:t.jsx(ej,{})})}),t.jsx(Z,{path:"/work-allocation",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(aj,{})})}),t.jsx(Z,{path:"*",element:t.jsx(yo,{to:"/"})})]}),t.jsx(sb,{})]})})})}wi.createRoot(document.getElementById("root")).render(t.jsx(Mo.StrictMode,{children:t.jsx(uj,{})}));
