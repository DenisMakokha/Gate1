function hh(t,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in t)){const l=Object.getOwnPropertyDescriptor(a,n);l&&Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();function ph(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var om={exports:{}},yl={},cm={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=Symbol.for("react.element"),gh=Symbol.for("react.portal"),fh=Symbol.for("react.fragment"),yh=Symbol.for("react.strict_mode"),jh=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),vh=Symbol.for("react.context"),Nh=Symbol.for("react.forward_ref"),wh=Symbol.for("react.suspense"),kh=Symbol.for("react.memo"),_h=Symbol.for("react.lazy"),hd=Symbol.iterator;function Sh(t){return t===null||typeof t!="object"?null:(t=hd&&t[hd]||t["@@iterator"],typeof t=="function"?t:null)}var dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},um=Object.assign,mm={};function $r(t,s,r){this.props=t,this.context=s,this.refs=mm,this.updater=r||dm}$r.prototype.isReactComponent={};$r.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};$r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xm(){}xm.prototype=$r.prototype;function Io(t,s,r){this.props=t,this.context=s,this.refs=mm,this.updater=r||dm}var $o=Io.prototype=new xm;$o.constructor=Io;um($o,$r.prototype);$o.isPureReactComponent=!0;var pd=Array.isArray,hm=Object.prototype.hasOwnProperty,Fo={current:null},pm={key:!0,ref:!0,__self:!0,__source:!0};function gm(t,s,r){var a,n={},l=null,i=null;if(s!=null)for(a in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)hm.call(s,a)&&!pm.hasOwnProperty(a)&&(n[a]=s[a]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(t&&t.defaultProps)for(a in o=t.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:Ba,type:t,key:l,ref:i,props:n,_owner:Fo.current}}function Ch(t,s){return{$$typeof:Ba,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Do(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ba}function Eh(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var gd=/\/+/g;function ql(t,s){return typeof t=="object"&&t!==null&&t.key!=null?Eh(""+t.key):s.toString(36)}function kn(t,s,r,a,n){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Ba:case gh:i=!0}}if(i)return i=t,n=n(i),t=a===""?"."+ql(i,0):a,pd(n)?(r="",t!=null&&(r=t.replace(gd,"$&/")+"/"),kn(n,s,r,"",function(d){return d})):n!=null&&(Do(n)&&(n=Ch(n,r+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(gd,"$&/")+"/")+t)),s.push(n)),1;if(i=0,a=a===""?".":a+":",pd(t))for(var o=0;o<t.length;o++){l=t[o];var c=a+ql(l,o);i+=kn(l,s,r,c,n)}else if(c=Sh(t),typeof c=="function")for(t=c.call(t),o=0;!(l=t.next()).done;)l=l.value,c=a+ql(l,o++),i+=kn(l,s,r,c,n);else if(l==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function tn(t,s,r){if(t==null)return t;var a=[],n=0;return kn(t,a,"","",function(l){return s.call(r,l,n++)}),a}function Ah(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Ge={current:null},_n={transition:null},Rh={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:_n,ReactCurrentOwner:Fo};function fm(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:tn,forEach:function(t,s,r){tn(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return tn(t,function(){s++}),s},toArray:function(t){return tn(t,function(s){return s})||[]},only:function(t){if(!Do(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=$r;X.Fragment=fh;X.Profiler=jh;X.PureComponent=Io;X.StrictMode=yh;X.Suspense=wh;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rh;X.act=fm;X.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=um({},t.props),n=t.key,l=t.ref,i=t._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=Fo.current),s.key!==void 0&&(n=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)hm.call(s,c)&&!pm.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:Ba,type:t.type,key:n,ref:l,props:a,_owner:i}};X.createContext=function(t){return t={$$typeof:vh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bh,_context:t},t.Consumer=t};X.createElement=gm;X.createFactory=function(t){var s=gm.bind(null,t);return s.type=t,s};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Nh,render:t}};X.isValidElement=Do;X.lazy=function(t){return{$$typeof:_h,_payload:{_status:-1,_result:t},_init:Ah}};X.memo=function(t,s){return{$$typeof:kh,type:t,compare:s===void 0?null:s}};X.startTransition=function(t){var s=_n.transition;_n.transition={};try{t()}finally{_n.transition=s}};X.unstable_act=fm;X.useCallback=function(t,s){return Ge.current.useCallback(t,s)};X.useContext=function(t){return Ge.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return Ge.current.useDeferredValue(t)};X.useEffect=function(t,s){return Ge.current.useEffect(t,s)};X.useId=function(){return Ge.current.useId()};X.useImperativeHandle=function(t,s,r){return Ge.current.useImperativeHandle(t,s,r)};X.useInsertionEffect=function(t,s){return Ge.current.useInsertionEffect(t,s)};X.useLayoutEffect=function(t,s){return Ge.current.useLayoutEffect(t,s)};X.useMemo=function(t,s){return Ge.current.useMemo(t,s)};X.useReducer=function(t,s,r){return Ge.current.useReducer(t,s,r)};X.useRef=function(t){return Ge.current.useRef(t)};X.useState=function(t){return Ge.current.useState(t)};X.useSyncExternalStore=function(t,s,r){return Ge.current.useSyncExternalStore(t,s,r)};X.useTransition=function(){return Ge.current.useTransition()};X.version="18.3.1";cm.exports=X;var p=cm.exports;const Uo=ph(p),Lh=hh({__proto__:null,default:Uo},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph=p,Th=Symbol.for("react.element"),Mh=Symbol.for("react.fragment"),Oh=Object.prototype.hasOwnProperty,Ih=Ph.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$h={key:!0,ref:!0,__self:!0,__source:!0};function ym(t,s,r){var a,n={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(a in s)Oh.call(s,a)&&!$h.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:Th,type:t,key:l,ref:i,props:n,_owner:Ih.current}}yl.Fragment=Mh;yl.jsx=ym;yl.jsxs=ym;om.exports=yl;var e=om.exports,Ai={},jm={exports:{}},ot={},bm={exports:{}},vm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(O,C){var L=O.length;O.push(C);e:for(;0<L;){var z=L-1>>>1,H=O[z];if(0<n(H,C))O[z]=C,O[L]=H,L=z;else break e}}function r(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var C=O[0],L=O.pop();if(L!==C){O[0]=L;e:for(var z=0,H=O.length,W=H>>>1;z<W;){var Z=2*(z+1)-1,Te=O[Z],J=Z+1,$e=O[J];if(0>n(Te,L))J<H&&0>n($e,Te)?(O[z]=$e,O[J]=L,z=J):(O[z]=Te,O[Z]=L,z=Z);else if(J<H&&0>n($e,L))O[z]=$e,O[J]=L,z=J;else break e}}return C}function n(O,C){var L=O.sortIndex-C.sortIndex;return L!==0?L:O.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,g=3,j=!1,f=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(O){for(var C=r(d);C!==null;){if(C.callback===null)a(d);else if(C.startTime<=O)a(d),C.sortIndex=C.expirationTime,s(c,C);else break;C=r(d)}}function S(O){if(b=!1,h(O),!f)if(r(c)!==null)f=!0,Q(v);else{var C=r(d);C!==null&&A(S,C.startTime-O)}}function v(O,C){f=!1,b&&(b=!1,x(k),k=-1),j=!0;var L=g;try{for(h(C),m=r(c);m!==null&&(!(m.expirationTime>C)||O&&!R());){var z=m.callback;if(typeof z=="function"){m.callback=null,g=m.priorityLevel;var H=z(m.expirationTime<=C);C=t.unstable_now(),typeof H=="function"?m.callback=H:m===r(c)&&a(c),h(C)}else a(c);m=r(c)}if(m!==null)var W=!0;else{var Z=r(d);Z!==null&&A(S,Z.startTime-C),W=!1}return W}finally{m=null,g=L,j=!1}}var N=!1,w=null,k=-1,E=5,P=-1;function R(){return!(t.unstable_now()-P<E)}function B(){if(w!==null){var O=t.unstable_now();P=O;var C=!0;try{C=w(!0,O)}finally{C?$():(N=!1,w=null)}}else N=!1}var $;if(typeof y=="function")$=function(){y(B)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,F=q.port2;q.port1.onmessage=B,$=function(){F.postMessage(null)}}else $=function(){_(B,0)};function Q(O){w=O,N||(N=!0,$())}function A(O,C){k=_(function(){O(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){f||j||(f=!0,Q(v))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(g){case 1:case 2:case 3:var C=3;break;default:C=g}var L=g;g=C;try{return O()}finally{g=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,C){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var L=g;g=O;try{return C()}finally{g=L}},t.unstable_scheduleCallback=function(O,C,L){var z=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=L+H,O={id:u++,callback:C,priorityLevel:O,startTime:L,expirationTime:H,sortIndex:-1},L>z?(O.sortIndex=L,s(d,O),r(c)===null&&O===r(d)&&(b?(x(k),k=-1):b=!0,A(S,L-z))):(O.sortIndex=H,s(c,O),f||j||(f=!0,Q(v))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var C=g;return function(){var L=g;g=C;try{return O.apply(this,arguments)}finally{g=L}}}})(vm);bm.exports=vm;var Fh=bm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh=p,lt=Fh;function U(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nm=new Set,ja={};function Js(t,s){Sr(t,s),Sr(t+"Capture",s)}function Sr(t,s){for(ja[t]=s,t=0;t<s.length;t++)Nm.add(s[t])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ri=Object.prototype.hasOwnProperty,Uh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fd={},yd={};function zh(t){return Ri.call(yd,t)?!0:Ri.call(fd,t)?!1:Uh.test(t)?yd[t]=!0:(fd[t]=!0,!1)}function Bh(t,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hh(t,s,r,a){if(s===null||typeof s>"u"||Bh(t,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Qe(t,s,r,a,n,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ie[t]=new Qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Ie[s]=new Qe(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ie[t]=new Qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ie[t]=new Qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ie[t]=new Qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ie[t]=new Qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ie[t]=new Qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ie[t]=new Qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ie[t]=new Qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var zo=/[\-:]([a-z])/g;function Bo(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(zo,Bo);Ie[s]=new Qe(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(zo,Bo);Ie[s]=new Qe(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(zo,Bo);Ie[s]=new Qe(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ie[t]=new Qe(t,1,!1,t.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ie[t]=new Qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ho(t,s,r,a){var n=Ie.hasOwnProperty(s)?Ie[s]:null;(n!==null?n.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(Hh(s,r,n,a)&&(r=null),a||n===null?zh(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(s=n.attributeName,a=n.attributeNamespace,r===null?t.removeAttribute(s):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?t.setAttributeNS(a,s,r):t.setAttribute(s,r))))}var Xt=Dh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sn=Symbol.for("react.element"),nr=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),Vo=Symbol.for("react.strict_mode"),Li=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),km=Symbol.for("react.context"),qo=Symbol.for("react.forward_ref"),Pi=Symbol.for("react.suspense"),Ti=Symbol.for("react.suspense_list"),Wo=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),_m=Symbol.for("react.offscreen"),jd=Symbol.iterator;function Gr(t){return t===null||typeof t!="object"?null:(t=jd&&t[jd]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,Wl;function aa(t){if(Wl===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Wl=s&&s[1]||""}return`
`+Wl+t}var Gl=!1;function Ql(t,s){if(!t||Gl)return"";Gl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var a=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){a=d}t.call(s.prototype)}else{try{throw Error()}catch(d){a=d}t()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),l=a.stack.split(`
`),i=n.length-1,o=l.length-1;1<=i&&0<=o&&n[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||n[i]!==l[o]){var c=`
`+n[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=o);break}}}finally{Gl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?aa(t):""}function Vh(t){switch(t.tag){case 5:return aa(t.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 2:case 15:return t=Ql(t.type,!1),t;case 11:return t=Ql(t.type.render,!1),t;case 1:return t=Ql(t.type,!0),t;default:return""}}function Mi(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lr:return"Fragment";case nr:return"Portal";case Li:return"Profiler";case Vo:return"StrictMode";case Pi:return"Suspense";case Ti:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case km:return(t.displayName||"Context")+".Consumer";case wm:return(t._context.displayName||"Context")+".Provider";case qo:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wo:return s=t.displayName||null,s!==null?s:Mi(t.type)||"Memo";case es:s=t._payload,t=t._init;try{return Mi(t(s))}catch{}}return null}function qh(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mi(s);case 8:return s===Vo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sm(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Wh(t){var s=Sm(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),a=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,l=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return n.call(this)},set:function(i){a=""+i,l.call(this,i)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function rn(t){t._valueTracker||(t._valueTracker=Wh(t))}function Cm(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return t&&(a=Sm(t)?t.checked?"true":"false":t.value),t=a,t!==r?(s.setValue(t),!0):!1}function Bn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oi(t,s){var r=s.checked;return fe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function bd(t,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=fs(s.value!=null?s.value:r),t._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Em(t,s){s=s.checked,s!=null&&Ho(t,"checked",s,!1)}function Ii(t,s){Em(t,s);var r=fs(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?$i(t,s.type,r):s.hasOwnProperty("defaultValue")&&$i(t,s.type,fs(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function vd(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $i(t,s,r){(s!=="number"||Bn(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var na=Array.isArray;function fr(t,s,r,a){if(t=t.options,s){s={};for(var n=0;n<r.length;n++)s["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=s.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&a&&(t[r].defaultSelected=!0)}else{for(r=""+fs(r),s=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,a&&(t[n].defaultSelected=!0);return}s!==null||t[n].disabled||(s=t[n])}s!==null&&(s.selected=!0)}}function Fi(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(U(91));return fe({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nd(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(U(92));if(na(r)){if(1<r.length)throw Error(U(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:fs(r)}}function Am(t,s){var r=fs(s.value),a=fs(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),a!=null&&(t.defaultValue=""+a)}function wd(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Rm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Di(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Rm(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var an,Lm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,n){MSApp.execUnsafeLocalFunction(function(){return t(s,r,a,n)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(an=an||document.createElement("div"),an.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=an.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function ba(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gh=["Webkit","ms","Moz","O"];Object.keys(da).forEach(function(t){Gh.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),da[s]=da[t]})});function Pm(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||da.hasOwnProperty(t)&&da[t]?(""+s).trim():s+"px"}function Tm(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=Pm(r,s[r],a);r==="float"&&(r="cssFloat"),a?t.setProperty(r,n):t[r]=n}}var Qh=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ui(t,s){if(s){if(Qh[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(U(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(U(61))}if(s.style!=null&&typeof s.style!="object")throw Error(U(62))}}function zi(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Go(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,yr=null,jr=null;function kd(t){if(t=qa(t)){if(typeof Hi!="function")throw Error(U(280));var s=t.stateNode;s&&(s=wl(s),Hi(t.stateNode,t.type,s))}}function Mm(t){yr?jr?jr.push(t):jr=[t]:yr=t}function Om(){if(yr){var t=yr,s=jr;if(jr=yr=null,kd(t),s)for(t=0;t<s.length;t++)kd(s[t])}}function Im(t,s){return t(s)}function $m(){}var Kl=!1;function Fm(t,s,r){if(Kl)return t(s,r);Kl=!0;try{return Im(t,s,r)}finally{Kl=!1,(yr!==null||jr!==null)&&($m(),Om())}}function va(t,s){var r=t.stateNode;if(r===null)return null;var a=wl(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(U(231,s,typeof r));return r}var Vi=!1;if(Wt)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Vi=!1}function Kh(t,s,r,a,n,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(u){this.onError(u)}}var ua=!1,Hn=null,Vn=!1,qi=null,Yh={onError:function(t){ua=!0,Hn=t}};function Jh(t,s,r,a,n,l,i,o,c){ua=!1,Hn=null,Kh.apply(Yh,arguments)}function Xh(t,s,r,a,n,l,i,o,c){if(Jh.apply(this,arguments),ua){if(ua){var d=Hn;ua=!1,Hn=null}else throw Error(U(198));Vn||(Vn=!0,qi=d)}}function Xs(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function Dm(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function _d(t){if(Xs(t)!==t)throw Error(U(188))}function Zh(t){var s=t.alternate;if(!s){if(s=Xs(t),s===null)throw Error(U(188));return s!==t?null:t}for(var r=t,a=s;;){var n=r.return;if(n===null)break;var l=n.alternate;if(l===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===r)return _d(n),t;if(l===a)return _d(n),s;l=l.sibling}throw Error(U(188))}if(r.return!==a.return)r=n,a=l;else{for(var i=!1,o=n.child;o;){if(o===r){i=!0,r=n,a=l;break}if(o===a){i=!0,a=n,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,a=n;break}if(o===a){i=!0,a=l,r=n;break}o=o.sibling}if(!i)throw Error(U(189))}}if(r.alternate!==a)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?t:s}function Um(t){return t=Zh(t),t!==null?zm(t):null}function zm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=zm(t);if(s!==null)return s;t=t.sibling}return null}var Bm=lt.unstable_scheduleCallback,Sd=lt.unstable_cancelCallback,ep=lt.unstable_shouldYield,tp=lt.unstable_requestPaint,je=lt.unstable_now,sp=lt.unstable_getCurrentPriorityLevel,Qo=lt.unstable_ImmediatePriority,Hm=lt.unstable_UserBlockingPriority,qn=lt.unstable_NormalPriority,rp=lt.unstable_LowPriority,Vm=lt.unstable_IdlePriority,jl=null,Pt=null;function ap(t){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(jl,t,void 0,(t.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:ip,np=Math.log,lp=Math.LN2;function ip(t){return t>>>=0,t===0?32:31-(np(t)/lp|0)|0}var nn=64,ln=4194304;function la(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wn(t,s){var r=t.pendingLanes;if(r===0)return 0;var a=0,n=t.suspendedLanes,l=t.pingedLanes,i=r&268435455;if(i!==0){var o=i&~n;o!==0?a=la(o):(l&=i,l!==0&&(a=la(l)))}else i=r&~n,i!==0?a=la(i):l!==0&&(a=la(l));if(a===0)return 0;if(s!==0&&s!==a&&!(s&n)&&(n=a&-a,l=s&-s,n>=l||n===16&&(l&4194240)!==0))return s;if(a&4&&(a|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=a;0<s;)r=31-wt(s),n=1<<r,a|=t[r],s&=~n;return a}function op(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cp(t,s){for(var r=t.suspendedLanes,a=t.pingedLanes,n=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-wt(l),o=1<<i,c=n[i];c===-1?(!(o&r)||o&a)&&(n[i]=op(o,s)):c<=s&&(t.expiredLanes|=o),l&=~o}}function Wi(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qm(){var t=nn;return nn<<=1,!(nn&4194240)&&(nn=64),t}function Yl(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Ha(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-wt(s),t[s]=r}function dp(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-wt(r),l=1<<n;s[n]=0,a[n]=-1,t[n]=-1,r&=~l}}function Ko(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var a=31-wt(r),n=1<<a;n&s|t[a]&s&&(t[a]|=s),r&=~n}}var ae=0;function Wm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gm,Yo,Qm,Km,Ym,Gi=!1,on=[],os=null,cs=null,ds=null,Na=new Map,wa=new Map,ss=[],up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cd(t,s){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Na.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wa.delete(s.pointerId)}}function Kr(t,s,r,a,n,l){return t===null||t.nativeEvent!==l?(t={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:l,targetContainers:[n]},s!==null&&(s=qa(s),s!==null&&Yo(s)),t):(t.eventSystemFlags|=a,s=t.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),t)}function mp(t,s,r,a,n){switch(s){case"focusin":return os=Kr(os,t,s,r,a,n),!0;case"dragenter":return cs=Kr(cs,t,s,r,a,n),!0;case"mouseover":return ds=Kr(ds,t,s,r,a,n),!0;case"pointerover":var l=n.pointerId;return Na.set(l,Kr(Na.get(l)||null,t,s,r,a,n)),!0;case"gotpointercapture":return l=n.pointerId,wa.set(l,Kr(wa.get(l)||null,t,s,r,a,n)),!0}return!1}function Jm(t){var s=Os(t.target);if(s!==null){var r=Xs(s);if(r!==null){if(s=r.tag,s===13){if(s=Dm(r),s!==null){t.blockedOn=s,Ym(t.priority,function(){Qm(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sn(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Qi(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);Bi=a,r.target.dispatchEvent(a),Bi=null}else return s=qa(r),s!==null&&Yo(s),t.blockedOn=r,!1;s.shift()}return!0}function Ed(t,s,r){Sn(t)&&r.delete(s)}function xp(){Gi=!1,os!==null&&Sn(os)&&(os=null),cs!==null&&Sn(cs)&&(cs=null),ds!==null&&Sn(ds)&&(ds=null),Na.forEach(Ed),wa.forEach(Ed)}function Yr(t,s){t.blockedOn===s&&(t.blockedOn=null,Gi||(Gi=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,xp)))}function ka(t){function s(n){return Yr(n,t)}if(0<on.length){Yr(on[0],t);for(var r=1;r<on.length;r++){var a=on[r];a.blockedOn===t&&(a.blockedOn=null)}}for(os!==null&&Yr(os,t),cs!==null&&Yr(cs,t),ds!==null&&Yr(ds,t),Na.forEach(s),wa.forEach(s),r=0;r<ss.length;r++)a=ss[r],a.blockedOn===t&&(a.blockedOn=null);for(;0<ss.length&&(r=ss[0],r.blockedOn===null);)Jm(r),r.blockedOn===null&&ss.shift()}var br=Xt.ReactCurrentBatchConfig,Gn=!0;function hp(t,s,r,a){var n=ae,l=br.transition;br.transition=null;try{ae=1,Jo(t,s,r,a)}finally{ae=n,br.transition=l}}function pp(t,s,r,a){var n=ae,l=br.transition;br.transition=null;try{ae=4,Jo(t,s,r,a)}finally{ae=n,br.transition=l}}function Jo(t,s,r,a){if(Gn){var n=Qi(t,s,r,a);if(n===null)li(t,s,a,Qn,r),Cd(t,a);else if(mp(n,t,s,r,a))a.stopPropagation();else if(Cd(t,a),s&4&&-1<up.indexOf(t)){for(;n!==null;){var l=qa(n);if(l!==null&&Gm(l),l=Qi(t,s,r,a),l===null&&li(t,s,a,Qn,r),l===n)break;n=l}n!==null&&a.stopPropagation()}else li(t,s,a,null,r)}}var Qn=null;function Qi(t,s,r,a){if(Qn=null,t=Go(a),t=Os(t),t!==null)if(s=Xs(t),s===null)t=null;else if(r=s.tag,r===13){if(t=Dm(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Qn=t,null}function Xm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sp()){case Qo:return 1;case Hm:return 4;case qn:case rp:return 16;case Vm:return 536870912;default:return 16}default:return 16}}var ns=null,Xo=null,Cn=null;function Zm(){if(Cn)return Cn;var t,s=Xo,r=s.length,a,n="value"in ns?ns.value:ns.textContent,l=n.length;for(t=0;t<r&&s[t]===n[t];t++);var i=r-t;for(a=1;a<=i&&s[r-a]===n[l-a];a++);return Cn=n.slice(t,1<a?1-a:void 0)}function En(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function cn(){return!0}function Ad(){return!1}function ct(t){function s(r,a,n,l,i){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?cn:Ad,this.isPropagationStopped=Ad,this}return fe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cn)},persist:function(){},isPersistent:cn}),s}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=ct(Fr),Va=fe({},Fr,{view:0,detail:0}),gp=ct(Va),Jl,Xl,Jr,bl=fe({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jr&&(Jr&&t.type==="mousemove"?(Jl=t.screenX-Jr.screenX,Xl=t.screenY-Jr.screenY):Xl=Jl=0,Jr=t),Jl)},movementY:function(t){return"movementY"in t?t.movementY:Xl}}),Rd=ct(bl),fp=fe({},bl,{dataTransfer:0}),yp=ct(fp),jp=fe({},Va,{relatedTarget:0}),Zl=ct(jp),bp=fe({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),vp=ct(bp),Np=fe({},Fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wp=ct(Np),kp=fe({},Fr,{data:0}),Ld=ct(kp),_p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ep(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Cp[t])?!!s[t]:!1}function ec(){return Ep}var Ap=fe({},Va,{key:function(t){if(t.key){var s=_p[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=En(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(t){return t.type==="keypress"?En(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?En(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rp=ct(Ap),Lp=fe({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=ct(Lp),Pp=fe({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),Tp=ct(Pp),Mp=fe({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Op=ct(Mp),Ip=fe({},bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$p=ct(Ip),Fp=[9,13,27,32],tc=Wt&&"CompositionEvent"in window,ma=null;Wt&&"documentMode"in document&&(ma=document.documentMode);var Dp=Wt&&"TextEvent"in window&&!ma,ex=Wt&&(!tc||ma&&8<ma&&11>=ma),Td=" ",Md=!1;function tx(t,s){switch(t){case"keyup":return Fp.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ir=!1;function Up(t,s){switch(t){case"compositionend":return sx(s);case"keypress":return s.which!==32?null:(Md=!0,Td);case"textInput":return t=s.data,t===Td&&Md?null:t;default:return null}}function zp(t,s){if(ir)return t==="compositionend"||!tc&&tx(t,s)?(t=Zm(),Cn=Xo=ns=null,ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ex&&s.locale!=="ko"?null:s.data;default:return null}}var Bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Od(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Bp[t.type]:s==="textarea"}function rx(t,s,r,a){Mm(a),s=Kn(s,"onChange"),0<s.length&&(r=new Zo("onChange","change",null,r,a),t.push({event:r,listeners:s}))}var xa=null,_a=null;function Hp(t){hx(t,0)}function vl(t){var s=dr(t);if(Cm(s))return t}function Vp(t,s){if(t==="change")return s}var ax=!1;if(Wt){var ei;if(Wt){var ti="oninput"in document;if(!ti){var Id=document.createElement("div");Id.setAttribute("oninput","return;"),ti=typeof Id.oninput=="function"}ei=ti}else ei=!1;ax=ei&&(!document.documentMode||9<document.documentMode)}function $d(){xa&&(xa.detachEvent("onpropertychange",nx),_a=xa=null)}function nx(t){if(t.propertyName==="value"&&vl(_a)){var s=[];rx(s,_a,t,Go(t)),Fm(Hp,s)}}function qp(t,s,r){t==="focusin"?($d(),xa=s,_a=r,xa.attachEvent("onpropertychange",nx)):t==="focusout"&&$d()}function Wp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vl(_a)}function Gp(t,s){if(t==="click")return vl(s)}function Qp(t,s){if(t==="input"||t==="change")return vl(s)}function Kp(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var _t=typeof Object.is=="function"?Object.is:Kp;function Sa(t,s){if(_t(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!Ri.call(s,n)||!_t(t[n],s[n]))return!1}return!0}function Fd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dd(t,s){var r=Fd(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=s&&a>=s)return{node:r,offset:s-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fd(r)}}function lx(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?lx(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ix(){for(var t=window,s=Bn();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Bn(t.document)}return s}function sc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Yp(t){var s=ix(),r=t.focusedElem,a=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&lx(r.ownerDocument.documentElement,r)){if(a!==null&&sc(r)){if(s=a.start,t=a.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,l=Math.min(a.start,n);a=a.end===void 0?l:Math.min(a.end,n),!t.extend&&l>a&&(n=a,a=l,l=n),n=Dd(r,l);var i=Dd(r,a);n&&i&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),t.removeAllRanges(),l>a?(t.addRange(s),t.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jp=Wt&&"documentMode"in document&&11>=document.documentMode,or=null,Ki=null,ha=null,Yi=!1;function Ud(t,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yi||or==null||or!==Bn(a)||(a=or,"selectionStart"in a&&sc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ha&&Sa(ha,a)||(ha=a,a=Kn(Ki,"onSelect"),0<a.length&&(s=new Zo("onSelect","select",null,s,r),t.push({event:s,listeners:a}),s.target=or)))}function dn(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var cr={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionend:dn("Transition","TransitionEnd")},si={},ox={};Wt&&(ox=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function Nl(t){if(si[t])return si[t];if(!cr[t])return t;var s=cr[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in ox)return si[t]=s[r];return t}var cx=Nl("animationend"),dx=Nl("animationiteration"),ux=Nl("animationstart"),mx=Nl("transitionend"),xx=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(t,s){xx.set(t,s),Js(s,[t])}for(var ri=0;ri<zd.length;ri++){var ai=zd[ri],Xp=ai.toLowerCase(),Zp=ai[0].toUpperCase()+ai.slice(1);ks(Xp,"on"+Zp)}ks(cx,"onAnimationEnd");ks(dx,"onAnimationIteration");ks(ux,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(mx,"onTransitionEnd");Sr("onMouseEnter",["mouseout","mouseover"]);Sr("onMouseLeave",["mouseout","mouseover"]);Sr("onPointerEnter",["pointerout","pointerover"]);Sr("onPointerLeave",["pointerout","pointerover"]);Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Js("onBeforeInput",["compositionend","keypress","textInput","paste"]);Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function Bd(t,s,r){var a=t.type||"unknown-event";t.currentTarget=r,Xh(a,s,void 0,t),t.currentTarget=null}function hx(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],n=a.event;a=a.listeners;e:{var l=void 0;if(s)for(var i=a.length-1;0<=i;i--){var o=a[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&n.isPropagationStopped())break e;Bd(n,o,d),l=c}else for(i=0;i<a.length;i++){if(o=a[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&n.isPropagationStopped())break e;Bd(n,o,d),l=c}}}if(Vn)throw t=qi,Vn=!1,qi=null,t}function ue(t,s){var r=s[to];r===void 0&&(r=s[to]=new Set);var a=t+"__bubble";r.has(a)||(px(s,t,2,!1),r.add(a))}function ni(t,s,r){var a=0;s&&(a|=4),px(r,t,a,s)}var un="_reactListening"+Math.random().toString(36).slice(2);function Ca(t){if(!t[un]){t[un]=!0,Nm.forEach(function(r){r!=="selectionchange"&&(eg.has(r)||ni(r,!1,t),ni(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[un]||(s[un]=!0,ni("selectionchange",!1,s))}}function px(t,s,r,a){switch(Xm(s)){case 1:var n=hp;break;case 4:n=pp;break;default:n=Jo}r=n.bind(null,s,r,t),n=void 0,!Vi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),a?n!==void 0?t.addEventListener(s,r,{capture:!0,passive:n}):t.addEventListener(s,r,!0):n!==void 0?t.addEventListener(s,r,{passive:n}):t.addEventListener(s,r,!1)}function li(t,s,r,a,n){var l=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(i===4)for(i=a.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;i=i.return}for(;o!==null;){if(i=Os(o),i===null)return;if(c=i.tag,c===5||c===6){a=l=i;continue e}o=o.parentNode}}a=a.return}Fm(function(){var d=l,u=Go(r),m=[];e:{var g=xx.get(t);if(g!==void 0){var j=Zo,f=t;switch(t){case"keypress":if(En(r)===0)break e;case"keydown":case"keyup":j=Rp;break;case"focusin":f="focus",j=Zl;break;case"focusout":f="blur",j=Zl;break;case"beforeblur":case"afterblur":j=Zl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Tp;break;case cx:case dx:case ux:j=vp;break;case mx:j=Op;break;case"scroll":j=gp;break;case"wheel":j=$p;break;case"copy":case"cut":case"paste":j=wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Pd}var b=(s&4)!==0,_=!b&&t==="scroll",x=b?g!==null?g+"Capture":null:g;b=[];for(var y=d,h;y!==null;){h=y;var S=h.stateNode;if(h.tag===5&&S!==null&&(h=S,x!==null&&(S=va(y,x),S!=null&&b.push(Ea(y,S,h)))),_)break;y=y.return}0<b.length&&(g=new j(g,f,null,r,u),m.push({event:g,listeners:b}))}}if(!(s&7)){e:{if(g=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",g&&r!==Bi&&(f=r.relatedTarget||r.fromElement)&&(Os(f)||f[Gt]))break e;if((j||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,j?(f=r.relatedTarget||r.toElement,j=d,f=f?Os(f):null,f!==null&&(_=Xs(f),f!==_||f.tag!==5&&f.tag!==6)&&(f=null)):(j=null,f=d),j!==f)){if(b=Rd,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=Pd,S="onPointerLeave",x="onPointerEnter",y="pointer"),_=j==null?g:dr(j),h=f==null?g:dr(f),g=new b(S,y+"leave",j,r,u),g.target=_,g.relatedTarget=h,S=null,Os(u)===d&&(b=new b(x,y+"enter",f,r,u),b.target=h,b.relatedTarget=_,S=b),_=S,j&&f)t:{for(b=j,x=f,y=0,h=b;h;h=rr(h))y++;for(h=0,S=x;S;S=rr(S))h++;for(;0<y-h;)b=rr(b),y--;for(;0<h-y;)x=rr(x),h--;for(;y--;){if(b===x||x!==null&&b===x.alternate)break t;b=rr(b),x=rr(x)}b=null}else b=null;j!==null&&Hd(m,g,j,b,!1),f!==null&&_!==null&&Hd(m,_,f,b,!0)}}e:{if(g=d?dr(d):window,j=g.nodeName&&g.nodeName.toLowerCase(),j==="select"||j==="input"&&g.type==="file")var v=Vp;else if(Od(g))if(ax)v=Qp;else{v=Wp;var N=qp}else(j=g.nodeName)&&j.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(v=Gp);if(v&&(v=v(t,d))){rx(m,v,r,u);break e}N&&N(t,g,d),t==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&$i(g,"number",g.value)}switch(N=d?dr(d):window,t){case"focusin":(Od(N)||N.contentEditable==="true")&&(or=N,Ki=d,ha=null);break;case"focusout":ha=Ki=or=null;break;case"mousedown":Yi=!0;break;case"contextmenu":case"mouseup":case"dragend":Yi=!1,Ud(m,r,u);break;case"selectionchange":if(Jp)break;case"keydown":case"keyup":Ud(m,r,u)}var w;if(tc)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ir?tx(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(ex&&r.locale!=="ko"&&(ir||k!=="onCompositionStart"?k==="onCompositionEnd"&&ir&&(w=Zm()):(ns=u,Xo="value"in ns?ns.value:ns.textContent,ir=!0)),N=Kn(d,k),0<N.length&&(k=new Ld(k,t,null,r,u),m.push({event:k,listeners:N}),w?k.data=w:(w=sx(r),w!==null&&(k.data=w)))),(w=Dp?Up(t,r):zp(t,r))&&(d=Kn(d,"onBeforeInput"),0<d.length&&(u=new Ld("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=w))}hx(m,s)})}function Ea(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Kn(t,s){for(var r=s+"Capture",a=[];t!==null;){var n=t,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=va(t,r),l!=null&&a.unshift(Ea(t,l,n)),l=va(t,s),l!=null&&a.push(Ea(t,l,n))),t=t.return}return a}function rr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hd(t,s,r,a,n){for(var l=s._reactName,i=[];r!==null&&r!==a;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&d!==null&&(o=d,n?(c=va(r,l),c!=null&&i.unshift(Ea(r,c,o))):n||(c=va(r,l),c!=null&&i.push(Ea(r,c,o)))),r=r.return}i.length!==0&&t.push({event:s,listeners:i})}var tg=/\r\n?/g,sg=/\u0000|\uFFFD/g;function Vd(t){return(typeof t=="string"?t:""+t).replace(tg,`
`).replace(sg,"")}function mn(t,s,r){if(s=Vd(s),Vd(t)!==s&&r)throw Error(U(425))}function Yn(){}var Ji=null,Xi=null;function Zi(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var eo=typeof setTimeout=="function"?setTimeout:void 0,rg=typeof clearTimeout=="function"?clearTimeout:void 0,qd=typeof Promise=="function"?Promise:void 0,ag=typeof queueMicrotask=="function"?queueMicrotask:typeof qd<"u"?function(t){return qd.resolve(null).then(t).catch(ng)}:eo;function ng(t){setTimeout(function(){throw t})}function ii(t,s){var r=s,a=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){t.removeChild(n),ka(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);ka(s)}function us(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Wd(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Dr,Aa="__reactProps$"+Dr,Gt="__reactContainer$"+Dr,to="__reactEvents$"+Dr,lg="__reactListeners$"+Dr,ig="__reactHandles$"+Dr;function Os(t){var s=t[Rt];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Gt]||r[Rt]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Wd(t);t!==null;){if(r=t[Rt])return r;t=Wd(t)}return s}t=r,r=t.parentNode}return null}function qa(t){return t=t[Rt]||t[Gt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function wl(t){return t[Aa]||null}var so=[],ur=-1;function _s(t){return{current:t}}function me(t){0>ur||(t.current=so[ur],so[ur]=null,ur--)}function le(t,s){ur++,so[ur]=t.current,t.current=s}var ys={},He=_s(ys),Je=_s(!1),Hs=ys;function Cr(t,s){var r=t.type.contextTypes;if(!r)return ys;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in r)n[l]=s[l];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=n),n}function Xe(t){return t=t.childContextTypes,t!=null}function Jn(){me(Je),me(He)}function Gd(t,s,r){if(He.current!==ys)throw Error(U(168));le(He,s),le(Je,r)}function gx(t,s,r){var a=t.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in s))throw Error(U(108,qh(t)||"Unknown",n));return fe({},r,a)}function Xn(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ys,Hs=He.current,le(He,t),le(Je,Je.current),!0}function Qd(t,s,r){var a=t.stateNode;if(!a)throw Error(U(169));r?(t=gx(t,s,Hs),a.__reactInternalMemoizedMergedChildContext=t,me(Je),me(He),le(He,t)):me(Je),le(Je,r)}var zt=null,kl=!1,oi=!1;function fx(t){zt===null?zt=[t]:zt.push(t)}function og(t){kl=!0,fx(t)}function Ss(){if(!oi&&zt!==null){oi=!0;var t=0,s=ae;try{var r=zt;for(ae=1;t<r.length;t++){var a=r[t];do a=a(!0);while(a!==null)}zt=null,kl=!1}catch(n){throw zt!==null&&(zt=zt.slice(t+1)),Bm(Qo,Ss),n}finally{ae=s,oi=!1}}return null}var mr=[],xr=0,Zn=null,el=0,dt=[],ut=0,Vs=null,Bt=1,Ht="";function Ps(t,s){mr[xr++]=el,mr[xr++]=Zn,Zn=t,el=s}function yx(t,s,r){dt[ut++]=Bt,dt[ut++]=Ht,dt[ut++]=Vs,Vs=t;var a=Bt;t=Ht;var n=32-wt(a)-1;a&=~(1<<n),r+=1;var l=32-wt(s)+n;if(30<l){var i=n-n%5;l=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Bt=1<<32-wt(s)+n|r<<n|a,Ht=l+t}else Bt=1<<l|r<<n|a,Ht=t}function rc(t){t.return!==null&&(Ps(t,1),yx(t,1,0))}function ac(t){for(;t===Zn;)Zn=mr[--xr],mr[xr]=null,el=mr[--xr],mr[xr]=null;for(;t===Vs;)Vs=dt[--ut],dt[ut]=null,Ht=dt[--ut],dt[ut]=null,Bt=dt[--ut],dt[ut]=null}var nt=null,at=null,xe=!1,vt=null;function jx(t,s){var r=mt(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function Kd(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,nt=t,at=us(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,nt=t,at=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Vs!==null?{id:Bt,overflow:Ht}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=mt(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,nt=t,at=null,!0):!1;default:return!1}}function ro(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ao(t){if(xe){var s=at;if(s){var r=s;if(!Kd(t,s)){if(ro(t))throw Error(U(418));s=us(r.nextSibling);var a=nt;s&&Kd(t,s)?jx(a,r):(t.flags=t.flags&-4097|2,xe=!1,nt=t)}}else{if(ro(t))throw Error(U(418));t.flags=t.flags&-4097|2,xe=!1,nt=t}}}function Yd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nt=t}function xn(t){if(t!==nt)return!1;if(!xe)return Yd(t),xe=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Zi(t.type,t.memoizedProps)),s&&(s=at)){if(ro(t))throw bx(),Error(U(418));for(;s;)jx(t,s),s=us(s.nextSibling)}if(Yd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){at=us(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}at=null}}else at=nt?us(t.stateNode.nextSibling):null;return!0}function bx(){for(var t=at;t;)t=us(t.nextSibling)}function Er(){at=nt=null,xe=!1}function nc(t){vt===null?vt=[t]:vt.push(t)}var cg=Xt.ReactCurrentBatchConfig;function Xr(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var a=r.stateNode}if(!a)throw Error(U(147,t));var n=a,l=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var o=n.refs;i===null?delete o[l]:o[l]=i},s._stringRef=l,s)}if(typeof t!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,t))}return t}function hn(t,s){throw t=Object.prototype.toString.call(s),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Jd(t){var s=t._init;return s(t._payload)}function vx(t){function s(x,y){if(t){var h=x.deletions;h===null?(x.deletions=[y],x.flags|=16):h.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)s(x,y),y=y.sibling;return null}function a(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function n(x,y){return x=ps(x,y),x.index=0,x.sibling=null,x}function l(x,y,h){return x.index=h,t?(h=x.alternate,h!==null?(h=h.index,h<y?(x.flags|=2,y):h):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,h,S){return y===null||y.tag!==6?(y=pi(h,x.mode,S),y.return=x,y):(y=n(y,h),y.return=x,y)}function c(x,y,h,S){var v=h.type;return v===lr?u(x,y,h.props.children,S,h.key):y!==null&&(y.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===es&&Jd(v)===y.type)?(S=n(y,h.props),S.ref=Xr(x,y,h),S.return=x,S):(S=On(h.type,h.key,h.props,null,x.mode,S),S.ref=Xr(x,y,h),S.return=x,S)}function d(x,y,h,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==h.containerInfo||y.stateNode.implementation!==h.implementation?(y=gi(h,x.mode,S),y.return=x,y):(y=n(y,h.children||[]),y.return=x,y)}function u(x,y,h,S,v){return y===null||y.tag!==7?(y=zs(h,x.mode,S,v),y.return=x,y):(y=n(y,h),y.return=x,y)}function m(x,y,h){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pi(""+y,x.mode,h),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sn:return h=On(y.type,y.key,y.props,null,x.mode,h),h.ref=Xr(x,null,y),h.return=x,h;case nr:return y=gi(y,x.mode,h),y.return=x,y;case es:var S=y._init;return m(x,S(y._payload),h)}if(na(y)||Gr(y))return y=zs(y,x.mode,h,null),y.return=x,y;hn(x,y)}return null}function g(x,y,h,S){var v=y!==null?y.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return v!==null?null:o(x,y,""+h,S);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case sn:return h.key===v?c(x,y,h,S):null;case nr:return h.key===v?d(x,y,h,S):null;case es:return v=h._init,g(x,y,v(h._payload),S)}if(na(h)||Gr(h))return v!==null?null:u(x,y,h,S,null);hn(x,h)}return null}function j(x,y,h,S,v){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(h)||null,o(y,x,""+S,v);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sn:return x=x.get(S.key===null?h:S.key)||null,c(y,x,S,v);case nr:return x=x.get(S.key===null?h:S.key)||null,d(y,x,S,v);case es:var N=S._init;return j(x,y,h,N(S._payload),v)}if(na(S)||Gr(S))return x=x.get(h)||null,u(y,x,S,v,null);hn(y,S)}return null}function f(x,y,h,S){for(var v=null,N=null,w=y,k=y=0,E=null;w!==null&&k<h.length;k++){w.index>k?(E=w,w=null):E=w.sibling;var P=g(x,w,h[k],S);if(P===null){w===null&&(w=E);break}t&&w&&P.alternate===null&&s(x,w),y=l(P,y,k),N===null?v=P:N.sibling=P,N=P,w=E}if(k===h.length)return r(x,w),xe&&Ps(x,k),v;if(w===null){for(;k<h.length;k++)w=m(x,h[k],S),w!==null&&(y=l(w,y,k),N===null?v=w:N.sibling=w,N=w);return xe&&Ps(x,k),v}for(w=a(x,w);k<h.length;k++)E=j(w,x,k,h[k],S),E!==null&&(t&&E.alternate!==null&&w.delete(E.key===null?k:E.key),y=l(E,y,k),N===null?v=E:N.sibling=E,N=E);return t&&w.forEach(function(R){return s(x,R)}),xe&&Ps(x,k),v}function b(x,y,h,S){var v=Gr(h);if(typeof v!="function")throw Error(U(150));if(h=v.call(h),h==null)throw Error(U(151));for(var N=v=null,w=y,k=y=0,E=null,P=h.next();w!==null&&!P.done;k++,P=h.next()){w.index>k?(E=w,w=null):E=w.sibling;var R=g(x,w,P.value,S);if(R===null){w===null&&(w=E);break}t&&w&&R.alternate===null&&s(x,w),y=l(R,y,k),N===null?v=R:N.sibling=R,N=R,w=E}if(P.done)return r(x,w),xe&&Ps(x,k),v;if(w===null){for(;!P.done;k++,P=h.next())P=m(x,P.value,S),P!==null&&(y=l(P,y,k),N===null?v=P:N.sibling=P,N=P);return xe&&Ps(x,k),v}for(w=a(x,w);!P.done;k++,P=h.next())P=j(w,x,k,P.value,S),P!==null&&(t&&P.alternate!==null&&w.delete(P.key===null?k:P.key),y=l(P,y,k),N===null?v=P:N.sibling=P,N=P);return t&&w.forEach(function(B){return s(x,B)}),xe&&Ps(x,k),v}function _(x,y,h,S){if(typeof h=="object"&&h!==null&&h.type===lr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case sn:e:{for(var v=h.key,N=y;N!==null;){if(N.key===v){if(v=h.type,v===lr){if(N.tag===7){r(x,N.sibling),y=n(N,h.props.children),y.return=x,x=y;break e}}else if(N.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===es&&Jd(v)===N.type){r(x,N.sibling),y=n(N,h.props),y.ref=Xr(x,N,h),y.return=x,x=y;break e}r(x,N);break}else s(x,N);N=N.sibling}h.type===lr?(y=zs(h.props.children,x.mode,S,h.key),y.return=x,x=y):(S=On(h.type,h.key,h.props,null,x.mode,S),S.ref=Xr(x,y,h),S.return=x,x=S)}return i(x);case nr:e:{for(N=h.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===h.containerInfo&&y.stateNode.implementation===h.implementation){r(x,y.sibling),y=n(y,h.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else s(x,y);y=y.sibling}y=gi(h,x.mode,S),y.return=x,x=y}return i(x);case es:return N=h._init,_(x,y,N(h._payload),S)}if(na(h))return f(x,y,h,S);if(Gr(h))return b(x,y,h,S);hn(x,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,y!==null&&y.tag===6?(r(x,y.sibling),y=n(y,h),y.return=x,x=y):(r(x,y),y=pi(h,x.mode,S),y.return=x,x=y),i(x)):r(x,y)}return _}var Ar=vx(!0),Nx=vx(!1),tl=_s(null),sl=null,hr=null,lc=null;function ic(){lc=hr=sl=null}function oc(t){var s=tl.current;me(tl),t._currentValue=s}function no(t,s,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),t===r)break;t=t.return}}function vr(t,s){sl=t,lc=hr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Ye=!0),t.firstContext=null)}function gt(t){var s=t._currentValue;if(lc!==t)if(t={context:t,memoizedValue:s,next:null},hr===null){if(sl===null)throw Error(U(308));hr=t,sl.dependencies={lanes:0,firstContext:t}}else hr=hr.next=t;return s}var Is=null;function cc(t){Is===null?Is=[t]:Is.push(t)}function wx(t,s,r,a){var n=s.interleaved;return n===null?(r.next=r,cc(s)):(r.next=n.next,n.next=r),s.interleaved=r,Qt(t,a)}function Qt(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ts=!1;function dc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kx(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vt(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function ms(t,s,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,te&2){var n=a.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),a.pending=s,Qt(t,r)}return n=a.interleaved,n===null?(s.next=s,cc(a)):(s.next=n.next,n.next=s),a.interleaved=s,Qt(t,r)}function An(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,Ko(t,r)}}function Xd(t,s){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?n=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?n=l=s:l=l.next=s}else n=l=s;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:a.shared,effects:a.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function rl(t,s,r,a){var n=t.updateQueue;ts=!1;var l=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(l!==null){var m=n.baseState;i=0,u=d=c=null,o=l;do{var g=o.lane,j=o.eventTime;if((a&g)===g){u!==null&&(u=u.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=t,b=o;switch(g=s,j=r,b.tag){case 1:if(f=b.payload,typeof f=="function"){m=f.call(j,m,g);break e}m=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=b.payload,g=typeof f=="function"?f.call(j,m,g):f,g==null)break e;m=fe({},m,g);break e;case 2:ts=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=n.effects,g===null?n.effects=[o]:g.push(o))}else j={eventTime:j,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=j,c=m):u=u.next=j,i|=g;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;g=o,o=g.next,g.next=null,n.lastBaseUpdate=g,n.shared.pending=null}}while(!0);if(u===null&&(c=m),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,s=n.shared.interleaved,s!==null){n=s;do i|=n.lane,n=n.next;while(n!==s)}else l===null&&(n.shared.lanes=0);Ws|=i,t.lanes=i,t.memoizedState=m}}function Zd(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var a=t[s],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(U(191,n));n.call(a)}}}var Wa={},Tt=_s(Wa),Ra=_s(Wa),La=_s(Wa);function $s(t){if(t===Wa)throw Error(U(174));return t}function uc(t,s){switch(le(La,s),le(Ra,t),le(Tt,Wa),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Di(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Di(s,t)}me(Tt),le(Tt,s)}function Rr(){me(Tt),me(Ra),me(La)}function _x(t){$s(La.current);var s=$s(Tt.current),r=Di(s,t.type);s!==r&&(le(Ra,t),le(Tt,r))}function mc(t){Ra.current===t&&(me(Tt),me(Ra))}var pe=_s(0);function al(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ci=[];function xc(){for(var t=0;t<ci.length;t++)ci[t]._workInProgressVersionPrimary=null;ci.length=0}var Rn=Xt.ReactCurrentDispatcher,di=Xt.ReactCurrentBatchConfig,qs=0,ge=null,_e=null,Ae=null,nl=!1,pa=!1,Pa=0,dg=0;function Fe(){throw Error(U(321))}function hc(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!_t(t[r],s[r]))return!1;return!0}function pc(t,s,r,a,n,l){if(qs=l,ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Rn.current=t===null||t.memoizedState===null?hg:pg,t=r(a,n),pa){l=0;do{if(pa=!1,Pa=0,25<=l)throw Error(U(301));l+=1,Ae=_e=null,s.updateQueue=null,Rn.current=gg,t=r(a,n)}while(pa)}if(Rn.current=ll,s=_e!==null&&_e.next!==null,qs=0,Ae=_e=ge=null,nl=!1,s)throw Error(U(300));return t}function gc(){var t=Pa!==0;return Pa=0,t}function At(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?ge.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function ft(){if(_e===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var s=Ae===null?ge.memoizedState:Ae.next;if(s!==null)Ae=s,_e=t;else{if(t===null)throw Error(U(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ae===null?ge.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function Ta(t,s){return typeof s=="function"?s(t):s}function ui(t){var s=ft(),r=s.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var a=_e,n=a.baseQueue,l=r.pending;if(l!==null){if(n!==null){var i=n.next;n.next=l.next,l.next=i}a.baseQueue=n=l,r.pending=null}if(n!==null){l=n.next,a=a.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((qs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:t(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,i=a):c=c.next=m,ge.lanes|=u,Ws|=u}d=d.next}while(d!==null&&d!==l);c===null?i=a:c.next=o,_t(a,s.memoizedState)||(Ye=!0),s.memoizedState=a,s.baseState=i,s.baseQueue=c,r.lastRenderedState=a}if(t=r.interleaved,t!==null){n=t;do l=n.lane,ge.lanes|=l,Ws|=l,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function mi(t){var s=ft(),r=s.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var a=r.dispatch,n=r.pending,l=s.memoizedState;if(n!==null){r.pending=null;var i=n=n.next;do l=t(l,i.action),i=i.next;while(i!==n);_t(l,s.memoizedState)||(Ye=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,a]}function Sx(){}function Cx(t,s){var r=ge,a=ft(),n=s(),l=!_t(a.memoizedState,n);if(l&&(a.memoizedState=n,Ye=!0),a=a.queue,fc(Rx.bind(null,r,a,t),[t]),a.getSnapshot!==s||l||Ae!==null&&Ae.memoizedState.tag&1){if(r.flags|=2048,Ma(9,Ax.bind(null,r,a,n,s),void 0,null),Pe===null)throw Error(U(349));qs&30||Ex(r,s,n)}return n}function Ex(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=ge.updateQueue,s===null?(s={lastEffect:null,stores:null},ge.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Ax(t,s,r,a){s.value=r,s.getSnapshot=a,Lx(s)&&Px(t)}function Rx(t,s,r){return r(function(){Lx(s)&&Px(t)})}function Lx(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!_t(t,r)}catch{return!0}}function Px(t){var s=Qt(t,1);s!==null&&kt(s,t,1,-1)}function eu(t){var s=At();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},s.queue=t,t=t.dispatch=xg.bind(null,ge,t),[s.memoizedState,t]}function Ma(t,s,r,a){return t={tag:t,create:s,destroy:r,deps:a,next:null},s=ge.updateQueue,s===null?(s={lastEffect:null,stores:null},ge.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,s.lastEffect=t)),t}function Tx(){return ft().memoizedState}function Ln(t,s,r,a){var n=At();ge.flags|=t,n.memoizedState=Ma(1|s,r,void 0,a===void 0?null:a)}function _l(t,s,r,a){var n=ft();a=a===void 0?null:a;var l=void 0;if(_e!==null){var i=_e.memoizedState;if(l=i.destroy,a!==null&&hc(a,i.deps)){n.memoizedState=Ma(s,r,l,a);return}}ge.flags|=t,n.memoizedState=Ma(1|s,r,l,a)}function tu(t,s){return Ln(8390656,8,t,s)}function fc(t,s){return _l(2048,8,t,s)}function Mx(t,s){return _l(4,2,t,s)}function Ox(t,s){return _l(4,4,t,s)}function Ix(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function $x(t,s,r){return r=r!=null?r.concat([t]):null,_l(4,4,Ix.bind(null,s,t),r)}function yc(){}function Fx(t,s){var r=ft();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&hc(s,a[1])?a[0]:(r.memoizedState=[t,s],t)}function Dx(t,s){var r=ft();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&hc(s,a[1])?a[0]:(t=t(),r.memoizedState=[t,s],t)}function Ux(t,s,r){return qs&21?(_t(r,s)||(r=qm(),ge.lanes|=r,Ws|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Ye=!0),t.memoizedState=r)}function ug(t,s){var r=ae;ae=r!==0&&4>r?r:4,t(!0);var a=di.transition;di.transition={};try{t(!1),s()}finally{ae=r,di.transition=a}}function zx(){return ft().memoizedState}function mg(t,s,r){var a=hs(t);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Bx(t))Hx(s,r);else if(r=wx(t,s,r,a),r!==null){var n=qe();kt(r,t,a,n),Vx(r,s,a)}}function xg(t,s,r){var a=hs(t),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bx(t))Hx(s,n);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,o=l(i,r);if(n.hasEagerState=!0,n.eagerState=o,_t(o,i)){var c=s.interleaved;c===null?(n.next=n,cc(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}r=wx(t,s,n,a),r!==null&&(n=qe(),kt(r,t,a,n),Vx(r,s,a))}}function Bx(t){var s=t.alternate;return t===ge||s!==null&&s===ge}function Hx(t,s){pa=nl=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Vx(t,s,r){if(r&4194240){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,Ko(t,r)}}var ll={readContext:gt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},hg={readContext:gt,useCallback:function(t,s){return At().memoizedState=[t,s===void 0?null:s],t},useContext:gt,useEffect:tu,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,Ln(4194308,4,Ix.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Ln(4194308,4,t,s)},useInsertionEffect:function(t,s){return Ln(4,2,t,s)},useMemo:function(t,s){var r=At();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var a=At();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},a.queue=t,t=t.dispatch=mg.bind(null,ge,t),[a.memoizedState,t]},useRef:function(t){var s=At();return t={current:t},s.memoizedState=t},useState:eu,useDebugValue:yc,useDeferredValue:function(t){return At().memoizedState=t},useTransition:function(){var t=eu(!1),s=t[0];return t=ug.bind(null,t[1]),At().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var a=ge,n=At();if(xe){if(r===void 0)throw Error(U(407));r=r()}else{if(r=s(),Pe===null)throw Error(U(349));qs&30||Ex(a,s,r)}n.memoizedState=r;var l={value:r,getSnapshot:s};return n.queue=l,tu(Rx.bind(null,a,l,t),[t]),a.flags|=2048,Ma(9,Ax.bind(null,a,l,r,s),void 0,null),r},useId:function(){var t=At(),s=Pe.identifierPrefix;if(xe){var r=Ht,a=Bt;r=(a&~(1<<32-wt(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=Pa++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=dg++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},pg={readContext:gt,useCallback:Fx,useContext:gt,useEffect:fc,useImperativeHandle:$x,useInsertionEffect:Mx,useLayoutEffect:Ox,useMemo:Dx,useReducer:ui,useRef:Tx,useState:function(){return ui(Ta)},useDebugValue:yc,useDeferredValue:function(t){var s=ft();return Ux(s,_e.memoizedState,t)},useTransition:function(){var t=ui(Ta)[0],s=ft().memoizedState;return[t,s]},useMutableSource:Sx,useSyncExternalStore:Cx,useId:zx,unstable_isNewReconciler:!1},gg={readContext:gt,useCallback:Fx,useContext:gt,useEffect:fc,useImperativeHandle:$x,useInsertionEffect:Mx,useLayoutEffect:Ox,useMemo:Dx,useReducer:mi,useRef:Tx,useState:function(){return mi(Ta)},useDebugValue:yc,useDeferredValue:function(t){var s=ft();return _e===null?s.memoizedState=t:Ux(s,_e.memoizedState,t)},useTransition:function(){var t=mi(Ta)[0],s=ft().memoizedState;return[t,s]},useMutableSource:Sx,useSyncExternalStore:Cx,useId:zx,unstable_isNewReconciler:!1};function jt(t,s){if(t&&t.defaultProps){s=fe({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function lo(t,s,r,a){s=t.memoizedState,r=r(a,s),r=r==null?s:fe({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sl={isMounted:function(t){return(t=t._reactInternals)?Xs(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var a=qe(),n=hs(t),l=Vt(a,n);l.payload=s,r!=null&&(l.callback=r),s=ms(t,l,n),s!==null&&(kt(s,t,n,a),An(s,t,n))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var a=qe(),n=hs(t),l=Vt(a,n);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=ms(t,l,n),s!==null&&(kt(s,t,n,a),An(s,t,n))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=qe(),a=hs(t),n=Vt(r,a);n.tag=2,s!=null&&(n.callback=s),s=ms(t,n,a),s!==null&&(kt(s,t,a,r),An(s,t,a))}};function su(t,s,r,a,n,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,l,i):s.prototype&&s.prototype.isPureReactComponent?!Sa(r,a)||!Sa(n,l):!0}function qx(t,s,r){var a=!1,n=ys,l=s.contextType;return typeof l=="object"&&l!==null?l=gt(l):(n=Xe(s)?Hs:He.current,a=s.contextTypes,l=(a=a!=null)?Cr(t,n):ys),s=new s(r,l),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Sl,t.stateNode=s,s._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=l),s}function ru(t,s,r,a){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==t&&Sl.enqueueReplaceState(s,s.state,null)}function io(t,s,r,a){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs={},dc(t);var l=s.contextType;typeof l=="object"&&l!==null?n.context=gt(l):(l=Xe(s)?Hs:He.current,n.context=Cr(t,l)),n.state=t.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(lo(t,s,l,r),n.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&Sl.enqueueReplaceState(n,n.state,null),rl(t,r,n,a),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function Lr(t,s){try{var r="",a=s;do r+=Vh(a),a=a.return;while(a);var n=r}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:s,stack:n,digest:null}}function xi(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function oo(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var fg=typeof WeakMap=="function"?WeakMap:Map;function Wx(t,s,r){r=Vt(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){ol||(ol=!0,jo=a),oo(t,s)},r}function Gx(t,s,r){r=Vt(-1,r),r.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var n=s.value;r.payload=function(){return a(n)},r.callback=function(){oo(t,s)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){oo(t,s),typeof a!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),r}function au(t,s,r){var a=t.pingCache;if(a===null){a=t.pingCache=new fg;var n=new Set;a.set(s,n)}else n=a.get(s),n===void 0&&(n=new Set,a.set(s,n));n.has(r)||(n.add(r),t=Lg.bind(null,t,s,r),s.then(t,t))}function nu(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function lu(t,s,r,a,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Vt(-1,1),s.tag=2,ms(r,s,1))),r.lanes|=1),t)}var yg=Xt.ReactCurrentOwner,Ye=!1;function Ve(t,s,r,a){s.child=t===null?Nx(s,null,r,a):Ar(s,t.child,r,a)}function iu(t,s,r,a,n){r=r.render;var l=s.ref;return vr(s,n),a=pc(t,s,r,a,l,n),r=gc(),t!==null&&!Ye?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,Kt(t,s,n)):(xe&&r&&rc(s),s.flags|=1,Ve(t,s,a,n),s.child)}function ou(t,s,r,a,n){if(t===null){var l=r.type;return typeof l=="function"&&!Sc(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,Qx(t,s,l,a,n)):(t=On(r.type,null,a,s,s.mode,n),t.ref=s.ref,t.return=s,s.child=t)}if(l=t.child,!(t.lanes&n)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Sa,r(i,a)&&t.ref===s.ref)return Kt(t,s,n)}return s.flags|=1,t=ps(l,a),t.ref=s.ref,t.return=s,s.child=t}function Qx(t,s,r,a,n){if(t!==null){var l=t.memoizedProps;if(Sa(l,a)&&t.ref===s.ref)if(Ye=!1,s.pendingProps=a=l,(t.lanes&n)!==0)t.flags&131072&&(Ye=!0);else return s.lanes=t.lanes,Kt(t,s,n)}return co(t,s,r,a,n)}function Kx(t,s,r){var a=s.pendingProps,n=a.children,l=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(gr,st),st|=r;else{if(!(r&1073741824))return t=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,le(gr,st),st|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:r,le(gr,st),st|=a}else l!==null?(a=l.baseLanes|r,s.memoizedState=null):a=r,le(gr,st),st|=a;return Ve(t,s,n,r),s.child}function Yx(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function co(t,s,r,a,n){var l=Xe(r)?Hs:He.current;return l=Cr(s,l),vr(s,n),r=pc(t,s,r,a,l,n),a=gc(),t!==null&&!Ye?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,Kt(t,s,n)):(xe&&a&&rc(s),s.flags|=1,Ve(t,s,r,n),s.child)}function cu(t,s,r,a,n){if(Xe(r)){var l=!0;Xn(s)}else l=!1;if(vr(s,n),s.stateNode===null)Pn(t,s),qx(s,r,a),io(s,r,a,n),a=!0;else if(t===null){var i=s.stateNode,o=s.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=gt(d):(d=Xe(r)?Hs:He.current,d=Cr(s,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==a||c!==d)&&ru(s,i,a,d),ts=!1;var g=s.memoizedState;i.state=g,rl(s,a,i,n),c=s.memoizedState,o!==a||g!==c||Je.current||ts?(typeof u=="function"&&(lo(s,r,u,a),c=s.memoizedState),(o=ts||su(s,r,o,a,g,c,d))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),i.props=a,i.state=c,i.context=d,a=o):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{i=s.stateNode,kx(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:jt(s.type,o),i.props=d,m=s.pendingProps,g=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=gt(c):(c=Xe(r)?Hs:He.current,c=Cr(s,c));var j=r.getDerivedStateFromProps;(u=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==m||g!==c)&&ru(s,i,a,c),ts=!1,g=s.memoizedState,i.state=g,rl(s,a,i,n);var f=s.memoizedState;o!==m||g!==f||Je.current||ts?(typeof j=="function"&&(lo(s,r,j,a),f=s.memoizedState),(d=ts||su(s,r,d,a,g,f,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,f,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,f,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=f),i.props=a,i.state=f,i.context=c,a=d):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=1024),a=!1)}return uo(t,s,r,a,l,n)}function uo(t,s,r,a,n,l){Yx(t,s);var i=(s.flags&128)!==0;if(!a&&!i)return n&&Qd(s,r,!1),Kt(t,s,l);a=s.stateNode,yg.current=s;var o=i&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,t!==null&&i?(s.child=Ar(s,t.child,null,l),s.child=Ar(s,null,o,l)):Ve(t,s,o,l),s.memoizedState=a.state,n&&Qd(s,r,!0),s.child}function Jx(t){var s=t.stateNode;s.pendingContext?Gd(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Gd(t,s.context,!1),uc(t,s.containerInfo)}function du(t,s,r,a,n){return Er(),nc(n),s.flags|=256,Ve(t,s,r,a),s.child}var mo={dehydrated:null,treeContext:null,retryLane:0};function xo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xx(t,s,r){var a=s.pendingProps,n=pe.current,l=!1,i=(s.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(n&2)!==0),o?(l=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),le(pe,n&1),t===null)return ao(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=a.children,t=a.fallback,l?(a=s.mode,l=s.child,i={mode:"hidden",children:i},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Al(i,a,0,null),t=zs(t,a,r,null),l.return=s,t.return=s,l.sibling=t,s.child=l,s.child.memoizedState=xo(r),s.memoizedState=mo,t):jc(s,i));if(n=t.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return jg(t,s,i,a,o,n,r);if(l){l=a.fallback,i=s.mode,n=t.child,o=n.sibling;var c={mode:"hidden",children:a.children};return!(i&1)&&s.child!==n?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=ps(n,c),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?l=ps(o,l):(l=zs(l,i,r,null),l.flags|=2),l.return=s,a.return=s,a.sibling=l,s.child=a,a=l,l=s.child,i=t.child.memoizedState,i=i===null?xo(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~r,s.memoizedState=mo,a}return l=t.child,t=l.sibling,a=ps(l,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=a,s.memoizedState=null,a}function jc(t,s){return s=Al({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function pn(t,s,r,a){return a!==null&&nc(a),Ar(s,t.child,null,r),t=jc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function jg(t,s,r,a,n,l,i){if(r)return s.flags&256?(s.flags&=-257,a=xi(Error(U(422))),pn(t,s,i,a)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(l=a.fallback,n=s.mode,a=Al({mode:"visible",children:a.children},n,0,null),l=zs(l,n,i,null),l.flags|=2,a.return=s,l.return=s,a.sibling=l,s.child=a,s.mode&1&&Ar(s,t.child,null,i),s.child.memoizedState=xo(i),s.memoizedState=mo,l);if(!(s.mode&1))return pn(t,s,i,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,l=Error(U(419)),a=xi(l,a,void 0),pn(t,s,i,a)}if(o=(i&t.childLanes)!==0,Ye||o){if(a=Pe,a!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|i)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,Qt(t,n),kt(a,t,n,-1))}return _c(),a=xi(Error(U(421))),pn(t,s,i,a)}return n.data==="$?"?(s.flags|=128,s.child=t.child,s=Pg.bind(null,t),n._reactRetry=s,null):(t=l.treeContext,at=us(n.nextSibling),nt=s,xe=!0,vt=null,t!==null&&(dt[ut++]=Bt,dt[ut++]=Ht,dt[ut++]=Vs,Bt=t.id,Ht=t.overflow,Vs=s),s=jc(s,a.children),s.flags|=4096,s)}function uu(t,s,r){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s),no(t.return,s,r)}function hi(t,s,r,a,n){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=r,l.tailMode=n)}function Zx(t,s,r){var a=s.pendingProps,n=a.revealOrder,l=a.tail;if(Ve(t,s,a.children,r),a=pe.current,a&2)a=a&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uu(t,r,s);else if(t.tag===19)uu(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(le(pe,a),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(r=s.child,n=null;r!==null;)t=r.alternate,t!==null&&al(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=s.child,s.child=null):(n=r.sibling,r.sibling=null),hi(s,!1,n,r,l);break;case"backwards":for(r=null,n=s.child,s.child=null;n!==null;){if(t=n.alternate,t!==null&&al(t)===null){s.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}hi(s,!0,r,null,l);break;case"together":hi(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pn(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Kt(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Ws|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(U(153));if(s.child!==null){for(t=s.child,r=ps(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=ps(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function bg(t,s,r){switch(s.tag){case 3:Jx(s),Er();break;case 5:_x(s);break;case 1:Xe(s.type)&&Xn(s);break;case 4:uc(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,n=s.memoizedProps.value;le(tl,a._currentValue),a._currentValue=n;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(le(pe,pe.current&1),s.flags|=128,null):r&s.child.childLanes?Xx(t,s,r):(le(pe,pe.current&1),t=Kt(t,s,r),t!==null?t.sibling:null);le(pe,pe.current&1);break;case 19:if(a=(r&s.childLanes)!==0,t.flags&128){if(a)return Zx(t,s,r);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),le(pe,pe.current),a)break;return null;case 22:case 23:return s.lanes=0,Kx(t,s,r)}return Kt(t,s,r)}var e0,ho,t0,s0;e0=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ho=function(){};t0=function(t,s,r,a){var n=t.memoizedProps;if(n!==a){t=s.stateNode,$s(Tt.current);var l=null;switch(r){case"input":n=Oi(t,n),a=Oi(t,a),l=[];break;case"select":n=fe({},n,{value:void 0}),a=fe({},a,{value:void 0}),l=[];break;case"textarea":n=Fi(t,n),a=Fi(t,a),l=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=Yn)}Ui(r,a);var i;r=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var o=n[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ja.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in a){var c=a[d];if(o=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ja.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ue("scroll",t),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(s.updateQueue=d)&&(s.flags|=4)}};s0=function(t,s,r,a){r!==a&&(s.flags|=4)};function Zr(t,s){if(!xe)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function De(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(s)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=a,t.childLanes=r,s}function vg(t,s,r){var a=s.pendingProps;switch(ac(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(s),null;case 1:return Xe(s.type)&&Jn(),De(s),null;case 3:return a=s.stateNode,Rr(),me(Je),me(He),xc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xn(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,vt!==null&&(No(vt),vt=null))),ho(t,s),De(s),null;case 5:mc(s);var n=$s(La.current);if(r=s.type,t!==null&&s.stateNode!=null)t0(t,s,r,a,n),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(U(166));return De(s),null}if(t=$s(Tt.current),xn(s)){a=s.stateNode,r=s.type;var l=s.memoizedProps;switch(a[Rt]=s,a[Aa]=l,t=(s.mode&1)!==0,r){case"dialog":ue("cancel",a),ue("close",a);break;case"iframe":case"object":case"embed":ue("load",a);break;case"video":case"audio":for(n=0;n<ia.length;n++)ue(ia[n],a);break;case"source":ue("error",a);break;case"img":case"image":case"link":ue("error",a),ue("load",a);break;case"details":ue("toggle",a);break;case"input":bd(a,l),ue("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},ue("invalid",a);break;case"textarea":Nd(a,l),ue("invalid",a)}Ui(r,l),n=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?a.textContent!==o&&(l.suppressHydrationWarning!==!0&&mn(a.textContent,o,t),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&mn(a.textContent,o,t),n=["children",""+o]):ja.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ue("scroll",a)}switch(r){case"input":rn(a),vd(a,l,!0);break;case"textarea":rn(a),wd(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=Yn)}a=n,s.updateQueue=a,a!==null&&(s.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rm(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=i.createElement(r,{is:a.is}):(t=i.createElement(r),r==="select"&&(i=t,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):t=i.createElementNS(t,r),t[Rt]=s,t[Aa]=a,e0(t,s,!1,!1),s.stateNode=t;e:{switch(i=zi(r,a),r){case"dialog":ue("cancel",t),ue("close",t),n=a;break;case"iframe":case"object":case"embed":ue("load",t),n=a;break;case"video":case"audio":for(n=0;n<ia.length;n++)ue(ia[n],t);n=a;break;case"source":ue("error",t),n=a;break;case"img":case"image":case"link":ue("error",t),ue("load",t),n=a;break;case"details":ue("toggle",t),n=a;break;case"input":bd(t,a),n=Oi(t,a),ue("invalid",t);break;case"option":n=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},n=fe({},a,{value:void 0}),ue("invalid",t);break;case"textarea":Nd(t,a),n=Fi(t,a),ue("invalid",t);break;default:n=a}Ui(r,n),o=n;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Tm(t,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lm(t,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ba(t,c):typeof c=="number"&&ba(t,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ja.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ue("scroll",t):c!=null&&Ho(t,l,c,i))}switch(r){case"input":rn(t),vd(t,a,!1);break;case"textarea":rn(t),wd(t);break;case"option":a.value!=null&&t.setAttribute("value",""+fs(a.value));break;case"select":t.multiple=!!a.multiple,l=a.value,l!=null?fr(t,!!a.multiple,l,!1):a.defaultValue!=null&&fr(t,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Yn)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return De(s),null;case 6:if(t&&s.stateNode!=null)s0(t,s,t.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(U(166));if(r=$s(La.current),$s(Tt.current),xn(s)){if(a=s.stateNode,r=s.memoizedProps,a[Rt]=s,(l=a.nodeValue!==r)&&(t=nt,t!==null))switch(t.tag){case 3:mn(a.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mn(a.nodeValue,r,(t.mode&1)!==0)}l&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Rt]=s,s.stateNode=a}return De(s),null;case 13:if(me(pe),a=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&at!==null&&s.mode&1&&!(s.flags&128))bx(),Er(),s.flags|=98560,l=!1;else if(l=xn(s),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(U(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(U(317));l[Rt]=s}else Er(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;De(s),l=!1}else vt!==null&&(No(vt),vt=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(t===null||pe.current&1?Ce===0&&(Ce=3):_c())),s.updateQueue!==null&&(s.flags|=4),De(s),null);case 4:return Rr(),ho(t,s),t===null&&Ca(s.stateNode.containerInfo),De(s),null;case 10:return oc(s.type._context),De(s),null;case 17:return Xe(s.type)&&Jn(),De(s),null;case 19:if(me(pe),l=s.memoizedState,l===null)return De(s),null;if(a=(s.flags&128)!==0,i=l.rendering,i===null)if(a)Zr(l,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(i=al(t),i!==null){for(s.flags|=128,Zr(l,!1),a=i.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)l=r,t=a,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return le(pe,pe.current&1|2),s.child}t=t.sibling}l.tail!==null&&je()>Pr&&(s.flags|=128,a=!0,Zr(l,!1),s.lanes=4194304)}else{if(!a)if(t=al(i),t!==null){if(s.flags|=128,a=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Zr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!xe)return De(s),null}else 2*je()-l.renderingStartTime>Pr&&r!==1073741824&&(s.flags|=128,a=!0,Zr(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(r=l.last,r!==null?r.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=je(),s.sibling=null,r=pe.current,le(pe,a?r&1|2:r&1),s):(De(s),null);case 22:case 23:return kc(),a=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?st&1073741824&&(De(s),s.subtreeFlags&6&&(s.flags|=8192)):De(s),null;case 24:return null;case 25:return null}throw Error(U(156,s.tag))}function Ng(t,s){switch(ac(s),s.tag){case 1:return Xe(s.type)&&Jn(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Rr(),me(Je),me(He),xc(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return mc(s),null;case 13:if(me(pe),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(U(340));Er()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return me(pe),null;case 4:return Rr(),null;case 10:return oc(s.type._context),null;case 22:case 23:return kc(),null;case 24:return null;default:return null}}var gn=!1,Ue=!1,wg=typeof WeakSet=="function"?WeakSet:Set,V=null;function pr(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){ye(t,s,a)}else r.current=null}function po(t,s,r){try{r()}catch(a){ye(t,s,a)}}var mu=!1;function kg(t,s){if(Ji=Gn,t=ix(),sc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=t,g=null;t:for(;;){for(var j;m!==r||n!==0&&m.nodeType!==3||(o=i+n),m!==l||a!==0&&m.nodeType!==3||(c=i+a),m.nodeType===3&&(i+=m.nodeValue.length),(j=m.firstChild)!==null;)g=m,m=j;for(;;){if(m===t)break t;if(g===r&&++d===n&&(o=i),g===l&&++u===a&&(c=i),(j=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=j}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xi={focusedElem:t,selectionRange:r},Gn=!1,V=s;V!==null;)if(s=V,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,V=t;else for(;V!==null;){s=V;try{var f=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var b=f.memoizedProps,_=f.memoizedState,x=s.stateNode,y=x.getSnapshotBeforeUpdate(s.elementType===s.type?b:jt(s.type,b),_);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var h=s.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){ye(s,s.return,S)}if(t=s.sibling,t!==null){t.return=s.return,V=t;break}V=s.return}return f=mu,mu=!1,f}function ga(t,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&t)===t){var l=n.destroy;n.destroy=void 0,l!==void 0&&po(s,r,l)}n=n.next}while(n!==a)}}function Cl(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function go(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function r0(t){var s=t.alternate;s!==null&&(t.alternate=null,r0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Rt],delete s[Aa],delete s[to],delete s[lg],delete s[ig])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a0(t){return t.tag===5||t.tag===3||t.tag===4}function xu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fo(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Yn));else if(a!==4&&(t=t.child,t!==null))for(fo(t,s,r),t=t.sibling;t!==null;)fo(t,s,r),t=t.sibling}function yo(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(yo(t,s,r),t=t.sibling;t!==null;)yo(t,s,r),t=t.sibling}var Me=null,bt=!1;function Zt(t,s,r){for(r=r.child;r!==null;)n0(t,s,r),r=r.sibling}function n0(t,s,r){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(jl,r)}catch{}switch(r.tag){case 5:Ue||pr(r,s);case 6:var a=Me,n=bt;Me=null,Zt(t,s,r),Me=a,bt=n,Me!==null&&(bt?(t=Me,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Me.removeChild(r.stateNode));break;case 18:Me!==null&&(bt?(t=Me,r=r.stateNode,t.nodeType===8?ii(t.parentNode,r):t.nodeType===1&&ii(t,r),ka(t)):ii(Me,r.stateNode));break;case 4:a=Me,n=bt,Me=r.stateNode.containerInfo,bt=!0,Zt(t,s,r),Me=a,bt=n;break;case 0:case 11:case 14:case 15:if(!Ue&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var l=n,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&po(r,s,i),n=n.next}while(n!==a)}Zt(t,s,r);break;case 1:if(!Ue&&(pr(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){ye(r,s,o)}Zt(t,s,r);break;case 21:Zt(t,s,r);break;case 22:r.mode&1?(Ue=(a=Ue)||r.memoizedState!==null,Zt(t,s,r),Ue=a):Zt(t,s,r);break;default:Zt(t,s,r)}}function hu(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new wg),s.forEach(function(a){var n=Tg.bind(null,t,a);r.has(a)||(r.add(a),a.then(n,n))})}}function yt(t,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var l=t,i=s,o=i;e:for(;o!==null;){switch(o.tag){case 5:Me=o.stateNode,bt=!1;break e;case 3:Me=o.stateNode.containerInfo,bt=!0;break e;case 4:Me=o.stateNode.containerInfo,bt=!0;break e}o=o.return}if(Me===null)throw Error(U(160));n0(l,i,n),Me=null,bt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){ye(n,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)l0(s,t),s=s.sibling}function l0(t,s){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yt(s,t),Ct(t),a&4){try{ga(3,t,t.return),Cl(3,t)}catch(b){ye(t,t.return,b)}try{ga(5,t,t.return)}catch(b){ye(t,t.return,b)}}break;case 1:yt(s,t),Ct(t),a&512&&r!==null&&pr(r,r.return);break;case 5:if(yt(s,t),Ct(t),a&512&&r!==null&&pr(r,r.return),t.flags&32){var n=t.stateNode;try{ba(n,"")}catch(b){ye(t,t.return,b)}}if(a&4&&(n=t.stateNode,n!=null)){var l=t.memoizedProps,i=r!==null?r.memoizedProps:l,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Em(n,l),zi(o,i);var d=zi(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];u==="style"?Tm(n,m):u==="dangerouslySetInnerHTML"?Lm(n,m):u==="children"?ba(n,m):Ho(n,u,m,d)}switch(o){case"input":Ii(n,l);break;case"textarea":Am(n,l);break;case"select":var g=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?fr(n,!!l.multiple,j,!1):g!==!!l.multiple&&(l.defaultValue!=null?fr(n,!!l.multiple,l.defaultValue,!0):fr(n,!!l.multiple,l.multiple?[]:"",!1))}n[Aa]=l}catch(b){ye(t,t.return,b)}}break;case 6:if(yt(s,t),Ct(t),a&4){if(t.stateNode===null)throw Error(U(162));n=t.stateNode,l=t.memoizedProps;try{n.nodeValue=l}catch(b){ye(t,t.return,b)}}break;case 3:if(yt(s,t),Ct(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{ka(s.containerInfo)}catch(b){ye(t,t.return,b)}break;case 4:yt(s,t),Ct(t);break;case 13:yt(s,t),Ct(t),n=t.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(Nc=je())),a&4&&hu(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ue=(d=Ue)||u,yt(s,t),Ue=d):yt(s,t),Ct(t),a&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(V=t,u=t.child;u!==null;){for(m=V=u;V!==null;){switch(g=V,j=g.child,g.tag){case 0:case 11:case 14:case 15:ga(4,g,g.return);break;case 1:pr(g,g.return);var f=g.stateNode;if(typeof f.componentWillUnmount=="function"){a=g,r=g.return;try{s=a,f.props=s.memoizedProps,f.state=s.memoizedState,f.componentWillUnmount()}catch(b){ye(a,r,b)}}break;case 5:pr(g,g.return);break;case 22:if(g.memoizedState!==null){gu(m);continue}}j!==null?(j.return=g,V=j):gu(m)}u=u.sibling}e:for(u=null,m=t;;){if(m.tag===5){if(u===null){u=m;try{n=m.stateNode,d?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Pm("display",i))}catch(b){ye(t,t.return,b)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(b){ye(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:yt(s,t),Ct(t),a&4&&hu(t);break;case 21:break;default:yt(s,t),Ct(t)}}function Ct(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(a0(r)){var a=r;break e}r=r.return}throw Error(U(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(ba(n,""),a.flags&=-33);var l=xu(t);yo(t,l,n);break;case 3:case 4:var i=a.stateNode.containerInfo,o=xu(t);fo(t,o,i);break;default:throw Error(U(161))}}catch(c){ye(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function _g(t,s,r){V=t,i0(t)}function i0(t,s,r){for(var a=(t.mode&1)!==0;V!==null;){var n=V,l=n.child;if(n.tag===22&&a){var i=n.memoizedState!==null||gn;if(!i){var o=n.alternate,c=o!==null&&o.memoizedState!==null||Ue;o=gn;var d=Ue;if(gn=i,(Ue=c)&&!d)for(V=n;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?fu(n):c!==null?(c.return=i,V=c):fu(n);for(;l!==null;)V=l,i0(l),l=l.sibling;V=n,gn=o,Ue=d}pu(t)}else n.subtreeFlags&8772&&l!==null?(l.return=n,V=l):pu(t)}}function pu(t){for(;V!==null;){var s=V;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ue||Cl(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!Ue)if(r===null)a.componentDidMount();else{var n=s.elementType===s.type?r.memoizedProps:jt(s.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&Zd(s,l,a);break;case 3:var i=s.updateQueue;if(i!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Zd(s,i,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&ka(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ue||s.flags&512&&go(s)}catch(g){ye(s,s.return,g)}}if(s===t){V=null;break}if(r=s.sibling,r!==null){r.return=s.return,V=r;break}V=s.return}}function gu(t){for(;V!==null;){var s=V;if(s===t){V=null;break}var r=s.sibling;if(r!==null){r.return=s.return,V=r;break}V=s.return}}function fu(t){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Cl(4,s)}catch(c){ye(s,r,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var n=s.return;try{a.componentDidMount()}catch(c){ye(s,n,c)}}var l=s.return;try{go(s)}catch(c){ye(s,l,c)}break;case 5:var i=s.return;try{go(s)}catch(c){ye(s,i,c)}}}catch(c){ye(s,s.return,c)}if(s===t){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}var Sg=Math.ceil,il=Xt.ReactCurrentDispatcher,bc=Xt.ReactCurrentOwner,xt=Xt.ReactCurrentBatchConfig,te=0,Pe=null,we=null,Oe=0,st=0,gr=_s(0),Ce=0,Oa=null,Ws=0,El=0,vc=0,fa=null,Ke=null,Nc=0,Pr=1/0,Ut=null,ol=!1,jo=null,xs=null,fn=!1,ls=null,cl=0,ya=0,bo=null,Tn=-1,Mn=0;function qe(){return te&6?je():Tn!==-1?Tn:Tn=je()}function hs(t){return t.mode&1?te&2&&Oe!==0?Oe&-Oe:cg.transition!==null?(Mn===0&&(Mn=qm()),Mn):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Xm(t.type)),t):1}function kt(t,s,r,a){if(50<ya)throw ya=0,bo=null,Error(U(185));Ha(t,r,a),(!(te&2)||t!==Pe)&&(t===Pe&&(!(te&2)&&(El|=r),Ce===4&&rs(t,Oe)),Ze(t,a),r===1&&te===0&&!(s.mode&1)&&(Pr=je()+500,kl&&Ss()))}function Ze(t,s){var r=t.callbackNode;cp(t,s);var a=Wn(t,t===Pe?Oe:0);if(a===0)r!==null&&Sd(r),t.callbackNode=null,t.callbackPriority=0;else if(s=a&-a,t.callbackPriority!==s){if(r!=null&&Sd(r),s===1)t.tag===0?og(yu.bind(null,t)):fx(yu.bind(null,t)),ag(function(){!(te&6)&&Ss()}),r=null;else{switch(Wm(a)){case 1:r=Qo;break;case 4:r=Hm;break;case 16:r=qn;break;case 536870912:r=Vm;break;default:r=qn}r=p0(r,o0.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function o0(t,s){if(Tn=-1,Mn=0,te&6)throw Error(U(327));var r=t.callbackNode;if(Nr()&&t.callbackNode!==r)return null;var a=Wn(t,t===Pe?Oe:0);if(a===0)return null;if(a&30||a&t.expiredLanes||s)s=dl(t,a);else{s=a;var n=te;te|=2;var l=d0();(Pe!==t||Oe!==s)&&(Ut=null,Pr=je()+500,Us(t,s));do try{Ag();break}catch(o){c0(t,o)}while(!0);ic(),il.current=l,te=n,we!==null?s=0:(Pe=null,Oe=0,s=Ce)}if(s!==0){if(s===2&&(n=Wi(t),n!==0&&(a=n,s=vo(t,n))),s===1)throw r=Oa,Us(t,0),rs(t,a),Ze(t,je()),r;if(s===6)rs(t,a);else{if(n=t.current.alternate,!(a&30)&&!Cg(n)&&(s=dl(t,a),s===2&&(l=Wi(t),l!==0&&(a=l,s=vo(t,l))),s===1))throw r=Oa,Us(t,0),rs(t,a),Ze(t,je()),r;switch(t.finishedWork=n,t.finishedLanes=a,s){case 0:case 1:throw Error(U(345));case 2:Ts(t,Ke,Ut);break;case 3:if(rs(t,a),(a&130023424)===a&&(s=Nc+500-je(),10<s)){if(Wn(t,0)!==0)break;if(n=t.suspendedLanes,(n&a)!==a){qe(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=eo(Ts.bind(null,t,Ke,Ut),s);break}Ts(t,Ke,Ut);break;case 4:if(rs(t,a),(a&4194240)===a)break;for(s=t.eventTimes,n=-1;0<a;){var i=31-wt(a);l=1<<i,i=s[i],i>n&&(n=i),a&=~l}if(a=n,a=je()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Sg(a/1960))-a,10<a){t.timeoutHandle=eo(Ts.bind(null,t,Ke,Ut),a);break}Ts(t,Ke,Ut);break;case 5:Ts(t,Ke,Ut);break;default:throw Error(U(329))}}}return Ze(t,je()),t.callbackNode===r?o0.bind(null,t):null}function vo(t,s){var r=fa;return t.current.memoizedState.isDehydrated&&(Us(t,s).flags|=256),t=dl(t,s),t!==2&&(s=Ke,Ke=r,s!==null&&No(s)),t}function No(t){Ke===null?Ke=t:Ke.push.apply(Ke,t)}function Cg(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],l=n.getSnapshot;n=n.value;try{if(!_t(l(),n))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rs(t,s){for(s&=~vc,s&=~El,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-wt(s),a=1<<r;t[r]=-1,s&=~a}}function yu(t){if(te&6)throw Error(U(327));Nr();var s=Wn(t,0);if(!(s&1))return Ze(t,je()),null;var r=dl(t,s);if(t.tag!==0&&r===2){var a=Wi(t);a!==0&&(s=a,r=vo(t,a))}if(r===1)throw r=Oa,Us(t,0),rs(t,s),Ze(t,je()),r;if(r===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Ts(t,Ke,Ut),Ze(t,je()),null}function wc(t,s){var r=te;te|=1;try{return t(s)}finally{te=r,te===0&&(Pr=je()+500,kl&&Ss())}}function Gs(t){ls!==null&&ls.tag===0&&!(te&6)&&Nr();var s=te;te|=1;var r=xt.transition,a=ae;try{if(xt.transition=null,ae=1,t)return t()}finally{ae=a,xt.transition=r,te=s,!(te&6)&&Ss()}}function kc(){st=gr.current,me(gr)}function Us(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,rg(r)),we!==null)for(r=we.return;r!==null;){var a=r;switch(ac(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Jn();break;case 3:Rr(),me(Je),me(He),xc();break;case 5:mc(a);break;case 4:Rr();break;case 13:me(pe);break;case 19:me(pe);break;case 10:oc(a.type._context);break;case 22:case 23:kc()}r=r.return}if(Pe=t,we=t=ps(t.current,null),Oe=st=s,Ce=0,Oa=null,vc=El=Ws=0,Ke=fa=null,Is!==null){for(s=0;s<Is.length;s++)if(r=Is[s],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,l=r.pending;if(l!==null){var i=l.next;l.next=n,a.next=i}r.pending=a}Is=null}return t}function c0(t,s){do{var r=we;try{if(ic(),Rn.current=ll,nl){for(var a=ge.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}nl=!1}if(qs=0,Ae=_e=ge=null,pa=!1,Pa=0,bc.current=null,r===null||r.return===null){Ce=1,Oa=s,we=null;break}e:{var l=t,i=r.return,o=r,c=s;if(s=Oe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var j=nu(i);if(j!==null){j.flags&=-257,lu(j,i,o,l,s),j.mode&1&&au(l,d,s),s=j,c=d;var f=s.updateQueue;if(f===null){var b=new Set;b.add(c),s.updateQueue=b}else f.add(c);break e}else{if(!(s&1)){au(l,d,s),_c();break e}c=Error(U(426))}}else if(xe&&o.mode&1){var _=nu(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),lu(_,i,o,l,s),nc(Lr(c,o));break e}}l=c=Lr(c,o),Ce!==4&&(Ce=2),fa===null?fa=[l]:fa.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var x=Wx(l,c,s);Xd(l,x);break e;case 1:o=c;var y=l.type,h=l.stateNode;if(!(l.flags&128)&&(typeof y.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(xs===null||!xs.has(h)))){l.flags|=65536,s&=-s,l.lanes|=s;var S=Gx(l,o,s);Xd(l,S);break e}}l=l.return}while(l!==null)}m0(r)}catch(v){s=v,we===r&&r!==null&&(we=r=r.return);continue}break}while(!0)}function d0(){var t=il.current;return il.current=ll,t===null?ll:t}function _c(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Pe===null||!(Ws&268435455)&&!(El&268435455)||rs(Pe,Oe)}function dl(t,s){var r=te;te|=2;var a=d0();(Pe!==t||Oe!==s)&&(Ut=null,Us(t,s));do try{Eg();break}catch(n){c0(t,n)}while(!0);if(ic(),te=r,il.current=a,we!==null)throw Error(U(261));return Pe=null,Oe=0,Ce}function Eg(){for(;we!==null;)u0(we)}function Ag(){for(;we!==null&&!ep();)u0(we)}function u0(t){var s=h0(t.alternate,t,st);t.memoizedProps=t.pendingProps,s===null?m0(t):we=s,bc.current=null}function m0(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=Ng(r,s),r!==null){r.flags&=32767,we=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ce=6,we=null;return}}else if(r=vg(r,s,st),r!==null){we=r;return}if(s=s.sibling,s!==null){we=s;return}we=s=t}while(s!==null);Ce===0&&(Ce=5)}function Ts(t,s,r){var a=ae,n=xt.transition;try{xt.transition=null,ae=1,Rg(t,s,r,a)}finally{xt.transition=n,ae=a}return null}function Rg(t,s,r,a){do Nr();while(ls!==null);if(te&6)throw Error(U(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var l=r.lanes|r.childLanes;if(dp(t,l),t===Pe&&(we=Pe=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fn||(fn=!0,p0(qn,function(){return Nr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=xt.transition,xt.transition=null;var i=ae;ae=1;var o=te;te|=4,bc.current=null,kg(t,r),l0(r,t),Yp(Xi),Gn=!!Ji,Xi=Ji=null,t.current=r,_g(r),tp(),te=o,ae=i,xt.transition=l}else t.current=r;if(fn&&(fn=!1,ls=t,cl=n),l=t.pendingLanes,l===0&&(xs=null),ap(r.stateNode),Ze(t,je()),s!==null)for(a=t.onRecoverableError,r=0;r<s.length;r++)n=s[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(ol)throw ol=!1,t=jo,jo=null,t;return cl&1&&t.tag!==0&&Nr(),l=t.pendingLanes,l&1?t===bo?ya++:(ya=0,bo=t):ya=0,Ss(),null}function Nr(){if(ls!==null){var t=Wm(cl),s=xt.transition,r=ae;try{if(xt.transition=null,ae=16>t?16:t,ls===null)var a=!1;else{if(t=ls,ls=null,cl=0,te&6)throw Error(U(331));var n=te;for(te|=4,V=t.current;V!==null;){var l=V,i=l.child;if(V.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(V=d;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:ga(8,u,l)}var m=u.child;if(m!==null)m.return=u,V=m;else for(;V!==null;){u=V;var g=u.sibling,j=u.return;if(r0(u),u===d){V=null;break}if(g!==null){g.return=j,V=g;break}V=j}}}var f=l.alternate;if(f!==null){var b=f.child;if(b!==null){f.child=null;do{var _=b.sibling;b.sibling=null,b=_}while(b!==null)}}V=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,V=i;else e:for(;V!==null;){if(l=V,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ga(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,V=x;break e}V=l.return}}var y=t.current;for(V=y;V!==null;){i=V;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,V=h;else e:for(i=y;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Cl(9,o)}}catch(v){ye(o,o.return,v)}if(o===i){V=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,V=S;break e}V=o.return}}if(te=n,Ss(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(jl,t)}catch{}a=!0}return a}finally{ae=r,xt.transition=s}}return!1}function ju(t,s,r){s=Lr(r,s),s=Wx(t,s,1),t=ms(t,s,1),s=qe(),t!==null&&(Ha(t,1,s),Ze(t,s))}function ye(t,s,r){if(t.tag===3)ju(t,t,r);else for(;s!==null;){if(s.tag===3){ju(s,t,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(xs===null||!xs.has(a))){t=Lr(r,t),t=Gx(s,t,1),s=ms(s,t,1),t=qe(),s!==null&&(Ha(s,1,t),Ze(s,t));break}}s=s.return}}function Lg(t,s,r){var a=t.pingCache;a!==null&&a.delete(s),s=qe(),t.pingedLanes|=t.suspendedLanes&r,Pe===t&&(Oe&r)===r&&(Ce===4||Ce===3&&(Oe&130023424)===Oe&&500>je()-Nc?Us(t,0):vc|=r),Ze(t,s)}function x0(t,s){s===0&&(t.mode&1?(s=ln,ln<<=1,!(ln&130023424)&&(ln=4194304)):s=1);var r=qe();t=Qt(t,s),t!==null&&(Ha(t,s,r),Ze(t,r))}function Pg(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),x0(t,r)}function Tg(t,s){var r=0;switch(t.tag){case 13:var a=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(U(314))}a!==null&&a.delete(s),x0(t,r)}var h0;h0=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||Je.current)Ye=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return Ye=!1,bg(t,s,r);Ye=!!(t.flags&131072)}else Ye=!1,xe&&s.flags&1048576&&yx(s,el,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;Pn(t,s),t=s.pendingProps;var n=Cr(s,He.current);vr(s,r),n=pc(null,s,a,t,n,r);var l=gc();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xe(a)?(l=!0,Xn(s)):l=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,dc(s),n.updater=Sl,s.stateNode=n,n._reactInternals=s,io(s,a,t,r),s=uo(null,s,a,!0,l,r)):(s.tag=0,xe&&l&&rc(s),Ve(null,s,n,r),s=s.child),s;case 16:a=s.elementType;e:{switch(Pn(t,s),t=s.pendingProps,n=a._init,a=n(a._payload),s.type=a,n=s.tag=Og(a),t=jt(a,t),n){case 0:s=co(null,s,a,t,r);break e;case 1:s=cu(null,s,a,t,r);break e;case 11:s=iu(null,s,a,t,r);break e;case 14:s=ou(null,s,a,jt(a.type,t),r);break e}throw Error(U(306,a,""))}return s;case 0:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:jt(a,n),co(t,s,a,n,r);case 1:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:jt(a,n),cu(t,s,a,n,r);case 3:e:{if(Jx(s),t===null)throw Error(U(387));a=s.pendingProps,l=s.memoizedState,n=l.element,kx(t,s),rl(s,a,null,r);var i=s.memoizedState;if(a=i.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){n=Lr(Error(U(423)),s),s=du(t,s,a,r,n);break e}else if(a!==n){n=Lr(Error(U(424)),s),s=du(t,s,a,r,n);break e}else for(at=us(s.stateNode.containerInfo.firstChild),nt=s,xe=!0,vt=null,r=Nx(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Er(),a===n){s=Kt(t,s,r);break e}Ve(t,s,a,r)}s=s.child}return s;case 5:return _x(s),t===null&&ao(s),a=s.type,n=s.pendingProps,l=t!==null?t.memoizedProps:null,i=n.children,Zi(a,n)?i=null:l!==null&&Zi(a,l)&&(s.flags|=32),Yx(t,s),Ve(t,s,i,r),s.child;case 6:return t===null&&ao(s),null;case 13:return Xx(t,s,r);case 4:return uc(s,s.stateNode.containerInfo),a=s.pendingProps,t===null?s.child=Ar(s,null,a,r):Ve(t,s,a,r),s.child;case 11:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:jt(a,n),iu(t,s,a,n,r);case 7:return Ve(t,s,s.pendingProps,r),s.child;case 8:return Ve(t,s,s.pendingProps.children,r),s.child;case 12:return Ve(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,n=s.pendingProps,l=s.memoizedProps,i=n.value,le(tl,a._currentValue),a._currentValue=i,l!==null)if(_t(l.value,i)){if(l.children===n.children&&!Je.current){s=Kt(t,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(l.tag===1){c=Vt(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),no(l.return,r,s),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(U(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),no(i,r,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ve(t,s,n.children,r),s=s.child}return s;case 9:return n=s.type,a=s.pendingProps.children,vr(s,r),n=gt(n),a=a(n),s.flags|=1,Ve(t,s,a,r),s.child;case 14:return a=s.type,n=jt(a,s.pendingProps),n=jt(a.type,n),ou(t,s,a,n,r);case 15:return Qx(t,s,s.type,s.pendingProps,r);case 17:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:jt(a,n),Pn(t,s),s.tag=1,Xe(a)?(t=!0,Xn(s)):t=!1,vr(s,r),qx(s,a,n),io(s,a,n,r),uo(null,s,a,!0,t,r);case 19:return Zx(t,s,r);case 22:return Kx(t,s,r)}throw Error(U(156,s.tag))};function p0(t,s){return Bm(t,s)}function Mg(t,s,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(t,s,r,a){return new Mg(t,s,r,a)}function Sc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Og(t){if(typeof t=="function")return Sc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qo)return 11;if(t===Wo)return 14}return 2}function ps(t,s){var r=t.alternate;return r===null?(r=mt(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function On(t,s,r,a,n,l){var i=2;if(a=t,typeof t=="function")Sc(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case lr:return zs(r.children,n,l,s);case Vo:i=8,n|=8;break;case Li:return t=mt(12,r,s,n|2),t.elementType=Li,t.lanes=l,t;case Pi:return t=mt(13,r,s,n),t.elementType=Pi,t.lanes=l,t;case Ti:return t=mt(19,r,s,n),t.elementType=Ti,t.lanes=l,t;case _m:return Al(r,n,l,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wm:i=10;break e;case km:i=9;break e;case qo:i=11;break e;case Wo:i=14;break e;case es:i=16,a=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return s=mt(i,r,s,n),s.elementType=t,s.type=a,s.lanes=l,s}function zs(t,s,r,a){return t=mt(7,t,a,s),t.lanes=r,t}function Al(t,s,r,a){return t=mt(22,t,a,s),t.elementType=_m,t.lanes=r,t.stateNode={isHidden:!1},t}function pi(t,s,r){return t=mt(6,t,null,s),t.lanes=r,t}function gi(t,s,r){return s=mt(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Ig(t,s,r,a,n){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Cc(t,s,r,a,n,l,i,o,c){return t=new Ig(t,s,r,o,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=mt(3,null,null,s),t.current=l,l.stateNode=t,l.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dc(l),t}function $g(t,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nr,key:a==null?null:""+a,children:t,containerInfo:s,implementation:r}}function g0(t){if(!t)return ys;t=t._reactInternals;e:{if(Xs(t)!==t||t.tag!==1)throw Error(U(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xe(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(U(171))}if(t.tag===1){var r=t.type;if(Xe(r))return gx(t,r,s)}return s}function f0(t,s,r,a,n,l,i,o,c){return t=Cc(r,a,!0,t,n,l,i,o,c),t.context=g0(null),r=t.current,a=qe(),n=hs(r),l=Vt(a,n),l.callback=s??null,ms(r,l,n),t.current.lanes=n,Ha(t,n,a),Ze(t,a),t}function Rl(t,s,r,a){var n=s.current,l=qe(),i=hs(n);return r=g0(r),s.context===null?s.context=r:s.pendingContext=r,s=Vt(l,i),s.payload={element:t},a=a===void 0?null:a,a!==null&&(s.callback=a),t=ms(n,s,i),t!==null&&(kt(t,n,i,l),An(t,n,i)),i}function ul(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bu(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Ec(t,s){bu(t,s),(t=t.alternate)&&bu(t,s)}function Fg(){return null}var y0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ac(t){this._internalRoot=t}Ll.prototype.render=Ac.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(U(409));Rl(t,s,null,null)};Ll.prototype.unmount=Ac.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Gs(function(){Rl(null,t,null,null)}),s[Gt]=null}};function Ll(t){this._internalRoot=t}Ll.prototype.unstable_scheduleHydration=function(t){if(t){var s=Km();t={blockedOn:null,target:t,priority:s};for(var r=0;r<ss.length&&s!==0&&s<ss[r].priority;r++);ss.splice(r,0,t),r===0&&Jm(t)}};function Rc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vu(){}function Dg(t,s,r,a,n){if(n){if(typeof a=="function"){var l=a;a=function(){var d=ul(i);l.call(d)}}var i=f0(s,a,t,0,null,!1,!1,"",vu);return t._reactRootContainer=i,t[Gt]=i.current,Ca(t.nodeType===8?t.parentNode:t),Gs(),i}for(;n=t.lastChild;)t.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var d=ul(c);o.call(d)}}var c=Cc(t,0,!1,null,null,!1,!1,"",vu);return t._reactRootContainer=c,t[Gt]=c.current,Ca(t.nodeType===8?t.parentNode:t),Gs(function(){Rl(s,c,r,a)}),c}function Tl(t,s,r,a,n){var l=r._reactRootContainer;if(l){var i=l;if(typeof n=="function"){var o=n;n=function(){var c=ul(i);o.call(c)}}Rl(s,i,t,n)}else i=Dg(r,s,t,n,a);return ul(i)}Gm=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=la(s.pendingLanes);r!==0&&(Ko(s,r|1),Ze(s,je()),!(te&6)&&(Pr=je()+500,Ss()))}break;case 13:Gs(function(){var a=Qt(t,1);if(a!==null){var n=qe();kt(a,t,1,n)}}),Ec(t,1)}};Yo=function(t){if(t.tag===13){var s=Qt(t,134217728);if(s!==null){var r=qe();kt(s,t,134217728,r)}Ec(t,134217728)}};Qm=function(t){if(t.tag===13){var s=hs(t),r=Qt(t,s);if(r!==null){var a=qe();kt(r,t,s,a)}Ec(t,s)}};Km=function(){return ae};Ym=function(t,s){var r=ae;try{return ae=t,s()}finally{ae=r}};Hi=function(t,s,r){switch(s){case"input":if(Ii(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==t&&a.form===t.form){var n=wl(a);if(!n)throw Error(U(90));Cm(a),Ii(a,n)}}}break;case"textarea":Am(t,r);break;case"select":s=r.value,s!=null&&fr(t,!!r.multiple,s,!1)}};Im=wc;$m=Gs;var Ug={usingClientEntryPoint:!1,Events:[qa,dr,wl,Mm,Om,wc]},ea={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zg={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Um(t),t===null?null:t.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||Fg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yn.isDisabled&&yn.supportsFiber)try{jl=yn.inject(zg),Pt=yn}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ug;ot.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rc(s))throw Error(U(200));return $g(t,s,null,r)};ot.createRoot=function(t,s){if(!Rc(t))throw Error(U(299));var r=!1,a="",n=y0;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=Cc(t,1,!1,null,null,r,!1,a,n),t[Gt]=s.current,Ca(t.nodeType===8?t.parentNode:t),new Ac(s)};ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Um(s),t=t===null?null:t.stateNode,t};ot.flushSync=function(t){return Gs(t)};ot.hydrate=function(t,s,r){if(!Pl(s))throw Error(U(200));return Tl(null,t,s,!0,r)};ot.hydrateRoot=function(t,s,r){if(!Rc(t))throw Error(U(405));var a=r!=null&&r.hydratedSources||null,n=!1,l="",i=y0;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),s=f0(s,null,t,1,r??null,n,!1,l,i),t[Gt]=s.current,Ca(t),a)for(t=0;t<a.length;t++)r=a[t],n=r._getVersion,n=n(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,n]:s.mutableSourceEagerHydrationData.push(r,n);return new Ll(s)};ot.render=function(t,s,r){if(!Pl(s))throw Error(U(200));return Tl(null,t,s,!1,r)};ot.unmountComponentAtNode=function(t){if(!Pl(t))throw Error(U(40));return t._reactRootContainer?(Gs(function(){Tl(null,null,t,!1,function(){t._reactRootContainer=null,t[Gt]=null})}),!0):!1};ot.unstable_batchedUpdates=wc;ot.unstable_renderSubtreeIntoContainer=function(t,s,r,a){if(!Pl(r))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Tl(t,s,r,!1,a)};ot.version="18.3.1-next-f1338f8080-20240426";function j0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j0)}catch(t){console.error(t)}}j0(),jm.exports=ot;var Bg=jm.exports,Nu=Bg;Ai.createRoot=Nu.createRoot,Ai.hydrateRoot=Nu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ia.apply(this,arguments)}var is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(is||(is={}));const wu="popstate";function Hg(t){t===void 0&&(t={});function s(a,n){let{pathname:l,search:i,hash:o}=a.location;return wo("",{pathname:l,search:i,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:ml(n)}return qg(s,r,null,t)}function be(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Lc(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Vg(){return Math.random().toString(36).substr(2,8)}function ku(t,s){return{usr:t.state,key:t.key,idx:s}}function wo(t,s,r,a){return r===void 0&&(r=null),Ia({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Ur(s):s,{state:r,key:s&&s.key||a||Vg()})}function ml(t){let{pathname:s="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Ur(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function qg(t,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:l=!1}=a,i=n.history,o=is.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Ia({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function m(){o=is.Pop;let _=u(),x=_==null?null:_-d;d=_,c&&c({action:o,location:b.location,delta:x})}function g(_,x){o=is.Push;let y=wo(b.location,_,x);d=u()+1;let h=ku(y,d),S=b.createHref(y);try{i.pushState(h,"",S)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;n.location.assign(S)}l&&c&&c({action:o,location:b.location,delta:1})}function j(_,x){o=is.Replace;let y=wo(b.location,_,x);d=u();let h=ku(y,d),S=b.createHref(y);i.replaceState(h,"",S),l&&c&&c({action:o,location:b.location,delta:0})}function f(_){let x=n.location.origin!=="null"?n.location.origin:n.location.href,y=typeof _=="string"?_:ml(_);return y=y.replace(/ $/,"%20"),be(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let b={get action(){return o},get location(){return t(n,i)},listen(_){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(wu,m),c=_,()=>{n.removeEventListener(wu,m),c=null}},createHref(_){return s(n,_)},createURL:f,encodeLocation(_){let x=f(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:j,go(_){return i.go(_)}};return b}var _u;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_u||(_u={}));function Wg(t,s,r){return r===void 0&&(r="/"),Gg(t,s,r)}function Gg(t,s,r,a){let n=typeof s=="string"?Ur(s):s,l=Pc(n.pathname||"/",r);if(l==null)return null;let i=b0(t);Qg(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=lf(l);o=rf(i[c],d)}return o}function b0(t,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(be(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=gs([a,c.relativePath]),u=r.concat(c);l.children&&l.children.length>0&&(be(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),b0(l.children,s,u,d)),!(l.path==null&&!l.index)&&s.push({path:d,score:tf(d,l.index),routesMeta:u})};return t.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))n(l,i);else for(let c of v0(l.path))n(l,i,c)}),s}function v0(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return n?[l,""]:[l];let i=v0(a.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),n&&o.push(...i),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Qg(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:sf(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Kg=/^:[\w-]+$/,Yg=3,Jg=2,Xg=1,Zg=10,ef=-2,Su=t=>t==="*";function tf(t,s){let r=t.split("/"),a=r.length;return r.some(Su)&&(a+=ef),s&&(a+=Jg),r.filter(n=>!Su(n)).reduce((n,l)=>n+(Kg.test(l)?Yg:l===""?Xg:Zg),a)}function sf(t,s){return t.length===s.length&&t.slice(0,-1).every((a,n)=>a===s[n])?t[t.length-1]-s[s.length-1]:0}function rf(t,s,r){let{routesMeta:a}=t,n={},l="/",i=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,u=l==="/"?s:s.slice(l.length)||"/",m=af({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),g=c.route;if(!m)return null;Object.assign(n,m.params),i.push({params:n,pathname:gs([l,m.pathname]),pathnameBase:mf(gs([l,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(l=gs([l,m.pathnameBase]))}return i}function af(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=nf(t.path,t.caseSensitive,t.end),n=s.match(r);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,u,m)=>{let{paramName:g,isOptional:j}=u;if(g==="*"){let b=o[m]||"";i=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const f=o[m];return j&&!f?d[g]=void 0:d[g]=(f||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:t}}function nf(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Lc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function lf(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Lc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Pc(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}const of=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cf=t=>of.test(t);function df(t,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof t=="string"?Ur(t):t,l;if(r)if(cf(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Lc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?l=Cu(r.substring(1),"/"):l=Cu(r,s)}else l=s;return{pathname:l,search:xf(a),hash:hf(n)}}function Cu(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function fi(t,s,r,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uf(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Tc(t,s){let r=uf(t);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Mc(t,s,r,a){a===void 0&&(a=!1);let n;typeof t=="string"?n=Ur(t):(n=Ia({},t),be(!n.pathname||!n.pathname.includes("?"),fi("?","pathname","search",n)),be(!n.pathname||!n.pathname.includes("#"),fi("#","pathname","hash",n)),be(!n.search||!n.search.includes("#"),fi("#","search","hash",n)));let l=t===""||n.pathname==="",i=l?"/":n.pathname,o;if(i==null)o=r;else{let m=s.length-1;if(!a&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),m-=1;n.pathname=g.join("/")}o=m>=0?s[m]:"/"}let c=df(n,o),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const gs=t=>t.join("/").replace(/\/\/+/g,"/"),mf=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xf=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hf=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const N0=["post","put","patch","delete"];new Set(N0);const gf=["get",...N0];new Set(gf);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},$a.apply(this,arguments)}const Oc=p.createContext(null),ff=p.createContext(null),Cs=p.createContext(null),Ml=p.createContext(null),Es=p.createContext({outlet:null,matches:[],isDataRoute:!1}),w0=p.createContext(null);function yf(t,s){let{relative:r}=s===void 0?{}:s;zr()||be(!1);let{basename:a,navigator:n}=p.useContext(Cs),{hash:l,pathname:i,search:o}=_0(t,{relative:r}),c=i;return a!=="/"&&(c=i==="/"?a:gs([a,i])),n.createHref({pathname:c,search:o,hash:l})}function zr(){return p.useContext(Ml)!=null}function Zs(){return zr()||be(!1),p.useContext(Ml).location}function k0(t){p.useContext(Cs).static||p.useLayoutEffect(t)}function er(){let{isDataRoute:t}=p.useContext(Es);return t?Lf():jf()}function jf(){zr()||be(!1);let t=p.useContext(Oc),{basename:s,future:r,navigator:a}=p.useContext(Cs),{matches:n}=p.useContext(Es),{pathname:l}=Zs(),i=JSON.stringify(Tc(n,r.v7_relativeSplatPath)),o=p.useRef(!1);return k0(()=>{o.current=!0}),p.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){a.go(d);return}let m=Mc(d,JSON.parse(i),l,u.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:gs([s,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[s,a,i,l,t])}function _0(t,s){let{relative:r}=s===void 0?{}:s,{future:a}=p.useContext(Cs),{matches:n}=p.useContext(Es),{pathname:l}=Zs(),i=JSON.stringify(Tc(n,a.v7_relativeSplatPath));return p.useMemo(()=>Mc(t,JSON.parse(i),l,r==="path"),[t,i,l,r])}function bf(t,s){return vf(t,s)}function vf(t,s,r,a){zr()||be(!1);let{navigator:n}=p.useContext(Cs),{matches:l}=p.useContext(Es),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Zs(),u;if(s){var m;let _=typeof s=="string"?Ur(s):s;c==="/"||(m=_.pathname)!=null&&m.startsWith(c)||be(!1),u=_}else u=d;let g=u.pathname||"/",j=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");j="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let f=Wg(t,{pathname:j}),b=Sf(f&&f.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:gs([c,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:gs([c,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,r,a);return s&&b?p.createElement(Ml.Provider,{value:{location:$a({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:is.Pop}},b):b}function Nf(){let t=Rf(),s=pf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},s),r?p.createElement("pre",{style:n},r):null,null)}const wf=p.createElement(Nf,null);class kf extends p.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?p.createElement(Es.Provider,{value:this.props.routeContext},p.createElement(w0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _f(t){let{routeContext:s,match:r,children:a}=t,n=p.useContext(Oc);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Es.Provider,{value:s},a)}function Sf(t,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=a)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let u=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||be(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:g,errors:j}=r,f=m.route.loader&&g[m.route.id]===void 0&&(!j||j[m.route.id]===void 0);if(m.route.lazy||f){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,m,g)=>{let j,f=!1,b=null,_=null;r&&(j=o&&m.route.id?o[m.route.id]:void 0,b=m.route.errorElement||wf,c&&(d<0&&g===0?(Pf("route-fallback"),f=!0,_=null):d===g&&(f=!0,_=m.route.hydrateFallbackElement||null)));let x=s.concat(i.slice(0,g+1)),y=()=>{let h;return j?h=b:f?h=_:m.route.Component?h=p.createElement(m.route.Component,null):m.route.element?h=m.route.element:h=u,p.createElement(_f,{match:m,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:h})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?p.createElement(kf,{location:r.location,revalidation:r.revalidation,component:b,error:j,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var S0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(S0||{}),C0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(C0||{});function Cf(t){let s=p.useContext(Oc);return s||be(!1),s}function Ef(t){let s=p.useContext(ff);return s||be(!1),s}function Af(t){let s=p.useContext(Es);return s||be(!1),s}function E0(t){let s=Af(),r=s.matches[s.matches.length-1];return r.route.id||be(!1),r.route.id}function Rf(){var t;let s=p.useContext(w0),r=Ef(),a=E0();return s!==void 0?s:(t=r.errors)==null?void 0:t[a]}function Lf(){let{router:t}=Cf(S0.UseNavigateStable),s=E0(C0.UseNavigateStable),r=p.useRef(!1);return k0(()=>{r.current=!0}),p.useCallback(function(n,l){l===void 0&&(l={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,$a({fromRouteId:s},l)))},[t,s])}const Eu={};function Pf(t,s,r){Eu[t]||(Eu[t]=!0)}function Tf(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ko(t){let{to:s,replace:r,state:a,relative:n}=t;zr()||be(!1);let{future:l,static:i}=p.useContext(Cs),{matches:o}=p.useContext(Es),{pathname:c}=Zs(),d=er(),u=Mc(s,Tc(o,l.v7_relativeSplatPath),c,n==="path"),m=JSON.stringify(u);return p.useEffect(()=>d(JSON.parse(m),{replace:r,state:a,relative:n}),[d,m,n,r,a]),null}function se(t){be(!1)}function Mf(t){let{basename:s="/",children:r=null,location:a,navigationType:n=is.Pop,navigator:l,static:i=!1,future:o}=t;zr()&&be(!1);let c=s.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:l,static:i,future:$a({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof a=="string"&&(a=Ur(a));let{pathname:u="/",search:m="",hash:g="",state:j=null,key:f="default"}=a,b=p.useMemo(()=>{let _=Pc(u,c);return _==null?null:{location:{pathname:_,search:m,hash:g,state:j,key:f},navigationType:n}},[c,u,m,g,j,f,n]);return b==null?null:p.createElement(Cs.Provider,{value:d},p.createElement(Ml.Provider,{children:r,value:b}))}function Of(t){let{children:s,location:r}=t;return bf(_o(s),r)}new Promise(()=>{});function _o(t,s){s===void 0&&(s=[]);let r=[];return p.Children.forEach(t,(a,n)=>{if(!p.isValidElement(a))return;let l=[...s,n];if(a.type===p.Fragment){r.push.apply(r,_o(a.props.children,l));return}a.type!==se&&be(!1),!a.props.index||!a.props.children||be(!1);let i={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=_o(a.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function So(){return So=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},So.apply(this,arguments)}function If(t,s){if(t==null)return{};var r={},a=Object.keys(t),n,l;for(l=0;l<a.length;l++)n=a[l],!(s.indexOf(n)>=0)&&(r[n]=t[n]);return r}function $f(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ff(t,s){return t.button===0&&(!s||s==="_self")&&!$f(t)}function Co(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let a=t[r];return s.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function Df(t,s){let r=Co(t);return s&&s.forEach((a,n)=>{r.has(n)||s.getAll(n).forEach(l=>{r.append(n,l)})}),r}const Uf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zf="6";try{window.__reactRouterVersion=zf}catch{}const Bf="startTransition",Au=Lh[Bf];function Hf(t){let{basename:s,children:r,future:a,window:n}=t,l=p.useRef();l.current==null&&(l.current=Hg({window:n,v5Compat:!0}));let i=l.current,[o,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:d}=a||{},u=p.useCallback(m=>{d&&Au?Au(()=>c(m)):c(m)},[c,d]);return p.useLayoutEffect(()=>i.listen(u),[i,u]),p.useEffect(()=>Tf(a),[a]),p.createElement(Mf,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:i,future:a})}const Vf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=p.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:m}=s,g=If(s,Uf),{basename:j}=p.useContext(Cs),f,b=!1;if(typeof d=="string"&&qf.test(d)&&(f=d,Vf))try{let h=new URL(window.location.href),S=d.startsWith("//")?new URL(h.protocol+d):new URL(d),v=Pc(S.pathname,j);S.origin===h.origin&&v!=null?d=v+S.search+S.hash:b=!0}catch{}let _=yf(d,{relative:n}),x=Wf(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:n,viewTransition:m});function y(h){a&&a(h),h.defaultPrevented||x(h)}return p.createElement("a",So({},g,{href:f||_,onClick:b||l?a:y,ref:r,target:c}))});var Ru;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ru||(Ru={}));var Lu;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lu||(Lu={}));function Wf(t,s){let{target:r,replace:a,state:n,preventScrollReset:l,relative:i,viewTransition:o}=s===void 0?{}:s,c=er(),d=Zs(),u=_0(t,{relative:i});return p.useCallback(m=>{if(Ff(m,r)){m.preventDefault();let g=a!==void 0?a:ml(d)===ml(u);c(t,{replace:g,state:n,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,a,n,r,t,l,i,o])}function A0(t){let s=p.useRef(Co(t)),r=p.useRef(!1),a=Zs(),n=p.useMemo(()=>Df(a.search,r.current?null:s.current),[a.search]),l=er(),i=p.useCallback((o,c)=>{const d=Co(typeof o=="function"?o(n):o);r.current=!0,l("?"+d,c)},[l,n]);return[n,i]}function R0(t,s){return function(){return t.apply(s,arguments)}}const{toString:Gf}=Object.prototype,{getPrototypeOf:Ic}=Object,{iterator:Ol,toStringTag:L0}=Symbol,Il=(t=>s=>{const r=Gf.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),St=t=>(t=t.toLowerCase(),s=>Il(s)===t),$l=t=>s=>typeof s===t,{isArray:Br}=Array,Tr=$l("undefined");function Ga(t){return t!==null&&!Tr(t)&&t.constructor!==null&&!Tr(t.constructor)&&et(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const P0=St("ArrayBuffer");function Qf(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&P0(t.buffer),s}const Kf=$l("string"),et=$l("function"),T0=$l("number"),Qa=t=>t!==null&&typeof t=="object",Yf=t=>t===!0||t===!1,In=t=>{if(Il(t)!=="object")return!1;const s=Ic(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(L0 in t)&&!(Ol in t)},Jf=t=>{if(!Qa(t)||Ga(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Xf=St("Date"),Zf=St("File"),ey=St("Blob"),ty=St("FileList"),sy=t=>Qa(t)&&et(t.pipe),ry=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||et(t.append)&&((s=Il(t))==="formdata"||s==="object"&&et(t.toString)&&t.toString()==="[object FormData]"))},ay=St("URLSearchParams"),[ny,ly,iy,oy]=["ReadableStream","Request","Response","Headers"].map(St),cy=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ka(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),Br(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{if(Ga(t))return;const l=r?Object.getOwnPropertyNames(t):Object.keys(t),i=l.length;let o;for(a=0;a<i;a++)o=l[a],s.call(null,t[o],o,t)}}function M0(t,s){if(Ga(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,O0=t=>!Tr(t)&&t!==Fs;function Eo(){const{caseless:t,skipUndefined:s}=O0(this)&&this||{},r={},a=(n,l)=>{const i=t&&M0(r,l)||l;In(r[i])&&In(n)?r[i]=Eo(r[i],n):In(n)?r[i]=Eo({},n):Br(n)?r[i]=n.slice():(!s||!Tr(n))&&(r[i]=n)};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&Ka(arguments[n],a);return r}const dy=(t,s,r,{allOwnKeys:a}={})=>(Ka(s,(n,l)=>{r&&et(n)?t[l]=R0(n,r):t[l]=n},{allOwnKeys:a}),t),uy=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),my=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},xy=(t,s,r,a)=>{let n,l,i;const o={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),l=n.length;l-- >0;)i=n[l],(!a||a(i,t,s))&&!o[i]&&(s[i]=t[i],o[i]=!0);t=r!==!1&&Ic(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},hy=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},py=t=>{if(!t)return null;if(Br(t))return t;let s=t.length;if(!T0(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},gy=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Ic(Uint8Array)),fy=(t,s)=>{const a=(t&&t[Ol]).call(t);let n;for(;(n=a.next())&&!n.done;){const l=n.value;s.call(t,l[0],l[1])}},yy=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},jy=St("HTMLFormElement"),by=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Pu=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),vy=St("RegExp"),I0=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};Ka(r,(n,l)=>{let i;(i=s(n,l,t))!==!1&&(a[l]=i||n)}),Object.defineProperties(t,a)},Ny=t=>{I0(t,(s,r)=>{if(et(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(et(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},wy=(t,s)=>{const r={},a=n=>{n.forEach(l=>{r[l]=!0})};return Br(t)?a(t):a(String(t).split(s)),r},ky=()=>{},_y=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Sy(t){return!!(t&&et(t.append)&&t[L0]==="FormData"&&t[Ol])}const Cy=t=>{const s=new Array(10),r=(a,n)=>{if(Qa(a)){if(s.indexOf(a)>=0)return;if(Ga(a))return a;if(!("toJSON"in a)){s[n]=a;const l=Br(a)?[]:{};return Ka(a,(i,o)=>{const c=r(i,n+1);!Tr(c)&&(l[o]=c)}),s[n]=void 0,l}}return a};return r(t,0)},Ey=St("AsyncFunction"),Ay=t=>t&&(Qa(t)||et(t))&&et(t.then)&&et(t.catch),$0=((t,s)=>t?setImmediate:s?((r,a)=>(Fs.addEventListener("message",({source:n,data:l})=>{n===Fs&&l===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Fs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",et(Fs.postMessage)),Ry=typeof queueMicrotask<"u"?queueMicrotask.bind(Fs):typeof process<"u"&&process.nextTick||$0,Ly=t=>t!=null&&et(t[Ol]),T={isArray:Br,isArrayBuffer:P0,isBuffer:Ga,isFormData:ry,isArrayBufferView:Qf,isString:Kf,isNumber:T0,isBoolean:Yf,isObject:Qa,isPlainObject:In,isEmptyObject:Jf,isReadableStream:ny,isRequest:ly,isResponse:iy,isHeaders:oy,isUndefined:Tr,isDate:Xf,isFile:Zf,isBlob:ey,isRegExp:vy,isFunction:et,isStream:sy,isURLSearchParams:ay,isTypedArray:gy,isFileList:ty,forEach:Ka,merge:Eo,extend:dy,trim:cy,stripBOM:uy,inherits:my,toFlatObject:xy,kindOf:Il,kindOfTest:St,endsWith:hy,toArray:py,forEachEntry:fy,matchAll:yy,isHTMLForm:jy,hasOwnProperty:Pu,hasOwnProp:Pu,reduceDescriptors:I0,freezeMethods:Ny,toObjectSet:wy,toCamelCase:by,noop:ky,toFiniteNumber:_y,findKey:M0,global:Fs,isContextDefined:O0,isSpecCompliantForm:Sy,toJSONObject:Cy,isAsyncFn:Ey,isThenable:Ay,setImmediate:$0,asap:Ry,isIterable:Ly};function Y(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}T.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const F0=Y.prototype,D0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{D0[t]={value:t}});Object.defineProperties(Y,D0);Object.defineProperty(F0,"isAxiosError",{value:!0});Y.from=(t,s,r,a,n,l)=>{const i=Object.create(F0);T.toFlatObject(t,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return Y.call(i,o,c,r,a,n),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",l&&Object.assign(i,l),i};const Py=null;function Ao(t){return T.isPlainObject(t)||T.isArray(t)}function U0(t){return T.endsWith(t,"[]")?t.slice(0,-2):t}function Tu(t,s,r){return t?t.concat(s).map(function(n,l){return n=U0(n),!r&&l?"["+n+"]":n}).join(r?".":""):s}function Ty(t){return T.isArray(t)&&!t.some(Ao)}const My=T.toFlatObject(T,{},null,function(s){return/^is[A-Z]/.test(s)});function Fl(t,s,r){if(!T.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,_){return!T.isUndefined(_[b])});const a=r.metaTokens,n=r.visitor||u,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(s);if(!T.isFunction(n))throw new TypeError("visitor must be a function");function d(f){if(f===null)return"";if(T.isDate(f))return f.toISOString();if(T.isBoolean(f))return f.toString();if(!c&&T.isBlob(f))throw new Y("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(f)||T.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,b,_){let x=f;if(f&&!_&&typeof f=="object"){if(T.endsWith(b,"{}"))b=a?b:b.slice(0,-2),f=JSON.stringify(f);else if(T.isArray(f)&&Ty(f)||(T.isFileList(f)||T.endsWith(b,"[]"))&&(x=T.toArray(f)))return b=U0(b),x.forEach(function(h,S){!(T.isUndefined(h)||h===null)&&s.append(i===!0?Tu([b],S,l):i===null?b:b+"[]",d(h))}),!1}return Ao(f)?!0:(s.append(Tu(_,b,l),d(f)),!1)}const m=[],g=Object.assign(My,{defaultVisitor:u,convertValue:d,isVisitable:Ao});function j(f,b){if(!T.isUndefined(f)){if(m.indexOf(f)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(f),T.forEach(f,function(x,y){(!(T.isUndefined(x)||x===null)&&n.call(s,x,T.isString(y)?y.trim():y,b,g))===!0&&j(x,b?b.concat(y):[y])}),m.pop()}}if(!T.isObject(t))throw new TypeError("data must be an object");return j(t),s}function Mu(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function $c(t,s){this._pairs=[],t&&Fl(t,this,s)}const z0=$c.prototype;z0.append=function(s,r){this._pairs.push([s,r])};z0.toString=function(s){const r=s?function(a){return s.call(this,a,Mu)}:Mu;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Oy(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function B0(t,s,r){if(!s)return t;const a=r&&r.encode||Oy;T.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let l;if(n?l=n(s,r):l=T.isURLSearchParams(s)?s.toString():new $c(s,r).toString(a),l){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Ou{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){T.forEach(this.handlers,function(a){a!==null&&s(a)})}}const H0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Iy=typeof URLSearchParams<"u"?URLSearchParams:$c,$y=typeof FormData<"u"?FormData:null,Fy=typeof Blob<"u"?Blob:null,Dy={isBrowser:!0,classes:{URLSearchParams:Iy,FormData:$y,Blob:Fy},protocols:["http","https","file","blob","url","data"]},Fc=typeof window<"u"&&typeof document<"u",Ro=typeof navigator=="object"&&navigator||void 0,Uy=Fc&&(!Ro||["ReactNative","NativeScript","NS"].indexOf(Ro.product)<0),zy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",By=Fc&&window.location.href||"http://localhost",Hy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fc,hasStandardBrowserEnv:Uy,hasStandardBrowserWebWorkerEnv:zy,navigator:Ro,origin:By},Symbol.toStringTag,{value:"Module"})),ze={...Hy,...Dy};function Vy(t,s){return Fl(t,new ze.classes.URLSearchParams,{visitor:function(r,a,n,l){return ze.isNode&&T.isBuffer(r)?(this.append(a,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...s})}function qy(t){return T.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Wy(t){const s={},r=Object.keys(t);let a;const n=r.length;let l;for(a=0;a<n;a++)l=r[a],s[l]=t[l];return s}function V0(t){function s(r,a,n,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&T.isArray(n)?n.length:i,c?(T.hasOwnProp(n,i)?n[i]=[n[i],a]:n[i]=a,!o):((!n[i]||!T.isObject(n[i]))&&(n[i]=[]),s(r,a,n[i],l)&&T.isArray(n[i])&&(n[i]=Wy(n[i])),!o)}if(T.isFormData(t)&&T.isFunction(t.entries)){const r={};return T.forEachEntry(t,(a,n)=>{s(qy(a),n,r,0)}),r}return null}function Gy(t,s,r){if(T.isString(t))try{return(s||JSON.parse)(t),T.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const Ya={transitional:H0,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,l=T.isObject(s);if(l&&T.isHTMLForm(s)&&(s=new FormData(s)),T.isFormData(s))return n?JSON.stringify(V0(s)):s;if(T.isArrayBuffer(s)||T.isBuffer(s)||T.isStream(s)||T.isFile(s)||T.isBlob(s)||T.isReadableStream(s))return s;if(T.isArrayBufferView(s))return s.buffer;if(T.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Vy(s,this.formSerializer).toString();if((o=T.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Fl(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return l||n?(r.setContentType("application/json",!1),Gy(s)):s}],transformResponse:[function(s){const r=this.transitional||Ya.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(T.isResponse(s)||T.isReadableStream(s))return s;if(s&&T.isString(s)&&(a&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?Y.from(o,Y.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ze.classes.FormData,Blob:ze.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],t=>{Ya.headers[t]={}});const Qy=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ky=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),a=i.substring(n+1).trim(),!(!r||s[r]&&Qy[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Iu=Symbol("internals");function ta(t){return t&&String(t).trim().toLowerCase()}function $n(t){return t===!1||t==null?t:T.isArray(t)?t.map($n):String(t)}function Yy(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const Jy=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yi(t,s,r,a,n){if(T.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!T.isString(s)){if(T.isString(a))return s.indexOf(a)!==-1;if(T.isRegExp(a))return a.test(s)}}function Xy(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function Zy(t,s){const r=T.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,l,i){return this[a].call(this,s,n,l,i)},configurable:!0})})}let tt=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function l(o,c,d){const u=ta(c);if(!u)throw new Error("header name must be a non-empty string");const m=T.findKey(n,u);(!m||n[m]===void 0||d===!0||d===void 0&&n[m]!==!1)&&(n[m||c]=$n(o))}const i=(o,c)=>T.forEach(o,(d,u)=>l(d,u,c));if(T.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(T.isString(s)&&(s=s.trim())&&!Jy(s))i(Ky(s),r);else if(T.isObject(s)&&T.isIterable(s)){let o={},c,d;for(const u of s){if(!T.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?T.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(o,r)}else s!=null&&l(r,s,a);return this}get(s,r){if(s=ta(s),s){const a=T.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return Yy(n);if(T.isFunction(r))return r.call(this,n,a);if(T.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=ta(s),s){const a=T.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||yi(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function l(i){if(i=ta(i),i){const o=T.findKey(a,i);o&&(!r||yi(a,a[o],o,r))&&(delete a[o],n=!0)}}return T.isArray(s)?s.forEach(l):l(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const l=r[a];(!s||yi(this,this[l],l,s,!0))&&(delete this[l],n=!0)}return n}normalize(s){const r=this,a={};return T.forEach(this,(n,l)=>{const i=T.findKey(a,l);if(i){r[i]=$n(n),delete r[l];return}const o=s?Xy(l):String(l).trim();o!==l&&delete r[l],r[o]=$n(n),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return T.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&T.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Iu]=this[Iu]={accessors:{}}).accessors,n=this.prototype;function l(i){const o=ta(i);a[o]||(Zy(n,i),a[o]=!0)}return T.isArray(s)?s.forEach(l):l(s),this}};tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(tt.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});T.freezeMethods(tt);function ji(t,s){const r=this||Ya,a=s||r,n=tt.from(a.headers);let l=a.data;return T.forEach(t,function(o){l=o.call(r,l,n.normalize(),s?s.status:void 0)}),n.normalize(),l}function q0(t){return!!(t&&t.__CANCEL__)}function Hr(t,s,r){Y.call(this,t??"canceled",Y.ERR_CANCELED,s,r),this.name="CanceledError"}T.inherits(Hr,Y,{__CANCEL__:!0});function W0(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new Y("Request failed with status code "+r.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ej(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function tj(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,l=0,i;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),u=a[l];i||(i=d),r[n]=c,a[n]=d;let m=l,g=0;for(;m!==n;)g+=r[m++],m=m%t;if(n=(n+1)%t,n===l&&(l=(l+1)%t),d-i<s)return;const j=u&&d-u;return j?Math.round(g*1e3/j):void 0}}function sj(t,s){let r=0,a=1e3/s,n,l;const i=(d,u=Date.now())=>{r=u,n=null,l&&(clearTimeout(l),l=null),t(...d)};return[(...d)=>{const u=Date.now(),m=u-r;m>=a?i(d,u):(n=d,l||(l=setTimeout(()=>{l=null,i(n)},a-m)))},()=>n&&i(n)]}const xl=(t,s,r=3)=>{let a=0;const n=tj(50,250);return sj(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-a,d=n(c),u=i<=o;a=i;const m={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(m)},r)},$u=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},Fu=t=>(...s)=>T.asap(()=>t(...s)),rj=ze.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,ze.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(ze.origin),ze.navigator&&/(msie|trident)/i.test(ze.navigator.userAgent)):()=>!0,aj=ze.hasStandardBrowserEnv?{write(t,s,r,a,n,l,i){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(s)}`];T.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),T.isString(a)&&o.push(`path=${a}`),T.isString(n)&&o.push(`domain=${n}`),l===!0&&o.push("secure"),T.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lj(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function G0(t,s,r){let a=!nj(s);return t&&(a||r==!1)?lj(t,s):s}const Du=t=>t instanceof tt?{...t}:t;function Qs(t,s){s=s||{};const r={};function a(d,u,m,g){return T.isPlainObject(d)&&T.isPlainObject(u)?T.merge.call({caseless:g},d,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function n(d,u,m,g){if(T.isUndefined(u)){if(!T.isUndefined(d))return a(void 0,d,m,g)}else return a(d,u,m,g)}function l(d,u){if(!T.isUndefined(u))return a(void 0,u)}function i(d,u){if(T.isUndefined(u)){if(!T.isUndefined(d))return a(void 0,d)}else return a(void 0,u)}function o(d,u,m){if(m in s)return a(d,u);if(m in t)return a(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,u,m)=>n(Du(d),Du(u),m,!0)};return T.forEach(Object.keys({...t,...s}),function(u){const m=c[u]||n,g=m(t[u],s[u],u);T.isUndefined(g)&&m!==o||(r[u]=g)}),r}const Q0=t=>{const s=Qs({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:l,headers:i,auth:o}=s;if(s.headers=i=tt.from(i),s.url=B0(G0(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),T.isFormData(r)){if(ze.hasStandardBrowserEnv||ze.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(T.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&i.set(u,m)})}}if(ze.hasStandardBrowserEnv&&(a&&T.isFunction(a)&&(a=a(s)),a||a!==!1&&rj(s.url))){const c=n&&l&&aj.read(l);c&&i.set(n,c)}return s},ij=typeof XMLHttpRequest<"u",oj=ij&&function(t){return new Promise(function(r,a){const n=Q0(t);let l=n.data;const i=tt.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,u,m,g,j,f;function b(){j&&j(),f&&f(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let _=new XMLHttpRequest;_.open(n.method.toUpperCase(),n.url,!0),_.timeout=n.timeout;function x(){if(!_)return;const h=tt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),v={data:!o||o==="text"||o==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:h,config:t,request:_};W0(function(w){r(w),b()},function(w){a(w),b()},v),_=null}"onloadend"in _?_.onloadend=x:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(x)},_.onabort=function(){_&&(a(new Y("Request aborted",Y.ECONNABORTED,t,_)),_=null)},_.onerror=function(S){const v=S&&S.message?S.message:"Network Error",N=new Y(v,Y.ERR_NETWORK,t,_);N.event=S||null,a(N),_=null},_.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const v=n.transitional||H0;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),a(new Y(S,v.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,t,_)),_=null},l===void 0&&i.setContentType(null),"setRequestHeader"in _&&T.forEach(i.toJSON(),function(S,v){_.setRequestHeader(v,S)}),T.isUndefined(n.withCredentials)||(_.withCredentials=!!n.withCredentials),o&&o!=="json"&&(_.responseType=n.responseType),d&&([g,f]=xl(d,!0),_.addEventListener("progress",g)),c&&_.upload&&([m,j]=xl(c),_.upload.addEventListener("progress",m),_.upload.addEventListener("loadend",j)),(n.cancelToken||n.signal)&&(u=h=>{_&&(a(!h||h.type?new Hr(null,t,_):h),_.abort(),_=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const y=ej(n.url);if(y&&ze.protocols.indexOf(y)===-1){a(new Y("Unsupported protocol "+y+":",Y.ERR_BAD_REQUEST,t));return}_.send(l||null)})},cj=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const l=function(d){if(!n){n=!0,o();const u=d instanceof Error?d:this.reason;a.abort(u instanceof Y?u:new Hr(u instanceof Error?u.message:u))}};let i=s&&setTimeout(()=>{i=null,l(new Y(`timeout ${s} of ms exceeded`,Y.ETIMEDOUT))},s);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),t=null)};t.forEach(d=>d.addEventListener("abort",l));const{signal:c}=a;return c.unsubscribe=()=>T.asap(o),c}},dj=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},uj=async function*(t,s){for await(const r of mj(t))yield*dj(r,s)},mj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},Uu=(t,s,r,a)=>{const n=uj(t,s);let l=0,i,o=c=>{i||(i=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){o(),c.close();return}let m=u.byteLength;if(r){let g=l+=m;r(g)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},zu=64*1024,{isFunction:jn}=T,xj=(({Request:t,Response:s})=>({Request:t,Response:s}))(T.global),{ReadableStream:Bu,TextEncoder:Hu}=T.global,Vu=(t,...s)=>{try{return!!t(...s)}catch{return!1}},hj=t=>{t=T.merge.call({skipUndefined:!0},xj,t);const{fetch:s,Request:r,Response:a}=t,n=s?jn(s):typeof fetch=="function",l=jn(r),i=jn(a);if(!n)return!1;const o=n&&jn(Bu),c=n&&(typeof Hu=="function"?(f=>b=>f.encode(b))(new Hu):async f=>new Uint8Array(await new r(f).arrayBuffer())),d=l&&o&&Vu(()=>{let f=!1;const b=new r(ze.origin,{body:new Bu,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!b}),u=i&&o&&Vu(()=>T.isReadableStream(new a("").body)),m={stream:u&&(f=>f.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!m[f]&&(m[f]=(b,_)=>{let x=b&&b[f];if(x)return x.call(b);throw new Y(`Response type '${f}' is not supported`,Y.ERR_NOT_SUPPORT,_)})});const g=async f=>{if(f==null)return 0;if(T.isBlob(f))return f.size;if(T.isSpecCompliantForm(f))return(await new r(ze.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(T.isArrayBufferView(f)||T.isArrayBuffer(f))return f.byteLength;if(T.isURLSearchParams(f)&&(f=f+""),T.isString(f))return(await c(f)).byteLength},j=async(f,b)=>{const _=T.toFiniteNumber(f.getContentLength());return _??g(b)};return async f=>{let{url:b,method:_,data:x,signal:y,cancelToken:h,timeout:S,onDownloadProgress:v,onUploadProgress:N,responseType:w,headers:k,withCredentials:E="same-origin",fetchOptions:P}=Q0(f),R=s||fetch;w=w?(w+"").toLowerCase():"text";let B=cj([y,h&&h.toAbortSignal()],S),$=null;const q=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let F;try{if(N&&d&&_!=="get"&&_!=="head"&&(F=await j(k,x))!==0){let z=new r(b,{method:"POST",body:x,duplex:"half"}),H;if(T.isFormData(x)&&(H=z.headers.get("content-type"))&&k.setContentType(H),z.body){const[W,Z]=$u(F,xl(Fu(N)));x=Uu(z.body,zu,W,Z)}}T.isString(E)||(E=E?"include":"omit");const Q=l&&"credentials"in r.prototype,A={...P,signal:B,method:_.toUpperCase(),headers:k.normalize().toJSON(),body:x,duplex:"half",credentials:Q?E:void 0};$=l&&new r(b,A);let O=await(l?R($,P):R(b,A));const C=u&&(w==="stream"||w==="response");if(u&&(v||C&&q)){const z={};["status","statusText","headers"].forEach(Te=>{z[Te]=O[Te]});const H=T.toFiniteNumber(O.headers.get("content-length")),[W,Z]=v&&$u(H,xl(Fu(v),!0))||[];O=new a(Uu(O.body,zu,W,()=>{Z&&Z(),q&&q()}),z)}w=w||"text";let L=await m[T.findKey(m,w)||"text"](O,f);return!C&&q&&q(),await new Promise((z,H)=>{W0(z,H,{data:L,headers:tt.from(O.headers),status:O.status,statusText:O.statusText,config:f,request:$})})}catch(Q){throw q&&q(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Y("Network Error",Y.ERR_NETWORK,f,$),{cause:Q.cause||Q}):Y.from(Q,Q&&Q.code,f,$)}}},pj=new Map,K0=t=>{let s=t&&t.env||{};const{fetch:r,Request:a,Response:n}=s,l=[a,n,r];let i=l.length,o=i,c,d,u=pj;for(;o--;)c=l[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:hj(s)),u=d;return d};K0();const Dc={http:Py,xhr:oj,fetch:{get:K0}};T.forEach(Dc,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const qu=t=>`- ${t}`,gj=t=>T.isFunction(t)||t===null||t===!1;function fj(t,s){t=T.isArray(t)?t:[t];const{length:r}=t;let a,n;const l={};for(let i=0;i<r;i++){a=t[i];let o;if(n=a,!gj(a)&&(n=Dc[(o=String(a)).toLowerCase()],n===void 0))throw new Y(`Unknown adapter '${o}'`);if(n&&(T.isFunction(n)||(n=n.get(s))))break;l[o||"#"+i]=n}if(!n){const i=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(qu).join(`
`):" "+qu(i[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const Y0={getAdapter:fj,adapters:Dc};function bi(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hr(null,t)}function Wu(t){return bi(t),t.headers=tt.from(t.headers),t.data=ji.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Y0.getAdapter(t.adapter||Ya.adapter,t)(t).then(function(a){return bi(t),a.data=ji.call(t,t.transformResponse,a),a.headers=tt.from(a.headers),a},function(a){return q0(a)||(bi(t),a&&a.response&&(a.response.data=ji.call(t,t.transformResponse,a.response),a.response.headers=tt.from(a.response.headers))),Promise.reject(a)})}const J0="1.13.2",Dl={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Dl[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const Gu={};Dl.transitional=function(s,r,a){function n(l,i){return"[Axios v"+J0+"] Transitional option '"+l+"'"+i+(a?". "+a:"")}return(l,i,o)=>{if(s===!1)throw new Y(n(i," has been removed"+(r?" in "+r:"")),Y.ERR_DEPRECATED);return r&&!Gu[i]&&(Gu[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(l,i,o):!0}};Dl.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function yj(t,s,r){if(typeof t!="object")throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const l=a[n],i=s[l];if(i){const o=t[l],c=o===void 0||i(o,l,t);if(c!==!0)throw new Y("option "+l+" must be "+c,Y.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Y("Unknown option "+l,Y.ERR_BAD_OPTION)}}const Fn={assertOptions:yj,validators:Dl},Et=Fn.validators;let Bs=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Ou,response:new Ou}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const l=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Qs(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:l}=r;a!==void 0&&Fn.assertOptions(a,{silentJSONParsing:Et.transitional(Et.boolean),forcedJSONParsing:Et.transitional(Et.boolean),clarifyTimeoutError:Et.transitional(Et.boolean)},!1),n!=null&&(T.isFunction(n)?r.paramsSerializer={serialize:n}:Fn.assertOptions(n,{encode:Et.function,serialize:Et.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Fn.assertOptions(r,{baseUrl:Et.spelling("baseURL"),withXsrfToken:Et.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&T.merge(l.common,l[r.method]);l&&T.forEach(["delete","get","head","post","put","patch","common"],f=>{delete l[f]}),r.headers=tt.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let u,m=0,g;if(!c){const f=[Wu.bind(this),void 0];for(f.unshift(...o),f.push(...d),g=f.length,u=Promise.resolve(r);m<g;)u=u.then(f[m++],f[m++]);return u}g=o.length;let j=r;for(;m<g;){const f=o[m++],b=o[m++];try{j=f(j)}catch(_){b.call(this,_);break}}try{u=Wu.call(this,j)}catch(f){return Promise.reject(f)}for(m=0,g=d.length;m<g;)u=u.then(d[m++],d[m++]);return u}getUri(s){s=Qs(this.defaults,s);const r=G0(s.baseURL,s.url,s.allowAbsoluteUrls);return B0(r,s.params,s.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(s){Bs.prototype[s]=function(r,a){return this.request(Qs(a||{},{method:s,url:r,data:(a||{}).data}))}});T.forEach(["post","put","patch"],function(s){function r(a){return function(l,i,o){return this.request(Qs(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Bs.prototype[s]=r(),Bs.prototype[s+"Form"]=r(!0)});let jj=class X0{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const a=this;this.promise.then(n=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](n);a._listeners=null}),this.promise.then=n=>{let l;const i=new Promise(o=>{a.subscribe(o),l=o}).then(n);return i.cancel=function(){a.unsubscribe(l)},i},s(function(l,i,o){a.reason||(a.reason=new Hr(l,i,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new X0(function(n){s=n}),cancel:s}}};function bj(t){return function(r){return t.apply(null,r)}}function vj(t){return T.isObject(t)&&t.isAxiosError===!0}const Lo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Lo).forEach(([t,s])=>{Lo[s]=t});function Z0(t){const s=new Bs(t),r=R0(Bs.prototype.request,s);return T.extend(r,Bs.prototype,s,{allOwnKeys:!0}),T.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return Z0(Qs(t,n))},r}const ve=Z0(Ya);ve.Axios=Bs;ve.CanceledError=Hr;ve.CancelToken=jj;ve.isCancel=q0;ve.VERSION=J0;ve.toFormData=Fl;ve.AxiosError=Y;ve.Cancel=ve.CanceledError;ve.all=function(s){return Promise.all(s)};ve.spread=bj;ve.isAxiosError=vj;ve.mergeConfig=Qs;ve.AxiosHeaders=tt;ve.formToJSON=t=>V0(T.isHTMLForm(t)?new FormData(t):t);ve.getAdapter=Y0.getAdapter;ve.HttpStatusCode=Lo;ve.default=ve;const{Axios:Sv,AxiosError:Cv,CanceledError:Ev,isCancel:Av,CancelToken:Rv,VERSION:Lv,all:Pv,Cancel:Tv,isAxiosError:Mv,spread:Ov,toFormData:Iv,AxiosHeaders:$v,HttpStatusCode:Fv,formToJSON:Dv,getAdapter:Uv,mergeConfig:zv}=ve,Nj="/api",M=ve.create({baseURL:Nj,headers:{"Content-Type":"application/json"}});M.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t});M.interceptors.response.use(t=>t.data,t=>{var s,r;return((s=t.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(((r=t.response)==null?void 0:r.data)||t)});const wr={login:t=>M.post("/auth/login",t),logout:()=>M.post("/auth/logout"),me:()=>M.get("/auth/me"),changePassword:t=>M.post("/auth/change-password",t),forgotPassword:t=>M.post("/auth/forgot-password",{email:t}),resetPassword:t=>M.post("/auth/reset-password",t)},Se={getAdmin:t=>M.get("/dashboard/admin",{params:{event_id:t}}),getGroupLeader:()=>M.get("/dashboard/group-leader"),getQA:()=>M.get("/dashboard/qa"),getBackup:()=>M.get("/dashboard/backup"),getEditor:()=>M.get("/dashboard/editor"),getWorkflowProgress:t=>M.get("/dashboard/workflow-progress",{params:{event_id:t}}),getTimeAnalytics:t=>M.get("/dashboard/time-analytics",{params:{event_id:t}}),getIncidents:(t,s)=>M.get("/dashboard/incidents",{params:{event_id:t,days:s}}),getSdCardLifecycle:t=>M.get("/dashboard/sd-card-lifecycle",{params:{event_id:t}}),getComparative:t=>M.get("/dashboard/comparative",{params:{event_id:t}}),getPredictive:t=>M.get("/dashboard/predictive",{params:{event_id:t}}),getAlerts:t=>M.get("/dashboard/alerts",{params:{event_id:t}}),getLiveOperations:t=>M.get("/dashboard/live-operations",{params:{event_id:t}})},as={getAll:t=>M.get("/events",{params:t}),getActive:()=>M.get("/events/active"),getOne:t=>M.get(`/events/${t}`),create:t=>M.post("/events",t),update:(t,s)=>M.put(`/events/${t}`,s),activate:(t,s=!1)=>M.post(`/events/${t}/activate`,{force:s}),complete:t=>M.post(`/events/${t}/complete`),getStats:t=>M.get(`/events/${t}/stats`)},Lt={getAll:t=>M.get("/groups",{params:t}),getOne:t=>M.get(`/groups/${t}`),create:t=>M.post("/groups",t),update:(t,s)=>M.put(`/groups/${t}`,s),getMembers:t=>M.get(`/groups/${t}/members`),addMember:(t,s)=>M.post(`/groups/${t}/members`,{user_id:s}),removeMember:(t,s)=>M.delete(`/groups/${t}/members`,{data:{user_id:s}})},rt={search:t=>M.get("/media/search",{params:t}),getStatus:t=>M.get(`/media/${t}/status`),getDownloadUrl:t=>M.get(`/media/${t}/download-url`),logPlayback:(t,s)=>M.post(`/media/${t}/log-playback`,s),logDownload:(t,s)=>M.post(`/media/${t}/log-download`,s),getPlaybackSource:t=>M.get(`/media/${t}/playback-source`)},oa={getAll:t=>M.get("/issues",{params:t}),getOne:t=>M.get(`/issues/${t}`),acknowledge:t=>M.post(`/issues/${t}/acknowledge`),resolve:(t,s)=>M.post(`/issues/${t}/resolve`,{resolution_notes:s}),escalate:(t,s)=>M.post(`/issues/${t}/escalate`,{reason:s}),getGroupSummary:()=>M.get("/issues/group-summary")},hl={getCoverage:t=>M.get("/backup/coverage",{params:{event_id:t}}),getPending:t=>M.get("/backup/pending",{params:t}),getDiskStatus:t=>M.get(`/backup/disk/${t}`),getAnalytics:t=>M.get("/backup/analytics",{params:{event_id:t}})},Be={getAll:t=>M.get("/users",{params:t}),getOne:t=>M.get(`/users/${t}`),create:t=>M.post("/users",t),update:(t,s)=>M.put(`/users/${t}`,s),delete:t=>M.delete(`/users/${t}`),toggleStatus:t=>M.post(`/users/${t}/toggle-status`),assignGroups:(t,s)=>M.post(`/users/${t}/groups`,{group_ids:s}),getRoles:()=>M.get("/users/roles"),getEditorsStatus:t=>M.get("/users/editors-status",{params:t}),getEditorMetrics:t=>M.get(`/users/editors/${t}/metrics`),bulkImport:t=>M.post("/users/bulk-import",t),downloadTemplate:()=>M.get("/users/import-template",{responseType:"blob"}),getInvitations:()=>M.get("/users/invitations"),createInvitation:t=>M.post("/users/invitations",t),revokeInvitation:t=>M.delete(`/users/invitations/${t}`)},bn={getAll:t=>M.get("/audit-logs",{params:t}),getOne:t=>M.get(`/audit-logs/${t}`),getStats:()=>M.get("/audit-logs/stats"),getActions:()=>M.get("/audit-logs/actions"),getEntityTypes:()=>M.get("/audit-logs/entity-types")},Ds={register:t=>M.post("/auth/register",t),registerWithInvitation:t=>M.post("/auth/register/invitation",t),checkInvitation:t=>M.get(`/auth/invitation/${t}`),getPending:t=>M.get("/registrations/pending",{params:t}),sendInvitation:t=>M.post("/registrations/invite",t),approve:(t,s)=>M.post(`/registrations/${t}/approve`,s),reject:(t,s)=>M.post(`/registrations/${t}/reject`,s),suspend:(t,s)=>M.post(`/registrations/${t}/suspend`,s),reactivate:t=>M.post(`/registrations/${t}/reactivate`)},sa={getAll:t=>M.get("/settings",{params:{group:t}}),update:t=>M.put("/settings",{settings:t}),getSmtp:()=>M.get("/settings/smtp"),updateSmtp:t=>M.put("/settings/smtp",t),testSmtp:t=>M.post("/settings/smtp/test",{email:t}),getGeneral:()=>M.get("/settings/general"),updateGeneral:t=>M.put("/settings/general",t)},ra={getAll:t=>M.get("/cameras",{params:t}),getOne:t=>M.get(`/cameras/${t}`),create:t=>M.post("/cameras",t),update:(t,s)=>M.put(`/cameras/${t}`,s),delete:t=>M.delete(`/cameras/${t}`),getStats:t=>M.get("/cameras/stats",{params:t}),bindSdCard:(t,s)=>M.post(`/cameras/${t}/bind-sd`,{sd_card_id:s}),unbindSdCard:t=>M.post(`/cameras/${t}/unbind-sd`)},Rs={getAll:t=>M.get("/healing-cases",{params:t}),getOne:t=>M.get(`/healing-cases/${t}`),create:t=>M.post("/healing-cases",t),update:(t,s)=>M.put(`/healing-cases/${t}`,s),delete:t=>M.delete(`/healing-cases/${t}`),getStats:t=>M.get("/healing-cases/stats",{params:t}),verify:t=>M.post(`/healing-cases/${t}/verify`),publish:t=>M.post(`/healing-cases/${t}/publish`)},ar={exportMedia:t=>M.get("/export/media",{params:t,responseType:"blob"}),exportIssues:t=>M.get("/export/issues",{params:t,responseType:"blob"}),exportAuditLogs:t=>M.get("/export/audit-logs",{params:t,responseType:"blob"}),exportHealingCases:t=>M.get("/export/healing-cases",{params:t,responseType:"blob"}),backupReport:t=>M.get("/export/backup-report",{params:t,responseType:"blob"}),editorPerformance:t=>M.get("/export/editor-performance",{params:t,responseType:"blob"})},vi={dailySummary:t=>M.get("/reports/daily-summary",{params:t}),eventReport:(t,s)=>M.get(`/reports/event/${t}`,{params:s}),getQuickStats:t=>M.get("/reports/quick-stats",{params:t})},Qu={get:t=>M.get("/activity-feed",{params:t}),timeline:t=>M.get("/activity-feed/timeline",{params:t}),stats:t=>M.get("/activity-feed/stats",{params:t})},wj={getOverview:t=>M.get("/quality-control",{params:{event_id:t}}),getDashboard:t=>M.get("/quality-control",{params:{event_id:t}}),getQueue:t=>M.get("/quality-control/queue",{params:t}),submit:(t,s)=>M.post(`/quality-control/${t}/submit`,s),getHistory:t=>M.get(`/quality-control/${t}/history`),getStats:t=>M.get("/quality-control/stats",{params:t})},kj={getForecast:t=>M.get("/storage",{params:t}),getUsage:()=>M.get("/storage"),getDisks:()=>M.get("/storage")},_j={getOverview:t=>M.get("/work-allocation/overview",{params:{event_id:t}}),assign:(t,s)=>M.post("/work-allocation/assign",{editor_id:t,media_ids:s}),autoDistribute:t=>M.post("/work-allocation/auto-distribute",t),reassign:(t,s,r)=>M.post("/work-allocation/reassign",{from_editor_id:t,to_editor_id:s,media_ids:r})},Ku={getAll:t=>M.get("/shifts",{params:t}),create:t=>M.post("/shifts",t),bulkCreate:t=>M.post("/shifts/bulk",t),myShifts:t=>M.get("/shifts/my-shifts",{params:t}),todayOverview:t=>M.get("/shifts/today-overview",{params:t}),checkIn:t=>M.post(`/shifts/${t}/check-in`),checkOut:t=>M.post(`/shifts/${t}/check-out`),createHandoff:t=>M.post("/shifts/handoff",t),getHandoff:t=>M.get(`/shifts/handoff/${t}`),acknowledgeHandoff:t=>M.post(`/shifts/handoff/${t}/acknowledge`)},eh=p.createContext(null);function Sj({children:t}){const[s,r]=p.useState(null),[a,n]=p.useState(null),[l,i]=p.useState(!0);p.useEffect(()=>{const w=localStorage.getItem("token"),k=localStorage.getItem("user");w&&k?(r(JSON.parse(k)),Promise.all([wr.me(),as.getActive().catch(()=>({event:null}))]).then(([E,P])=>{r(E.user),localStorage.setItem("user",JSON.stringify(E.user)),n((P==null?void 0:P.event)||null)}).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)}).finally(()=>i(!1))):i(!1)},[]);const o=async()=>{try{const w=await as.getActive();return n((w==null?void 0:w.event)||null),(w==null?void 0:w.event)||null}catch{return n(null),null}},c=async(w,k)=>{const E=await wr.login({email:w,password:k});return localStorage.setItem("token",E.authorization.token),localStorage.setItem("user",JSON.stringify(E.user)),r(E.user),await o(),E},d=async()=>{try{await wr.logout()}catch{}localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)},u=()=>{const w=s==null?void 0:s.roles;return Array.isArray(w)?w.map(k=>k?typeof k=="string"?k:typeof k=="object"&&(k.name||k.slug||k.code)||null:null).filter(Boolean):[]},m=w=>u().includes(w),g=w=>{const k=u();return w.some(E=>k.includes(E))},j=()=>m("admin"),f=()=>m("team-lead"),b=()=>m("group-leader"),_=()=>m("qa-lead"),x=()=>m("qa"),y=()=>m("backup-lead"),h=()=>m("backup"),S=()=>m("editor"),v=()=>j()||f(),N=()=>j()||f()||b()||_()||y();return e.jsx(eh.Provider,{value:{user:s,activeEvent:a,loading:l,login:c,logout:d,refreshActiveEvent:o,hasRole:m,hasAnyRole:g,isAdmin:j,isTeamLead:f,isGroupLeader:b,isQALead:_,isQA:x,isBackupLead:y,isBackup:h,isEditor:S,hasOperationalAccess:v,canManageUsers:N},children:t})}function ce(){const t=p.useContext(eh);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const th=p.createContext(null),Cj=(t,s)=>{switch(s.type){case"ADD_TOAST":return[s.toast,...t].slice(0,5);case"REMOVE_TOAST":return t.filter(r=>r.id!==s.id);case"CLEAR_ALL":return[];default:return t}};function Ej({children:t}){const[s,r]=p.useReducer(Cj,[]),a=p.useCallback(u=>{const m=`toast-${Date.now()}-${Math.random().toString(16).slice(2)}`,g={...u,id:m,createdAt:Date.now()};r({type:"ADD_TOAST",toast:g});const j=u.duration||4500;return j>0&&setTimeout(()=>{r({type:"REMOVE_TOAST",id:m})},j),m},[]),n=p.useCallback(u=>{r({type:"REMOVE_TOAST",id:u})},[]),l=p.useCallback(()=>{r({type:"CLEAR_ALL"})},[]),i=p.useCallback((u,m,g={})=>a({kind:"success",title:u,message:m,...g}),[a]),o=p.useCallback((u,m,g={})=>a({kind:"error",title:u,message:m,...g}),[a]),c=p.useCallback((u,m,g={})=>a({kind:"warning",title:u,message:m,...g}),[a]),d=p.useCallback((u,m,g={})=>a({kind:"info",title:u,message:m,...g}),[a]);return e.jsx(th.Provider,{value:{toasts:s,addToast:a,removeToast:n,clearAll:l,success:i,error:o,warning:c,info:d},children:t})}function sh(){const t=p.useContext(th);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Aj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(t,s)=>{const r=p.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},u)=>p.createElement("svg",{ref:u,...Aj,width:n,height:n,stroke:a,strokeWidth:i?Number(l)*24/Number(n):l,className:["lucide",`lucide-${Rj(t)}`,o].join(" "),...d},[...s.map(([m,g])=>p.createElement(m,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=D("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=D("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=D("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=D("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=D("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=D("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=D("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=D("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=D("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=D("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=D("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=D("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=D("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=D("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=D("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=D("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=D("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=D("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=D("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=D("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=D("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=D("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=D("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=D("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=D("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=D("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=D("FileEdit",[["path",{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5",key:"1bg6eb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z",key:"1rgxu8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=D("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=D("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=D("FileVideo",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=D("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=D("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=D("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=D("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=D("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=D("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=D("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=D("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=D("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=D("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=D("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=D("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=D("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=D("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=D("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=D("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=D("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=D("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=D("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=D("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=D("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=D("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=D("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=D("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=D("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=D("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=D("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=D("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=D("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=D("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=D("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=D("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=D("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=D("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=D("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=D("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=D("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=D("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=D("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=D("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=D("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=D("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=D("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=D("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=D("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=D("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=D("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=D("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=D("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=D("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=D("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=D("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=D("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),eb={ok:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-700 border-amber-200",error:"bg-red-50 text-red-700 border-red-200",info:"bg-sky-50 text-sky-700 border-sky-200",neutral:"bg-gray-50 text-gray-600 border-gray-200",live:"bg-purple-50 text-purple-700 border-purple-200"};function zn({kind:t="neutral",children:s,icon:r,pulse:a}){return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full border ${eb[t]}`,children:[a&&e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${t==="ok"?"bg-emerald-400":t==="live"?"bg-purple-400":"bg-amber-400"}`}),e.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${t==="ok"?"bg-emerald-500":t==="live"?"bg-purple-500":"bg-amber-500"}`})]}),r&&!a&&e.jsx(r,{className:"w-3.5 h-3.5"}),s]})}function tb({online:t}){return t==null?e.jsx(zn,{kind:"neutral",icon:ie,children:"Connecting..."}):t?e.jsx(zn,{kind:"ok",icon:ws,children:"Online"}):e.jsx(zn,{kind:"error",icon:Ir,children:"Offline"})}function sb({isLive:t,label:s}){return t?e.jsx(zn,{kind:"live",pulse:!0,children:s||"Live"}):null}function rb({children:t}){var y,h,S;const{user:s,logout:r,hasAnyRole:a}=ce(),n=Zs(),l=er(),[i,o]=p.useState(!0),[c,d]=p.useState(["overview"]),[u,m]=p.useState(()=>{const v=localStorage.getItem("darkMode");return v?JSON.parse(v):!1}),[g,j]=p.useState(!1);Uo.useEffect(()=>{u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(u))},[u]);const f=async()=>{await r(),l("/login")},b=v=>{d(N=>N.includes(v)?[]:[v])},x=[{id:"overview",name:"Overview",icon:Zu,roles:["admin","team-lead","group-leader","qa","qa-lead","backup","backup-lead","editor"],items:[{name:"Dashboard",href:"/",icon:Zu,roles:["admin","team-lead","group-leader","qa","qa-lead","backup","backup-lead","editor"]},{name:"Operations Center",href:"/operations",icon:re,roles:["admin","team-lead","group-leader"]},{name:"Analytics",href:"/analytics-dashboard",icon:js,roles:["admin","team-lead","group-leader"]}]},{id:"operations",name:"Operations",icon:Yt,roles:["admin","team-lead","group-leader"],items:[{name:"Events",href:"/events",icon:Yt,roles:["admin","team-lead"]},{name:"Groups",href:"/groups",icon:he,roles:["admin","team-lead","group-leader"]},{name:"Work Allocation",href:"/work-allocation",icon:Un,roles:["admin","team-lead","group-leader"]},{name:"Cameras",href:"/cameras",icon:Le,roles:["admin","team-lead"]}]},{id:"media",name:"Media",icon:it,roles:["admin","team-lead","group-leader","qa","qa-lead"],items:[{name:"Search & Playback",href:"/search",icon:Jt,roles:["admin","team-lead","group-leader","qa","qa-lead"]},{name:"Media Library",href:"/media",icon:it,roles:["admin","team-lead"]},{name:"Quality Control",href:"/quality-control",icon:ee,roles:["admin","team-lead","qa","qa-lead","group-leader"]},{name:"Issues",href:"/issues",icon:G,roles:["admin","team-lead","group-leader","qa","qa-lead"]},{name:"Healing Cases",href:"/healing-cases",icon:Dn,roles:["admin","team-lead","group-leader"]}]},{id:"storage",name:"Storage",icon:Ja,roles:["admin","team-lead","backup","backup-lead"],items:[{name:"Backups",href:"/backups",icon:K,roles:["admin","team-lead","backup","backup-lead"]},{name:"Storage Forecast",href:"/storage-forecast",icon:js,roles:["admin","team-lead","backup","backup-lead"]},{name:"Data Protection",href:"/data-protection",icon:pt,roles:["admin","team-lead"]}]},{id:"admin",name:"Administration",icon:Ij,roles:["admin","team-lead","group-leader","qa-lead","backup-lead"],items:[{name:"Users",href:"/users",icon:Zj,roles:["admin","team-lead","group-leader","qa-lead","backup-lead"]},{name:"Shifts",href:"/shifts",icon:ie,roles:["admin","team-lead","group-leader"]},{name:"Reports",href:"/reports",icon:Da,roles:["admin","team-lead","group-leader"]},{name:"Activity Feed",href:"/activity-feed",icon:re,roles:["admin","team-lead","group-leader"]},{name:"Approvals",href:"/approvals",icon:Ua,roles:["admin","team-lead","group-leader"]},{name:"Audit Logs",href:"/audit-logs",icon:vs,roles:["admin"]},{name:"Settings",href:"/settings",icon:Or,roles:["admin"]}]},{id:"support",name:"Support",icon:Mo,roles:["admin","team-lead","group-leader","qa","qa-lead","backup","backup-lead","editor"],items:[{name:"Help & Docs",href:"/help",icon:Mo,roles:["admin","team-lead","group-leader","qa","qa-lead","backup","backup-lead","editor"]}]}].filter(v=>a(v.roles)).map(v=>({...v,items:v.items.filter(N=>a(N.roles))})).filter(v=>v.items.length>0);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-200 ${i?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"G1"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Gate 1 System"}),e.jsx("span",{className:"block text-[10px] text-gray-400",children:"Powered by Nelium Systems"})]})]}),e.jsx("button",{onClick:()=>o(!1),className:"lg:hidden",children:e.jsx(Ee,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("nav",{className:"p-4 space-y-2 overflow-y-auto",style:{maxHeight:"calc(100vh - 180px)"},children:x.map(v=>{const N=c.includes(v.id),w=v.items.some(k=>n.pathname===k.href);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>b(v.id),className:`flex items-center justify-between w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors ${w?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v.icon,{className:"w-5 h-5"}),v.name]}),N?e.jsx(pl,{className:"w-4 h-4"}):e.jsx(Ks,{className:"w-4 h-4"})]}),N&&e.jsx("div",{className:"ml-4 space-y-1",children:v.items.map(k=>{const E=n.pathname===k.href;return e.jsxs(Re,{to:k.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${E?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(k.icon,{className:"w-4 h-4"}),k.name]},k.name)})})]},v.id)})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:[e.jsxs(Re,{to:"/profile",className:"flex items-center gap-3 mb-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:((h=(y=s==null?void 0:s.name)==null?void 0:y.charAt(0))==null?void 0:h.toUpperCase())||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s==null?void 0:s.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:(S=s==null?void 0:s.roles)==null?void 0:S[0]})]})]}),e.jsxs("button",{onClick:f,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg",children:[e.jsx(Uc,{className:"w-4 h-4"}),"Sign out"]})]})]}),e.jsxs("div",{className:`${i?"lg:pl-64":""} transition-all duration-200`,children:[e.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>o(!i),className:"lg:hidden",children:e.jsx(Hj,{className:"w-6 h-6 text-gray-500"})}),e.jsxs("div",{className:"relative hidden md:block",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 w-64 bg-gray-100 border-0 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:bg-white"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"hidden lg:flex items-center gap-2 mr-2",children:[e.jsx(tb,{online:!0}),e.jsx(sb,{isLive:!0,label:"System Live"})]}),e.jsx("button",{onClick:()=>m(!u),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg dark:hover:bg-gray-700",title:u?"Light mode":"Dark mode",children:u?e.jsx(Kj,{className:"w-5 h-5"}):e.jsx(Wj,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>j(!g),className:"relative p-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:[e.jsx(qt,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),g&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50",children:[e.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Notifications"}),e.jsx(Re,{to:"/notifications",onClick:()=>j(!1),className:"text-sm text-blue-600 hover:text-blue-700",children:"View all"})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No notifications"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Open the Notifications page to see the latest updates."})]})}),e.jsx("div",{className:"p-2 border-t border-gray-100",children:e.jsx(Re,{to:"/notifications",onClick:()=>j(!1),className:"block w-full text-center text-sm text-gray-600 hover:text-gray-900 py-2",children:"See all notifications"})})]})]})]})]})}),e.jsx("main",{className:"p-6",children:t})]})]})}const ab={success:ee,error:Ft,warning:G,info:Ns},em={success:{bg:"bg-emerald-50",border:"border-emerald-200",icon:"text-emerald-500",title:"text-emerald-800",message:"text-emerald-600"},error:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500",title:"text-red-800",message:"text-red-600"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:"text-amber-500",title:"text-amber-800",message:"text-amber-600"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:"text-sky-500",title:"text-sky-800",message:"text-sky-600"}};function nb(){const{toasts:t,removeToast:s}=sh();return t.length===0?null:e.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 max-w-sm",children:t.map(r=>{const a=ab[r.kind]||Ns,n=em[r.kind]||em.info;return e.jsxs("div",{className:`${n.bg} ${n.border} border rounded-xl p-4 shadow-lg animate-slide-in-right flex items-start gap-3`,role:"alert",children:[e.jsx(a,{className:`w-5 h-5 ${n.icon} flex-shrink-0 mt-0.5`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`font-semibold text-sm ${n.title}`,children:r.title}),r.message&&e.jsx("p",{className:`text-sm mt-0.5 ${n.message}`,children:r.message})]}),e.jsx("button",{onClick:()=>s(r.id),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:e.jsx(Ee,{className:"w-4 h-4"})})]},r.id)})})}function lb(){const[t,s]=p.useState(""),[r,a]=p.useState(""),[n,l]=p.useState(""),[i,o]=p.useState(!1),{login:c}=ce(),d=er(),u=async m=>{m.preventDefault(),l(""),o(!0);try{await c(t,r),d("/")}catch(g){l(g.message||"Invalid credentials")}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"G1"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gate 1 System"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Media Chain & Evidence Management"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n&&e.jsx("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg text-sm",children:n}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:t,onChange:m=>s(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com",required:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx(Re,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})]}),e.jsx("input",{type:"password",value:r,onChange:m=>a(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Signing in...":"Sign in"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx(Re,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Register here"})]})})]})})})}function ib(){var y;const[t]=A0();er();const s=t.get("token")||t.get("invite"),[r,a]=p.useState({name:"",email:"",phone:"",password:"",password_confirmation:"",registration_notes:""}),[n,l]=p.useState(null),[i,o]=p.useState(!1),[c,d]=p.useState(!1),[u,m]=p.useState(!1),[g,j]=p.useState(""),[f,b]=p.useState(!!s);p.useEffect(()=>{s&&_()},[s]);const _=async()=>{try{const h=await Ds.checkInvitation(s);l(h),h!=null&&h.email&&a(S=>({...S,email:h.email}))}catch{j("Invalid or expired invitation link")}finally{b(!1)}},x=async h=>{if(h.preventDefault(),d(!0),j(""),r.password!==r.password_confirmation){j("Passwords do not match"),d(!1);return}try{s?await Ds.registerWithInvitation({token:s,...r}):await Ds.register(r),m(!0)}catch(S){j(S.message||S.error||"Registration failed")}finally{d(!1)}};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent"})}):u?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 text-center border border-white/20",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-500/30",children:e.jsx(ee,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:s?"Registration Complete!":"Application Submitted!"}),e.jsx("p",{className:"text-gray-300 mb-6",children:s?"Your account is ready. You can now login to the system.":"Your registration is pending approval. You will receive an email once your account has been approved."}),e.jsx(Re,{to:"/login",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl font-medium hover:from-purple-600 hover:to-indigo-700 transition-all shadow-lg shadow-purple-500/30",children:"Go to Login"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/20",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-purple-500/30",children:e.jsx("span",{className:"text-3xl font-bold text-white",children:"G1"})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:s?"Complete Your Registration":"Join Gate 1 System"}),e.jsx("p",{className:"text-gray-400 mt-2",children:s?"You have been invited to join the team":"Create your editor account"}),((y=n==null?void 0:n.groups)==null?void 0:y.length)>0&&e.jsx("div",{className:"mt-3 px-4 py-2 bg-purple-500/20 rounded-lg inline-block",children:e.jsxs("span",{className:"text-purple-300 text-sm",children:["Joining: ",n.groups.map(h=>h.name).join(", ")]})})]}),g&&e.jsxs("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 text-red-300 rounded-xl flex items-center gap-3",children:[e.jsx(We,{className:"w-5 h-5 flex-shrink-0"}),g]}),e.jsxs("form",{onSubmit:x,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx($t,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:r.name,onChange:h=>a({...r,name:h.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"John Doe",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ys,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:r.email,onChange:h=>a({...r,email:h.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all disabled:opacity-50",placeholder:"you@example.com",required:!0,disabled:!!s&&!!(n!=null&&n.email)})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(zl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"tel",value:r.phone,onChange:h=>a({...r,phone:h.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"+1 234 567 8900"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Mr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:i?"text":"password",value:r.password,onChange:h=>a({...r,password:h.target.value}),className:"w-full pl-12 pr-12 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"",required:!0,minLength:8}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:i?e.jsx(kr,{className:"w-5 h-5"}):e.jsx(Mt,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Minimum 8 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Mr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:i?"text":"password",value:r.password_confirmation,onChange:h=>a({...r,password_confirmation:h.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"",required:!0})]})]}),!s&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Notes ",e.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(vs,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400"}),e.jsx("textarea",{value:r.registration_notes,onChange:h=>a({...r,registration_notes:h.target.value}),className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none",placeholder:"Any additional information...",rows:3})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-indigo-700 disabled:opacity-50 transition-all shadow-lg shadow-purple-500/30",children:c?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):s?"Complete Registration":"Submit Application"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(Re,{to:"/login",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx(Fa,{className:"w-4 h-4"}),"Already have an account? Sign in"]})})]})})})}function ob(){const[t,s]=p.useState(""),[r,a]=p.useState(!1),[n,l]=p.useState(!1),[i,o]=p.useState(""),c=async d=>{d.preventDefault(),a(!0),o("");try{await wr.forgotPassword(t),l(!0)}catch(u){o(u.message||"Failed to send reset instructions")}finally{a(!1)}};return n?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ee,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent password reset instructions to ",e.jsx("strong",{children:t})]}),e.jsxs(Re,{to:"/login",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[e.jsx(Fa,{className:"w-4 h-4"}),"Back to Login"]})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"G1"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Forgot Password?"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your email and we'll send you reset instructions"})]}),i&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center gap-3",children:[e.jsx(We,{className:"w-5 h-5 flex-shrink-0"}),i]}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ys,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:t,onChange:d=>s(d.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:r?"Sending...":"Send Reset Instructions"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(Re,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(Fa,{className:"w-4 h-4"}),"Back to Login"]})})]})})})}function cb(){const[t]=A0(),s=er(),r=t.get("token"),[a,n]=p.useState({password:"",password_confirmation:""}),[l,i]=p.useState(!1),[o,c]=p.useState(!1),[d,u]=p.useState(!1),[m,g]=p.useState(""),j=async f=>{if(f.preventDefault(),c(!0),g(""),a.password!==a.password_confirmation){g("Passwords do not match"),c(!1);return}try{await wr.resetPassword({token:r,password:a.password,password_confirmation:a.password_confirmation}),u(!0),setTimeout(()=>s("/login"),3e3)}catch(b){g(b.message||"Failed to reset password")}finally{c(!1)}};return r?d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ee,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully reset. Redirecting to login..."}),e.jsxs(Re,{to:"/login",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[e.jsx(Fa,{className:"w-4 h-4"}),"Go to Login"]})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(lh,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reset Password"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your new password below"})]}),m&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center gap-3",children:[e.jsx(We,{className:"w-5 h-5 flex-shrink-0"}),m]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",value:a.password,onChange:f=>n({...a,password:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",placeholder:"",required:!0,minLength:8}),e.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?e.jsx(kr,{className:"w-5 h-5"}):e.jsx(Mt,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum 8 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsx("input",{type:l?"text":"password",value:a.password_confirmation,onChange:f=>n({...a,password_confirmation:f.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:o?"Resetting...":"Reset Password"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(Re,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(Fa,{className:"w-4 h-4"}),"Back to Login"]})})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(We,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Link"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),e.jsx(Re,{to:"/forgot-password",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:"Request a new link"})]})})})}function db({editorId:t,onClose:s}){var i,o,c,d,u,m,g,j,f,b,_,x,y,h,S,v,N,w,k;const[r,a]=p.useState(null),[n,l]=p.useState(!0);return p.useEffect(()=>{if(!t)return;(async()=>{l(!0);try{const P=await Be.getEditorMetrics(t);a(P)}catch(P){console.error("Failed to load editor metrics:",P)}finally{l(!1)}})()},[t]),t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 sticky top-0 bg-white",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Editor Metrics"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),n?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(oe,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-sky-500"}),e.jsx("p",{className:"text-gray-500",children:"Loading metrics..."})]}):r?e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 bg-sky-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sky-700 font-bold text-lg",children:(o=(i=r.editor)==null?void 0:i.name)==null?void 0:o.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,2)})}),e.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-4 h-4 rounded-full border-2 border-white ${(c=r.editor)!=null&&c.is_online?"bg-emerald-500":"bg-gray-400"}`})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:(d=r.editor)==null?void 0:d.name}),e.jsx("p",{className:"text-sm text-gray-500",children:(u=r.editor)==null?void 0:u.email}),((m=r.editor)==null?void 0:m.is_online)&&e.jsxs("p",{className:"text-sm text-emerald-600 flex items-center gap-1 mt-1",children:[e.jsx(re,{className:"w-3 h-3"}),((g=r.editor)==null?void 0:g.current_activity)||"Online"]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Today's Activity"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-sky-50 rounded-xl p-4 text-center",children:[e.jsx(bs,{className:"w-6 h-6 text-sky-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-sky-700",children:((j=r.metrics)==null?void 0:j.clips_copied_today)||0}),e.jsx("p",{className:"text-xs text-sky-600",children:"Clips Copied"})]}),e.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 text-center",children:[e.jsx(Po,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-amber-700",children:((f=r.metrics)==null?void 0:f.clips_renamed_today)||0}),e.jsx("p",{className:"text-xs text-amber-600",children:"Clips Renamed"})]}),e.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 text-center",children:[e.jsx(K,{className:"w-6 h-6 text-emerald-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:((b=r.metrics)==null?void 0:b.clips_backed_up_today)||0}),e.jsx("p",{className:"text-xs text-emerald-600",children:"Clips Backed Up"})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"All-Time Totals"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-xl font-bold text-gray-700",children:((_=r.metrics)==null?void 0:_.clips_copied_total)||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Copied"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-xl font-bold text-gray-700",children:((x=r.metrics)==null?void 0:x.clips_renamed_total)||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Renamed"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-xl font-bold text-gray-700",children:((y=r.metrics)==null?void 0:y.clips_backed_up_total)||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Backed Up"})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Session Statistics"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-xl font-bold text-gray-700",children:((h=r.sessions)==null?void 0:h.total)||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Sessions"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-xl font-bold text-gray-700",children:((S=r.sessions)==null?void 0:S.files_detected)||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Files Detected"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-xl font-bold text-gray-700",children:((v=r.sessions)==null?void 0:v.files_copied)||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Files Processed"})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Issues Reported"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 text-center",children:[e.jsx(G,{className:"w-5 h-5 text-gray-400 mx-auto mb-1"}),e.jsx("p",{className:"text-xl font-bold text-gray-700",children:((N=r.issues)==null?void 0:N.total_reported)||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Reported"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-xl font-bold text-amber-600",children:((w=r.issues)==null?void 0:w.acknowledged)||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Acknowledged"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-xl font-bold text-emerald-600",children:((k=r.issues)==null?void 0:k.resolved)||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Resolved"})]})]})]}),r.agent&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Desktop Agent"}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Uj,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-700",children:r.agent.device_name||r.agent.agent_id}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${r.agent.status==="online"?"bg-emerald-100 text-emerald-700":"bg-gray-200 text-gray-600"}`,children:r.agent.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"OS:"})," ",e.jsx("span",{className:"text-gray-700",children:r.agent.os||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Version:"})," ",e.jsx("span",{className:"text-gray-700",children:r.agent.agent_version||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Latency:"})," ",e.jsx("span",{className:"text-gray-700",children:r.agent.latency_ms?`${r.agent.latency_ms}ms`:"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Last seen:"})," ",e.jsx("span",{className:"text-gray-700",children:r.agent.last_seen_at?new Date(r.agent.last_seen_at).toLocaleString():"N/A"})]})]})]})]})]}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(he,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No metrics available"})]})]})}):null}function ki(){const[t,s]=p.useState([]),[r,a]=p.useState({total:0,online:0,offline:0}),[n,l]=p.useState(null),[i,o]=p.useState([]),[c,d]=p.useState(!0),[u,m]=p.useState({groupId:"",online:""}),[g,j]=p.useState(!0),[f,b]=p.useState(null);p.useEffect(()=>{_(),x();let h;return g&&(h=setInterval(x,3e4)),()=>clearInterval(h)},[u,g]);const _=async()=>{try{const h=await Lt.getAll();o(h.data||h)}catch(h){console.error("Failed to load groups:",h)}},x=async()=>{try{d(!0);const h={};u.groupId&&(h.group_id=u.groupId),u.online!==""&&(h.online=u.online);const S=await Be.getEditorsStatus(h);s(S.editors||[]),a(S.summary||{total:0,online:0,offline:0}),l(S.metrics||null)}catch(h){console.error("Failed to load editors status:",h)}finally{d(!1)}},y=h=>{if(!h)return"Never";const S=new Date(h),N=new Date-S,w=Math.floor(N/6e4),k=Math.floor(N/36e5),E=Math.floor(N/864e5);return w<1?"Just now":w<60?`${w}m ago`:k<24?`${k}h ago`:`${E}d ago`};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-sky-50 rounded-lg",children:e.jsx(he,{className:"w-5 h-5 text-sky-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Editor Status"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Real-time online/offline tracking"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-full text-sm font-medium",children:[e.jsx(ht,{className:"w-2 h-2 fill-emerald-500"}),r.online," Online"]}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-600 rounded-full text-sm font-medium",children:[e.jsx(ht,{className:"w-2 h-2 fill-gray-400"}),r.offline," Offline"]})]}),e.jsx("button",{onClick:x,disabled:c,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-sky-50 rounded-lg transition-colors",title:"Refresh",children:e.jsx(oe,{className:`w-5 h-5 ${c?"animate-spin":""}`})})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ul,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:u.groupId,onChange:h=>m({...u,groupId:h.target.value}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500",children:[e.jsx("option",{value:"",children:"All Groups"}),i.map(h=>e.jsxs("option",{value:h.id,children:[h.group_code," - ",h.name]},h.id))]})]}),e.jsxs("select",{value:u.online,onChange:h=>m({...u,online:h.target.value}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"true",children:"Online Only"}),e.jsx("option",{value:"false",children:"Offline Only"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 ml-auto",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:h=>j(h.target.checked),className:"rounded border-gray-300 text-sky-600 focus:ring-sky-500"}),"Auto-refresh (30s)"]})]})]}),e.jsx("div",{className:"divide-y divide-gray-50",children:c&&t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(oe,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-sky-500"}),"Loading editors..."]}):t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(he,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),"No editors found"]}):t.map(h=>{var S,v;return e.jsxs("div",{onClick:()=>b(h.id),className:"p-4 hover:bg-gray-50 transition-colors flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-sky-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sky-700 font-semibold text-sm",children:(S=h.name)==null?void 0:S.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2)})}),e.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white ${h.is_online?"bg-emerald-500":"bg-gray-400"}`})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:h.name}),h.is_online&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-emerald-50 text-emerald-700 rounded text-xs font-medium",children:[e.jsx(ht,{className:"w-1.5 h-1.5 fill-emerald-500"}),"Online"]})]}),e.jsx("div",{className:"text-sm text-gray-500",children:h.email})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[h.metrics&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs",title:"Clips copied today",children:[e.jsx(bs,{className:"w-3.5 h-3.5 text-sky-500"}),e.jsx("span",{className:"text-gray-700 font-medium",children:h.metrics.clips_copied_today})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",title:"Clips renamed today",children:[e.jsx(Po,{className:"w-3.5 h-3.5 text-amber-500"}),e.jsx("span",{className:"text-gray-700 font-medium",children:h.metrics.clips_renamed_today})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",title:"Clips backed up today",children:[e.jsx(K,{className:"w-3.5 h-3.5 text-emerald-500"}),e.jsx("span",{className:"text-gray-700 font-medium",children:h.metrics.clips_backed_up_today})]})]}),((v=h.groups)==null?void 0:v.length)>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.groups.slice(0,2).map(N=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:N.group_code},N.id)),h.groups.length>2&&e.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",h.groups.length-2]})]}),e.jsx("div",{className:"text-right min-w-[140px]",children:h.is_online?e.jsxs("div",{className:"flex items-center gap-2 text-emerald-600",children:[e.jsx(qj,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:h.current_activity||"Active"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:y(h.last_seen_at)})]})})]})]},h.id)})}),n&&e.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Team Totals (Today)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(bs,{className:"w-4 h-4 text-sky-500"}),e.jsx("span",{className:"font-semibold text-gray-700",children:n.clips_copied_today}),e.jsx("span",{className:"text-gray-500",children:"copied"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(Po,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"font-semibold text-gray-700",children:n.clips_renamed_today}),e.jsx("span",{className:"text-gray-500",children:"renamed"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(K,{className:"w-4 h-4 text-emerald-500"}),e.jsx("span",{className:"font-semibold text-gray-700",children:n.clips_backed_up_today}),e.jsx("span",{className:"text-gray-500",children:"backed up"})]})]})]})}),f&&e.jsx(db,{editorId:f,onClose:()=>b(null)})]})}function Ms({percentage:t,color:s="sky"}){const r={sky:"bg-sky-500",emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500",purple:"bg-purple-500"};return e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${r[s]} transition-all duration-500`,style:{width:`${Math.min(t,100)}%`}})})}function vn({title:t,value:s,subtitle:r,icon:a,color:n,percentage:l,secondaryPercentage:i,secondaryLabel:o}){const c={sky:"bg-sky-50 text-sky-600",emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return e.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r}),l!==void 0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"Copied"}),e.jsxs("span",{className:"font-medium",children:[l,"%"]})]}),e.jsx(Ms,{percentage:l,color:n})]}),i!==void 0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-500",children:o||"Renamed"}),e.jsxs("span",{className:"font-medium",children:[i,"%"]})]}),e.jsx(Ms,{percentage:i,color:"emerald"})]})]})]}),e.jsx("div",{className:`p-3 rounded-lg ${c[n]}`,children:e.jsx(a,{className:"w-5 h-5"})})]})})}function _i(){var d,u,m,g,j,f,b,_;const{activeEvent:t}=ce(),[s,r]=p.useState(null),[a,n]=p.useState(!0),[l,i]=p.useState("overview");p.useEffect(()=>{o()},[t==null?void 0:t.id]);const o=async()=>{try{n(!0);const x=await Se.getWorkflowProgress(t==null?void 0:t.id);r(x)}catch(x){console.error("Failed to load workflow progress:",x)}finally{n(!1)}};if(a&&!s)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(oe,{className:"w-8 h-8 animate-spin text-sky-500"})});const c=(s==null?void 0:s.overall)||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Workflow Progress"}),e.jsx("p",{className:"text-gray-500 text-sm",children:t?e.jsxs(e.Fragment,{children:["Event: ",e.jsx("span",{className:"font-medium text-sky-600",children:t.name})]}):"Copy & rename progress tracking"})]}),e.jsxs("button",{onClick:o,disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors text-sm",children:[e.jsx(oe,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(vn,{title:"Files Detected",value:((d=c.files_detected)==null?void 0:d.toLocaleString())||0,subtitle:`${((u=c.files_pending)==null?void 0:u.toLocaleString())||0} pending`,icon:vs,color:"sky",percentage:c.copy_percentage,secondaryPercentage:c.rename_percentage}),e.jsx(vn,{title:"Files Copied",value:((m=c.files_copied)==null?void 0:m.toLocaleString())||0,subtitle:c.total_size_formatted,icon:bs,color:"emerald"}),e.jsx(vn,{title:"Media Renamed",value:((g=c.renamed_media)==null?void 0:g.toLocaleString())||0,subtitle:`of ${((j=c.total_media)==null?void 0:j.toLocaleString())||0} total`,icon:ee,color:"emerald"}),e.jsx(vn,{title:"Active Sessions",value:c.active_sessions||0,subtitle:"Currently processing",icon:re,color:c.active_sessions>0?"amber":"sky"})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex gap-6",children:[{id:"overview",label:"By Group",icon:ih},{id:"editors",label:"By Editor",icon:he},{id:"sessions",label:"Active Sessions",icon:re}].map(x=>e.jsxs("button",{onClick:()=>i(x.id),className:`flex items-center gap-2 py-3 border-b-2 transition-colors text-sm ${l===x.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(x.icon,{className:"w-4 h-4"}),x.label]},x.id))})}),l==="overview"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress by Group"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Detected"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Copied"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Copy %"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Renamed"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rename %"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(f=s==null?void 0:s.by_group)==null?void 0:f.map(x=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium text-gray-900",children:x.group_code}),e.jsxs("div",{className:"text-xs text-gray-500",children:[x.member_count," members"]})]}),e.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:x.files_detected.toLocaleString()}),e.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:x.files_copied.toLocaleString()}),e.jsx("td",{className:"px-4 py-3 text-right",children:x.files_pending>0?e.jsx("span",{className:"text-amber-600 font-medium",children:x.files_pending.toLocaleString()}):e.jsx("span",{className:"text-emerald-600",children:""})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16",children:e.jsx(Ms,{percentage:x.copy_percentage,color:x.copy_percentage>=90?"emerald":x.copy_percentage>=50?"amber":"red"})}),e.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[x.copy_percentage,"%"]})]})}),e.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:x.renamed_media.toLocaleString()}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16",children:e.jsx(Ms,{percentage:x.rename_percentage,color:x.rename_percentage>=90?"emerald":x.rename_percentage>=50?"amber":"red"})}),e.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[x.rename_percentage,"%"]})]})}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-600 text-sm",children:x.total_size_formatted})]},x.id)),(!(s!=null&&s.by_group)||s.by_group.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"No group data available"})})]})]})})]}),l==="editors"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress by Editor"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Groups"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Detected"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Copied"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Copy %"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Renamed"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rename %"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(b=s==null?void 0:s.by_editor)==null?void 0:b.map(x=>{var y;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:`w-2.5 h-2.5 ${x.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:x.name}),e.jsx("div",{className:"text-xs text-gray-500",children:x.email})]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(y=x.groups)==null?void 0:y.map(h=>e.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:h.group_code},h.id))})}),e.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:x.files_detected.toLocaleString()}),e.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:x.files_copied.toLocaleString()}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16",children:e.jsx(Ms,{percentage:x.copy_percentage,color:x.copy_percentage>=90?"emerald":x.copy_percentage>=50?"amber":"red"})}),e.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[x.copy_percentage,"%"]})]})}),e.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:x.renamed_media.toLocaleString()}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16",children:e.jsx(Ms,{percentage:x.rename_percentage,color:x.rename_percentage>=90?"emerald":x.rename_percentage>=50?"amber":"red"})}),e.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[x.rename_percentage,"%"]})]})}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-600 text-sm",children:x.total_size_formatted})]},x.id)}),(!(s!=null&&s.by_editor)||s.by_editor.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"No editor data available"})})]})]})})]}),l==="sessions"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Active Copy Sessions"})}),((_=s==null?void 0:s.active_sessions)==null?void 0:_.length)>0?e.jsx("div",{className:"divide-y divide-gray-100",children:s.active_sessions.map(x=>e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium text-gray-900",children:x.editor}),e.jsx("span",{className:"text-gray-500",children:""}),e.jsxs("span",{className:"text-gray-600",children:["Camera ",x.camera_number]}),x.sd_label&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-500",children:""}),e.jsx("span",{className:"text-gray-600",children:x.sd_label})]})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Started ",new Date(x.started_at).toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Ms,{percentage:x.copy_progress,color:"sky"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:x.files_copied}),e.jsxs("span",{className:"text-gray-500",children:[" / ",x.files_detected]}),e.jsxs("span",{className:"text-gray-400 ml-2",children:["(",x.copy_progress,"%)"]})]})]}),x.files_pending>0&&e.jsxs("div",{className:"mt-1 text-xs text-amber-600",children:[x.files_pending," files pending"]})]},x.session_id))}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(re,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No active copy sessions"})]})]})]})}const ub={sd:K,backup:K,snapshot:Le,session:re,copy:K,issues:G,attention:G,rename:Ns,system:re,user:$t,network:ws},tm={success:{bg:"bg-emerald-50",border:"border-emerald-200",icon:"text-emerald-500",dot:"bg-emerald-500"},error:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500",dot:"bg-red-500"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:"text-amber-500",dot:"bg-amber-500"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:"text-sky-500",dot:"bg-sky-500"}};function mb(t){if(!t)return"-";const s=new Date(t);if(isNaN(s.getTime()))return"-";const a=new Date-s,n=Math.floor(a/6e4),l=Math.floor(a/36e5);return n<1?"Just now":n<60?`${n}m ago`:l<24?`${l}h ago`:s.toLocaleTimeString("en-KE",{hour:"2-digit",minute:"2-digit",hour12:!1})}function xb({item:t,expanded:s,onToggle:r}){const a=ub[t.source]||re,n=tm[t.kind]||tm.info,l=t.details&&Object.keys(t.details).length>0;return e.jsx("div",{className:`${n.bg} ${n.border} border rounded-xl p-3 transition-all hover:shadow-sm`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("div",{className:`w-8 h-8 rounded-full ${n.bg} border ${n.border} flex items-center justify-center`,children:e.jsx(a,{className:`w-4 h-4 ${n.icon}`})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:t.title}),e.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:mb(t.createdAt)})]}),t.message&&e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:t.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${n.bg} ${n.icon}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${n.dot}`}),t.source]}),l&&e.jsxs("button",{onClick:()=>r(t.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[s?e.jsx(Oj,{className:"w-3 h-3"}):e.jsx(pl,{className:"w-3 h-3"}),s?"Hide":"Details"]})]}),s&&l&&e.jsx("div",{className:"mt-2 p-2 bg-white/60 rounded-lg border border-gray-200",children:e.jsx("pre",{className:"text-xs text-gray-600 overflow-auto max-h-32 whitespace-pre-wrap",children:JSON.stringify(t.details,null,2)})})]})]})})}function hb({items:t=[],maxItems:s=20,title:r="Live Activity",showRefresh:a=!0,onRefresh:n,compact:l=!1,className:i=""}){const[o,c]=p.useState(new Set),[d,u]=p.useState("all"),m=p.useCallback(f=>{c(b=>{const _=new Set(b);return _.has(f)?_.delete(f):_.add(f),_})},[]),g=t.filter(f=>d==="all"||f.kind===d).slice(0,s),j=t.reduce((f,b)=>(f[b.kind]=(f[b.kind]||0)+1,f),{});return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 shadow-sm ${i}`,children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:r}),e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:t.length})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"hidden sm:flex items-center gap-1",children:["all","success","warning","error","info"].map(f=>e.jsxs("button",{onClick:()=>u(f),className:`px-2 py-1 text-xs rounded-full transition-colors ${d===f?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[f==="all"?"All":f.charAt(0).toUpperCase()+f.slice(1),f!=="all"&&j[f]>0&&e.jsxs("span",{className:"ml-1 opacity-70",children:["(",j[f],")"]})]},f))}),a&&n&&e.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(oe,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:`p-4 space-y-3 overflow-y-auto ${l?"max-h-64":"max-h-96"}`,children:g.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(re,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No activity yet"})]}):g.map(f=>e.jsx(xb,{item:f,expanded:o.has(f.id),onToggle:m},f.id))}),t.length>s&&e.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",s," of ",t.length," activities"]})})]})}const sm={IDLE:{bg:"bg-gray-50",border:"border-gray-200",icon:ie,iconColor:"text-gray-500",title:"Ready",subtitle:"Waiting for activity"},SD_DETECTED:{bg:"bg-sky-50",border:"border-sky-200",icon:K,iconColor:"text-sky-500",title:"SD Card Detected",subtitle:"Preparing session..."},SESSION_ACTIVE:{bg:"bg-emerald-50",border:"border-emerald-200",icon:re,iconColor:"text-emerald-500",title:"Session Active",subtitle:"Workflow in progress"},COPYING_IN_PROGRESS:{bg:"bg-purple-50",border:"border-purple-200",icon:Nt,iconColor:"text-purple-500",title:"Copying Files",subtitle:"Verifying and copying...",animate:!0},BACKUP_IN_PROGRESS:{bg:"bg-indigo-50",border:"border-indigo-200",icon:K,iconColor:"text-indigo-500",title:"Backup Running",subtitle:"Backing up to disk...",animate:!0},ATTENTION_REQUIRED:{bg:"bg-amber-50",border:"border-amber-300",icon:G,iconColor:"text-amber-500",title:"Attention Required",subtitle:"Action needed"},ISSUE_RECORDED:{bg:"bg-orange-50",border:"border-orange-200",icon:G,iconColor:"text-orange-500",title:"Issue Recorded",subtitle:"Pending QA review"},SD_REMOVAL_CHECK:{bg:"bg-amber-50",border:"border-amber-200",icon:K,iconColor:"text-amber-500",title:"SD Removal Check",subtitle:"Verifying safe removal..."},SESSION_CLOSED:{bg:"bg-emerald-50",border:"border-emerald-200",icon:ee,iconColor:"text-emerald-500",title:"Session Complete",subtitle:"All tasks finished"},RETENTION_PENDING:{bg:"bg-gray-50",border:"border-gray-200",icon:ie,iconColor:"text-gray-500",title:"Retention Pending",subtitle:"Auto-delete scheduled"}};function pb({percent:t,color:s="sky"}){const r={sky:"bg-sky-500",emerald:"bg-emerald-500",purple:"bg-purple-500",indigo:"bg-indigo-500",amber:"bg-amber-500"};return e.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${r[s]||r.sky} transition-all duration-500`,style:{width:`${Math.min(100,Math.max(0,t))}%`}})})}function gb({state:t="IDLE",sessionId:s,eventName:r,cameraNumber:a,progress:n,progressLabel:l,onAction:i,dismissible:o=!1,onDismiss:c,className:d=""}){const u=sm[t]||sm.IDLE,m=u.icon;return t==="IDLE"&&!s&&!r?null:e.jsx("div",{className:`${u.bg} ${u.border} border rounded-xl p-4 ${d}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-2 rounded-full bg-white/80 ${u.animate?"animate-pulse":""}`,children:e.jsx(m,{className:`w-6 h-6 ${u.iconColor} ${u.animate?"animate-spin":""}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:u.title}),e.jsx("p",{className:"text-sm text-gray-600",children:u.subtitle})]}),o&&c&&e.jsx("button",{onClick:c,className:"p-1 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-white/50",children:e.jsx(Ee,{className:"w-4 h-4"})})]}),(s||r||a)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[r&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-700",children:[e.jsx(re,{className:"w-3.5 h-3.5"}),r]}),a&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-700",children:[e.jsx(Le,{className:"w-3.5 h-3.5"}),"Camera ",a]}),s&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-500",children:["ID: ",s]})]}),n!=null&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:l||"Progress"}),e.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(n),"%"]})]}),e.jsx(pb,{percent:n,color:t==="BACKUP_IN_PROGRESS"?"indigo":t==="COPYING_IN_PROGRESS"?"purple":"sky"})]}),i&&t==="ATTENTION_REQUIRED"&&e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("button",{onClick:()=>i("review"),className:"px-3 py-1.5 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors",children:"Review Now"}),e.jsx("button",{onClick:()=>i("dismiss"),className:"px-3 py-1.5 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:"Dismiss"})]})]})]})})}const fb={SD_REMOVAL_PENDING:"SD Card Removed Early",WRONG_DESTINATION:"Wrong Destination Detected",DUPLICATE_FILE:"Potential Duplicate Detected",FILENAME_MAJOR:"Filename Needs Attention",SD_SESSION_OVERLAP:"SD Session Overlap",BACKUP_FAILED:"Backup Failed",QUALITY_ISSUE:"Quality Issue Detected",STORAGE_CRITICAL:"Storage Critical",AGENT_OFFLINE:"Agent Went Offline"},rm={critical:{bg:"bg-red-50",border:"border-red-200",icon:Ft,iconColor:"text-red-500",headerBg:"bg-red-100"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:G,iconColor:"text-amber-500",headerBg:"bg-amber-100"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:Ns,iconColor:"text-sky-500",headerBg:"bg-sky-100"}};function yb({open:t,onClose:s,reason:r,severity:a="warning",title:n,message:l,details:i,actions:o=[],onAction:c}){if(!t)return null;const d=rm[a]||rm.warning,u=d.icon,m=n||fb[r]||"Attention Required",g=async f=>{c&&await c(f),f.closeOnClick!==!1&&s()},j=o.length>0?o:[{id:"acknowledge",label:"Acknowledge",variant:"primary"},{id:"dismiss",label:"Dismiss",variant:"secondary"}];return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:`w-full max-w-lg ${d.bg} ${d.border} border rounded-2xl shadow-2xl overflow-hidden animate-scale-in`,children:[e.jsxs("div",{className:`${d.headerBg} px-6 py-4 flex items-center justify-between`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-white/80",children:e.jsx(u,{className:`w-6 h-6 ${d.iconColor}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:m}),r&&r!==m&&e.jsx("p",{className:"text-sm text-gray-600",children:r})]})]}),e.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-white/50 transition-colors",children:e.jsx(Ee,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"px-6 py-4",children:[l&&e.jsx("p",{className:"text-gray-700 mb-4",children:l}),i&&e.jsxs("div",{className:"bg-white/60 border border-gray-200 rounded-xl p-4 mb-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Details"}),typeof i=="object"?e.jsx("pre",{className:"text-sm text-gray-700 overflow-auto max-h-40 whitespace-pre-wrap",children:JSON.stringify(i,null,2)}):e.jsx("p",{className:"text-sm text-gray-700",children:i})]}),a==="critical"&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-100 border border-red-200 rounded-lg mb-4",children:[e.jsx(We,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-700 font-medium",children:"This requires immediate attention."})]})]}),e.jsx("div",{className:"px-6 py-4 bg-white/50 border-t border-gray-200 flex flex-wrap gap-3 justify-end",children:j.map(f=>e.jsx("button",{onClick:()=>g(f),disabled:f.disabled,className:`px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${f.variant==="primary"?"bg-gray-900 text-white hover:bg-gray-800 shadow-lg":f.variant==="danger"?"bg-red-600 text-white hover:bg-red-700":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"} ${f.disabled?"opacity-50 cursor-not-allowed":""}`,children:f.label},f.id))})]})})}function jb(t){if(!t)return null;const a=new Date(t)-new Date;if(a<=0)return{expired:!0,text:"Event ended",days:0,hours:0};const n=Math.floor(a/(1e3*60*60*24)),l=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),i=Math.floor(a%(1e3*60*60)/(1e3*60));let o="";return n>0?o=`${n}d ${l}h remaining`:l>0?o=`${l}h ${i}m remaining`:o=`${i}m remaining`,{expired:!1,text:o,days:n,hours:l,minutes:i}}function Si({event:t}){if(!t)return e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(G,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium opacity-90",children:"No Active Event"})]}),e.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Activate an Event to Begin"}),e.jsx("p",{className:"text-white/80 text-sm",children:"All operations are scoped to the active event. Go to Events to activate one."})]}),e.jsxs(Re,{to:"/events",className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[e.jsx(Vr,{className:"w-4 h-4"}),"Go to Events"]})]})});const s=jb(t.end_datetime||t.end_date),r=new Date(t.start_datetime||t.start_date),a=t.end_datetime||t.end_date?new Date(t.end_datetime||t.end_date):null;return e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white rounded-full translate-y-1/2 -translate-x-1/2"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium opacity-90",children:"ACTIVE EVENT"})]}),e.jsx("h2",{className:"text-3xl font-bold mb-1",children:t.name}),e.jsx("p",{className:"text-white/80 text-sm",children:t.code})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(za,{className:"w-6 h-6"}),e.jsx("span",{className:"text-lg font-semibold",children:"Running"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[e.jsx(Yt,{className:"w-3 h-3"}),"Started"]}),e.jsx("div",{className:"font-semibold",children:r.toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),a&&e.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[e.jsx(ie,{className:"w-3 h-3"}),"Ends"]}),e.jsx("div",{className:"font-semibold",children:a.toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),t.location&&e.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[e.jsx(zc,{className:"w-3 h-3"}),"Location"]}),e.jsx("div",{className:"font-semibold truncate",children:t.location})]}),s&&e.jsxs("div",{className:`rounded-lg p-3 ${s.expired?"bg-yellow-500/30":"bg-white/10"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[e.jsx(re,{className:"w-3 h-3"}),"Time Left"]}),e.jsx("div",{className:"font-semibold",children:s.expired?"Past end date":s.text})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(it,{className:"w-4 h-4 opacity-70"}),e.jsxs("span",{children:[t.media_count||0," media files"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 opacity-70"}),e.jsxs("span",{children:[t.groups_count||0," groups"]})]})]}),e.jsxs(Re,{to:"/events",className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:["Manage Event",e.jsx(Lj,{className:"w-4 h-4"})]})]})]})]})}function de({title:t,value:s,icon:r,color:a,subtitle:n}){const l={blue:"bg-blue-50 text-blue-600",red:"bg-red-50 text-red-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"};return e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:s}),n&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),e.jsx("div",{className:`p-3 rounded-lg ${l[a]}`,children:e.jsx(r,{className:"w-6 h-6"})})]})})}function Ci({issues:t}){const s={critical:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",medium:"bg-yellow-100 text-yellow-700",low:"bg-gray-100 text-gray-700"};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Issues"})}),e.jsxs("div",{className:"divide-y divide-gray-100",children:[(t==null?void 0:t.length)===0&&e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No open issues"}),t==null?void 0:t.map(r=>e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:r.type.replace("_"," ")}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Reported by ",r.reporter]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s[r.severity]}`,children:r.severity})]})},r.id))]})]})}function am({groups:t}){return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Groups Health"})}),e.jsx("div",{className:"divide-y divide-gray-100",children:t==null?void 0:t.map(s=>e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.code}),e.jsx("p",{className:"text-sm text-gray-500",children:s.name})]}),e.jsx("div",{className:"flex items-center gap-2",children:s.open_issues>0?e.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:[s.open_issues," issues"]}):e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"Healthy"})})]},s.id))})]})}function bb(){var k,E,P,R,B,$,q,F,Q,A,O,C;const{user:t,activeEvent:s,isAdmin:r,isTeamLead:a,isGroupLeader:n,isQALead:l,isQA:i,isBackupLead:o,isBackup:c}=ce(),d=sh(),[u,m]=p.useState(null),[g,j]=p.useState(!0),[f,b]=p.useState([]),[_,x]=p.useState("IDLE"),[y,h]=p.useState({open:!1,reason:null,details:null}),S=p.useCallback(L=>{const z=[],H=Date.now();return L!=null&&L.recent_issues&&L.recent_issues.slice(0,5).forEach((W,Z)=>{var Te;z.push({id:`issue-${W.id||Z}`,source:"issues",kind:W.severity==="critical"?"error":"warning",title:`Issue: ${((Te=W.type)==null?void 0:Te.replace("_"," "))||"Unknown"}`,message:`Reported by ${W.reporter||"Unknown"}`,details:W,createdAt:H-Z*6e4})}),L!=null&&L.overview&&(L.overview.active_sessions>0&&z.push({id:"sessions-active",source:"session",kind:"info",title:`${L.overview.active_sessions} Active Sessions`,message:"SD cards currently being processed",createdAt:H-12e4}),L.overview.pending_backups>0&&z.push({id:"backups-pending",source:"backup",kind:L.overview.pending_backups>10?"warning":"info",title:`${L.overview.pending_backups} Pending Backups`,message:"Files awaiting backup verification",createdAt:H-18e4})),z.sort((W,Z)=>Z.createdAt-W.createdAt),z},[]);p.useEffect(()=>{v()},[s==null?void 0:s.id]);const v=async()=>{var L,z;try{let H;r()?H=await Se.getAdmin(s==null?void 0:s.id):a()?H=await Se.getAdmin(s==null?void 0:s.id):n()?H=await Se.getGroupLeader():l()||i()?H=await Se.getQA():o()||c()?H=await Se.getBackup():H=await Se.getEditor(),m(H);const W=S(H);b(W),((L=H==null?void 0:H.overview)==null?void 0:L.active_sessions)>0?x("SESSION_ACTIVE"):((z=H==null?void 0:H.overview)==null?void 0:z.open_issues)>5&&x("ATTENTION_REQUIRED")}catch(H){console.error("Failed to load dashboard:",H),d.error("Dashboard Error","Failed to load dashboard data")}finally{j(!1)}},N=async()=>{d.info("Refreshing","Updating dashboard data..."),await v(),d.success("Updated","Dashboard data refreshed")},w=L=>{d.success("Action Recorded",`Decision: ${L.id}`),h({open:!1,reason:null,details:null})};if(g)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(r()&&(u!=null&&u.overview))return e.jsxs("div",{className:"space-y-6",children:[e.jsx(yb,{open:y.open,onClose:()=>h({open:!1,reason:null,details:null}),reason:y.reason,severity:y.severity,title:y.title,message:y.message,details:y.details,onAction:w}),e.jsx(Si,{event:s}),_!=="IDLE"&&e.jsx(gb,{state:_,eventName:u.overview.active_event_name,onAction:L=>{L==="review"&&h({open:!0,reason:"ATTENTION_REQUIRED",severity:"warning",title:"Issues Require Attention",message:`There are ${u.overview.open_issues} open issues that need review.`,details:{openIssues:u.overview.open_issues,criticalIssues:u.overview.critical_issues}})},dismissible:!0,onDismiss:()=>x("IDLE")}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Command View"}),e.jsx("p",{className:"text-gray-500",children:"System-wide situational awareness  signals, not metrics"})]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(oe,{className:"w-4 h-4"}),"Refresh"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Re,{to:"/events",className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Events"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Activate / switch active event"})]}),e.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:e.jsx(Yt,{className:"w-5 h-5"})})]})}),e.jsx(Re,{to:"/issues",className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Issues"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Triage and assign"})]}),e.jsx("div",{className:"p-2 rounded-lg bg-red-50 text-red-600",children:e.jsx(G,{className:"w-5 h-5"})})]})}),e.jsx(Re,{to:"/users",className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Users"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Invite and manage access"})]}),e.jsx("div",{className:"p-2 rounded-lg bg-purple-50 text-purple-600",children:e.jsx(he,{className:"w-5 h-5"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Operational Status"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Fast read on risk and throughput"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${(u.overview.critical_issues||0)>0?"bg-red-100 text-red-700":(u.overview.open_issues||0)>5?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:(u.overview.critical_issues||0)>0?"Critical":(u.overview.open_issues||0)>5?"Attention":"Stable"})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[e.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Open Issues"}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:u.overview.open_issues||0})]}),e.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Critical"}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:u.overview.critical_issues||0})]}),e.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Pending Backups"}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:u.overview.pending_backups||0})]}),e.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Active Sessions"}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:u.overview.active_sessions||0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Editors Online"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Last 2 minutes"})]}),e.jsx(ws,{className:"w-4 h-4 text-green-600"})]}),e.jsxs("div",{className:"mt-4 flex items-baseline gap-2",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:u.overview.online_agents||0}),e.jsxs("div",{className:"text-sm text-gray-500",children:["/ ",u.overview.total_editors||0]})]}),e.jsxs("div",{className:"mt-3 rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Backup Coverage"}),e.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[u.overview.backup_coverage||0,"%"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(de,{title:"Active SD Sessions",value:u.overview.active_sessions||0,icon:re,color:"blue",subtitle:"Currently copying"}),e.jsx(de,{title:"Cameras Healthy",value:u.overview.cameras_healthy||0,icon:Le,color:"green",subtitle:`${u.overview.cameras_attention||0} need attention`}),e.jsx(de,{title:"Open Issues",value:u.overview.open_issues||0,icon:G,color:"red",subtitle:`${u.overview.critical_issues||0} critical`}),e.jsx(de,{title:"Pending Backups",value:u.overview.pending_backups||0,icon:K,color:"yellow"}),e.jsx(de,{title:"Early Removals",value:u.overview.early_removals_today||0,icon:G,color:u.overview.early_removals_today>0?"red":"green",subtitle:"Today"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Media Today"}),e.jsx(it,{className:"w-4 h-4 text-blue-500"})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[u.overview.media_today||0,e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"files indexed"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Total Media"}),e.jsx(Ot,{className:"w-4 h-4 text-purple-500"})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[u.overview.total_media||0,e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"files indexed"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Cameras Needing Attention"}),e.jsx(Le,{className:"w-4 h-4 text-red-500"})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[u.overview.cameras_attention||0,e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"cameras"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(Ci,{issues:u.recent_issues}),e.jsx(am,{groups:u.groups_health}),e.jsx(hb,{items:f,maxItems:10,title:"Live Activity",showRefresh:!0,onRefresh:N,compact:!0})]}),e.jsx(_i,{}),e.jsx(ki,{})]});if(a()&&(u!=null&&u.overview))return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Si,{event:s}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Operations Command"}),e.jsx("p",{className:"text-gray-500",children:"Event operations oversight  real-time situational awareness"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(de,{title:"Active SD Sessions",value:u.overview.active_sessions||0,icon:re,color:"blue",subtitle:"Currently copying"}),e.jsx(de,{title:"Cameras Healthy",value:u.overview.cameras_healthy||0,icon:Le,color:"green",subtitle:`${u.overview.cameras_attention||0} need attention`}),e.jsx(de,{title:"Open Issues",value:u.overview.open_issues||0,icon:G,color:"red",subtitle:`${u.overview.critical_issues||0} critical`}),e.jsx(de,{title:"Pending Backups",value:u.overview.pending_backups||0,icon:K,color:"yellow"}),e.jsx(de,{title:"Early Removals",value:u.overview.early_removals_today||0,icon:G,color:u.overview.early_removals_today>0?"red":"green",subtitle:"Today"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Ci,{issues:u.recent_issues}),e.jsx(am,{groups:u.groups_health})]}),e.jsx(_i,{}),e.jsx(ki,{})]});if(n()&&(u!=null&&u.groups))return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Si,{event:s}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Control View"}),e.jsx("p",{className:"text-gray-500",children:"Your group's operations  no global data, only your team"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(de,{title:"Editors Online",value:((k=u.team_stats)==null?void 0:k.online_members)||0,icon:ws,color:"green",subtitle:`of ${((E=u.team_stats)==null?void 0:E.total_members)||0} total`}),e.jsx(de,{title:"Active Sessions",value:((P=u.team_stats)==null?void 0:P.active_sessions)||0,icon:re,color:"blue",subtitle:"In your group"}),e.jsx(de,{title:"Open Issues",value:((R=u.groups)==null?void 0:R.reduce((L,z)=>L+z.open_issues,0))||0,icon:G,color:"red"}),e.jsx(de,{title:"Backup Completion",value:`${((B=u.team_stats)==null?void 0:B.backup_percentage)||0}%`,icon:K,color:(($=u.team_stats)==null?void 0:$.backup_percentage)>=80?"green":"yellow",subtitle:"Group only"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"My Team"})}),e.jsx("div",{className:"divide-y divide-gray-100",children:(q=u.groups)==null?void 0:q.map(L=>e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-medium",children:[L.code," - ",L.name]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[e.jsx(ht,{className:"w-2 h-2 fill-green-500 text-green-500"}),L.online_count||0," online"]})})]}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[L.member_count," members"]}),e.jsxs("span",{className:"text-red-600",children:[L.open_issues," issues"]})]})]},L.id))})]}),e.jsx(Ci,{issues:u.recent_issues})]}),e.jsx(_i,{}),e.jsx(ki,{}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 text-sm text-blue-700",children:[e.jsx("strong",{children:" Scoped View"}),"  You only see data from your assigned groups. No global search or unrelated data."]})]});if((l()||i())&&(u!=null&&u.issue_summary)){const L=u.severity_distribution||{critical:0,high:0,medium:0,low:0},z=Object.values(L).reduce((H,W)=>H+W,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l()?"QA Lead Workbench":"Issue Workbench"}),e.jsx("p",{className:"text-gray-500",children:"Issue review only  you never see clean footage, only problems to resolve"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(de,{title:"Open Queue",value:u.issue_summary.open||0,icon:ie,color:"blue"}),e.jsx(de,{title:"Acknowledged",value:u.issue_summary.acknowledged||0,icon:re,color:"yellow"}),e.jsx(de,{title:"In Progress",value:u.issue_summary.in_progress||0,icon:Ot,color:"purple"}),e.jsx(de,{title:"Resolved Today",value:u.issue_summary.resolved_today||0,icon:ee,color:"green"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Severity Distribution"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-700",children:L.critical||0}),e.jsx("div",{className:"text-xs text-red-600",children:"Critical"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-700",children:L.high||0}),e.jsx("div",{className:"text-xs text-orange-600",children:"High"})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:L.medium||0}),e.jsx("div",{className:"text-xs text-yellow-600",children:"Medium"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-700",children:L.low||0}),e.jsx("div",{className:"text-xs text-gray-600",children:"Low"})]})]}),z>0&&e.jsxs("div",{className:"h-3 flex rounded-full overflow-hidden",children:[e.jsx("div",{className:"bg-red-500",style:{width:`${L.critical/z*100}%`}}),e.jsx("div",{className:"bg-orange-500",style:{width:`${L.high/z*100}%`}}),e.jsx("div",{className:"bg-yellow-500",style:{width:`${L.medium/z*100}%`}}),e.jsx("div",{className:"bg-gray-400",style:{width:`${L.low/z*100}%`}})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Critical Issues Queue"})}),e.jsxs("div",{className:"divide-y divide-gray-100 max-h-80 overflow-y-auto",children:[((F=u.critical_issues)==null?void 0:F.length)===0&&e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No critical issues"}),(Q=u.critical_issues)==null?void 0:Q.map(H=>{var W,Z,Te;return e.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:(W=H.type)==null?void 0:W.replace("_"," ")}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Camera ",H.camera_number||((Z=H.media)==null?void 0:Z.camera_number)||"?","  ",(Te=H.group)==null?void 0:Te.group_code]})]}),e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:"Critical"})]})},H.id)})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cameras with Repeated Issues"})}),e.jsxs("div",{className:"divide-y divide-gray-100",children:[(u.problem_cameras||[]).length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No cameras flagged"}),(u.problem_cameras||[]).map(H=>e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Le,{className:"w-5 h-5 text-gray-400"}),e.jsxs("span",{className:"font-medium",children:["Camera ",H.camera_number]})]}),e.jsxs("span",{className:"text-red-600 text-sm",children:[H.issue_count," issues"]})]},H.camera_number))]})]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-3 text-sm text-purple-700",children:[e.jsx("strong",{children:" QA Access"}),"  You can only view and resolve issues. No access to names, regions, or clean footage."]})]})}if((o()||c())&&(u!=null&&u.coverage)){const L=u.coverage;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o()?"Archive Integrity Lead":"Archive Integrity View"}),e.jsx("p",{className:"text-gray-500",children:"Coverage and verification status  you see integrity, not content"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(de,{title:"Pending Backups",value:L.pending||0,icon:ie,color:L.pending>10?"red":"yellow",subtitle:"By editor"}),e.jsx(de,{title:"Disks In Use",value:L.disks_in_use||0,icon:K,color:"blue"}),e.jsx(de,{title:"Verification Failures",value:L.verification_failures||0,icon:G,color:L.verification_failures>0?"red":"green"}),e.jsx(de,{title:"Coverage",value:`${L.coverage_percentage||0}%`,icon:ee,color:L.coverage_percentage>=90?"green":"yellow"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Backup Coverage"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:L.total_media||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Files"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:L.backed_up||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Backed Up"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:L.verified||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Verified"})]})]}),e.jsx("div",{className:"overflow-hidden h-4 flex rounded-full bg-gray-200",children:e.jsx("div",{style:{width:`${L.coverage_percentage}%`},className:"bg-green-500 transition-all duration-500"})}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[e.jsx("span",{children:"0%"}),e.jsxs("span",{children:[L.coverage_percentage,"% backed up"]}),e.jsx("span",{children:"100%"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending by Editor"})}),e.jsxs("div",{className:"divide-y divide-gray-100 max-h-60 overflow-y-auto",children:[(u.pending_by_editor||[]).length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500",children:"All caught up!"}),(u.pending_by_editor||[]).map(z=>e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:z.name}),e.jsxs("span",{className:`text-sm ${z.pending>5?"text-red-600":"text-yellow-600"}`,children:[z.pending," pending"]})]},z.id))]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Disk Rotation Status"})}),e.jsxs("div",{className:"divide-y divide-gray-100",children:[(u.disk_status||[]).length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No disk data"}),(u.disk_status||[]).map(z=>e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(K,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium",children:z.label})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${z.status==="active"?"bg-green-100 text-green-700":z.status==="full"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:z.status})]},z.id))]})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 text-sm text-green-700",children:[e.jsx("strong",{children:" Archive View"}),"  You see coverage and verification, not file contents. Focus on integrity, not media."]})]})}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome, ",t==null?void 0:t.name]}),e.jsx("p",{className:"text-gray-500",children:"Your activity overview"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(de,{title:"Files Indexed Today",value:((A=u==null?void 0:u.today)==null?void 0:A.files_indexed)||0,icon:it,color:"blue"}),e.jsx(de,{title:"Issues Reported",value:((O=u==null?void 0:u.today)==null?void 0:O.issues_reported)||0,icon:G,color:"yellow"}),e.jsx(de,{title:"Backups Verified",value:((C=u==null?void 0:u.today)==null?void 0:C.backups_verified)||0,icon:ee,color:"green"})]})]})}function Ei({percentage:t,color:s="sky",size:r="md"}){const a={sky:"bg-sky-500",emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500",purple:"bg-purple-500"},n={sm:"h-1.5",md:"h-2.5",lg:"h-3"};return e.jsx("div",{className:`w-full bg-gray-200 rounded-full ${n[r]}`,children:e.jsx("div",{className:`${n[r]} rounded-full ${a[s]} transition-all duration-500`,style:{width:`${Math.min(t,100)}%`}})})}function Ne({title:t,value:s,subtitle:r,icon:a,color:n,trend:l,trendValue:i}){const o={sky:"bg-sky-50 text-sky-600",emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",red:"bg-red-50 text-red-600",purple:"bg-purple-50 text-purple-600"};return e.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r}),l&&e.jsxs("div",{className:`flex items-center gap-1 mt-2 text-sm ${l==="up"?"text-emerald-600":l==="down"?"text-red-600":"text-gray-500"}`,children:[l==="up"?e.jsx(Ot,{className:"w-4 h-4"}):l==="down"?e.jsx(_r,{className:"w-4 h-4"}):e.jsx(Bc,{className:"w-4 h-4"}),e.jsx("span",{children:i})]})]}),e.jsx("div",{className:`p-3 rounded-lg ${o[n]}`,children:e.jsx(a,{className:"w-5 h-5"})})]})})}function vb({alert:t}){const s={critical:"border-red-200 bg-red-50",warning:"border-amber-200 bg-amber-50",info:"border-sky-200 bg-sky-50"},r={critical:e.jsx(Ft,{className:"w-5 h-5 text-red-500"}),warning:e.jsx(G,{className:"w-5 h-5 text-amber-500"}),info:e.jsx(We,{className:"w-5 h-5 text-sky-500"})};return e.jsxs("div",{className:`p-3 rounded-lg border ${s[t.severity]} flex items-start gap-3`,children:[r[t.severity],e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:t.title}),e.jsx("div",{className:"text-gray-600 text-xs mt-0.5",children:t.message}),e.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:[t.time_ago,"  ",t.user]})]})]})}function Nb(){var h,S,v,N,w,k,E,P,R,B,$,q,F,Q,A,O,C,L,z,H,W,Z,Te,J,$e,As,Dt,tr,Bl,sr,Wr,Xa,Vc,qc,Wc,Gc,Qc,Kc,Yc,Jc,Xc,Zc,ed,td,sd,rd,ad,nd,ld,id,od,cd,dd,ud,md,xd;const{activeEvent:t}=ce(),[s,r]=p.useState(!0),[a,n]=p.useState("overview"),[l,i]=p.useState(null),[o,c]=p.useState(null),[d,u]=p.useState(null),[m,g]=p.useState(null),[j,f]=p.useState(null),[b,_]=p.useState(null);p.useEffect(()=>{x()},[t==null?void 0:t.id]);const x=async()=>{r(!0);const I=t==null?void 0:t.id;try{const[ke,Za,Hl,en,Vl,xh]=await Promise.all([Se.getTimeAnalytics(I),Se.getIncidents(I,7),Se.getSdCardLifecycle(I),Se.getComparative(I),Se.getPredictive(I),Se.getAlerts(I)]);i(ke),c(Za),u(Hl),g(en),f(Vl),_(xh)}catch(ke){console.error("Failed to load analytics:",ke)}finally{r(!1)}};if(s&&!l)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(oe,{className:"w-8 h-8 animate-spin text-sky-500"})});const y=[{id:"overview",label:"Overview",icon:js},{id:"time",label:"Time Analytics",icon:ie},{id:"incidents",label:"Incidents",icon:G},{id:"sdcards",label:"SD Cards",icon:K},{id:"leaderboard",label:"Leaderboard",icon:rh},{id:"planning",label:"Planning",icon:Un}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-500 text-sm",children:t?e.jsxs(e.Fragment,{children:["Event: ",e.jsx("span",{className:"font-medium text-sky-600",children:t.name})]}):"360 view of workflow operations"})]}),e.jsxs("button",{onClick:x,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors text-sm",children:[e.jsx(oe,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Refresh"]})]}),((h=b==null?void 0:b.summary)==null?void 0:h.critical)>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(qt,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold text-red-900",children:[b.summary.critical," Critical Alert",b.summary.critical>1?"s":""]}),e.jsx("div",{className:"text-red-700 text-sm",children:"Immediate attention required"})]}),e.jsx("button",{onClick:()=>n("incidents"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"View Alerts"})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:y.map(I=>e.jsxs("button",{onClick:()=>n(I.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors text-sm whitespace-nowrap ${a===I.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(I.icon,{className:"w-4 h-4"}),I.label]},I.id))})}),a==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ne,{title:"Processing Rate",value:`${((S=l==null?void 0:l.summary)==null?void 0:S.files_per_hour_24h)||0}/hr`,subtitle:`${((v=l==null?void 0:l.summary)==null?void 0:v.total_files_24h)||0} files in 24h`,icon:za,color:"sky"}),e.jsx(Ne,{title:"Active Alerts",value:((N=b==null?void 0:b.summary)==null?void 0:N.total)||0,subtitle:`${((w=b==null?void 0:b.summary)==null?void 0:w.critical)||0} critical`,icon:qt,color:((k=b==null?void 0:b.summary)==null?void 0:k.critical)>0?"red":"emerald"}),e.jsx(Ne,{title:"ETA Completion",value:((E=j==null?void 0:j.eta)==null?void 0:E.copies_formatted)||"N/A",subtitle:`${((P=j==null?void 0:j.pending_work)==null?void 0:P.total)||0} pending`,icon:wi,color:"purple"}),e.jsx(Ne,{title:"Online Editors",value:((R=j==null?void 0:j.resources)==null?void 0:R.online_editors)||0,subtitle:((B=j==null?void 0:j.resources)==null?void 0:B.status)==="understaffed"?"Need more staff":"Optimal",icon:he,color:(($=j==null?void 0:j.resources)==null?void 0:$.status)==="understaffed"?"amber":"emerald"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Alerts"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[((q=b==null?void 0:b.summary)==null?void 0:q.total)||0," total"]})]}),e.jsxs("div",{className:"p-4 space-y-3 max-h-80 overflow-y-auto",children:[(F=b==null?void 0:b.alerts)==null?void 0:F.slice(0,5).map((I,ke)=>e.jsx(vb,{alert:I},ke)),(!(b!=null&&b.alerts)||b.alerts.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ee,{className:"w-12 h-12 mx-auto mb-2 text-emerald-300"}),e.jsx("p",{children:"No active alerts"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Top Performers Today"})}),e.jsx("div",{className:"p-4 space-y-3",children:(Q=m==null?void 0:m.editor_leaderboard)==null?void 0:Q.slice(0,5).map((I,ke)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${ke===0?"bg-amber-100 text-amber-700":ke===1?"bg-gray-100 text-gray-700":ke===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:ke+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:I.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[I.files_this_week," this week"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-gray-900",children:I.files_today}),e.jsxs("div",{className:`text-xs flex items-center gap-1 ${I.trend==="up"?"text-emerald-600":I.trend==="down"?"text-red-600":"text-gray-500"}`,children:[I.trend==="up"?e.jsx(Ot,{className:"w-3 h-3"}):I.trend==="down"?e.jsx(_r,{className:"w-3 h-3"}):null,I.change_percent>0?"+":"",I.change_percent,"%"]})]})]},I.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Files Processed (Last 12 Hours)"}),e.jsx("div",{className:"flex items-end gap-2 h-32",children:(A=l==null?void 0:l.hourly_breakdown)==null?void 0:A.map((I,ke)=>{var en;const Za=Math.max(...((en=l.hourly_breakdown)==null?void 0:en.map(Vl=>Vl.files))||[1]),Hl=Za>0?I.files/Za*100:0;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-t relative",style:{height:"100px"},children:e.jsx("div",{className:"absolute bottom-0 w-full bg-sky-500 rounded-t transition-all",style:{height:`${Hl}%`}})}),e.jsx("span",{className:"text-xs text-gray-500",children:I.hour})]},ke)})})]})]}),a==="time"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Ne,{title:"Avg Session Duration",value:`${((O=l==null?void 0:l.summary)==null?void 0:O.avg_session_minutes)||0} min`,icon:ie,color:"sky"}),e.jsx(Ne,{title:"Avg Files/Session",value:((C=l==null?void 0:l.summary)==null?void 0:C.avg_files_per_session)||0,icon:re,color:"emerald"}),e.jsx(Ne,{title:"Files/Hour (24h)",value:((L=l==null?void 0:l.summary)==null?void 0:L.files_per_hour_24h)||0,icon:za,color:"purple"}),e.jsx(Ne,{title:"Total (24h)",value:((z=l==null?void 0:l.summary)==null?void 0:z.total_files_24h)||0,icon:js,color:"amber"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Editor Efficiency (Last 8 Hours)"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sessions"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files/Hour"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(H=l==null?void 0:l.editor_efficiency)==null?void 0:H.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:`w-2.5 h-2.5 ${I.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),e.jsx("span",{className:"font-medium text-gray-900",children:I.name})]})}),e.jsx("td",{className:"px-4 py-3 text-right font-medium",children:I.files_last_8h}),e.jsx("td",{className:"px-4 py-3 text-right",children:I.sessions_last_8h}),e.jsx("td",{className:"px-4 py-3 text-right font-bold text-sky-600",children:I.files_per_hour}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${I.is_online?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:I.is_online?"Online":"Offline"})})]},I.id))})]})})]}),((W=l==null?void 0:l.bottlenecks)==null?void 0:W.length)>0&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[e.jsxs("h3",{className:"font-semibold text-amber-900 mb-3 flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"Bottlenecks Detected"]}),e.jsx("div",{className:"space-y-2",children:l.bottlenecks.map(I=>e.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:I.editor}),e.jsx("span",{className:"text-gray-500 mx-2",children:""}),e.jsxs("span",{children:["Camera ",I.camera]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm",children:[I.files_copied,"/",I.files_detected," files"]}),e.jsxs("div",{className:"text-xs text-amber-600",children:[I.duration_minutes," min elapsed"]})]})]},I.session_id))})]})]}),a==="incidents"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Ne,{title:"Total Incidents",value:((Z=o==null?void 0:o.summary)==null?void 0:Z.total_incidents)||0,subtitle:"Last 7 days",icon:G,color:"amber"}),e.jsx(Ne,{title:"File Deletions",value:((Te=o==null?void 0:o.summary)==null?void 0:Te.deletions)||0,icon:It,color:"red"}),e.jsx(Ne,{title:"Early Removals",value:((J=o==null?void 0:o.summary)==null?void 0:J.early_removals)||0,icon:Uc,color:"amber"}),e.jsx(Ne,{title:"Repeat Offenders",value:(($e=o==null?void 0:o.summary)==null?void 0:$e.repeat_offenders)||0,icon:he,color:((As=o==null?void 0:o.summary)==null?void 0:As.repeat_offenders)>0?"red":"emerald"})]}),((Dt=o==null?void 0:o.repeat_offenders)==null?void 0:Dt.length)>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-3",children:" Repeat Offenders"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:o.repeat_offenders.map(I=>e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("div",{className:"font-medium text-gray-900",children:I.name}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:I.email}),e.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[I.deletions>0&&e.jsxs("span",{className:"text-red-600",children:[I.deletions," deletions"]}),I.early_removals>0&&e.jsxs("span",{className:"text-amber-600",children:[I.early_removals," early removals"]})]})]},I.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-2",children:[e.jsx(It,{className:"w-5 h-5 text-red-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"File Deletions"})]}),e.jsxs("div",{className:"p-4 space-y-2 max-h-64 overflow-y-auto",children:[(tr=o==null?void 0:o.deletions)==null?void 0:tr.map(I=>e.jsxs("div",{className:"p-2 bg-red-50 rounded-lg text-sm",children:[e.jsx("div",{className:"font-medium text-red-900",children:I.user}),e.jsx("div",{className:"text-red-700 text-xs",children:I.details}),e.jsx("div",{className:"text-red-500 text-xs mt-1",children:new Date(I.created_at).toLocaleString()})]},I.id)),(!(o!=null&&o.deletions)||o.deletions.length===0)&&e.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No deletions recorded"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-2",children:[e.jsx(Xj,{className:"w-5 h-5 text-amber-500"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Early SD Removals"})]}),e.jsxs("div",{className:"p-4 space-y-2 max-h-64 overflow-y-auto",children:[(Bl=o==null?void 0:o.early_removals)==null?void 0:Bl.map(I=>e.jsxs("div",{className:"p-2 bg-amber-50 rounded-lg text-sm",children:[e.jsxs("div",{className:"font-medium text-amber-900",children:[I.user," - Camera ",I.camera]}),e.jsxs("div",{className:"text-amber-700 text-xs",children:[I.files_pending," files not copied"]}),e.jsx("div",{className:"text-amber-500 text-xs mt-1",children:new Date(I.created_at).toLocaleString()})]},I.id)),(!(o!=null&&o.early_removals)||o.early_removals.length===0)&&e.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No early removals recorded"})]})]})]})]}),a==="sdcards"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Ne,{title:"Total SD Cards",value:((sr=d==null?void 0:d.summary)==null?void 0:sr.total_cards)||0,icon:K,color:"sky"}),e.jsx(Ne,{title:"Currently In Use",value:((Wr=d==null?void 0:d.summary)==null?void 0:Wr.in_use)||0,icon:re,color:"emerald"}),e.jsx(Ne,{title:"Available",value:((Xa=d==null?void 0:d.summary)==null?void 0:Xa.available)||0,icon:ee,color:"sky"}),e.jsx(Ne,{title:"Avg Reliability",value:`${((Vc=d==null?void 0:d.summary)==null?void 0:Vc.avg_reliability)||100}%`,icon:Un,color:((qc=d==null?void 0:d.summary)==null?void 0:qc.avg_reliability)<90?"amber":"emerald"})]}),((Wc=d==null?void 0:d.problematic_cards)==null?void 0:Wc.length)>0&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-amber-900 mb-3",children:" Cards Needing Attention"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:d.problematic_cards.map(I=>e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsxs("div",{className:"font-medium",children:["Camera ",I.camera_number,I.sd_label]}),e.jsx("div",{className:"text-xs text-gray-500",children:I.hardware_id}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx(Ei,{percentage:I.reliability_score,color:"amber",size:"sm"}),e.jsxs("span",{className:"text-xs text-amber-600",children:[I.reliability_score,"%"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[I.early_removals," early removals"]})]},I.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"All SD Cards"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Card"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sessions"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Reliability"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Last Used"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(Gc=d==null?void 0:d.cards)==null?void 0:Gc.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsxs("div",{className:"font-medium",children:["Camera ",I.camera_number,I.sd_label]}),e.jsx("div",{className:"text-xs text-gray-500",children:I.hardware_id})]}),e.jsx("td",{className:"px-4 py-3 text-right",children:I.total_sessions}),e.jsx("td",{className:"px-4 py-3 text-right",children:I.total_files_processed}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:"w-16",children:e.jsx(Ei,{percentage:I.reliability_score,color:I.reliability_score>=90?"emerald":I.reliability_score>=70?"amber":"red",size:"sm"})}),e.jsxs("span",{className:"text-xs",children:[I.reliability_score,"%"]})]})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${I.status==="in_use"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:I.status==="in_use"?"In Use":"Available"})}),e.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-500",children:I.last_used?new Date(I.last_used).toLocaleDateString():"Never"})]},I.id))})]})})]})]}),a==="leaderboard"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Group Performance"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Today"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Yesterday"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"This Week"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Backup %"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Trend"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(Qc=m==null?void 0:m.group_comparison)==null?void 0:Qc.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium",children:I.group_code}),e.jsxs("div",{className:"text-xs text-gray-500",children:[I.member_count," members"]})]}),e.jsx("td",{className:"px-4 py-3 text-right font-bold",children:I.files_today}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:I.files_yesterday}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:I.files_this_week}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:"w-16",children:e.jsx(Ei,{percentage:I.backup_percentage,color:"emerald",size:"sm"})}),e.jsxs("span",{className:"text-xs",children:[I.backup_percentage,"%"]})]})}),e.jsx("td",{className:"px-4 py-3 text-center",children:I.trend==="up"?e.jsx(Ot,{className:"w-5 h-5 text-emerald-500 mx-auto"}):I.trend==="down"?e.jsx(_r,{className:"w-5 h-5 text-red-500 mx-auto"}):e.jsx(Bc,{className:"w-5 h-5 text-gray-400 mx-auto"})})]},I.id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:" Editor Leaderboard"})}),e.jsx("div",{className:"p-4 space-y-3",children:(Kc=m==null?void 0:m.editor_leaderboard)==null?void 0:Kc.map((I,ke)=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold ${ke===0?"bg-amber-100 text-amber-700":ke===1?"bg-gray-200 text-gray-700":ke===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:ke<3?["","",""][ke]:ke+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:I.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[I.files_this_week," files this week"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:I.files_today}),e.jsxs("div",{className:`text-xs flex items-center justify-end gap-1 ${I.trend==="up"?"text-emerald-600":I.trend==="down"?"text-red-600":"text-gray-500"}`,children:[I.trend==="up"?e.jsx(Ot,{className:"w-3 h-3"}):I.trend==="down"?e.jsx(_r,{className:"w-3 h-3"}):null,I.change_percent>0?"+":"",I.change_percent,"% vs yesterday"]})]})]},I.id))})]})]}),a==="planning"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Ne,{title:"Pending Copies",value:((Yc=j==null?void 0:j.pending_work)==null?void 0:Yc.copies)||0,icon:re,color:"sky"}),e.jsx(Ne,{title:"Pending Backups",value:((Jc=j==null?void 0:j.pending_work)==null?void 0:Jc.backups)||0,icon:K,color:"amber"}),e.jsx(Ne,{title:"Pending Verification",value:((Xc=j==null?void 0:j.pending_work)==null?void 0:Xc.verification)||0,icon:ee,color:"purple"}),e.jsx(Ne,{title:"Total Pending",value:((Zc=j==null?void 0:j.pending_work)==null?void 0:Zc.total)||0,icon:Un,color:"red"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Estimated Completion Time"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-sky-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Copies ETA"}),e.jsx("div",{className:"text-2xl font-bold text-sky-700",children:((ed=j==null?void 0:j.eta)==null?void 0:ed.copies_formatted)||"N/A"})]}),e.jsx(wi,{className:"w-8 h-8 text-sky-500"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Backups ETA"}),e.jsx("div",{className:"text-2xl font-bold text-amber-700",children:((td=j==null?void 0:j.eta)==null?void 0:td.backups_formatted)||"N/A"})]}),e.jsx(wi,{className:"w-8 h-8 text-amber-500"})]}),e.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Based on ",((sd=j==null?void 0:j.processing_rate)==null?void 0:sd.files_per_hour)||0," files/hour processing rate"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Resource Status"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`p-4 rounded-lg ${((rd=j==null?void 0:j.resources)==null?void 0:rd.status)==="understaffed"?"bg-red-50":((ad=j==null?void 0:j.resources)==null?void 0:ad.status)==="overstaffed"?"bg-amber-50":"bg-emerald-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("div",{className:`text-xl font-bold capitalize ${((nd=j==null?void 0:j.resources)==null?void 0:nd.status)==="understaffed"?"text-red-700":((ld=j==null?void 0:j.resources)==null?void 0:ld.status)==="overstaffed"?"text-amber-700":"text-emerald-700"}`,children:((id=j==null?void 0:j.resources)==null?void 0:id.status)||"Unknown"})]}),e.jsx(he,{className:`w-8 h-8 ${((od=j==null?void 0:j.resources)==null?void 0:od.status)==="understaffed"?"text-red-500":((cd=j==null?void 0:j.resources)==null?void 0:cd.status)==="overstaffed"?"text-amber-500":"text-emerald-500"}`})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:((dd=j==null?void 0:j.resources)==null?void 0:dd.online_editors)||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Online Editors"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:((ud=j==null?void 0:j.resources)==null?void 0:ud.recommended_editors)||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Recommended"})]})]}),e.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Workload: ",((md=j==null?void 0:j.resources)==null?void 0:md.workload_per_editor)||0," files per editor"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Editor Workload Distribution"})}),e.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:(xd=j==null?void 0:j.editor_workload)==null?void 0:xd.map(I=>e.jsxs("div",{className:`p-3 rounded-lg border ${I.status==="overloaded"?"border-red-200 bg-red-50":I.status==="busy"?"border-amber-200 bg-amber-50":I.status==="available"?"border-emerald-200 bg-emerald-50":"border-gray-200 bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:`w-2.5 h-2.5 ${I.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),e.jsx("span",{className:"font-medium",children:I.name})]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${I.status==="overloaded"?"bg-red-200 text-red-700":I.status==="busy"?"bg-amber-200 text-amber-700":I.status==="available"?"bg-emerald-200 text-emerald-700":"bg-gray-200 text-gray-600"}`,children:I.status})]}),e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsx("span",{className:"font-bold",children:I.pending_files})," files pending"]})]},I.id))})]})]})]})}function wb(t){if(!t)return null;const a=new Date(t)-new Date;if(a<=0)return{expired:!0,text:"Ended"};const n=Math.floor(a/(1e3*60*60*24)),l=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),i=Math.floor(a%(1e3*60*60)/(1e3*60));return n>0?{expired:!1,text:`${n}d ${l}h remaining`}:l>0?{expired:!1,text:`${l}h ${i}m remaining`}:{expired:!1,text:`${i}m remaining`}}function kb(){const{refreshActiveEvent:t}=ce(),[s,r]=p.useState([]),[a,n]=p.useState(!0),[l,i]=p.useState(!1),[o,c]=p.useState(null),[d,u]=p.useState(!1),[m,g]=p.useState(!1),[j,f]=p.useState(null),[b,_]=p.useState(null),[x,y]=p.useState(null),[h,S]=p.useState(!1),[v,N]=p.useState({name:"",description:"",location:"",start_date:"",start_time:"09:00",end_date:"",end_time:"17:00",auto_delete_enabled:!0,auto_delete_days_after_end:30});p.useEffect(()=>{w()},[]);const w=async()=>{try{const A=await as.getAll();r(A.data||[])}catch(A){console.error("Failed to load events:",A)}finally{n(!1)}},k=async A=>{A.preventDefault();try{const O={...v,start_datetime:v.start_date&&v.start_time?`${v.start_date}T${v.start_time}:00`:null,end_datetime:v.end_date&&v.end_time?`${v.end_date}T${v.end_time}:00`:null};o!=null&&o.id?await as.update(o.id,O):await as.create(O),i(!1),c(null),N({name:"",description:"",location:"",start_date:"",start_time:"09:00",end_date:"",end_time:"17:00",auto_delete_enabled:!0,auto_delete_days_after_end:30}),w()}catch(O){console.error(o!=null&&o.id?"Failed to update event:":"Failed to create event:",O)}},E=()=>{c(null),N({name:"",description:"",location:"",start_date:"",start_time:"09:00",end_date:"",end_time:"17:00",auto_delete_enabled:!0,auto_delete_days_after_end:30}),i(!0)},P=A=>{A&&(c(A),N({name:A.name??"",description:A.description??"",location:A.location??"",start_date:(A.start_datetime??A.start_date??"").slice(0,10),start_time:A.start_datetime?new Date(A.start_datetime).toISOString().slice(11,16):"09:00",end_date:(A.end_datetime??A.end_date??"").slice(0,10),end_time:A.end_datetime?new Date(A.end_datetime).toISOString().slice(11,16):"17:00",auto_delete_enabled:A.auto_delete_enabled??!0,auto_delete_days_after_end:A.auto_delete_days_after_end??30}),i(!0))},R=(A,O)=>{if(!A)return"-";const C=new Date(A),L={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return C.toLocaleString(void 0,L)},B=async(A,O=!1)=>{var C,L,z,H;S(!0);try{const W=await as.activate(A,O);t&&await t(),w(),g(!1),f(null),_(null)}catch(W){if((W==null?void 0:W.code)==="ACTIVE_EVENT_EXISTS"||((L=(C=W==null?void 0:W.response)==null?void 0:C.data)==null?void 0:L.code)==="ACTIVE_EVENT_EXISTS"){const Z=(W==null?void 0:W.active_event)||((H=(z=W==null?void 0:W.response)==null?void 0:z.data)==null?void 0:H.active_event);_(Z),f(A),g(!0)}else console.error("Failed to activate event:",W)}finally{S(!1)}},$=async()=>{j&&await B(j,!0)},q=async A=>{try{await as.complete(A),w()}catch(O){console.error("Failed to complete event:",O)}},F={draft:"bg-gray-100 text-gray-700",active:"bg-green-100 text-green-700 ring-2 ring-green-400 ring-offset-1",completed:"bg-blue-100 text-blue-700",archived:"bg-gray-100 text-gray-500"},Q=[...s].sort((A,O)=>A.status==="active"&&O.status!=="active"?-1:O.status==="active"&&A.status!=="active"?1:new Date(O.start_date)-new Date(A.start_date));return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Events"}),e.jsx("p",{className:"text-gray-500",children:"Manage healing service events"})]}),e.jsxs("button",{onClick:E,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[e.jsx(qr,{className:"w-5 h-5"}),"New Event"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Q.map(A=>{const O=A.status==="active",C=O?wb(A.end_datetime||A.end_date):null;return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm overflow-hidden transition-all ${O?"border-2 border-green-400 ring-4 ring-green-100":"border border-gray-100"}`,children:[O&&e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"font-semibold text-sm",children:"RUNNING NOW"})]}),C&&!C.expired&&e.jsx("span",{className:"text-white/90 text-sm font-medium",children:C.text}),(C==null?void 0:C.expired)&&e.jsx("span",{className:"text-yellow-200 text-sm font-medium",children:"Past end date"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold ${O?"text-green-700":"text-gray-900"}`,children:A.name}),e.jsx("p",{className:"text-sm text-gray-500",children:A.code})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${F[A.status]}`,children:O?e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(za,{className:"w-3 h-3"}),"Active"]}):A.status})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"w-4 h-4"}),e.jsx("span",{children:R(A.start_datetime||A.start_date)})]}),(A.end_datetime||A.end_date)&&e.jsxs("div",{className:`flex items-center gap-2 ${O?"text-green-600 font-medium":""}`,children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsxs("span",{children:["Ends: ",R(A.end_datetime||A.end_date)]})]}),A.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zc,{className:"w-4 h-4"}),e.jsx("span",{children:A.location})]}),A.auto_delete_enabled&&e.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[e.jsx(It,{className:"w-4 h-4"}),e.jsxs("span",{children:["Auto-delete ",A.auto_delete_days_after_end||30,"d after end"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(it,{className:"w-4 h-4"}),e.jsx("span",{children:A.media_count||0})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsxs("span",{children:[A.groups_count||0," groups"]})]})]})]}),e.jsxs("div",{className:`px-6 py-3 border-t flex gap-2 ${O?"bg-green-50 border-green-100":"bg-gray-50 border-gray-100"}`,children:[A.status==="draft"&&e.jsxs("button",{onClick:()=>B(A.id),disabled:h,className:"flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded disabled:opacity-50",children:[e.jsx(Vr,{className:"w-4 h-4"}),h?"Activating...":"Activate Event"]}),A.status==="active"&&e.jsxs("button",{onClick:()=>q(A.id),className:"flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded",children:[e.jsx(ee,{className:"w-4 h-4"}),"Mark Complete"]}),e.jsx("button",{onClick:()=>P(A),className:"flex-1 text-center py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded",children:"Edit"}),e.jsx("button",{onClick:()=>{y(A),u(!0)},className:"flex-1 text-center py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded",children:"View Details"})]})]},A.id)})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:o!=null&&o.id?"Edit Event":"Create New Event"}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Name"}),e.jsx("input",{type:"text",value:v.name,onChange:A=>N({...v,name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:v.description,onChange:A=>N({...v,description:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:v.location,onChange:A=>N({...v,location:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:v.start_date,onChange:A=>N({...v,start_date:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),e.jsx("input",{type:"time",value:v.start_time,onChange:A=>N({...v,start_time:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:v.end_date,onChange:A=>N({...v,end_date:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),e.jsx("input",{type:"time",value:v.end_time,onChange:A=>N({...v,end_time:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(G,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Data Protection"})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("input",{type:"checkbox",id:"auto_delete",checked:v.auto_delete_enabled,onChange:A=>N({...v,auto_delete_enabled:A.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"auto_delete",className:"text-sm text-gray-700",children:"Auto-delete media from editor devices after event"})]}),v.auto_delete_enabled&&e.jsxs("div",{className:"ml-7",children:[e.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Delete files ",e.jsx("span",{className:"font-medium",children:v.auto_delete_days_after_end})," days after event ends"]}),e.jsx("input",{type:"range",min:"1",max:"90",value:v.auto_delete_days_after_end,onChange:A=>N({...v,auto_delete_days_after_end:parseInt(A.target.value)}),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[e.jsx("span",{children:"1 day"}),e.jsx("span",{children:"30 days"}),e.jsx("span",{children:"90 days"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{i(!1),c(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:o!=null&&o.id?"Save Changes":"Create Event"})]})]})]})}),d&&x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg p-6 m-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:x.name}),e.jsx("p",{className:"text-sm text-gray-500",children:x.code})]}),e.jsx("button",{onClick:()=>u(!1),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Ee,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Status"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${F[x.status]}`,children:x.status})]}),x.description&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Description"}),e.jsx("p",{className:"text-gray-900 mt-1",children:x.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Start"}),e.jsx("p",{className:"text-gray-900 font-medium",children:R(x.start_datetime||x.start_date)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"End"}),e.jsx("p",{className:"text-gray-900 font-medium",children:R(x.end_datetime||x.end_date)})]})]}),x.auto_delete_enabled&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[e.jsx(It,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"Data Protection Active"})]}),e.jsxs("p",{className:"text-sm text-orange-600 mt-1",children:["Media files will be auto-deleted from editor devices ",x.auto_delete_days_after_end||30," days after event ends"]})]}),x.location&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Location"}),e.jsx("p",{className:"text-gray-900",children:x.location})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.media_count||0}),e.jsx("p",{className:"text-sm text-gray-500",children:"Media Files"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.groups_count||0}),e.jsx("p",{className:"text-sm text-gray-500",children:"Groups"})]})]})]}),e.jsx("div",{className:"flex gap-3 mt-6",children:e.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Close"})})]})}),m&&b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center",children:e.jsx(G,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Another Event is Active"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Only one event can be active at a time"})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium text-green-700",children:"Currently Running"})]}),e.jsx("p",{className:"font-semibold text-gray-900",children:b.name}),e.jsx("p",{className:"text-sm text-gray-500",children:b.code}),b.end_date&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Ends: ",R(b.end_date)]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Activating a new event will automatically mark ",e.jsx("strong",{children:b.name})," as completed. Do you want to proceed?"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{g(!1),f(null),_(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:$,disabled:h,className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50",children:h?"Switching...":"Switch Event"})]})]})})]})}function _b(){var F,Q;const{activeEvent:t}=ce(),[s,r]=p.useState([]),[a,n]=p.useState(!0),[l,i]=p.useState(!1),[o,c]=p.useState(null),[d,u]=p.useState(null),[m,g]=p.useState([]),[j,f]=p.useState(!1),[b,_]=p.useState([]),[x,y]=p.useState([]),[h,S]=p.useState(""),[v,N]=p.useState({name:"",description:"",leader_id:"",leader_phone:""});p.useEffect(()=>{w()},[t==null?void 0:t.id]);const w=async()=>{try{const A=await Lt.getAll({event_id:t==null?void 0:t.id});r(A.data||[])}catch(A){console.error("Failed to load data:",A)}finally{n(!1)}},k=async A=>{A.preventDefault();try{if(o!=null&&o.id)await Lt.update(o.id,{...v,leader_id:v.leader_id?Number(v.leader_id):null});else{if(!(t!=null&&t.id)){console.error("No active event set; cannot create group");return}await Lt.create({...v,leader_id:v.leader_id?Number(v.leader_id):null,event_id:t.id})}i(!1),c(null),N({name:"",description:"",leader_id:"",leader_phone:""}),w()}catch(O){console.error(o!=null&&o.id?"Failed to update group:":"Failed to create group:",O)}},E=async()=>{if(t!=null&&t.id){try{const A=await Be.getAll({per_page:200}),O=A.data||A||[];y(O)}catch(A){console.error("Failed to load users for leader selection:",A),y([])}c(null),N({name:"",description:"",leader_id:"",leader_phone:""}),i(!0)}},P=async()=>{var A;if(d){try{const O=await Be.getAll({per_page:200}),C=O.data||O||[];y(C)}catch(O){console.error("Failed to load users for leader selection:",O),y([])}c(d),N({name:d.name??"",description:d.description??"",leader_id:(A=d.leader)!=null&&A.id?String(d.leader.id):"",leader_phone:d.leader_phone??""}),i(!0)}},R=async A=>{try{const O=await Lt.getMembers(A);g(O.members||[])}catch(O){console.error("Failed to load members:",O)}},B=async A=>{u(A),await R(A.id)},$=async()=>{try{const A=await Be.getAll({per_page:100}),O=A.data||A||[],C=m.map(L=>L.id);_(O.filter(L=>!C.includes(L.id))),f(!0)}catch(A){console.error("Failed to load users:",A)}},q=async()=>{if(!(!h||!d))try{await Lt.addMember(d.id,h),await R(d.id),f(!1),S("")}catch(A){console.error("Failed to add member:",A)}};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Groups"}),e.jsxs("p",{className:"text-gray-500",children:["Manage editor groups and team leaders",t!=null&&t.name?`  Active event: ${t.name}`:""]})]}),e.jsxs("button",{onClick:E,disabled:!(t!=null&&t.id),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[e.jsx(qr,{className:"w-5 h-5"}),"New Group"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"All Groups"})}),e.jsxs("div",{className:"divide-y divide-gray-100 max-h-[600px] overflow-y-auto",children:[s.length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No groups created yet"}),s.map(A=>e.jsxs("button",{onClick:()=>B(A),className:`w-full p-4 text-left hover:bg-gray-50 flex items-center justify-between ${(d==null?void 0:d.id)===A.id?"bg-blue-50":""}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:A.group_code}),A.open_issues>0&&e.jsx("span",{className:"px-1.5 py-0.5 bg-red-100 text-red-700 rounded text-xs",children:A.open_issues})]}),e.jsx("p",{className:"text-sm text-gray-500",children:A.name}),e.jsxs("p",{className:"text-xs text-gray-400",children:[A.members_count||0," members"]})]}),e.jsx(Ks,{className:"w-5 h-5 text-gray-400"})]},A.id))]})]}),e.jsx("div",{className:"lg:col-span-2",children:d?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[d.group_code," - ",d.name]}),e.jsx("p",{className:"text-gray-500",children:d.description||"No description"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${d.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:d.is_active?"Active":"Inactive"}),e.jsx("button",{onClick:P,className:"px-3 py-1 rounded text-xs font-medium text-gray-700 hover:bg-gray-100 border border-gray-200",children:"Edit"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Leader"}),e.jsx("p",{className:"font-medium text-gray-900",children:((F=d.leader)==null?void 0:F.name)||"Not assigned"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Event"}),e.jsx("p",{className:"font-medium text-gray-900",children:((Q=d.event)==null?void 0:Q.name)||"Unknown"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Team Members"}),e.jsxs("button",{onClick:$,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[e.jsx(Hc,{className:"w-4 h-4"}),"Add Member"]})]}),e.jsxs("div",{className:"divide-y divide-gray-100",children:[m.length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No members in this group"}),m.map(A=>{var O,C;return e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 font-medium",children:((C=(O=A.name)==null?void 0:O.charAt(0))==null?void 0:C.toUpperCase())||"U"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:A.name}),e.jsx("p",{className:"text-sm text-gray-500",children:A.email})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right text-sm",children:[e.jsxs("p",{className:"text-gray-900",children:[A.media_today||0," files today"]}),A.open_issues>0&&e.jsxs("p",{className:"text-red-600",children:[A.open_issues," issues"]})]}),e.jsx("div",{className:`w-3 h-3 rounded-full ${A.is_online?"bg-green-500":"bg-gray-300"}`,title:A.is_online?"Online":"Offline"})]})]},A.id)})]})]})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[e.jsx(he,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Select a group to view details"})]})})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:o!=null&&o.id?"Edit Group":"Create New Group"}),!(t!=null&&t.id)&&e.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-800",children:"You must activate an event before creating groups."}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Name"}),e.jsx("input",{type:"text",value:v.name,onChange:A=>N({...v,name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Blue Team - Camera 3",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:v.description,onChange:A=>N({...v,description:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Leader"}),e.jsxs("select",{value:v.leader_id,onChange:A=>N({...v,leader_id:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Not assigned"}),x.map(A=>e.jsxs("option",{value:A.id,children:[A.name," (",A.email,")"]},A.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leader Phone"}),e.jsx("input",{type:"tel",value:v.leader_phone,onChange:A=>N({...v,leader_phone:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"+254..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{i(!1),c(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!(o!=null&&o.id)&&!(t!=null&&t.id),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:o!=null&&o.id?"Save Changes":"Create Group"})]})]})]})}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add Team Member"}),e.jsx("button",{onClick:()=>f(!1),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Ee,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),e.jsxs("select",{value:h,onChange:A=>S(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Choose a user..."}),b.map(A=>e.jsxs("option",{value:A.id,children:[A.name," (",A.email,")"]},A.id))]})]}),b.length===0&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No available users to add"}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:q,disabled:!h,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Add Member"})]})]})]})})]})}function Sb(){const{activeEvent:t}=ce(),[s,r]=p.useState([]),[a,n]=p.useState([]),[l,i]=p.useState(!0),[o,c]=p.useState(""),[d,u]=p.useState(""),[m,g]=p.useState(null),[j,f]=p.useState({type:"",text:""}),[b,_]=p.useState(!1),[x,y]=p.useState(null),[h,S]=p.useState({camera_id:"",group_id:"",model:"",serial_number:"",status:"active",notes:""});p.useEffect(()=>{v()},[o,d,t==null?void 0:t.id]);const v=async()=>{i(!0);try{if(!(t!=null&&t.id)){r([]),n([]),g(null);return}const[R,B,$]=await Promise.all([ra.getAll({event_id:t.id,search:o,status:d}),Lt.getAll({event_id:t.id}),ra.getStats({event_id:t.id})]);r(R.data.data||R.data),n(B.data.data||B.data),g($.data)}catch{f({type:"error",text:"Failed to load cameras"})}finally{i(!1)}},N=async R=>{R.preventDefault();try{x?(await ra.update(x.id,h),f({type:"success",text:"Camera updated successfully"})):(await ra.create(h),f({type:"success",text:"Camera created successfully"})),_(!1),E(),v()}catch(B){f({type:"error",text:B.message||"Operation failed"})}},w=async R=>{if(confirm(`Delete camera ${R.camera_id}?`))try{await ra.delete(R.id),f({type:"success",text:"Camera deleted"}),v()}catch{f({type:"error",text:"Failed to delete camera"})}},k=R=>{y(R),S({camera_id:R.camera_id,group_id:R.group_id,model:R.model||"",serial_number:R.serial_number||"",status:R.status,notes:R.notes||""}),_(!0)},E=()=>{y(null),S({camera_id:"",group_id:"",model:"",serial_number:"",status:"active",notes:""})},P=R=>{const B={active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-700",maintenance:"bg-amber-100 text-amber-700"};return e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${B[R]||B.inactive}`,children:R})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cameras"}),e.jsxs("p",{className:"text-gray-500",children:["Manage cameras and SD card bindings",t!=null&&t.name?`  Active event: ${t.name}`:""]})]}),e.jsxs("button",{onClick:()=>{E(),_(!0)},disabled:!(t!=null&&t.id),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[e.jsx(qr,{className:"w-4 h-4"}),"Add Camera"]})]}),!(t!=null&&t.id)&&e.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing cameras."}),j.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${j.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[j.type==="success"?e.jsx(ee,{className:"w-5 h-5"}):e.jsx(We,{className:"w-5 h-5"}),j.text,e.jsx("button",{onClick:()=>f({type:"",text:""}),className:"ml-auto",children:""})]}),m&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Cameras"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.total})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.active})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"With SD Card"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:m.with_sd_card})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Maintenance"}),e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:m.maintenance})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search cameras...",value:o,onChange:R=>c(R.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("select",{value:d,onChange:R=>u(R.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),l?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Nt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(R=>{var B;return e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(Le,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:R.camera_id}),e.jsx("p",{className:"text-sm text-gray-500",children:R.model||"No model"})]})]}),P(R.status)]}),e.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Group:"}),e.jsx("span",{className:"font-medium",children:((B=R.group)==null?void 0:B.group_code)||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Serial:"}),e.jsx("span",{className:"font-medium",children:R.serial_number||"-"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"SD Card:"}),R.current_sd_card?e.jsxs("span",{className:"flex items-center gap-1 text-green-600 font-medium",children:[e.jsx($j,{className:"w-4 h-4"}),R.current_sd_card.sd_card_id]}):e.jsx("span",{className:"text-gray-400",children:"Not bound"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>k(R),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 text-sm font-medium",children:[e.jsx(dh,{className:"w-4 h-4"}),"Edit"]}),e.jsx("button",{onClick:()=>w(R),className:"flex items-center justify-center gap-1 px-3 py-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:e.jsx(It,{className:"w-4 h-4"})})]})]},R.id)})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:x?"Edit Camera":"Add Camera"}),e.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Camera ID *"}),e.jsx("input",{type:"text",value:h.camera_id,onChange:R=>S({...h,camera_id:R.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group *"}),e.jsxs("select",{value:h.group_id,onChange:R=>S({...h,group_id:R.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select group..."}),a.map(R=>e.jsxs("option",{value:R.id,children:[R.group_code," - ",R.name]},R.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),e.jsx("input",{type:"text",value:h.model,onChange:R=>S({...h,model:R.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),e.jsx("input",{type:"text",value:h.serial_number,onChange:R=>S({...h,serial_number:R.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:h.status,onChange:R=>S({...h,status:R.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{value:h.notes,onChange:R=>S({...h,notes:R.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 resize-none",rows:2})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>_(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:x?"Update":"Create"})]})]})]})})]})}function Cb({media:t,onClose:s}){const[r,a]=p.useState(null),[n,l]=p.useState(!0),[i,o]=p.useState(null);return p.useEffect(()=>{if(!(t!=null&&t.media_id))return;(async()=>{var d;l(!0),o(null);try{const u=await rt.getPlaybackSource(t.media_id);a(u.source),await rt.logPlayback(t.media_id,{source_type:((d=u.source)==null?void 0:d.type)||"unknown"}).catch(()=>{})}catch(u){console.error("Failed to get playback source:",u),o("Failed to load playback source"),t.preview_url&&a({type:"fallback",url:t.preview_url,available:!0})}finally{l(!1)}})()},[t==null?void 0:t.media_id]),t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.filename}),e.jsx("p",{className:"text-sm text-gray-500",children:t.media_id})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"aspect-video bg-black",children:n?e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{children:"Loading playback source..."})]})}):r!=null&&r.available&&(r!=null&&r.url)?e.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:r.url,children:"Your browser does not support video playback."}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(it,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:i||"Preview not available"}),e.jsx("p",{className:"text-sm mt-1",children:(r==null?void 0:r.label)||"File is stored on backup disk"}),(r==null?void 0:r.type)==="editor_stream"&&e.jsx("p",{className:"text-xs mt-2 text-yellow-400",children:"Editor must be online for streaming"})]})})}),e.jsxs("div",{className:"p-4 bg-gray-50",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Person:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.full_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Condition:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.condition||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Region:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.region||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.status})]})]}),r&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["Source: ",e.jsx("span",{className:"font-medium",children:r.label||r.type})]})})]})]})}):null}function Eb(){const{activeEvent:t,isQA:s,isQALead:r,isBackup:a,isBackupLead:n,isAdmin:l,isTeamLead:i,isGroupLeader:o}=ce(),[c,d]=p.useState([]),[u,m]=p.useState(!0),[g,j]=p.useState(null),f=s()||r(),b=a()||n(),_=l()||i()||o(),[x,y]=p.useState({full_name:"",condition:"",region:"",status:"",type:"",page:1}),[h,S]=p.useState({current_page:1,last_page:1,total:0});p.useEffect(()=>{v()},[x,t==null?void 0:t.id]);const v=async()=>{m(!0);try{const P=Object.fromEntries(Object.entries(x).filter(([B,$])=>$!==""));t!=null&&t.id&&(P.event_id=t.id);const R=await rt.search(P);d(R.data||[]),S({current_page:R.current_page||1,last_page:R.last_page||1,total:R.total||0})}catch(P){console.error("Failed to load media:",P)}finally{m(!1)}},N=P=>{P.preventDefault(),y({...x,page:1})},w=P=>{y({...x,page:P})},k={indexed:"bg-gray-100 text-gray-700",synced:"bg-blue-100 text-blue-700",backed_up:"bg-yellow-100 text-yellow-700",verified:"bg-green-100 text-green-700",issue:"bg-red-100 text-red-700"},E=P=>{if(!P)return"0 B";const R=1024,B=["B","KB","MB","GB"],$=Math.floor(Math.log(P)/Math.log(R));return parseFloat((P/Math.pow(R,$)).toFixed(2))+" "+B[$]};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Media Search"}),e.jsx("p",{className:"text-gray-500",children:f?"Search media with issues  you cannot search by name or region":b?"View backup status  you see coverage, not content":"Search and browse all indexed media files"})]}),f&&e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-3 text-sm text-purple-700 flex items-center gap-2",children:[e.jsx(Mr,{className:"w-4 h-4"}),e.jsxs("span",{children:[e.jsx("strong",{children:"QA Access:"})," You can only search by issue status. Name, region, and clean footage are hidden."]})]}),b&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 text-sm text-green-700 flex items-center gap-2",children:[e.jsx(Mr,{className:"w-4 h-4"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Backup Access:"})," You see file status and coverage only. No content playback available."]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[_&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:x.full_name,onChange:P=>y({...x,full_name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Search name..."})]}),!b&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Condition"}),e.jsx("input",{type:"text",value:x.condition,onChange:P=>y({...x,condition:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Cripple"})]}),_&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Region"}),e.jsx("input",{type:"text",value:x.region,onChange:P=>y({...x,region:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Kisumu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Status"}),e.jsxs("select",{value:x.status,onChange:P=>y({...x,status:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"indexed",children:"Indexed"}),e.jsx("option",{value:"synced",children:"Synced"}),e.jsx("option",{value:"backed_up",children:"Backed Up"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"issue",children:"Has Issues"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Type"}),e.jsxs("select",{value:x.type,onChange:P=>y({...x,type:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"before",children:"Before"}),e.jsx("option",{value:"after",children:"After"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[e.jsx(Jt,{className:"w-4 h-4"}),"Search"]})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"File"}),_&&e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Person"}),!b&&e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Condition"}),_&&e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Region"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Size"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[c.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No media found. Try adjusting your search filters."})}),c.map(P=>{var R,B;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(it,{className:"w-5 h-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 truncate max-w-xs",children:P.filename}),e.jsx("p",{className:"text-xs text-gray-500",children:P.media_id})]})]})}),_&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-900",children:P.full_name||"-"}),e.jsx("p",{className:"text-xs text-gray-500",children:P.age?`${P.age} years`:"-"})]})}),!b&&e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:P.condition||"-"}),_&&e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:P.region||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:E(P.size_bytes)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${k[P.status]}`,children:P.status}),((R=P.issues)==null?void 0:R.length)>0&&e.jsx(G,{className:"w-4 h-4 text-red-500"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2",children:[!b&&(_||f&&((B=P.issues)==null?void 0:B.length)>0)&&e.jsx("button",{onClick:()=>j(P),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Play",children:e.jsx(Vr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j(P),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"View Details",children:e.jsx(Mt,{className:"w-4 h-4"})})]})})]},P.id)})]})]})}),h.last_page>1&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",h.current_page," of ",h.last_page," (",h.total," total)"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w(h.current_page-1),disabled:h.current_page===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Previous"}),e.jsx("button",{onClick:()=>w(h.current_page+1),disabled:h.current_page===h.last_page,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Next"})]})]})]}),g&&e.jsx(Cb,{media:g,onClose:()=>j(null)})]})}function nm({percentage:t,color:s="emerald"}){const r={emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500"};return e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${r[s]} transition-all duration-500`,style:{width:`${Math.min(t,100)}%`}})})}function Nn({title:t,value:s,subtitle:r,icon:a,color:n}){const l={emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",red:"bg-red-50 text-red-600",sky:"bg-sky-50 text-sky-600"};return e.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]}),e.jsx("div",{className:`p-3 rounded-lg ${l[n]}`,children:e.jsx(a,{className:"w-5 h-5"})})]})})}function Ab(){var d,u,m,g,j,f,b,_;const{activeEvent:t}=ce(),[s,r]=p.useState(null),[a,n]=p.useState(!0),[l,i]=p.useState("overview");p.useEffect(()=>{o()},[t==null?void 0:t.id]);const o=async()=>{try{if(n(!0),!(t!=null&&t.id)){r(null);return}const x=await wj.getOverview(t==null?void 0:t.id);r(x)}catch(x){console.error("Failed to load quality control data:",x)}finally{n(!1)}};if(a&&!s)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(oe,{className:"w-8 h-8 animate-spin text-sky-500"})});const c=(s==null?void 0:s.overview)||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quality Control"}),e.jsx("p",{className:"text-gray-500 text-sm",children:t?e.jsxs(e.Fragment,{children:["Event: ",e.jsx("span",{className:"font-medium text-sky-600",children:t.name})]}):"Monitor filename errors and editor performance"})]}),e.jsxs("button",{onClick:o,disabled:a||!(t!=null&&t.id),className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:[e.jsx(oe,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]})]}),!(t!=null&&t.id)&&e.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing Quality Control."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Nn,{title:"Total Media",value:((d=c.total_media)==null?void 0:d.toLocaleString())||0,subtitle:`${c.valid_percentage||100}% valid`,icon:js,color:"sky"}),e.jsx(Nn,{title:"Valid Files",value:((u=c.valid_count)==null?void 0:u.toLocaleString())||0,subtitle:"Properly named",icon:ee,color:"emerald"}),e.jsx(Nn,{title:"Warnings",value:((m=c.warning_count)==null?void 0:m.toLocaleString())||0,subtitle:"Minor issues",icon:G,color:"amber"}),e.jsx(Nn,{title:"Errors",value:((g=c.error_count)==null?void 0:g.toLocaleString())||0,subtitle:`${c.error_rate||0}% error rate`,icon:Ft,color:"red"})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex gap-6",children:[{id:"overview",label:"By Editor",icon:he},{id:"groups",label:"By Group",icon:he},{id:"issues",label:"Common Issues",icon:G},{id:"training",label:"Needs Training",icon:Xu}].map(x=>e.jsxs("button",{onClick:()=>i(x.id),className:`flex items-center gap-2 py-3 border-b-2 transition-colors text-sm ${l===x.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(x.icon,{className:"w-4 h-4"}),x.label]},x.id))})}),l==="overview"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality by Editor"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Valid"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Warnings"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Errors"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Error Rate"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Quality Score"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(j=s==null?void 0:s.by_editor)==null?void 0:j.map(x=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:x.editor_name}),x.needs_training&&e.jsx("span",{className:"px-1.5 py-0.5 bg-amber-100 text-amber-700 text-xs rounded",children:"Needs Training"})]})}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:x.total_files.toLocaleString()}),e.jsx("td",{className:"px-4 py-3 text-right text-emerald-600",children:x.valid.toLocaleString()}),e.jsx("td",{className:"px-4 py-3 text-right text-amber-600",children:x.warnings.toLocaleString()}),e.jsx("td",{className:"px-4 py-3 text-right text-red-600",children:x.errors.toLocaleString()}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:"w-16",children:e.jsx(nm,{percentage:x.error_rate,color:x.error_rate>10?"red":x.error_rate>5?"amber":"emerald"})}),e.jsxs("span",{className:`text-xs font-medium ${x.error_rate>10?"text-red-600":x.error_rate>5?"text-amber-600":"text-emerald-600"}`,children:[x.error_rate,"%"]})]})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.quality_score>=95?"bg-emerald-100 text-emerald-700":x.quality_score>=90?"bg-sky-100 text-sky-700":x.quality_score>=80?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[x.quality_score.toFixed(1),"%"]})})]},x.editor_id)),(!(s!=null&&s.by_editor)||s.by_editor.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No editor data available"})})]})]})})]}),l==="groups"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality by Group"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Members"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Valid"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Errors"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Quality Score"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(f=s==null?void 0:s.by_group)==null?void 0:f.map(x=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium text-gray-900",children:x.group_code}),e.jsx("div",{className:"text-xs text-gray-500",children:x.group_name})]}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:x.member_count}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:x.total_files.toLocaleString()}),e.jsx("td",{className:"px-4 py-3 text-right text-emerald-600",children:x.valid.toLocaleString()}),e.jsx("td",{className:"px-4 py-3 text-right text-red-600",children:(x.warnings+x.errors).toLocaleString()}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.quality_score>=95?"bg-emerald-100 text-emerald-700":x.quality_score>=90?"bg-sky-100 text-sky-700":x.quality_score>=80?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[x.quality_score.toFixed(1),"%"]})})]},x.group_id))})]})})]}),l==="issues"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Common Filename Issues"})}),e.jsx("div",{className:"p-4",children:((b=s==null?void 0:s.common_issues)==null?void 0:b.length)>0?e.jsx("div",{className:"space-y-4",children:s.common_issues.map((x,y)=>e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-lg",children:e.jsx(G,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:x.label}),e.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-full font-medium",children:[x.count," occurrences"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.suggestion})]})]},y))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ee,{className:"w-12 h-12 mx-auto text-emerald-400 mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No common issues detected"})]})})]}),l==="training"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Editors Needing Training"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Editors with error rate above 10%"})]}),e.jsx("div",{className:"p-4",children:((_=s==null?void 0:s.by_editor)==null?void 0:_.filter(x=>x.needs_training).length)>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.by_editor.filter(x=>x.needs_training).map(x=>e.jsxs("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:x.editor_name}),e.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:[x.error_rate,"% errors"]})]}),e.jsx("div",{className:"text-sm text-gray-600",children:e.jsxs("p",{children:[x.total_files," files  ",x.errors," errors"]})}),e.jsx("div",{className:"mt-2",children:e.jsx(nm,{percentage:100-x.error_rate,color:"amber"})})]},x.editor_id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Xu,{className:"w-12 h-12 mx-auto text-emerald-400 mb-3"}),e.jsx("p",{className:"text-gray-500",children:"All editors are performing well!"})]})})]}),(s==null?void 0:s.daily_trend)&&s.daily_trend.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality Trend (Last 7 Days)"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-end gap-2 h-32",children:s.daily_trend.map((x,y)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsxs("div",{className:"w-full flex flex-col gap-0.5",style:{height:"100px"},children:[e.jsx("div",{className:"bg-emerald-400 rounded-t",style:{height:`${x.valid/x.total*100}%`}}),e.jsx("div",{className:"bg-amber-400",style:{height:`${x.warning/x.total*100}%`}}),e.jsx("div",{className:"bg-red-400 rounded-b",style:{height:`${x.error/x.total*100}%`}})]}),e.jsx("span",{className:"text-xs text-gray-500 mt-2",children:new Date(x.date).toLocaleDateString("en",{weekday:"short"})})]},y))}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Valid"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-amber-400 rounded"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Warnings"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Errors"})]})]})]})]})]})}function Rb({issue:t,onClose:s}){var a,n;if(!t)return null;const r=t.media;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Review Issue: ",t.issue_id]}),e.jsx("p",{className:"text-sm text-gray-500",children:(r==null?void 0:r.filename)||"Unknown file"})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"aspect-video bg-black",children:r!=null&&r.preview_url?e.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:r.preview_url,children:"Your browser does not support video playback."}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(it,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Preview not available"}),e.jsx("p",{className:"text-sm",children:"Request playback from backup disk"})]})})}),e.jsxs("div",{className:"p-4 bg-gray-50",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Type:"}),e.jsx("span",{className:"ml-2 font-medium",children:(a=t.type)==null?void 0:a.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Severity:"}),e.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-medium ${t.severity==="critical"?"bg-red-100 text-red-700":t.severity==="high"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:t.severity})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Camera:"}),e.jsx("span",{className:"ml-2 font-medium",children:(r==null?void 0:r.camera_number)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Reported:"}),e.jsx("span",{className:"ml-2 font-medium",children:((n=t.reporter)==null?void 0:n.name)||"Unknown"})]})]}),t.description&&e.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-700",children:t.description})})]})]})})}function Lb(){const{activeEvent:t}=ce(),[s,r]=p.useState([]),[a,n]=p.useState(!0),[l,i]=p.useState("open"),[o,c]=p.useState(null),[d,u]=p.useState(null),[m,g]=p.useState("");p.useEffect(()=>{j()},[l,t==null?void 0:t.id]);const j=async()=>{try{if(!(t!=null&&t.id)){r([]);return}const S=await oa.getAll({event_id:t.id,status:l!=="all"?l:void 0});r(S.data||[])}catch(S){console.error("Failed to load issues:",S)}finally{n(!1)}},f=async S=>{try{await oa.acknowledge(S),j()}catch(v){console.error("Failed to acknowledge issue:",v)}},b=async S=>{try{await oa.resolve(S,m),c(null),g(""),j()}catch(v){console.error("Failed to resolve issue:",v)}},_=async S=>{try{await oa.escalate(S,"Escalated by user"),j()}catch(v){console.error("Failed to escalate issue:",v)}},x={critical:"bg-red-100 text-red-700 border-red-200",high:"bg-orange-100 text-orange-700 border-orange-200",medium:"bg-yellow-100 text-yellow-700 border-yellow-200",low:"bg-gray-100 text-gray-700 border-gray-200"},y={open:"bg-red-50 text-red-700",acknowledged:"bg-yellow-50 text-yellow-700",in_progress:"bg-blue-50 text-blue-700",escalated:"bg-purple-50 text-purple-700",resolved:"bg-green-50 text-green-700",closed:"bg-gray-50 text-gray-700"},h={no_audio:"No Audio",low_audio:"Low Audio",blurry:"Blurry Video",shaky:"Shaky Video",cut_interview:"Cut Interview",filename_error:"Filename Error",duplicate:"Duplicate",other:"Other"};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Issues"}),e.jsxs("p",{className:"text-gray-500",children:["Quality issues and resolution tracking",t!=null&&t.name?`  Active event: ${t.name}`:""]})]}),!(t!=null&&t.id)&&e.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing issues."}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","open","acknowledged","in_progress","escalated","resolved"].map(S=>e.jsx("button",{onClick:()=>i(S),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l===S?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:S.replace("_"," ").charAt(0).toUpperCase()+S.replace("_"," ").slice(1)},S))}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Issue"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Severity"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Reporter"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[s.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No issues found"})}),s.map(S=>{var v,N,w;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:S.issue_id}),e.jsx("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:((v=S.media)==null?void 0:v.filename)||"Unknown file"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:h[S.type]||S.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${x[S.severity]}`,children:S.severity})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${y[S.status]}`,children:S.status.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-900",children:((N=S.reporter)==null?void 0:N.name)||"Unknown"}),e.jsx("p",{className:"text-xs text-gray-500",children:(w=S.group)==null?void 0:w.group_code})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>u(S),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Play & Review",children:e.jsx(Vr,{className:"w-4 h-4"})}),S.status==="open"&&e.jsx("button",{onClick:()=>f(S.issue_id),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",title:"Acknowledge",children:e.jsx(Mt,{className:"w-4 h-4"})}),["open","acknowledged","in_progress"].includes(S.status)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>c(S),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Resolve",children:e.jsx(ee,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>_(S.issue_id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Escalate",children:e.jsx(Pj,{className:"w-4 h-4"})})]})]})})]},S.id)})]})]})})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Resolve Issue"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Issue: ",o.issue_id," - ",h[o.type]]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Notes"}),e.jsx("textarea",{value:m,onChange:S=>g(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Describe how the issue was resolved..."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{c(null),g("")},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>b(o.issue_id),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Mark Resolved"})]})]})}),d&&e.jsx(Rb,{issue:d,onClose:()=>u(null)})]})}function Pb(){var A,O;const{activeEvent:t}=ce(),[s,r]=p.useState([]),[a,n]=p.useState([]),[l,i]=p.useState(!0),[o,c]=p.useState(""),[d,u]=p.useState(""),[m,g]=p.useState(null),[j,f]=p.useState({type:"",text:""}),[b,_]=p.useState(!1),[x,y]=p.useState(!1),[h,S]=p.useState(null),[v,N]=p.useState(null),[w,k]=p.useState({event_id:"",group_id:"",person_name:"",description:"",healing_date:"",status:"pending"});p.useEffect(()=>{E()},[o,d,t==null?void 0:t.id]);const E=async()=>{i(!0);try{if(!(t!=null&&t.id)){r([]),n([]),g(null);return}const[C,L,z]=await Promise.all([Rs.getAll({event_id:t.id,search:o,status:d}),Lt.getAll({event_id:t.id}),Rs.getStats({event_id:t.id})]);r(C.data.data||C.data),n(L.data.data||L.data),g(z.data)}catch{f({type:"error",text:"Failed to load healing cases"})}finally{i(!1)}},P=async C=>{C.preventDefault();try{if(!(t!=null&&t.id)){f({type:"error",text:"No active event. Activate an event first."});return}const L={...w,event_id:t.id};v?(await Rs.update(v.id,L),f({type:"success",text:"Healing case updated"})):(await Rs.create(L),f({type:"success",text:"Healing case created"})),_(!1),F(),E()}catch(L){f({type:"error",text:L.message||"Operation failed"})}},R=async C=>{try{await Rs.verify(C.id),f({type:"success",text:"Case verified successfully"}),E()}catch{f({type:"error",text:"Failed to verify case"})}},B=async C=>{try{await Rs.publish(C.id),f({type:"success",text:"Case published successfully"}),E()}catch(L){f({type:"error",text:L.message||"Failed to publish case"})}},$=async C=>{if(confirm(`Delete healing case ${C.case_id}?`))try{await Rs.delete(C.id),f({type:"success",text:"Case deleted"}),E()}catch{f({type:"error",text:"Failed to delete case"})}},q=C=>{if(!(t!=null&&t.id)){f({type:"error",text:"No active event. Activate an event first."});return}N(C),k({event_id:t.id,group_id:C.group_id,person_name:C.person_name,description:C.description,healing_date:C.healing_date,status:C.status}),_(!0)},F=()=>{N(null),k({event_id:"",group_id:"",person_name:"",description:"",healing_date:"",status:"pending"})},Q=C=>{const L={pending:"bg-amber-100 text-amber-700",verified:"bg-blue-100 text-blue-700",published:"bg-green-100 text-green-700"},z={pending:e.jsx(We,{className:"w-3 h-3"}),verified:e.jsx(pt,{className:"w-3 h-3"}),published:e.jsx(To,{className:"w-3 h-3"})};return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium ${L[C]}`,children:[z[C],C]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Healing Cases"}),e.jsxs("p",{className:"text-gray-500",children:["Document and manage healing testimonies",t!=null&&t.name?`  Active event: ${t.name}`:""]})]}),e.jsxs("button",{onClick:()=>{F(),_(!0)},disabled:!(t!=null&&t.id),className:"flex items-center gap-2 px-4 py-2.5 bg-rose-600 text-white rounded-xl hover:bg-rose-700 transition-colors font-medium",children:[e.jsx(qr,{className:"w-4 h-4"}),"Add Case"]})]}),!(t!=null&&t.id)&&e.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing healing cases."}),j.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${j.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[j.type==="success"?e.jsx(ee,{className:"w-5 h-5"}):e.jsx(We,{className:"w-5 h-5"}),j.text,e.jsx("button",{onClick:()=>f({type:"",text:""}),className:"ml-auto",children:""})]}),m&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-pink-600 rounded-xl p-4 text-white",children:[e.jsx("p",{className:"text-rose-100 text-sm",children:"Total Cases"}),e.jsx("p",{className:"text-2xl font-bold",children:m.total})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:m.pending})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Verified"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:m.verified})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Published"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.published})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.this_month})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search cases...",value:o,onChange:C=>c(C.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]}),e.jsxs("select",{value:d,onChange:C=>u(C.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"published",children:"Published"})]})]}),l?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Nt,{className:"w-8 h-8 animate-spin text-rose-600"})}):s.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-gray-100",children:[e.jsx(Dn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No healing cases found"}),e.jsx("p",{className:"text-gray-500",children:"Start documenting healing testimonies"})]}):e.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Case"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Person"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Event"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(C=>{var L,z;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-500 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(Dn,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-medium text-gray-900",children:C.case_id})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:C.person_name}),e.jsx("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:C.description})]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-gray-900",children:((L=C.event)==null?void 0:L.event_code)||"-"}),e.jsx("p",{className:"text-sm text-gray-500",children:(z=C.group)==null?void 0:z.group_code})]}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(C.healing_date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4",children:Q(C.status)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{S(C),y(!0)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"View",children:e.jsx(Mt,{className:"w-4 h-4"})}),C.status==="pending"&&e.jsx("button",{onClick:()=>R(C),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Verify",children:e.jsx(pt,{className:"w-4 h-4"})}),C.status==="verified"&&e.jsx("button",{onClick:()=>B(C),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Publish",children:e.jsx(To,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>q(C),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",title:"Edit",children:e.jsx(dh,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>$(C),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:e.jsx(It,{className:"w-4 h-4"})})]})})]},C.id)})})]})})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:v?"Edit Healing Case":"Add Healing Case"}),e.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event *"}),e.jsxs("select",{value:w.event_id,onChange:C=>k({...w,event_id:C.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0,children:[e.jsx("option",{value:"",children:"Select event..."}),events.map(C=>e.jsxs("option",{value:C.id,children:[C.event_code," - ",C.name]},C.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group *"}),e.jsxs("select",{value:w.group_id,onChange:C=>k({...w,group_id:C.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0,children:[e.jsx("option",{value:"",children:"Select group..."}),a.map(C=>e.jsxs("option",{value:C.id,children:[C.group_code," - ",C.name]},C.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Person Name *"}),e.jsx("input",{type:"text",value:w.person_name,onChange:C=>k({...w,person_name:C.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Healing Date *"}),e.jsx("input",{type:"date",value:w.healing_date,onChange:C=>k({...w,healing_date:C.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{value:w.description,onChange:C=>k({...w,description:C.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500 resize-none",rows:4,required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>_(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-rose-600 text-white rounded-xl hover:bg-rose-700",children:v?"Update":"Create"})]})]})]})}),x&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-500 to-pink-600 rounded-xl flex items-center justify-center",children:e.jsx(Dn,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:h.case_id}),Q(h.status)]})]}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Person Name"}),e.jsx("p",{className:"font-medium text-gray-900",children:h.person_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Healing Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(h.healing_date).toLocaleDateString()})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Event"}),e.jsx("p",{className:"font-medium text-gray-900",children:(A=h.event)==null?void 0:A.event_code})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Group"}),e.jsx("p",{className:"font-medium text-gray-900",children:(O=h.group)==null?void 0:O.group_code})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),e.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-xl",children:h.description})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Close"}),h.status==="pending"&&e.jsx("button",{onClick:()=>{R(h),y(!1)},className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Verify Case"}),h.status==="verified"&&e.jsx("button",{onClick:()=>{B(h),y(!1)},className:"flex-1 px-4 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700",children:"Publish Case"})]})]})})]})}function Tb(){var d,u,m,g,j,f;const{activeEvent:t}=ce(),[s,r]=p.useState(null),[a,n]=p.useState([]),[l,i]=p.useState(!0);p.useEffect(()=>{o()},[t==null?void 0:t.id]);const o=async()=>{try{if(!(t!=null&&t.id)){r(null),n([]);return}const[b,_]=await Promise.all([hl.getCoverage(t.id),hl.getPending({per_page:50,event_id:t.id})]);r(b),n(_.data||[])}catch(b){console.error("Failed to load backup data:",b)}finally{i(!1)}},c=b=>{if(!b)return"0 B";const _=1024,x=["B","KB","MB","GB","TB"],y=Math.floor(Math.log(b)/Math.log(_));return parseFloat((b/Math.pow(_,y)).toFixed(2))+" "+x[y]};return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Backup Management"}),e.jsxs("p",{className:"text-gray-500",children:["Monitor backup coverage and verification status",t!=null&&t.name?`  Active event: ${t.name}`:""]})]}),e.jsxs("button",{onClick:o,disabled:!(t!=null&&t.id),className:"flex items-center gap-2 bg-white border border-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50",children:[e.jsx(oe,{className:"w-4 h-4"}),"Refresh"]})]}),!(t!=null&&t.id)&&e.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing backup operations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsx(K,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((d=s==null?void 0:s.total_media)==null?void 0:d.toLocaleString())||0}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Media"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((u=s==null?void 0:s.backed_up)==null?void 0:u.toLocaleString())||0}),e.jsx("p",{className:"text-sm text-gray-500",children:"Backed Up"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:e.jsx(ee,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((m=s==null?void 0:s.verified)==null?void 0:m.toLocaleString())||0}),e.jsx("p",{className:"text-sm text-gray-500",children:"Verified"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:e.jsx(G,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((g=s==null?void 0:s.pending)==null?void 0:g.toLocaleString())||0}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:e.jsxs("span",{className:"text-xl font-bold text-purple-600",children:[(s==null?void 0:s.coverage_percentage)||0,"%"]})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Coverage"}),e.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full mt-1",children:e.jsx("div",{className:"h-full bg-purple-600 rounded-full",style:{width:`${(s==null?void 0:s.coverage_percentage)||0}%`}})})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Disks"})}),e.jsxs("div",{className:"divide-y divide-gray-100",children:[((j=s==null?void 0:s.disks)==null?void 0:j.length)===0&&e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No backup disks registered"}),(f=s==null?void 0:s.disks)==null?void 0:f.map(b=>e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${b.status==="active"?"bg-green-50":"bg-gray-50"}`,children:e.jsx(K,{className:`w-6 h-6 ${b.status==="active"?"text-green-600":"text-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:b.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[b.purpose,"  ",b.backups_count," files  ",b.verified_backups," verified"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${b.status==="active"?"bg-green-100 text-green-700":b.status==="full"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:b.status})}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[b.usage_percentage,"% used"]})]})]},b.id))]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending Backups"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"File"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Editor"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Event"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Size"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Age"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[a.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"All files are backed up and verified! "})}),a.map(b=>{var _,x;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate max-w-xs",children:b.filename}),e.jsx("p",{className:"text-xs text-gray-500",children:b.media_id})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:((_=b.editor)==null?void 0:_.name)||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:((x=b.event)==null?void 0:x.name)||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c(b.size_bytes)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(b.created_at).toLocaleDateString()})]},b.id)})]})]})})]})]})}function ca({percentage:t,showLabel:s=!0}){const r=()=>t>=95?"bg-red-500":t>=90?"bg-amber-500":t>=75?"bg-yellow-500":"bg-emerald-500";return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${r()} transition-all duration-500`,style:{width:`${Math.min(t,100)}%`}})}),s&&e.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[e.jsx("span",{className:"text-gray-500",children:"Used"}),e.jsxs("span",{className:`font-medium ${t>=90?"text-red-600":"text-gray-700"}`,children:[t,"%"]})]})]})}function Mb({disk:t}){const s={healthy:"border-emerald-200 bg-emerald-50",caution:"border-yellow-200 bg-yellow-50",warning:"border-amber-200 bg-amber-50",critical:"border-red-200 bg-red-50"},r={healthy:e.jsx(ee,{className:"w-5 h-5 text-emerald-500"}),caution:e.jsx(ie,{className:"w-5 h-5 text-yellow-500"}),warning:e.jsx(G,{className:"w-5 h-5 text-amber-500"}),critical:e.jsx(G,{className:"w-5 h-5 text-red-500"})};return e.jsxs("div",{className:`rounded-xl border-2 p-4 ${s[t.health]}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(K,{className:"w-6 h-6 text-gray-700"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.disk_label}),e.jsx("p",{className:"text-xs text-gray-500",children:t.serial_number})]})]}),r[t.health]]}),e.jsx(ca,{percentage:t.used_percent}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Used"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.used_space})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Free"}),e.jsx("p",{className:"font-medium text-emerald-600",children:t.free_space})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.total_capacity})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),e.jsx("p",{className:`font-medium capitalize ${t.status==="active"?"text-emerald-600":"text-gray-500"}`,children:t.status})]})]})]})}function Ob(){var f,b,_,x,y,h,S,v,N,w;const{activeEvent:t}=ce(),[s,r]=p.useState(null),[a,n]=p.useState(null),[l,i]=p.useState(!0),[o,c]=p.useState("overview");p.useEffect(()=>{d()},[t==null?void 0:t.id]);const d=async()=>{try{if(i(!0),!(t!=null&&t.id)){r(null),n(null);return}const[k,E]=await Promise.all([kj.getUsage(),hl.getAnalytics(t.id)]);r(k),n(E)}catch(k){console.error("Failed to load storage data:",k)}finally{i(!1)}};if(l&&!s)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(oe,{className:"w-8 h-8 animate-spin text-sky-500"})});const u=(s==null?void 0:s.totals)||{},m=(s==null?void 0:s.forecast)||{},g=(a==null?void 0:a.overall)||{},j=[{id:"overview",label:"Overview",icon:js},{id:"disks",label:"Disks",icon:K},{id:"groups",label:"By Group",icon:ih},{id:"editors",label:"By Editor",icon:he}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Storage & Backup"}),e.jsx("p",{className:"text-gray-500 text-sm",children:t?e.jsxs(e.Fragment,{children:["Event: ",e.jsx("span",{className:"font-medium text-sky-600",children:t.name})]}):"Monitor storage, backup coverage, and capacity forecast"})]}),e.jsxs("button",{onClick:d,disabled:l||!(t!=null&&t.id),className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:[e.jsx(oe,{className:`w-4 h-4 ${l?"animate-spin":""}`}),"Refresh"]})]}),!(t!=null&&t.id)&&e.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing storage forecast and backup analytics."}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:j.map(k=>e.jsxs("button",{onClick:()=>c(k.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors text-sm whitespace-nowrap ${o===k.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(k.icon,{className:"w-4 h-4"}),k.label]},k.id))})}),((f=s==null?void 0:s.alerts)==null?void 0:f.length)>0&&e.jsx("div",{className:"space-y-2",children:s.alerts.map((k,E)=>e.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg ${k.level==="critical"?"bg-red-50 border border-red-200":k.level==="warning"?"bg-amber-50 border border-amber-200":"bg-blue-50 border border-blue-200"}`,children:[e.jsx(G,{className:`w-5 h-5 ${k.level==="critical"?"text-red-500":k.level==="warning"?"text-amber-500":"text-blue-500"}`}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:k.message})]},E))}),o==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:e.jsx(Ja,{className:"w-5 h-5 text-sky-600"})}),e.jsx("span",{className:"text-sm text-gray-500",children:"Total Capacity"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.total_capacity}),e.jsxs("p",{className:"text-sm text-gray-500",children:[u.disk_count," disks"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:e.jsx(K,{className:"w-5 h-5 text-emerald-600"})}),e.jsx("span",{className:"text-sm text-gray-500",children:"Free Space"})]}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:u.total_free}),e.jsxs("p",{className:"text-sm text-gray-500",children:[100-(u.overall_used_percent||0),"% available"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:e.jsx(Ot,{className:"w-5 h-5 text-amber-600"})}),e.jsx("span",{className:"text-sm text-gray-500",children:"Data Rate"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((b=s==null?void 0:s.data_rate)==null?void 0:b.avg_per_hour)||"0 B"}),e.jsx("p",{className:"text-sm text-gray-500",children:"per hour average"})]}),e.jsxs("div",{className:`rounded-xl p-5 shadow-sm border ${m.status==="critical"?"bg-red-50 border-red-200":m.status==="warning"?"bg-amber-50 border-amber-200":m.status==="caution"?"bg-yellow-50 border-yellow-200":"bg-emerald-50 border-emerald-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${m.status==="critical"?"bg-red-100":m.status==="warning"?"bg-amber-100":m.status==="caution"?"bg-yellow-100":"bg-emerald-100"}`,children:e.jsx(ie,{className:`w-5 h-5 ${m.status==="critical"?"text-red-600":m.status==="warning"?"text-amber-600":m.status==="caution"?"text-yellow-600":"text-emerald-600"}`})}),e.jsx("span",{className:"text-sm text-gray-500",children:"Time Remaining"})]}),e.jsx("p",{className:`text-2xl font-bold ${m.status==="critical"?"text-red-700":m.status==="warning"?"text-amber-700":"text-gray-900"}`,children:m.days_remaining?`${m.days_remaining} days`:"N/A"}),e.jsx("p",{className:"text-sm text-gray-600",children:m.message})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Overall Storage Usage"}),e.jsx("div",{className:"mb-4",children:e.jsx(ca,{percentage:u.overall_used_percent||0})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Used"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.total_used})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Free"}),e.jsx("p",{className:"font-semibold text-emerald-600",children:u.total_free})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),e.jsx("p",{className:"font-semibold text-gray-900",children:u.total_capacity})]})]})]}),m.estimated_full_at&&e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Storage Forecast"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Estimated Full At"}),e.jsx("p",{className:"font-semibold text-gray-900",children:m.estimated_full_formatted})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Hours Remaining"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[m.hours_remaining," hours"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Projected Daily Usage"}),e.jsx("p",{className:"font-semibold text-gray-900",children:(_=s==null?void 0:s.data_rate)==null?void 0:_.projected_daily})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Clips"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((x=g.total_clips)==null?void 0:x.toLocaleString())||0}),e.jsx("p",{className:"text-sm text-gray-500",children:g.total_size_formatted})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Backed Up"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:((y=g.backed_up_clips)==null?void 0:y.toLocaleString())||0}),e.jsxs("div",{className:"mt-2",children:[e.jsx(ca,{percentage:g.backup_percentage||0,showLabel:!1}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.backup_percentage||0,"% complete"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Verified"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:((h=g.verified_clips)==null?void 0:h.toLocaleString())||0}),e.jsxs("p",{className:"text-sm text-gray-500",children:[g.verification_percentage||0,"% verified"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),e.jsx("p",{className:`text-2xl font-bold ${g.pending_clips>0?"text-amber-600":"text-emerald-600"}`,children:((S=g.pending_clips)==null?void 0:S.toLocaleString())||0}),e.jsx("p",{className:"text-sm text-gray-500",children:g.pending_size_formatted})]})]})]}),o==="disks"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(v=s==null?void 0:s.disks)==null?void 0:v.map(k=>e.jsx(Mb,{disk:k},k.id)),(!(s!=null&&s.disks)||s.disks.length===0)&&e.jsxs("div",{className:"col-span-full text-center py-8 bg-gray-50 rounded-xl",children:[e.jsx(K,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No backup disks registered"})]})]}),o==="groups"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Coverage by Group"})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Members"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Clips"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Backed Up"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Progress"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(N=a==null?void 0:a.by_group)==null?void 0:N.map(k=>{var E,P,R;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:k.group_code}),e.jsx("div",{className:"text-sm text-gray-500",children:k.name})]}),e.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:k.member_count}),e.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:(E=k.total_clips)==null?void 0:E.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:k.total_size_formatted}),e.jsx("td",{className:"px-6 py-4 text-right text-emerald-600 font-medium",children:(P=k.backed_up_clips)==null?void 0:P.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 text-right",children:k.pending_clips>0?e.jsx("span",{className:"text-amber-600 font-medium",children:(R=k.pending_clips)==null?void 0:R.toLocaleString()}):e.jsx("span",{className:"text-emerald-600",children:""})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24",children:e.jsx(ca,{percentage:k.backup_percentage||0,showLabel:!1})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 w-12",children:[k.backup_percentage,"%"]})]})})]},k.id)})})]}),(!(a!=null&&a.by_group)||a.by_group.length===0)&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No group data available"})]})]}),o==="editors"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Coverage by Editor"})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Groups"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Clips"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Backed Up"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Progress"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(w=a==null?void 0:a.by_editor)==null?void 0:w.map(k=>{var E,P,R,B;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:k.name}),e.jsx("div",{className:"text-sm text-gray-500",children:k.email})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(E=k.groups)==null?void 0:E.map($=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:$.group_code},$.id))})}),e.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:(P=k.total_clips)==null?void 0:P.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:k.total_size_formatted}),e.jsx("td",{className:"px-6 py-4 text-right text-emerald-600 font-medium",children:(R=k.backed_up_clips)==null?void 0:R.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 text-right",children:k.pending_clips>0?e.jsx("span",{className:"text-amber-600 font-medium",children:(B=k.pending_clips)==null?void 0:B.toLocaleString()}):e.jsx("span",{className:"text-emerald-600",children:""})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24",children:e.jsx(ca,{percentage:k.backup_percentage||0,showLabel:!1})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 w-12",children:[k.backup_percentage,"%"]})]})})]},k.id)})})]}),(!(a!=null&&a.by_editor)||a.by_editor.length===0)&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No editor data available"})]})]})]})}function Ib(){const[t,s]=p.useState([]),[r,a]=p.useState(!0),[n,l]=p.useState(null),[i,o]=p.useState(!1),[c,d]=p.useState(!1),[u,m]=p.useState({auto_delete_enabled:!1,auto_delete_date:"",auto_delete_days_after_end:""}),[g,j]=p.useState(""),[f,b]=p.useState(!1);p.useEffect(()=>{_()},[]);const _=async()=>{try{a(!0);const v=await M.get("/media-deletion/status");s(v.data)}catch(v){console.error("Failed to load events:",v)}finally{a(!1)}},x=async v=>{try{const N=await M.get(`/media-deletion/event/${v.id}`);l(v),m({auto_delete_enabled:N.data.auto_delete_enabled||!1,auto_delete_date:N.data.auto_delete_date||"",auto_delete_days_after_end:N.data.auto_delete_days_after_end||""}),o(!0)}catch(N){console.error("Failed to load settings:",N)}},y=async()=>{try{b(!0),await M.put(`/media-deletion/event/${n.id}`,u),o(!1),_()}catch(v){console.error("Failed to save settings:",v),alert("Failed to save settings")}finally{b(!1)}},h=async()=>{if(!g||g.length<10){alert("Please provide a reason (at least 10 characters)");return}try{b(!0),await M.post(`/media-deletion/event/${n.id}/trigger`,{confirm:!0,reason:g}),d(!1),j(""),_()}catch(v){console.error("Failed to trigger deletion:",v),alert("Failed to trigger deletion")}finally{b(!1)}},S=v=>{const N={deleted:{bg:"bg-gray-100",text:"text-gray-600",icon:ee},disabled:{bg:"bg-yellow-100",text:"text-yellow-700",icon:Ns},pending_deletion:{bg:"bg-red-100",text:"text-red-700",icon:G},scheduled:{bg:"bg-blue-100",text:"text-blue-700",icon:ie},not_configured:{bg:"bg-gray-100",text:"text-gray-500",icon:Or}},w=N[v]||N.not_configured,k=w.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${w.bg} ${w.text}`,children:[e.jsx(k,{size:12}),v.replace("_"," ")]})};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(oe,{className:"animate-spin text-blue-500",size:32})}):e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(pt,{className:"text-red-600",size:24})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Protection"})]}),e.jsx("p",{className:"text-gray-600",children:"Configure automatic media deletion for events to comply with data protection requirements. Videos will be permanently deleted from all editor devices after the specified date."})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ns,{className:"text-blue-600 mt-0.5",size:20}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"How Auto-Delete Works"}),e.jsxs("ul",{className:"mt-2 text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Set a specific date or number of days after event ends"}),e.jsx("li",{children:" Media files are permanently deleted from server storage"}),e.jsx("li",{children:" Deletion tasks are sent to all editor devices (works offline)"}),e.jsx("li",{children:" Metadata is preserved for audit purposes"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Event Media Deletion Status"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Event"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"End Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Delete Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Media Files"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[t.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"font-medium text-gray-900",children:v.name})}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:v.end_date||"Not set"}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:v.calculated_delete_date||"Not configured"}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("span",{className:"text-gray-900 font-medium",children:v.media_count}),e.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"files"})]}),e.jsx("td",{className:"px-6 py-4",children:S(v.status)}),e.jsx("td",{className:"px-6 py-4 text-right",children:v.status!=="deleted"?e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>x(v),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Configure auto-delete",children:e.jsx(Or,{size:18})}),e.jsx("button",{onClick:()=>{l(v),d(!0)},className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete now",children:e.jsx(It,{size:18})})]}):e.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-400",children:[e.jsx(Mr,{size:18}),e.jsx("span",{className:"text-xs",children:"Deleted"})]})})]},v.id)),t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No events found"})})]})]})})]}),i&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Auto-Delete Settings"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.name})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:u.auto_delete_enabled,onChange:v=>m({...u,auto_delete_enabled:v.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Enable auto-delete"})]}),u.auto_delete_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delete on specific date"}),e.jsx("input",{type:"date",value:u.auto_delete_date,onChange:v=>m({...u,auto_delete_date:v.target.value,auto_delete_days_after_end:""}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{className:"text-center text-gray-500 text-sm",children:" OR "}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Days after event ends"}),e.jsx("input",{type:"number",value:u.auto_delete_days_after_end,onChange:v=>m({...u,auto_delete_days_after_end:v.target.value,auto_delete_date:""}),min:"1",max:"365",placeholder:"e.g., 30",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Media will be deleted this many days after the event end date"})]})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:y,disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:f?"Saving...":"Save Settings"})]})]})}),c&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(G,{className:"text-red-600",size:20})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Immediate Deletion"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-600 mb-4",children:["You are about to permanently delete ",e.jsxs("strong",{children:[n.media_count," media files"]})," from event ",e.jsxs("strong",{children:['"',n.name,'"']}),"."]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"Warning:"})," This action cannot be undone. Files will be permanently deleted from the server and deletion tasks will be sent to all editor devices."]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for deletion (required)"}),e.jsx("textarea",{value:g,onChange:v=>j(v.target.value),placeholder:"Enter the reason for immediate deletion...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{d(!1),j("")},className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:h,disabled:f||g.length<10,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:f?"Deleting...":"Delete All Media"})]})]})})]})}function $b({user:t,roles:s,groups:r,onClose:a,onSave:n}){var g,j;const[l,i]=p.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",password:"",role:((j=(g=t==null?void 0:t.roles)==null?void 0:g[0])==null?void 0:j.slug)||"editor",is_active:(t==null?void 0:t.is_active)??!0}),[o,c]=p.useState(!1),[d,u]=p.useState(""),m=async f=>{f.preventDefault(),c(!0),u("");try{const b={...l,roles:[l.role]};if(delete b.role,b.password||delete b.password,t)await Be.update(t.id,b);else{if(!b.password){u("Password is required for new users"),c(!1);return}await Be.create(b)}n()}catch(b){u(b.message||"Failed to save user")}finally{c(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t?"Edit User":"Create User"}),e.jsx("button",{onClick:a,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:m,className:"p-4 space-y-4",children:[d&&e.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[e.jsx(We,{className:"w-4 h-4"}),d]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:l.name,onChange:f=>i({...l,name:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:l.email,onChange:f=>i({...l,email:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"text",value:l.phone,onChange:f=>i({...l,phone:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t?"New Password (leave blank to keep current)":"Password"}),e.jsx("input",{type:"password",value:l.password,onChange:f=>i({...l,password:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...!t&&{required:!0},minLength:8})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Roles"}),e.jsx("select",{value:l.role,onChange:f=>i({...l,role:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:s.map(f=>e.jsx("option",{value:f.slug,children:f.name},f.slug))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:l.is_active,onChange:f=>i({...l,is_active:f.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o?"Saving...":"Save"})]})]})]})})}function Fb({user:t,onClose:s,onConfirm:r}){const[a,n]=p.useState(!1),l=async()=>{n(!0);try{await Be.delete(t.id),r()}catch(i){console.error("Failed to delete user:",i)}finally{n(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm mx-4 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(It,{className:"w-6 h-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete User"}),e.jsxs("p",{className:"text-gray-500 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:t.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:a,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:a?"Deleting...":"Delete"})]})]})})})}function Db({roles:t,groups:s,onClose:r,onSuccess:a}){var h,S,v,N,w,k;const[n,l]=p.useState(""),[i,o]=p.useState("editor"),[c,d]=p.useState(""),[u,m]=p.useState(!1),[g,j]=p.useState(null),[f,b]=p.useState(""),_=E=>{const P=E.trim().split(`
`),R=[];for(let B=0;B<P.length;B++){const $=P[B].trim();if(!$||B===0&&$.toLowerCase().includes("name")&&$.toLowerCase().includes("email"))continue;const q=$.split(",").map(F=>F.trim().replace(/^["']|["']$/g,""));q.length>=2&&q[1].includes("@")&&R.push({name:q[0],email:q[1],phone:q[2]||""})}return R},x=async()=>{m(!0),b(""),j(null);const E=_(n);if(E.length===0){b("No valid users found in CSV. Format: name,email,phone"),m(!1);return}try{const P=await Be.bulkImport({users:E,role:i,group_id:c||null,send_invitations:!1});j(P)}catch(P){b(P.message||"Import failed")}finally{m(!1)}},y=E=>{const P=E.target.files[0];if(P){const R=new FileReader;R.onload=B=>{l(B.target.result)},R.readAsText(P)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(fl,{className:"w-5 h-5"}),"Bulk Import Users"]}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[f&&e.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[e.jsx(We,{className:"w-4 h-4"}),f]}),g?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 text-green-700 rounded-lg",children:[e.jsx("p",{className:"font-medium",children:"Import completed!"}),e.jsxs("p",{className:"text-sm mt-1",children:["Created: ",((h=g.summary)==null?void 0:h.created)||0," | Skipped: ",((S=g.summary)==null?void 0:S.skipped)||0]})]}),((N=(v=g.results)==null?void 0:v.created)==null?void 0:N.length)>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Created Users:"}),e.jsx("div",{className:"max-h-40 overflow-y-auto bg-gray-50 rounded-lg p-2",children:g.results.created.map((E,P)=>e.jsxs("div",{className:"text-sm py-1",children:[E.name," (",E.email,")",E.temp_password&&e.jsxs("span",{className:"ml-2 text-gray-500",children:["Password: ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:E.temp_password})]})]},P))})]}),((k=(w=g.results)==null?void 0:w.skipped)==null?void 0:k.length)>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-yellow-700",children:"Skipped:"}),e.jsx("div",{className:"max-h-32 overflow-y-auto bg-yellow-50 rounded-lg p-2",children:g.results.skipped.map((E,P)=>e.jsxs("div",{className:"text-sm py-1 text-yellow-700",children:[E.email,": ",E.reason]},P))})]}),e.jsx("button",{onClick:()=>{a(),r()},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Done"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsx("select",{value:i,onChange:E=>o(E.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:t.map(E=>e.jsx("option",{value:E.slug,children:E.name},E.slug))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Group (optional)"}),e.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"No group"}),s.map(E=>e.jsxs("option",{value:E.id,children:[E.group_code," - ",E.name]},E.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload CSV or paste data"}),e.jsx("input",{type:"file",accept:".csv,.txt",onChange:y,className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CSV Data (name,email,phone)"}),e.jsx("textarea",{value:n,onChange:E=>l(E.target.value),placeholder:`John Doe,john@example.com,+1234567890
Jane Smith,jane@example.com,`,rows:8,className:"w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"One user per line. Format: name,email,phone (phone is optional)"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:x,disabled:u||!n.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:u?"Importing...":e.jsxs(e.Fragment,{children:[e.jsx(fl,{className:"w-4 h-4"})," Import Users"]})})]})]})]})]})})}function Ub({roles:t,groups:s,onClose:r,onSuccess:a}){const[n,l]=p.useState("editor"),[i,o]=p.useState(""),[c,d]=p.useState(100),[u,m]=p.useState(7),[g,j]=p.useState(!1),[f,b]=p.useState(null),[_,x]=p.useState(""),[y,h]=p.useState(!1),S=async()=>{j(!0),x("");try{const N=await Be.createInvitation({role:n,group_id:i||null,max_uses:c,expires_days:u});b(N.invitation),a()}catch(N){x(N.message||"Failed to create invitation")}finally{j(!1)}},v=()=>{navigator.clipboard.writeText(f.link),h(!0),setTimeout(()=>h(!1),2e3)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(oh,{className:"w-5 h-5"}),"Create Invitation Link"]}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[_&&e.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[e.jsx(We,{className:"w-4 h-4"}),_]}),f?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 text-green-700 rounded-lg",children:[e.jsx("p",{className:"font-medium",children:"Invitation created!"}),e.jsxs("p",{className:"text-sm mt-1",children:["Share this link with users to let them register as ",n,"."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invitation Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:f.link,readOnly:!0,className:"flex-1 px-3 py-2 border rounded-lg bg-gray-50 text-sm"}),e.jsxs("button",{onClick:v,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(bs,{className:"w-4 h-4"}),y?"Copied!":"Copy"]})]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("p",{children:["Max uses: ",f.max_uses]}),e.jsxs("p",{children:["Expires: ",new Date(f.expires_at).toLocaleDateString()]})]}),e.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Done"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role for new users"}),e.jsx("select",{value:n,onChange:N=>l(N.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:t.map(N=>e.jsx("option",{value:N.slug,children:N.name},N.slug))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Group (optional)"}),e.jsxs("select",{value:i,onChange:N=>o(N.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"No group"}),s.map(N=>e.jsxs("option",{value:N.id,children:[N.group_code," - ",N.name]},N.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Uses"}),e.jsx("input",{type:"number",value:c,onChange:N=>d(parseInt(N.target.value)||100),min:1,max:500,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expires in (days)"}),e.jsx("input",{type:"number",value:u,onChange:N=>m(parseInt(N.target.value)||7),min:1,max:30,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:S,disabled:g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:g?"Creating...":"Create Link"})]})]})]})]})})}function zb(){const{isAdmin:t,isTeamLead:s,isGroupLeader:r,isQALead:a,isBackupLead:n}=ce(),[l,i]=p.useState([]),[o,c]=p.useState([]),[d,u]=p.useState([]),[m,g]=p.useState(!0),[j,f]=p.useState(""),[b,_]=p.useState(""),[x,y]=p.useState(""),[h,S]=p.useState(!1),[v,N]=p.useState(!1),[w,k]=p.useState(!1),[E,P]=p.useState(null),[R,B]=p.useState(null),[$,q]=p.useState({current_page:1,last_page:1}),F=()=>t()?["admin","team-lead","group-leader","qa-lead","qa","backup-lead","backup","editor"]:s()?["group-leader","qa-lead","qa","backup-lead","backup","editor"]:r()?["editor"]:a()?["qa"]:n()?["backup"]:[],Q=()=>t()?{title:"User Management",subtitle:"Manage all system users and roles"}:s()?{title:"Team Management",subtitle:"Manage team members (except admins)"}:r()?{title:"Group Members",subtitle:"Manage editors in your groups"}:a()?{title:"QA Team",subtitle:"Manage QA team members"}:n()?{title:"Backup Team",subtitle:"Manage backup team members"}:{title:"Users",subtitle:""},A=F(),O=Q();p.useEffect(()=>{C()},[j,b,x]);const C=async()=>{g(!0);try{const J=b||(A.length<8?A.join(","):""),[$e,As,Dt]=await Promise.all([Be.getAll({search:j,role:J,status:x}),Be.getRoles(),Lt.getAll()]);let tr=$e.data||[];t()||(tr=tr.filter(sr=>{var Wr;return(Wr=sr.roles)==null?void 0:Wr.some(Xa=>A.includes(Xa.slug))})),i(tr),q({current_page:$e.current_page,last_page:$e.last_page}),c((As||[]).filter(sr=>A.includes(sr.slug))),u(Dt.data||Dt||[])}catch(J){console.error("Failed to load users:",J)}finally{g(!1)}},L=async J=>{try{await Be.toggleStatus(J.id),C()}catch($e){console.error("Failed to toggle status:",$e)}},z=J=>{P(J),S(!0)},H=()=>{P(null),S(!0)},W=()=>{S(!1),P(null)},Z=()=>{W(),C()},Te={admin:"bg-purple-100 text-purple-700","team-lead":"bg-indigo-100 text-indigo-700","group-leader":"bg-blue-100 text-blue-700","qa-lead":"bg-emerald-100 text-emerald-700",qa:"bg-green-100 text-green-700","backup-lead":"bg-orange-100 text-orange-700",backup:"bg-yellow-100 text-yellow-700",editor:"bg-gray-100 text-gray-700"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:O.title}),e.jsx("p",{className:"text-gray-500",children:O.subtitle})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:"Bulk Import",children:[e.jsx(fl,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Import CSV"})]}),e.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:"Create Invitation Link",children:[e.jsx(oh,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Invite Link"})]}),e.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(qr,{className:"w-4 h-4"}),"Add ",a()?"QA Member":n()?"Backup Member":r()?"Editor":"User"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search users...",value:j,onChange:J=>f(J.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("select",{value:b,onChange:J=>_(J.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Roles"}),o.map(J=>e.jsx("option",{value:J.slug,children:J.name},J.slug))]}),e.jsxs("select",{value:x,onChange:J=>y(J.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),m?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Roles"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(J=>{var $e,As;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-medium",children:($e=J.name)==null?void 0:$e.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:J.name}),e.jsx("p",{className:"text-sm text-gray-500",children:J.email})]})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(As=J.roles)==null?void 0:As.map(Dt=>e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${Te[Dt.slug]||"bg-gray-100 text-gray-700"}`,children:Dt.name},Dt.slug))})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("button",{onClick:()=>L(J),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${J.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:J.is_active?e.jsxs(e.Fragment,{children:[e.jsx(Ua,{className:"w-3 h-3"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(uh,{className:"w-3 h-3"}),"Inactive"]})})}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:new Date(J.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>z(J),className:"p-2 hover:bg-gray-100 rounded-lg",title:"Edit",children:e.jsx(ch,{className:"w-4 h-4 text-gray-500"})}),e.jsx("button",{onClick:()=>B(J),className:"p-2 hover:bg-red-50 rounded-lg",title:"Delete",children:e.jsx(It,{className:"w-4 h-4 text-red-500"})})]})})]},J.id)})})]}),l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(he,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No users found"})]})]})]}),h&&e.jsx($b,{user:E,roles:o,groups:d,onClose:W,onSave:Z}),R&&e.jsx(Fb,{user:R,onClose:()=>B(null),onConfirm:()=>{B(null),C()}}),v&&e.jsx(Db,{roles:o,groups:d,onClose:()=>N(!1),onSuccess:C}),w&&e.jsx(Ub,{roles:o,groups:d,onClose:()=>k(!1),onSuccess:C})]})}function Bb(){const{activeEvent:t}=ce(),[s,r]=p.useState([]),[a,n]=p.useState([]),[l,i]=p.useState(!0),[o,c]=p.useState(null),[d,u]=p.useState({type:"",text:""}),[m,g]=p.useState(null),[j,f]=p.useState(!1),[b,_]=p.useState(!1),[x,y]=p.useState(!1),[h,S]=p.useState({group_id:"",notes:""}),[v,N]=p.useState(""),[w,k]=p.useState({email:"",group_id:""});p.useEffect(()=>{P()},[t==null?void 0:t.id]);const E=F=>Array.isArray(F)?F:Array.isArray(F==null?void 0:F.data)?F.data:Array.isArray(F==null?void 0:F.items)?F.items:[],P=async()=>{i(!0);try{const[F,Q]=await Promise.all([Ds.getPending(),Lt.getAll({event_id:t==null?void 0:t.id})]);r(E(F)),n(E(Q))}catch{u({type:"error",text:"Failed to load data"})}finally{i(!1)}},R=async()=>{if(!h.group_id){u({type:"error",text:"Please select a group"});return}c("approve");try{await Ds.approve(m.id,h),u({type:"success",text:`${m.name} has been approved`}),r(F=>F.filter(Q=>Q.id!==m.id)),f(!1),g(null),S({group_id:"",notes:""})}catch(F){u({type:"error",text:F.message||"Failed to approve user"})}finally{c(null)}},B=async()=>{c("reject");try{await Ds.reject(m.id,{reason:v}),u({type:"success",text:"Registration rejected"}),r(F=>F.filter(Q=>Q.id!==m.id)),_(!1),g(null),N("")}catch(F){u({type:"error",text:F.message||"Failed to reject"})}finally{c(null)}},$=async()=>{if(!w.email){u({type:"error",text:"Please enter an email address"});return}c("invite");try{await Ds.sendInvitation(w),u({type:"success",text:`Invitation sent to ${w.email}`}),y(!1),k({email:"",group_id:""})}catch(F){u({type:"error",text:F.message||"Failed to send invitation"})}finally{c(null)}},q=F=>new Date(F).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Nt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Registration Approvals"}),e.jsx("p",{className:"text-gray-500",children:"Manage pending user registrations"})]}),e.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[e.jsx(Ni,{className:"w-4 h-4"}),"Send Invitation"]})]}),d.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${d.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[d.type==="success"?e.jsx(ee,{className:"w-5 h-5"}):e.jsx(We,{className:"w-5 h-5"}),d.text,e.jsx("button",{onClick:()=>u({type:"",text:""}),className:"ml-auto text-current opacity-50 hover:opacity-100",children:""})]}),!(t!=null&&t.id)&&e.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"No active event. You can review registrations, but group assignment will be unavailable until an event is activated."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-100",children:"Pending Approvals"}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:s.length})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(ie,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-emerald-100",children:"Active Groups"}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:a.length})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(he,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100",children:"Quick Action"}),e.jsx("p",{className:"text-lg font-medium mt-1",children:"Invite New Editor"})]}),e.jsx("button",{onClick:()=>y(!0),className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",children:e.jsx(Hc,{className:"w-6 h-6"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pending Registrations"})}),s.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ua,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Pending Registrations"}),e.jsx("p",{className:"text-gray-500",children:"All registration requests have been processed"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:s.map(F=>{var Q,A;return e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:((A=(Q=F.name)==null?void 0:Q.charAt(0))==null?void 0:A.toUpperCase())||"?"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:F.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-1 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ys,{className:"w-4 h-4"}),F.email]}),F.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(zl,{className:"w-4 h-4"}),F.phone]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Yt,{className:"w-4 h-4"}),q(F.created_at)]})]}),F.registration_notes&&e.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(vs,{className:"w-4 h-4 mt-0.5 text-gray-400"}),e.jsx("span",{children:F.registration_notes})]})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{g(F),_(!0)},className:"flex items-center gap-2 px-4 py-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors font-medium",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Reject"]}),e.jsxs("button",{onClick:()=>{g(F),f(!0)},className:"flex items-center gap-2 px-4 py-2 text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors font-medium",children:[e.jsx(ee,{className:"w-4 h-4"}),"Approve"]})]})]})},F.id)})})]}),j&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Ua,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Approve Registration"}),e.jsx("p",{className:"text-sm text-gray-500",children:m.name})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Assign to Group ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:h.group_id,onChange:F=>S({...h,group_id:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Select a group..."}),a.map(F=>e.jsxs("option",{value:F.id,children:[F.group_code," - ",F.name]},F.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),e.jsx("textarea",{value:h.notes,onChange:F=>S({...h,notes:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none",rows:3,placeholder:"Any notes about this approval..."})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{f(!1),g(null),S({group_id:"",notes:""})},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:R,disabled:o==="approve",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50 font-medium transition-colors",children:[o==="approve"?e.jsx(Nt,{className:"w-4 h-4 animate-spin"}):e.jsx(ee,{className:"w-4 h-4"}),"Approve"]})]})]})}),b&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(uh,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reject Registration"}),e.jsx("p",{className:"text-sm text-gray-500",children:m.name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional)"}),e.jsx("textarea",{value:v,onChange:F=>N(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none",rows:3,placeholder:"Reason for rejection..."}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"The user will be notified via email with this reason."})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{_(!1),g(null),N("")},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:B,disabled:o==="reject",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 disabled:opacity-50 font-medium transition-colors",children:[o==="reject"?e.jsx(Nt,{className:"w-4 h-4 animate-spin"}):e.jsx(Ft,{className:"w-4 h-4"}),"Reject"]})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ni,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Send Invitation"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Invite a new editor to join"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:w.email,onChange:F=>k({...w,email:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"editor@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pre-assign to Group (optional)"}),e.jsxs("select",{value:w.group_id,onChange:F=>k({...w,group_id:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"No group (assign later)"}),a.map(F=>e.jsxs("option",{value:F.id,children:[F.group_code," - ",F.name]},F.id))]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{y(!1),k({email:"",group_id:""})},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:$,disabled:o==="invite",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[o==="invite"?e.jsx(Nt,{className:"w-4 h-4 animate-spin"}):e.jsx(Ni,{className:"w-4 h-4"}),"Send Invitation"]})]})]})})]})}function Hb({log:t,onClose:s}){var r,a;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Audit Log Details"}),e.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Action"}),e.jsx("p",{className:"font-medium",children:t.action})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Timestamp"}),e.jsx("p",{className:"font-medium",children:new Date(t.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"User"}),e.jsx("p",{className:"font-medium",children:((r=t.user)==null?void 0:r.name)||"System"}),e.jsx("p",{className:"text-sm text-gray-500",children:(a=t.user)==null?void 0:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"IP Address"}),e.jsx("p",{className:"font-medium",children:t.ip_address||"N/A"})]})]}),t.entity_type&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Entity"}),e.jsxs("p",{className:"font-medium",children:[t.entity_type," #",t.entity_id]})]}),t.metadata&&Object.keys(t.metadata).length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase mb-2 block",children:"Metadata"}),e.jsx("pre",{className:"bg-gray-50 p-3 rounded-lg text-sm overflow-auto max-h-48",children:JSON.stringify(t.metadata,null,2)})]})]}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("button",{onClick:s,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Close"})})]})})}function wn({title:t,value:s,icon:r,color:a}){const n={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"};return e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${n[a]}`,children:e.jsx(r,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.toLocaleString())||0}),e.jsx("p",{className:"text-sm text-gray-500",children:t})]})]})})}function Vb(){const[t,s]=p.useState([]),[r,a]=p.useState(null),[n,l]=p.useState([]),[i,o]=p.useState([]),[c,d]=p.useState(!0),[u,m]=p.useState(null),[g,j]=p.useState({search:"",action:"",entity_type:"",date_from:"",date_to:""}),[f,b]=p.useState({current_page:1,last_page:1,per_page:50,total:0});p.useEffect(()=>{_()},[]),p.useEffect(()=>{x()},[g,f.current_page]);const _=async()=>{try{const[w,k,E]=await Promise.all([bn.getStats(),bn.getActions(),bn.getEntityTypes()]);a(w),l(k||[]),o(E||[])}catch(w){console.error("Failed to load initial data:",w)}},x=async()=>{d(!0);try{const w=await bn.getAll({...g,page:f.current_page,per_page:f.per_page});s(w.data||[]),b(k=>({...k,current_page:w.current_page,last_page:w.last_page,total:w.total}))}catch(w){console.error("Failed to load logs:",w)}finally{d(!1)}},y=(w,k)=>{j(E=>({...E,[w]:k})),b(E=>({...E,current_page:1}))},h=()=>{j({search:"",action:"",entity_type:"",date_from:"",date_to:""})},S=w=>{b(k=>({...k,current_page:w}))},v={"user.create":"bg-green-100 text-green-700","user.update":"bg-blue-100 text-blue-700","user.delete":"bg-red-100 text-red-700","auth.login":"bg-purple-100 text-purple-700","auth.logout":"bg-gray-100 text-gray-700","media.sync":"bg-cyan-100 text-cyan-700","issue.report":"bg-orange-100 text-orange-700","issue.resolve":"bg-green-100 text-green-700"},N=w=>v[w]||"bg-gray-100 text-gray-700";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),e.jsx("p",{className:"text-gray-500",children:"Track all system activities and changes"})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(wn,{title:"Total Logs",value:r.total,icon:Ja,color:"blue"}),e.jsx(wn,{title:"Today",value:r.today,icon:ie,color:"green"}),e.jsx(wn,{title:"This Week",value:r.this_week,icon:Yt,color:"yellow"}),e.jsx(wn,{title:"This Month",value:r.this_month,icon:re,color:"purple"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search logs...",value:g.search,onChange:w=>y("search",w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("select",{value:g.action,onChange:w=>y("action",w.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Actions"}),n.map(w=>e.jsx("option",{value:w,children:w},w))]}),e.jsxs("select",{value:g.entity_type,onChange:w=>y("entity_type",w.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Entities"}),i.map(w=>e.jsx("option",{value:w,children:w},w))]}),e.jsx("input",{type:"date",value:g.date_from,onChange:w=>y("date_from",w.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"From"}),e.jsx("input",{type:"date",value:g.date_to,onChange:w=>y("date_to",w.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"To"}),(g.search||g.action||g.entity_type||g.date_from||g.date_to)&&e.jsxs("button",{onClick:h,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),"Clear"]})]})}),c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Timestamp"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Entity"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"IP Address"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Details"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(w=>{var k,E;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(w.created_at).toLocaleString()}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${N(w.action)}`,children:w.action})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx($t,{className:"w-4 h-4 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:((k=w.user)==null?void 0:k.name)||"System"}),e.jsx("p",{className:"text-xs text-gray-500",children:((E=w.user)==null?void 0:E.email)||""})]})]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:w.entity_type?`${w.entity_type} #${w.entity_id}`:"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:w.ip_address||"-"}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx("button",{onClick:()=>m(w),className:"p-2 hover:bg-gray-100 rounded-lg",title:"View Details",children:e.jsx(Mt,{className:"w-4 h-4 text-gray-500"})})})]},w.id)})})]}),t.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(vs,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No audit logs found"})]})]}),f.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-100",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(f.current_page-1)*f.per_page+1," to"," ",Math.min(f.current_page*f.per_page,f.total)," of"," ",f.total," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(f.current_page-1),disabled:f.current_page===1,className:"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(nh,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",f.current_page," of ",f.last_page]}),e.jsx("button",{onClick:()=>S(f.current_page+1),disabled:f.current_page===f.last_page,className:"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Ks,{className:"w-4 h-4"})})]})]})]})]}),u&&e.jsx(Hb,{log:u,onClose:()=>m(null)})]})}function qb(){const[t,s]=p.useState("general"),[r,a]=p.useState(!0),[n,l]=p.useState(!1),[i,o]=p.useState(!1),[c,d]=p.useState({type:"",text:""}),[u,m]=p.useState({app_name:"",app_url:"",require_approval:!0,allow_self_registration:!0}),[g,j]=p.useState({smtp_host:"",smtp_port:587,smtp_username:"",smtp_password:"",smtp_encryption:"tls",smtp_from_address:"",smtp_from_name:""}),[f,b]=p.useState(""),[_,x]=p.useState(!1);p.useEffect(()=>{y()},[]);const y=async()=>{a(!0);try{const[w,k]=await Promise.all([sa.getGeneral(),sa.getSmtp()]);m(w),j(k)}catch{d({type:"error",text:"Failed to load settings"})}finally{a(!1)}},h=async()=>{l(!0),d({type:"",text:""});try{await sa.updateGeneral(u),d({type:"success",text:"General settings saved successfully"})}catch(w){d({type:"error",text:w.message||"Failed to save settings"})}finally{l(!1)}},S=async()=>{l(!0),d({type:"",text:""});try{await sa.updateSmtp(g),d({type:"success",text:"SMTP settings saved successfully"})}catch(w){d({type:"error",text:w.message||"Failed to save settings"})}finally{l(!1)}},v=async()=>{if(!f){d({type:"error",text:"Please enter a test email address"});return}o(!0),d({type:"",text:""});try{const w=await sa.testSmtp(f);d({type:"success",text:w.message})}catch(w){d({type:"error",text:w.message||"SMTP test failed"})}finally{o(!1)}};if(r)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Nt,{className:"w-8 h-8 animate-spin text-blue-600"})});const N=[{id:"general",label:"General",icon:To},{id:"smtp",label:"Email (SMTP)",icon:Ys},{id:"security",label:"Security",icon:pt}];return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),e.jsx("p",{className:"text-gray-500",children:"Configure your Gate 1 System"})]}),c.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${c.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[c.type==="success"?e.jsx(ee,{className:"w-5 h-5"}):e.jsx(We,{className:"w-5 h-5"}),c.text]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-100",children:e.jsx("nav",{className:"flex",children:N.map(w=>e.jsxs("button",{onClick:()=>s(w.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${t===w.id?"border-blue-600 text-blue-600 bg-blue-50/50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(w.icon,{className:"w-4 h-4"}),w.label]},w.id))})}),e.jsxs("div",{className:"p-6",children:[t==="general"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Name"}),e.jsx("input",{type:"text",value:u.app_name,onChange:w=>m({...u,app_name:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application URL"}),e.jsx("input",{type:"url",value:u.app_url,onChange:w=>m({...u,app_url:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://gate1.cloud"})]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Registration Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:u.allow_self_registration,onChange:w=>m({...u,allow_self_registration:w.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Allow Self-Registration"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Allow users to register themselves without an invitation"})]})]}),e.jsxs("label",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:u.require_approval,onChange:w=>m({...u,require_approval:w.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Require Approval"}),e.jsx("div",{className:"text-sm text-gray-500",children:"New registrations must be approved by an admin or group leader"})]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:h,disabled:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[n?e.jsx(Nt,{className:"w-4 h-4 animate-spin"}):e.jsx(Oo,{className:"w-4 h-4"}),"Save Changes"]})})]}),t==="smtp"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ys,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Email Configuration"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Configure SMTP settings to enable email notifications for password resets, registration approvals, and alerts."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Host"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qj,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:g.smtp_host,onChange:w=>j({...g,smtp_host:w.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"smtp.gmail.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Port"}),e.jsx("input",{type:"number",value:g.smtp_port,onChange:w=>j({...g,smtp_port:parseInt(w.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"587"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:g.smtp_username,onChange:w=>j({...g,smtp_username:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:_?"text":"password",value:g.smtp_password,onChange:w=>j({...g,smtp_password:w.target.value}),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:""}),e.jsx("button",{type:"button",onClick:()=>x(!_),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:_?e.jsx(kr,{className:"w-4 h-4"}):e.jsx(Mt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Encryption"}),e.jsxs("select",{value:g.smtp_encryption,onChange:w=>j({...g,smtp_encryption:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"tls",children:"TLS"}),e.jsx("option",{value:"ssl",children:"SSL"}),e.jsx("option",{value:"none",children:"None"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Address"}),e.jsx("input",{type:"email",value:g.smtp_from_address,onChange:w=>j({...g,smtp_from_address:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"noreply@gate1system.org"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Name"}),e.jsx("input",{type:"text",value:g.smtp_from_name,onChange:w=>j({...g,smtp_from_name:w.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Gate 1 System"})]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Configuration"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"email",value:f,onChange:w=>b(w.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email to send test message"}),e.jsxs("button",{onClick:v,disabled:i,className:"flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 disabled:opacity-50 font-medium transition-colors",children:[i?e.jsx(Nt,{className:"w-4 h-4 animate-spin"}):e.jsx(Jj,{className:"w-4 h-4"}),"Send Test"]})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:S,disabled:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[n?e.jsx(Nt,{className:"w-4 h-4 animate-spin"}):e.jsx(Oo,{className:"w-4 h-4"}),"Save SMTP Settings"]})})]}),t==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(pt,{className:"w-5 h-5 text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-amber-900",children:"Security Settings"}),e.jsx("p",{className:"text-sm text-amber-700",children:"Additional security settings will be available in a future update."})]})]})}),e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(pt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Security settings coming soon"}),e.jsx("p",{className:"text-sm",children:"Session management, 2FA, and more"})]})]})]})]})]})}function Wb(){var _,x,y;const{user:t}=ce(),[s,r]=p.useState("profile"),[a,n]=p.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[l,i]=p.useState({current_password:"",password:"",password_confirmation:""}),[o,c]=p.useState({current:!1,new:!1,confirm:!1}),[d,u]=p.useState(!1),[m,g]=p.useState({type:"",text:""}),j=async h=>{h.preventDefault(),u(!0),g({type:"",text:""});try{await Be.update(t.id,a),g({type:"success",text:"Profile updated successfully"})}catch(S){g({type:"error",text:S.message||"Failed to update profile"})}finally{u(!1)}},f=async h=>{if(h.preventDefault(),u(!0),g({type:"",text:""}),l.password!==l.password_confirmation){g({type:"error",text:"Passwords do not match"}),u(!1);return}try{await wr.changePassword(l),g({type:"success",text:"Password changed successfully"}),i({current_password:"",password:"",password_confirmation:""})}catch(S){g({type:"error",text:S.message||"Failed to change password"})}finally{u(!1)}},b=h=>{c(S=>({...S,[h]:!S[h]}))};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"}),e.jsx("p",{className:"text-gray-500",children:"Manage your account settings"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-3xl font-bold text-white",children:((x=(_=t==null?void 0:t.name)==null?void 0:_.charAt(0))==null?void 0:x.toUpperCase())||"U"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t==null?void 0:t.name}),e.jsx("p",{className:"text-gray-500",children:t==null?void 0:t.email}),e.jsx("div",{className:"flex gap-2 mt-2",children:(y=t==null?void 0:t.roles)==null?void 0:y.map(h=>{const S=typeof h=="string"?h:(h==null?void 0:h.slug)||(h==null?void 0:h.name);return S?e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:S},S):null})})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"border-b border-gray-100",children:e.jsxs("nav",{className:"flex",children:[e.jsx("button",{onClick:()=>r("profile"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="profile"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($t,{className:"w-4 h-4"}),"Profile Information"]})}),e.jsx("button",{onClick:()=>r("security"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="security"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"w-4 h-4"}),"Security"]})})]})}),e.jsxs("div",{className:"p-6",children:[m.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${m.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[m.type==="success"?e.jsx(ee,{className:"w-5 h-5"}):e.jsx(We,{className:"w-5 h-5"}),m.text]}),s==="profile"&&e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($t,{className:"w-4 h-4"}),"Full Name"]})}),e.jsx("input",{type:"text",value:a.name,onChange:h=>n({...a,name:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"w-4 h-4"}),"Email Address"]})}),e.jsx("input",{type:"email",value:a.email,onChange:h=>n({...a,email:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zl,{className:"w-4 h-4"}),"Phone Number"]})}),e.jsx("input",{type:"text",value:a.phone,onChange:h=>n({...a,phone:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional"})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{type:"submit",disabled:d,className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:[e.jsx(Oo,{className:"w-4 h-4"}),d?"Saving...":"Save Changes"]})})]}),s==="security"&&e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o.current?"text":"password",value:l.current_password,onChange:h=>i({...l,current_password:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0}),e.jsx("button",{type:"button",onClick:()=>b("current"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.current?e.jsx(kr,{className:"w-5 h-5"}):e.jsx(Mt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o.new?"text":"password",value:l.password,onChange:h=>i({...l,password:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0,minLength:8}),e.jsx("button",{type:"button",onClick:()=>b("new"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.new?e.jsx(kr,{className:"w-5 h-5"}):e.jsx(Mt,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum 8 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o.confirm?"text":"password",value:l.password_confirmation,onChange:h=>i({...l,password_confirmation:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0}),e.jsx("button",{type:"button",onClick:()=>b("confirm"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.confirm?e.jsx(kr,{className:"w-5 h-5"}):e.jsx(Mt,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{type:"submit",disabled:d,className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:[e.jsx(lh,{className:"w-4 h-4"}),d?"Changing...":"Change Password"]})})]})]})]})]})}function Gb(){const{activeEvent:t}=ce(),[s,r]=p.useState([]),[a,n]=p.useState(!0),[l,i]=p.useState("all"),[o,c]=p.useState(!1),[d,u]=p.useState({issues:!0,backups:!0,storage:!0,users:!0,qa:!0});p.useEffect(()=>{g()},[t==null?void 0:t.id]);const m=v=>{if(!v)return"";const N=new Date(v),k=new Date-N,E=Math.floor(k/6e4),P=Math.floor(k/36e5),R=Math.floor(k/864e5);return E<1?"Just now":E<60?`${E} min ago`:P<24?`${P} hour${P===1?"":"s"} ago`:`${R} day${R===1?"":"s"} ago`},g=async()=>{try{if(n(!0),!(t!=null&&t.id)){r([]);return}const v=await oa.getAll({event_id:t.id,status:"open",per_page:10}),w=((v==null?void 0:v.data)||[]).map(k=>{var $,q;const E=(k.severity||"info").toLowerCase(),P=E==="critical"?"alert":E==="high"?"warning":"info",R=E==="critical"?"Critical Issue Reported":"Issue Reported",B=(($=k==null?void 0:k.media)==null?void 0:$.camera_number)||(k==null?void 0:k.camera_number);return{id:k.issue_id||k.id,type:P,title:R,message:`${((q=k.type)==null?void 0:q.replaceAll("_"," "))||"Issue"}${B?`  Camera ${B}`:""}`,time:m(k.created_at),read:!1,link:"/issues"}});r(w)}catch(v){console.error("Failed to load notifications:",v),r([])}finally{n(!1)}},j=s.filter(v=>l==="unread"?!v.read:l==="read"?v.read:!0),f=s.filter(v=>!v.read).length,b=v=>{r(N=>N.map(w=>w.id===v?{...w,read:!0}:w))},_=()=>{r(v=>v.map(N=>({...N,read:!0})))},x=v=>{r(N=>N.filter(w=>w.id!==v))},y=()=>{r([])},h=v=>{switch(v){case"alert":return e.jsx(G,{className:"w-5 h-5 text-red-500"});case"warning":return e.jsx(G,{className:"w-5 h-5 text-yellow-500"});case"success":return e.jsx(ee,{className:"w-5 h-5 text-green-500"});case"info":return e.jsx(Ns,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(qt,{className:"w-5 h-5 text-gray-500"})}},S=(v,N)=>{if(N)return"bg-white";switch(v){case"alert":return"bg-red-50";case"warning":return"bg-yellow-50";case"success":return"bg-green-50";case"info":return"bg-blue-50";default:return"bg-gray-50"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),e.jsx("p",{className:"text-gray-500",children:f>0?`${f} unread notifications`:"All caught up!"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(Or,{className:"w-4 h-4"}),"Preferences"]}),f>0&&e.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(Mj,{className:"w-4 h-4"}),"Mark all read"]})]})]}),o&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Notification Preferences"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(d).map(([v,N])=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:()=>u(w=>({...w,[v]:!w[v]})),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm capitalize",children:v})]},v))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ul,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:l,onChange:v=>i(v.target.value),className:"border-0 bg-transparent text-sm font-medium focus:ring-0",children:[e.jsx("option",{value:"all",children:"All Notifications"}),e.jsx("option",{value:"unread",children:"Unread"}),e.jsx("option",{value:"read",children:"Read"})]})]}),s.length>0&&e.jsx("button",{onClick:y,className:"text-sm text-red-600 hover:text-red-700",children:"Clear all"})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:a?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(qt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading notifications..."})]}):j.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(qt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No notifications"})]}):j.map(v=>e.jsx("div",{className:`p-4 ${S(v.type,v.read)} hover:bg-gray-50 transition-colors`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:h(v.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${v.read?"text-gray-700":"text-gray-900"}`,children:v.title}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:v.message})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!v.read&&e.jsx("button",{onClick:()=>b(v.id),className:"p-1 hover:bg-gray-200 rounded",title:"Mark as read",children:e.jsx(ah,{className:"w-4 h-4 text-gray-400"})}),e.jsx("button",{onClick:()=>x(v.id),className:"p-1 hover:bg-gray-200 rounded",title:"Delete",children:e.jsx(It,{className:"w-4 h-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(ie,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:v.time}),v.link&&e.jsx("a",{href:v.link,className:"text-xs text-blue-600 hover:underline ml-2",children:"View details "})]})]})]})},v.id))})]})]})}const lm=[{id:"daily-summary",name:"Daily Summary",description:"Overview of daily operations including media count, issues, and editor activity",icon:Yt,formats:["json"],category:"operations"},{id:"event-report",name:"Event Report",description:"Complete report for a specific event including all statistics and media",icon:js,formats:["json"],category:"operations"},{id:"media-export",name:"Media Inventory",description:"Export list of all media files with metadata and status",icon:it,formats:["csv"],category:"media"},{id:"issues-report",name:"Issues Report",description:"List of all issues with resolution status and timeline",icon:G,formats:["csv"],category:"quality"},{id:"backup-report",name:"Backup Status",description:"Backup coverage and verification report by disk and event",icon:K,formats:["csv"],category:"storage"},{id:"editor-performance",name:"Editor Performance",description:"Performance metrics and productivity stats for editors",icon:he,formats:["csv"],category:"team"},{id:"healing-cases",name:"Healing Cases",description:"Export healing case records with patient info and status",icon:vs,formats:["csv"],category:"media"},{id:"audit-logs",name:"Audit Trail",description:"System audit logs for compliance and tracking",icon:vs,formats:["csv"],category:"admin"}],Qb={operations:"Operations",media:"Media",quality:"Quality Control",storage:"Storage",team:"Team",admin:"Administration"};function Kb(){const{activeEvent:t}=ce(),[s,r]=p.useState(null),[a,n]=p.useState({start:"",end:""}),[l,i]=p.useState(""),[o,c]=p.useState(!1),[d,u]=p.useState([]),[m,g]=p.useState([]),[j,f]=p.useState(""),[b,_]=p.useState(null);p.useEffect(()=>{t!=null&&t.id&&i(String(t.id))},[t==null?void 0:t.id]),p.useEffect(()=>{(async()=>{try{const w=await vi.getQuickStats({event_id:l||void 0});_(w)}catch{_(null)}})()},[l]),p.useEffect(()=>{(async()=>{try{const w=await as.getAll({status:"active"}),k=(w==null?void 0:w.data)||(w==null?void 0:w.events)||w||[];g(Array.isArray(k)?k:[])}catch{g([])}})()},[]);const x=p.useMemo(()=>lm.reduce((N,w)=>(N[w.category]||(N[w.category]=[]),N[w.category].push(w),N),{}),[]),y=(N,w)=>{const k=window.URL.createObjectURL(N),E=document.createElement("a");E.href=k,E.download=w,document.body.appendChild(E),E.click(),E.remove(),window.URL.revokeObjectURL(k)},h=N=>{if(!N)return"";try{return new Date(N).toISOString().slice(0,10)}catch{return""}},S=(N,w)=>{const k=h(new Date);return`${N}_${k}.${w}`},v=async(N,w)=>{c(!0),f("");try{const k=lm.find(R=>R.id===N);if(!k)throw new Error("Unknown report type");const E={event_id:l||void 0,from_date:a.start||void 0,to_date:a.end||void 0};if(N==="media-export"){const R=await ar.exportMedia(E);y(R,S("media_export","csv"))}else if(N==="issues-report"){const R=await ar.exportIssues(E);y(R,S("issues_export","csv"))}else if(N==="backup-report"){const R=await ar.backupReport(E);y(R,S("backup_report","csv"))}else if(N==="editor-performance"){const R=await ar.editorPerformance(E);y(R,S("editor_performance","csv"))}else if(N==="healing-cases"){const R=await ar.exportHealingCases(E);y(R,S("healing_cases_export","csv"))}else if(N==="audit-logs"){const R=await ar.exportAuditLogs(E);y(R,S("audit_logs_export","csv"))}else if(N==="daily-summary"){const R=await vi.dailySummary({date:a.start||void 0,event_id:l||void 0}),B=new Blob([JSON.stringify(R,null,2)],{type:"application/json"});y(B,S("daily_summary","json"))}else if(N==="event-report"){if(!l)throw new Error("Please select an event");const R=await vi.eventReport(l,{event_id:l}),B=new Blob([JSON.stringify(R,null,2)],{type:"application/json"});y(B,S(`event_report_${l}`,"json"))}else throw new Error("This report type is not implemented yet");const P={id:Date.now(),name:`${k.name} - ${new Date().toLocaleDateString()}`,type:w,size:"downloaded",time:"Just now"};u(R=>[P,...R.slice(0,9)]),r(null)}catch(k){f((k==null?void 0:k.message)||"Failed to generate report")}finally{c(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),e.jsx("p",{className:"text-gray-500",children:"Generate and download system reports"})]})}),j&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 text-sm text-red-700",children:j}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:Object.entries(x).map(([N,w])=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h2",{className:"font-semibold text-gray-900",children:Qb[N]})}),e.jsx("div",{className:"divide-y divide-gray-100",children:w.map(k=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(k.icon,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:k.name}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:k.description}),e.jsx("div",{className:"flex items-center gap-2 mt-3",children:k.formats.map(E=>e.jsxs("button",{onClick:()=>r({...k,format:E}),className:"flex items-center gap-1 px-3 py-1.5 text-sm border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[E==="csv"?e.jsx(Yu,{className:"w-4 h-4 text-green-500"}):e.jsx(Ju,{className:"w-4 h-4 text-gray-500"}),E.toUpperCase()]},E))})]})]})},k.id))})]},N))}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h2",{className:"font-semibold text-gray-900",children:"Recent Reports"})}),e.jsx("div",{className:"divide-y divide-gray-100",children:d.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No recent reports"}):d.map(N=>e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[N.type==="csv"?e.jsx(Yu,{className:"w-8 h-8 text-green-500"}):e.jsx(Ju,{className:"w-8 h-8 text-gray-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[N.size,"  ",N.time]})]}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(Da,{className:"w-4 h-4 text-gray-500"})})]})},N.id))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-100",children:"Reports this month"}),e.jsx("span",{className:"font-semibold",children:(b==null?void 0:b.reports_this_month)??0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-100",children:"Total downloads"}),e.jsx("span",{className:"font-semibold",children:(b==null?void 0:b.total_downloads)??0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-100",children:"Storage used"}),e.jsx("span",{className:"font-semibold",children:(b==null?void 0:b.storage_used_formatted)??"0 B"})]})]})]})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h3",{className:"text-lg font-semibold",children:"Generate Report"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Report Type"}),e.jsxs("p",{className:"font-medium",children:[s.name," (",s.format.toUpperCase(),")"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"date",value:a.start,onChange:N=>n(w=>({...w,start:N.target.value})),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{type:"date",value:a.end,onChange:N=>n(w=>({...w,end:N.target.value})),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),s.id==="event-report"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event"}),e.jsxs("select",{value:l,onChange:N=>i(N.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select event..."}),m.map(N=>e.jsxs("option",{value:String(N.id),children:[N.event_code||N.code||N.name," ",N.name?`- ${N.name}`:""]},N.id))]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:()=>r(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>v(s.id,s.format),disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Da,{className:"w-4 h-4"}),"Generate"]})})]})]})]})})]})}const Yb=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],im=Array.from({length:24},(t,s)=>s);function Jb(){const{activeEvent:t,isAdmin:s,isTeamLead:r,isGroupLeader:a}=ce(),[n,l]=p.useState(new Date),[i,o]=p.useState("week"),[c,d]=p.useState([]),[u,m]=p.useState([]),[g,j]=p.useState(!0),[f,b]=p.useState(null),[_,x]=p.useState(!1),[y,h]=p.useState(null),[S,v]=p.useState({userId:"",startHour:8,endHour:16}),N=s()||r()||a(),k=(()=>{const C=[],L=new Date(n);L.setDate(n.getDate()-n.getDay());for(let z=0;z<7;z++){const H=new Date(L);H.setDate(L.getDate()+z),C.push(H)}return C})(),E=C=>C.toISOString().split("T")[0],P=C=>`${String(C).padStart(2,"0")}:00`,R=C=>c.filter(L=>L.date===E(C)),B=async()=>{try{if(j(!0),b(null),!(t!=null&&t.id)){d([]),m([]);return}const C=await Be.getEditorsStatus({});m((C==null?void 0:C.editors)||[]);const L=i==="day"?[n]:k,H=(await Promise.all(L.map(W=>Ku.getAll({event_id:t.id,date:E(W)})))).flatMap(W=>(W==null?void 0:W.shifts)||[]).map(W=>({id:W.id,userId:W.user_id,userName:W.user_name,date:W.shift_date,startHour:parseInt((W.start_time||"0:00").split(":")[0],10),endHour:parseInt((W.end_time||"0:00").split(":")[0],10),status:W.status}));d(H)}catch(C){console.error("Failed to load shifts:",C),b("Failed to load shifts")}finally{j(!1)}};p.useEffect(()=>{B()},[t==null?void 0:t.id,n,i]);const $=C=>{const L=new Date(n);L.setDate(n.getDate()+C*7),l(L)},q=(C,L)=>{N&&(h({date:E(C),hour:L}),v({userId:"",startHour:L,endHour:L+8}),x(!0))},F=()=>{!S.userId||!(y!=null&&y.date)||!(t!=null&&t.id)||Q()},Q=async()=>{try{b(null),await Ku.create({event_id:t.id,user_id:parseInt(S.userId,10),group_id:null,shift_date:y.date,start_time:P(parseInt(S.startHour,10)),end_time:P(parseInt(S.endHour,10)),notes:null}),x(!1),v({userId:"",startHour:8,endHour:16}),await B()}catch(C){console.error("Failed to create shift:",C),b((C==null?void 0:C.message)||"Failed to create shift")}},A=C=>{switch(C){case"active":return"bg-green-100 border-green-300 text-green-800";case"completed":return"bg-gray-100 border-gray-300 text-gray-600";case"scheduled":return"bg-blue-100 border-blue-300 text-blue-800";default:return"bg-gray-100 border-gray-300 text-gray-600"}},O={scheduled:c.filter(C=>C.date===E(new Date)&&C.status==="scheduled").length,active:c.filter(C=>C.date===E(new Date)&&C.status==="active").length,completed:c.filter(C=>C.date===E(new Date)&&C.status==="completed").length};return e.jsxs("div",{className:"space-y-6",children:[f&&e.jsx("div",{className:"p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm",children:f}),!(t!=null&&t.id)&&e.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing shifts."}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shift Schedule"}),e.jsx("p",{className:"text-gray-500",children:"Manage editor work schedules"})]}),N&&e.jsxs("button",{onClick:()=>{h({date:E(new Date),hour:8}),v({userId:"",startHour:8,endHour:16}),x(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(qr,{className:"w-4 h-4"}),"Add Shift"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ie,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.scheduled}),e.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled Today"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Gj,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.active}),e.jsx("p",{className:"text-sm text-gray-500",children:"Currently Active"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(ah,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.completed}),e.jsx("p",{className:"text-sm text-gray-500",children:"Completed Today"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>$(-1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(nh,{className:"w-5 h-5"})}),e.jsxs("h2",{className:"font-semibold text-gray-900",children:[k[0].toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",k[6].toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),e.jsx("button",{onClick:()=>$(1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(Ks,{className:"w-5 h-5"})})]}),e.jsx("button",{onClick:()=>l(new Date),className:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg hover:bg-gray-50",children:"Today"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"min-w-[800px]",children:[e.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-100",children:[e.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 border-r border-gray-100",children:"Time"}),k.map((C,L)=>{const z=E(C)===E(new Date);return e.jsxs("div",{className:`p-3 text-center border-r border-gray-100 last:border-r-0 ${z?"bg-blue-50":""}`,children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:Yb[C.getDay()]}),e.jsx("p",{className:`text-lg font-semibold ${z?"text-blue-600":"text-gray-900"}`,children:C.getDate()})]},L)})]}),[6,8,10,12,14,16,18,20,22].map(C=>e.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"p-2 text-center text-sm text-gray-500 border-r border-gray-100 bg-gray-50",children:[C.toString().padStart(2,"0"),":00"]}),k.map((L,z)=>{const H=R(L).filter(Z=>Z.startHour<=C&&Z.endHour>C),W=E(L)===E(new Date);return e.jsx("div",{onClick:()=>q(L,C),className:`p-1 min-h-[60px] border-r border-gray-100 last:border-r-0 ${W?"bg-blue-50/50":""} ${N?"cursor-pointer hover:bg-gray-50":""}`,children:H.map(Z=>e.jsxs("div",{className:`px-2 py-1 rounded text-xs font-medium border ${A(Z.status)} mb-1`,children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($t,{className:"w-3 h-3"}),Z.userName]}),e.jsxs("div",{className:"text-[10px] opacity-75",children:[Z.startHour,":00 - ",Z.endHour,":00"]})]},Z.id))},z)})]},C))]})})]}),_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Schedule Shift"}),e.jsx("button",{onClick:()=>x(!1),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:(y==null?void 0:y.date)||"",onChange:C=>h(L=>({...L,date:C.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Editor"}),e.jsxs("select",{value:S.userId,onChange:C=>v(L=>({...L,userId:C.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select editor..."}),u.map(C=>e.jsx("option",{value:C.id,children:C.name},C.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),e.jsx("select",{value:S.startHour,onChange:C=>v(L=>({...L,startHour:C.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:im.map(C=>e.jsxs("option",{value:C,children:[C.toString().padStart(2,"0"),":00"]},C))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),e.jsx("select",{value:S.endHour,onChange:C=>v(L=>({...L,endHour:C.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:im.map(C=>e.jsxs("option",{value:C,children:[C.toString().padStart(2,"0"),":00"]},C))})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:F,disabled:!S.userId,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Schedule"})]})]})]})})]})}const Xb={media_upload:{icon:fl,color:"text-blue-500",bg:"bg-blue-100"},media_edit:{icon:ch,color:"text-purple-500",bg:"bg-purple-100"},issue_created:{icon:G,color:"text-red-500",bg:"bg-red-100"},issue_resolved:{icon:ee,color:"text-green-500",bg:"bg-green-100"},backup_complete:{icon:K,color:"text-green-500",bg:"bg-green-100"},backup_started:{icon:K,color:"text-yellow-500",bg:"bg-yellow-100"},user_login:{icon:Bj,color:"text-blue-500",bg:"bg-blue-100"},user_logout:{icon:Uc,color:"text-gray-500",bg:"bg-gray-100"},user_joined:{icon:Hc,color:"text-green-500",bg:"bg-green-100"},camera_bind:{icon:Le,color:"text-purple-500",bg:"bg-purple-100"},qa_approved:{icon:ee,color:"text-green-500",bg:"bg-green-100"},settings_changed:{icon:Or,color:"text-gray-500",bg:"bg-gray-100"},event_started:{icon:re,color:"text-blue-500",bg:"bg-blue-100"}};function Zb(){var h,S,v;const{user:t,activeEvent:s}=ce(),[r,a]=p.useState([]),[n,l]=p.useState("all"),[i,o]=p.useState(!0),[c,d]=p.useState(!1),[u,m]=p.useState({today:{},hourly_activity:[]}),g=r.filter(N=>n==="all"?!0:N.type.includes(n)),j=N=>{var R,B;const w=((R=N.user)==null?void 0:R.name)||"System",k=(B=N.group)==null?void 0:B.code,E=N.description||N.title||"",P=(()=>{const $=N.metadata||{};return $.issue_id||$.media_id||$.camera_number||$.disk_label||$.event_code||null})();return{id:N.id,type:N.type,user:w,target:P,message:E,time:N.time_ago||(N.created_at?new Date(N.created_at).toLocaleString():""),group:k,raw:N}},f=async()=>{d(!0);try{const[N,w]=await Promise.all([Qu.get({event_id:s==null?void 0:s.id,limit:100}),Qu.stats({event_id:s==null?void 0:s.id})]);a(((N==null?void 0:N.activities)||[]).map(j)),m(w||{today:{},hourly_activity:[]})}finally{d(!1)}};p.useEffect(()=>{f()},[s==null?void 0:s.id]),p.useEffect(()=>{if(!i)return;const N=setInterval(()=>{f()},3e4);return()=>clearInterval(N)},[i,n,s==null?void 0:s.id]);const b=N=>{const w=Xb[N]||{icon:re,color:"text-gray-500",bg:"bg-gray-100"},k=w.icon;return e.jsx("div",{className:`p-2 rounded-full ${w.bg}`,children:e.jsx(k,{className:`w-4 h-4 ${w.color}`})})},_=r.length,x=((h=u==null?void 0:u.today)==null?void 0:h.issues_reported)??r.filter(N=>N.type.includes("issue")).length,y=(((S=u==null?void 0:u.today)==null?void 0:S.copies_started)??0)+(((v=u==null?void 0:u.today)==null?void 0:v.copies_completed)??0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Activity Feed"}),e.jsx("p",{className:"text-gray-500",children:"Real-time system activity"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>o(!i),className:`flex items-center gap-2 px-3 py-2 rounded-lg border ${i?"bg-green-50 border-green-200 text-green-700":"border-gray-300"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${i?"bg-green-500 animate-pulse":"bg-gray-400"}`}),i?"Live":"Paused"]}),e.jsxs("button",{onClick:f,disabled:c,className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(oe,{className:`w-4 h-4 ${c?"animate-spin":""}`}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(re,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_}),e.jsx("p",{className:"text-sm text-gray-500",children:"Activities Today"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(it,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y}),e.jsx("p",{className:"text-sm text-gray-500",children:"Media Activities"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(G,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x}),e.jsx("p",{className:"text-sm text-gray-500",children:"Issue Activities"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ul,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:n,onChange:N=>l(N.target.value),className:"border-0 bg-transparent text-sm font-medium focus:ring-0",children:[e.jsx("option",{value:"all",children:"All Activities"}),e.jsx("option",{value:"media",children:"Media"}),e.jsx("option",{value:"issue",children:"Issues"}),e.jsx("option",{value:"backup",children:"Backups"}),e.jsx("option",{value:"user",children:"Users"})]})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[g.length," activities"]})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(re,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No activities found"})]}):g.map(N=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[b(N.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"font-medium",children:N.user})," ",N.message,N.target&&e.jsxs("span",{className:"font-medium text-blue-600",children:[" ",N.target]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ie,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:N.time}),N.group&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:""}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Group ",N.group]})]})]})]})]})},N.id))}),e.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Load more activities"})})]})]})}const ev=[{category:"Getting Started",icon:Tj,questions:[{q:"How do I set up the Desktop Agent?",a:"Download the Desktop Agent from the downloads section. Install it, then log in with your credentials. The agent will automatically connect to the server and sync your assigned cameras."},{q:"How do I join a group?",a:"Groups are assigned by your Group Leader or Admin. Contact them to be added to a specific group. Once added, you'll see the group in your dashboard."},{q:"What are the different user roles?",a:"Admin: Full system access. Team Lead: Operational management. Group Leader: Manages editors in their group. QA Lead: Quality control oversight. Backup Lead: Storage management. Editor: Media ingestion via Desktop Agent."}]},{category:"Media Management",icon:it,questions:[{q:"How do I upload media files?",a:"Media files are uploaded automatically through the Desktop Agent when you process SD cards. Insert the SD card, select the camera, and the agent will sync the files."},{q:"What file formats are supported?",a:"The system supports MP4, MOV, AVI for video and JPG, PNG, RAW for images. Maximum file size is determined by your system settings."},{q:"How do I search for specific media?",a:"Use the Media Library search. You can filter by date, camera, group, event, and status. Use the advanced search for more specific queries."}]},{category:"Issues & Quality Control",icon:G,questions:[{q:"How do I report an issue?",a:'Click "Report Issue" from the Issues page or directly from a media item. Select the issue type, add a description, and submit. The issue will be routed to QA.'},{q:"What happens when an issue is escalated?",a:"Escalated issues are flagged for immediate attention and notify Team Leads. They appear at the top of the issue queue with high priority."},{q:"How does the QA review process work?",a:"QA team members review media in the Quality Control queue. They can approve, reject, or flag items for re-processing. Approved items move to the backup queue."}]},{category:"Backups & Storage",icon:K,questions:[{q:"How are backups performed?",a:"Backups are managed through the Backup Dashboard. Media is backed up to registered disks. The system tracks backup status and verification for each file."},{q:"What does backup verification mean?",a:"Verification ensures backup integrity by comparing checksums. Verified backups are confirmed to be complete and uncorrupted."},{q:"How do I check storage capacity?",a:"The Storage Forecast page shows current usage and predictions. You'll receive alerts when disks approach capacity thresholds."}]}],tv=[{title:"Editor Quick Start Guide",icon:vs,description:"Basic guide for new editors"},{title:"Group Leader Handbook",icon:he,description:"Managing your team effectively"},{title:"Camera Setup Guide",icon:Le,description:"Binding cameras and SD cards"},{title:"Backup Procedures",icon:K,description:"Best practices for data backup"},{title:"Quality Control Standards",icon:pt,description:"QA review guidelines"},{title:"System Administration",icon:Or,description:"Admin configuration guide"}];function sv(){const[t,s]=p.useState("Getting Started"),[r,a]=p.useState(null),[n,l]=p.useState(""),i=ev.map(o=>({...o,questions:o.questions.filter(c=>c.q.toLowerCase().includes(n.toLowerCase())||c.a.toLowerCase().includes(n.toLowerCase()))})).filter(o=>o.questions.length>0);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Help & Documentation"}),e.jsx("p",{className:"text-gray-500",children:"Guides, FAQs, and support resources"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx(Jt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search help articles...",value:n,onChange:o=>l(o.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Frequently Asked Questions"}),i.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[e.jsx(Mo,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-500",children:['No results found for "',n,'"']})]}):i.map(o=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("button",{onClick:()=>s(t===o.category?null:o.category),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(o.icon,{className:"w-5 h-5 text-blue-600"})}),e.jsx("span",{className:"font-medium text-gray-900",children:o.category}),e.jsxs("span",{className:"text-sm text-gray-400",children:["(",o.questions.length,")"]})]}),t===o.category?e.jsx(pl,{className:"w-5 h-5 text-gray-400"}):e.jsx(Ks,{className:"w-5 h-5 text-gray-400"})]}),t===o.category&&e.jsx("div",{className:"border-t border-gray-100 divide-y divide-gray-100",children:o.questions.map((c,d)=>e.jsxs("div",{className:"p-4",children:[e.jsxs("button",{onClick:()=>a(r===`${o.category}-${d}`?null:`${o.category}-${d}`),className:"w-full flex items-start justify-between text-left",children:[e.jsx("span",{className:"font-medium text-gray-700 pr-4",children:c.q}),r===`${o.category}-${d}`?e.jsx(pl,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-1"}):e.jsx(Ks,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-1"})]}),r===`${o.category}-${d}`&&e.jsx("p",{className:"mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:c.a})]},d))})]},o.category))]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Quick Guides"})}),e.jsx("div",{className:"divide-y divide-gray-100",children:tv.map(o=>e.jsxs("a",{href:"#",className:"flex items-center gap-3 p-4 hover:bg-gray-50 transition-colors",children:[e.jsx(o.icon,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.title}),e.jsx("p",{className:"text-xs text-gray-500",children:o.description})]}),e.jsx(Fj,{className:"w-4 h-4 text-gray-400"})]},o.title))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:[e.jsx(Vj,{className:"w-8 h-8 mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Need More Help?"}),e.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Can't find what you're looking for? Contact our support team."}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("a",{href:"mailto:support@neliumsystems.com",className:"flex items-center gap-2 text-white hover:text-blue-100",children:[e.jsx(Ys,{className:"w-4 h-4"}),"support@neliumsystems.com"]}),e.jsxs("a",{href:"tel:+254700000000",className:"flex items-center gap-2 text-white hover:text-blue-100",children:[e.jsx(zl,{className:"w-4 h-4"}),"+254 700 000 000"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"System Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Version"}),e.jsx("span",{className:"font-medium",children:"1.0.0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Build"}),e.jsx("span",{className:"font-medium",children:"2024.12.26"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Developer"}),e.jsx("span",{className:"font-medium",children:"Nelium Systems"})]})]})]})]})]})]})}function mh({assigned:t,completed:s,showNumbers:r=!0}){const a=t>0?Math.round(s/t*100):0,n=t-s;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-300",style:{width:`${a}%`}})}),r&&e.jsxs("span",{className:"text-xs text-gray-500 min-w-[60px] text-right",children:[s,"/",t]})]}),n>0&&e.jsxs("p",{className:"text-xs text-orange-600 mt-0.5",children:[n," pending"]})]})}function rv({editor:t}){const r=(()=>{const n=t.mediaAssigned-t.mediaCompleted;return n===0?{label:"Available",color:"text-green-600",bg:"bg-green-100",icon:ee,priority:1}:n<=5?{label:"Light Load",color:"text-blue-600",bg:"bg-blue-100",icon:_r,priority:2}:n<=15?{label:"Normal",color:"text-yellow-600",bg:"bg-yellow-100",icon:Bc,priority:3}:{label:"Heavy Load",color:"text-red-600",bg:"bg-red-100",icon:Ot,priority:4}})(),a=r.icon;return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:t.name.charAt(0)})}),e.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white ${t.isOnline?"bg-green-500":"bg-gray-400"}`})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.group})]})]}),e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${r.bg} ${r.color}`,children:[e.jsx(a,{className:"w-3 h-3"}),r.label]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Status"}),e.jsx("span",{className:t.isOnline?"text-green-600":"text-gray-500",children:t.isOnline?t.currentActivity||"Online":`Offline  ${nv(t.lastSeen)}`})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Workload"}),e.jsxs("span",{className:"font-medium",children:[t.mediaAssigned-t.mediaCompleted," pending"]})]}),e.jsx(mh,{assigned:t.mediaAssigned,completed:t.mediaCompleted}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-1",children:[e.jsxs("span",{children:["Avg: ",t.avgProcessingTime," min/file"]}),e.jsxs("span",{children:[t.mediaCompleted," completed"]})]})]})]})}function av({group:t}){const s=t.totalMedia>0?Math.round(t.completedMedia/t.totalMedia*100):0,r=t.totalMedia-t.completedMedia,a=t.editorCount>0?Math.round(r/t.editorCount):0;return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.code,"  ",t.editorCount," editors"]})]}),e.jsxs("div",{className:`text-2xl font-bold ${s>=80?"text-green-600":s>=50?"text-yellow-600":"text-red-600"}`,children:[s,"%"]})]}),e.jsx(mh,{assigned:t.totalMedia,completed:t.completedMedia}),e.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[e.jsxs("span",{className:"text-gray-500",children:[r," pending"]}),e.jsxs("span",{className:"text-gray-500",children:["~",a," per editor"]})]})]})}function nv(t){const s=Math.floor((new Date-new Date(t))/1e3);if(s<60)return"just now";const r=Math.floor(s/60);if(r<60)return`${r}m ago`;const a=Math.floor(r/60);return a<24?`${a}h ago`:`${Math.floor(a/24)}d ago`}function lv(){const{activeEvent:t,isAdmin:s,isTeamLead:r,isGroupLeader:a}=ce(),[n,l]=p.useState([]),[i,o]=p.useState([]),[c,d]=p.useState(!0),[u,m]=p.useState("all"),[g,j]=p.useState("all"),[f,b]=p.useState("workload"),[_,x]=p.useState(!0),[y,h]=p.useState(new Date),S=p.useCallback(async()=>{if(!(t!=null&&t.id)){l([]),o([]),d(!1);return}try{const k=await _j.getOverview(t.id),E=(k.editors||[]).map(R=>{var B,$,q,F;return{id:R.id,name:R.name,email:R.email,group:(($=(B=R.groups)==null?void 0:B[0])==null?void 0:$.name)||"Unassigned",groupId:((F=(q=R.groups)==null?void 0:q[0])==null?void 0:F.id)||null,isOnline:R.is_online,lastSeen:R.last_seen_at,currentActivity:R.current_activity,mediaAssigned:R.media_assigned||0,mediaCompleted:R.media_completed||0,avgProcessingTime:R.avg_processing_time||0}}),P=(k.groups||[]).map(R=>({id:R.id,name:R.name,code:R.code,totalMedia:R.total_media||0,completedMedia:R.completed_media||0,editorCount:R.editor_count||0}));l(E),o(P),h(new Date)}catch(k){console.error("Failed to fetch work allocation:",k)}finally{d(!1)}},[t==null?void 0:t.id]);p.useEffect(()=>{S()},[S]),p.useEffect(()=>{let k;return _&&(t!=null&&t.id)&&(k=setInterval(S,5e3)),()=>{k&&clearInterval(k)}},[_,t==null?void 0:t.id,S]);const v=!!(t!=null&&t.id),N=n.filter(k=>!(u!=="all"&&k.groupId!==parseInt(u)||g==="online"&&!k.isOnline||g==="offline"&&k.isOnline||g==="available"&&k.mediaAssigned-k.mediaCompleted>0||g==="light"&&k.mediaAssigned-k.mediaCompleted>5)).sort((k,E)=>f==="workload"?k.mediaAssigned-k.mediaCompleted-(E.mediaAssigned-E.mediaCompleted):f==="name"?k.name.localeCompare(E.name):f==="group"?k.group.localeCompare(E.group):0),w={totalEditors:n.length,onlineEditors:n.filter(k=>k.isOnline).length,availableEditors:n.filter(k=>k.isOnline&&k.mediaAssigned-k.mediaCompleted===0).length,lightLoadEditors:n.filter(k=>k.isOnline&&k.mediaAssigned-k.mediaCompleted>0&&k.mediaAssigned-k.mediaCompleted<=5).length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Work Allocation"}),e.jsxs("p",{className:"text-gray-500",children:["Assign and balance editor workloads",t!=null&&t.name?`  Active event: ${t.name}`:""]})]}),!v&&e.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing work allocation."}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:["Team Status",_&&e.jsxs("span",{className:"flex items-center gap-1.5 text-sm font-normal text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live"]})]}),e.jsxs("p",{className:"text-gray-500",children:["Real-time editor availability  Last updated: ",y.toLocaleTimeString()]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:()=>x(!_),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${_?"bg-green-50 border-green-200 text-green-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(ht,{className:`w-3 h-3 ${_?"fill-green-500 text-green-500":"text-gray-400"}`}),_?"Live Updates On":"Live Updates Off"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(he,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.totalEditors}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Editors"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Ua,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.onlineEditors}),e.jsx("p",{className:"text-sm text-gray-500",children:"Online Now"})]})]})}),e.jsx("div",{className:"bg-green-50 rounded-xl border border-green-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ee,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-700",children:w.availableEditors}),e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Available for Work"})]})]})}),e.jsx("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(_r,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:w.lightLoadEditors}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Light Workload"})]})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Group Workload"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(k=>e.jsx(av,{group:k},k.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Editor Status",e.jsx("span",{className:"ml-2 text-sm font-normal text-gray-500",children:"(sorted by availability - assign work to those at the top)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:u,onChange:k=>m(k.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Groups"}),i.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]}),e.jsxs("select",{value:g,onChange:k=>j(k.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"online",children:"Online Only"}),e.jsx("option",{value:"available",children:"Available"}),e.jsx("option",{value:"light",children:"Light Load"})]}),e.jsxs("select",{value:f,onChange:k=>b(k.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"workload",children:"Sort by Workload"}),e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"group",children:"Sort by Group"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(k=>e.jsx(rv,{editor:k},k.id))}),N.length===0&&e.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200",children:[e.jsx(he,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No editors match the filter"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Assignment Tips"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Green (Available)"})," - No pending work, ready for new assignments"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Blue (Light Load)"})," - 1-5 pending items, can take more work"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Yellow (Normal)"})," - 6-15 pending items, moderate workload"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Red (Heavy Load)"})," - 15+ pending items, avoid assigning more"]})]})]})]})}function iv({session:t}){const s=t.files_total>0?Math.round(t.files_copied/t.files_total*100):0,r=()=>t.status==="completed"?"border-green-200 bg-green-50":t.status==="early_removal"||s<25?"border-red-200 bg-red-50":s<75?"border-yellow-200 bg-yellow-50":"border-blue-200 bg-blue-50",a=()=>t.status==="completed"?e.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-xs font-medium",children:[e.jsx(ee,{className:"w-3 h-3"})," Complete"]}):t.status==="early_removal"?e.jsxs("span",{className:"flex items-center gap-1 text-red-600 text-xs font-medium",children:[e.jsx(Ft,{className:"w-3 h-3"})," Early Removal!"]}):t.status==="active"?e.jsxs("span",{className:"flex items-center gap-1 text-blue-600 text-xs font-medium",children:[e.jsx(zj,{className:"w-3 h-3 animate-spin"})," Copying"]}):e.jsx("span",{className:"text-gray-500 text-xs",children:t.status});return e.jsxs("div",{className:`rounded-xl border-2 p-4 transition-all ${r()}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:e.jsx(Le,{className:"w-5 h-5 text-gray-700"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Camera ",t.camera_number,t.sd_label||""]}),e.jsx("p",{className:"text-sm text-gray-500",children:t.event_name||"Unknown Event"})]})]}),a()]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-600",children:[e.jsx($t,{className:"w-4 h-4"}),e.jsx("span",{children:t.editor_name||"Unknown"}),e.jsx("span",{className:"text-gray-300",children:""}),e.jsx("span",{children:t.group_code||""})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsxs("span",{className:"text-gray-600",children:[t.files_copied," / ",t.files_total," files"]}),e.jsxs("span",{className:"font-medium",children:[s,"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${s===100?"bg-green-500":s<25?"bg-red-500":s<75?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${s}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"w-3 h-3"}),"Started ",new Date(t.started_at).toLocaleTimeString()]}),t.files_pending>0&&e.jsxs("span",{className:"text-orange-600 font-medium",children:[t.files_pending," pending"]})]})]})}function ov({removal:t}){return e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(G,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Early SD Removal"}),e.jsxs("p",{className:"text-sm text-red-700",children:["Camera ",t.camera_number,t.sd_label," - ",t.files_pending," files not copied"]}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[t.editor_name,"  ",new Date(t.removed_at).toLocaleTimeString()]})]})]})})}function cv({camera:t}){const r=t.health_score>=80?{bg:"bg-green-50",border:"border-green-200",icon:"text-green-500"}:t.health_score>=50?{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-500"}:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500"};return e.jsxs("div",{className:`rounded-lg border ${r.border} ${r.bg} p-3 flex items-center justify-between`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:`w-3 h-3 fill-current ${r.icon}`}),e.jsxs("span",{className:"font-medium text-gray-900",children:["Camera ",t.camera_number]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-sm font-medium",children:[t.health_score,"%"]}),t.open_issues>0&&e.jsxs("span",{className:"ml-2 text-xs text-red-600",children:[t.open_issues," issues"]})]})]})}function dv(){const{activeEvent:t,isAdmin:s,isTeamLead:r,isGroupLeader:a}=ce(),[n,l]=p.useState(!0),[i,o]=p.useState(new Date),[c,d]=p.useState(!0),[u,m]=p.useState({activeSessions:[],earlyRemovals:[],cameraHealth:[],stats:{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),g=p.useCallback(async()=>{try{if(!(t!=null&&t.id)){m({activeSessions:[],earlyRemovals:[],cameraHealth:[],stats:{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),d(!1);return}const j=await Se.getLiveOperations(t.id);m({activeSessions:j.activeSessions||[],earlyRemovals:j.earlyRemovals||[],cameraHealth:j.cameraHealth||[],stats:j.stats||{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),o(new Date)}catch(j){console.error("Failed to fetch live operations:",j)}finally{d(!1)}},[t==null?void 0:t.id]);return p.useEffect(()=>{g()},[g]),p.useEffect(()=>{let j;return n&&(j=setInterval(g,3e3)),()=>{j&&clearInterval(j)}},[n,g]),c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(re,{className:"w-7 h-7 text-blue-600"}),"Live Operations",n&&e.jsxs("span",{className:"flex items-center gap-1.5 text-sm font-normal text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live"]})]}),e.jsxs("p",{className:"text-gray-500",children:["Real-time SD sessions and camera activity  Updated: ",i.toLocaleTimeString()]}),t!=null&&t.name?e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Active event: ",e.jsx("span",{className:"font-medium text-blue-600",children:t.name})]}):null]}),e.jsxs("button",{onClick:()=>l(!n),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${n?"bg-green-50 border-green-200 text-green-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[n?e.jsx(ws,{className:"w-4 h-4"}):e.jsx(Ir,{className:"w-4 h-4"}),n?"Live Updates On":"Live Updates Off"]})]}),!(t!=null&&t.id)&&e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-sm text-amber-800",children:"You must activate an event before viewing live operations."}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-700",children:u.stats.totalActiveSessions}),e.jsx("div",{className:"text-sm text-blue-600",children:"Active Sessions"})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-700",children:u.stats.editorsOnline}),e.jsx("div",{className:"text-sm text-green-600",children:"Editors Online"})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-700",children:u.stats.camerasHealthy}),e.jsx("div",{className:"text-sm text-green-600",children:"Cameras Healthy"})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-700",children:u.stats.camerasAttention}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Need Attention"})]}),e.jsxs("div",{className:`rounded-xl p-4 text-center ${u.stats.earlyRemovalsToday>0?"bg-red-50 border border-red-200":"bg-gray-50 border border-gray-200"}`,children:[e.jsx("div",{className:`text-3xl font-bold ${u.stats.earlyRemovalsToday>0?"text-red-700":"text-gray-400"}`,children:u.stats.earlyRemovalsToday}),e.jsx("div",{className:`text-sm ${u.stats.earlyRemovalsToday>0?"text-red-600":"text-gray-500"}`,children:"Early Removals Today"})]})]}),u.earlyRemovals.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-red-900 mb-3 flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"Early Removal Warnings"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.earlyRemovals.map(j=>e.jsx(ov,{removal:j},j.id))})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-blue-600"}),"Active SD Sessions",e.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",u.activeSessions.filter(j=>j.status==="active").length," active)"]})]}),u.activeSessions.length===0?e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[e.jsx(K,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No active SD sessions"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Sessions will appear here when editors insert SD cards"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.activeSessions.map(j=>e.jsx(iv,{session:j},j.id))})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5 text-gray-600"}),"Camera Health"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:u.cameraHealth.map(j=>e.jsx(cv,{camera:j},j.camera_number))}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Health based on issue frequency, severity, and resolution time"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:" Observation Only"}),"  This view is for monitoring. Problems should be addressed by contacting editors directly or through the Issues module."]})})]})}function uv({session:t}){const s=t.files_total>0?Math.round(t.files_copied/t.files_total*100):0,r=()=>s>=100?"bg-emerald-500":s>=50?"bg-sky-500":"bg-amber-500";return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-sky-100 rounded-full flex items-center justify-center",children:e.jsx(Le,{className:"w-4 h-4 text-sky-600"})}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-gray-900",children:["Camera ",t.camera_number]}),t.sd_label&&e.jsx("span",{className:"ml-2 text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded",children:t.sd_label})]})]}),e.jsxs("span",{className:"flex items-center gap-1 text-xs text-emerald-600",children:[e.jsx(gl,{className:"w-3 h-3 animate-pulse"}),"Live"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:t.editor_name}),t.group_code&&e.jsx("span",{className:"text-xs bg-purple-50 text-purple-600 px-1.5 py-0.5 rounded",children:t.group_code})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Progress"}),e.jsxs("span",{className:"font-medium",children:[t.files_copied," / ",t.files_total," files"]})]}),e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${r()} transition-all duration-500`,style:{width:`${s}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[s,"% complete"]}),e.jsxs("span",{children:[t.files_pending," pending"]})]})]})]})}function mv({alert:t}){const s={critical:"border-red-200 bg-red-50",warning:"border-amber-200 bg-amber-50",info:"border-blue-200 bg-blue-50"},r={critical:e.jsx(Ft,{className:"w-5 h-5 text-red-500"}),warning:e.jsx(G,{className:"w-5 h-5 text-amber-500"}),info:e.jsx(ht,{className:"w-5 h-5 text-blue-500"})};return e.jsx("div",{className:`p-3 rounded-lg border ${s[t.severity]||s.info}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[r[t.severity],e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[t.user&&e.jsx("span",{children:t.user}),e.jsx("span",{children:""}),e.jsx("span",{children:t.time_ago})]})]})]})})}function xv({editor:t,onClick:s}){var r;return e.jsxs("div",{onClick:s,className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200 hover:border-sky-300 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-sky-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sky-700 font-semibold text-sm",children:(r=t.name)==null?void 0:r.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)})}),e.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white ${t.is_online?"bg-emerald-500":"bg-gray-400"}`})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.is_online?t.current_activity||"Online":"Offline"})]}),t.metrics&&e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1 text-sky-600",children:[e.jsx(bs,{className:"w-3 h-3"}),t.metrics.clips_copied_today]}),e.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[e.jsx(K,{className:"w-3 h-3"}),t.metrics.clips_backed_up_today]})]}),e.jsx(Ks,{className:"w-4 h-4 text-gray-400"})]})}function hv({eventId:t}){var x,y,h,S,v,N,w,k;const[s,r]=p.useState(null),[a,n]=p.useState(null),[l,i]=p.useState([]),[o,c]=p.useState(!0),[d,u]=p.useState(null),[m,g]=p.useState(!0),[j,f]=p.useState(10),b=p.useCallback(async()=>{try{const[E,P,R]=await Promise.all([Se.getLiveOperations(t).catch(()=>null),Se.getAlerts(t).catch(()=>null),Be.getEditorsStatus({}).catch(()=>({editors:[]}))]);E&&r(E),P&&n(P),R!=null&&R.editors&&i(R.editors),u(new Date)}catch(E){console.error("Failed to fetch live data:",E)}finally{c(!1)}},[t]);p.useEffect(()=>{b();let E;return m&&(E=setInterval(b,j*1e3)),()=>clearInterval(E)},[b,m,j]);const _=l.filter(E=>E.is_online);return l.filter(E=>!E.is_online),o&&!s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oe,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-sky-500"}),e.jsx("p",{className:"text-gray-500",children:"Loading live operations..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:e.jsx(re,{className:"w-6 h-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Live Operations"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Real-time monitoring dashboard"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[d&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Updated ",d.toLocaleTimeString()]}),e.jsxs("select",{value:j,onChange:E=>f(Number(E.target.value)),className:"text-sm border border-gray-200 rounded-lg px-2 py-1",children:[e.jsx("option",{value:5,children:"5s"}),e.jsx("option",{value:10,children:"10s"}),e.jsx("option",{value:30,children:"30s"}),e.jsx("option",{value:60,children:"60s"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:E=>g(E.target.checked),className:"rounded border-gray-300 text-emerald-600"}),"Auto-refresh"]}),e.jsx("button",{onClick:b,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-sky-50 rounded-lg",children:e.jsx(oe,{className:`w-5 h-5 ${o?"animate-spin":""}`})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 mb-2",children:[e.jsx(gl,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Active Sessions"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:((x=s==null?void 0:s.stats)==null?void 0:x.totalActiveSessions)||0})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sky-600 mb-2",children:[e.jsx(ws,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Editors Online"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:_.length})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mb-2",children:[e.jsx(Le,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Cameras Healthy"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:((y=s==null?void 0:s.stats)==null?void 0:y.camerasHealthy)||0})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-600 mb-2",children:[e.jsx(G,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Need Attention"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:((h=s==null?void 0:s.stats)==null?void 0:h.camerasAttention)||0})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-2",children:[e.jsx(Ft,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Early Removals"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:((S=s==null?void 0:s.stats)==null?void 0:S.earlyRemovalsToday)||0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(gl,{className:"w-5 h-5 text-emerald-500"}),"Active Copy Sessions"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[((v=s==null?void 0:s.activeSessions)==null?void 0:v.length)||0," sessions"]})]}),((N=s==null?void 0:s.activeSessions)==null?void 0:N.length)>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.activeSessions.map(E=>e.jsx(uv,{session:E},E.id))}):e.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[e.jsx(Le,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:"No active copy sessions"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Sessions will appear when editors insert SD cards"})]}),((w=s==null?void 0:s.earlyRemovals)==null?void 0:w.length)>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx(G,{className:"w-5 h-5 text-amber-500"}),"Early Removals Today"]}),e.jsx("div",{className:"space-y-2",children:s.earlyRemovals.map(E=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Le,{className:"w-5 h-5 text-amber-600"}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-900",children:["Camera ",E.camera_number]}),e.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["by ",E.editor_name]})]})]}),e.jsxs("span",{className:"text-sm text-amber-700",children:[E.files_pending," files lost"]})]},E.id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(za,{className:"w-5 h-5 text-amber-500"}),"Alerts"]}),(a==null?void 0:a.summary)&&e.jsxs("div",{className:"flex items-center gap-2",children:[a.summary.critical>0&&e.jsxs("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs font-medium",children:[a.summary.critical," critical"]}),a.summary.warning>0&&e.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded text-xs font-medium",children:[a.summary.warning," warning"]})]})]}),((k=a==null?void 0:a.alerts)==null?void 0:k.length)>0?e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.alerts.slice(0,5).map((E,P)=>e.jsx(mv,{alert:E},P))}):e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 text-center",children:[e.jsx(ee,{className:"w-8 h-8 mx-auto mb-2 text-emerald-500"}),e.jsx("p",{className:"text-sm text-emerald-700",children:"All systems operational"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-sky-500"}),"Online Editors"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[_.length," online"]})]}),_.length>0?e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:_.slice(0,6).map(E=>e.jsx(xv,{editor:E},E.id))}):e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[e.jsx(Ir,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No editors online"})]})]})]})]})]})}function pv({eventId:t}){const[s,r]=p.useState([]),[a,n]=p.useState(!0),[l,i]=p.useState("all");p.useEffect(()=>{o()},[t]);const o=async()=>{n(!0);try{const m=await Se.getSdCardLifecycle(t);r(m.sd_cards||[])}catch(m){console.error("Failed to load SD cards:",m)}finally{n(!1)}},c=s.filter(m=>l==="in_use"?m.status==="in_use":l==="available"?m.status==="available":!0),d=m=>m==="in_use"?e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-medium",children:[e.jsx(ht,{className:"w-2 h-2 fill-emerald-500"}),"In Use"]}):e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium",children:[e.jsx(ht,{className:"w-2 h-2 fill-gray-400"}),"Available"]}),u=m=>m>=90?"text-emerald-600":m>=70?"text-amber-600":"text-red-600";return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(oe,{className:"w-8 h-8 animate-spin text-sky-500"})}):e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(K,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"SD Card Registry"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Track all registered SD cards and their usage"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:l,onChange:m=>i(m.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-2",children:[e.jsxs("option",{value:"all",children:["All Cards (",s.length,")"]}),e.jsxs("option",{value:"in_use",children:["In Use (",s.filter(m=>m.status==="in_use").length,")"]}),e.jsxs("option",{value:"available",children:["Available (",s.filter(m=>m.status==="available").length,")"]})]}),e.jsx("button",{onClick:o,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-sky-50 rounded-lg",children:e.jsx(oe,{className:"w-5 h-5"})})]})]})}),c.length>0?e.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(m=>{var g;return e.jsxs("div",{className:`border rounded-xl p-4 transition-all ${m.status==="in_use"?"border-emerald-200 bg-emerald-50/50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${m.status==="in_use"?"bg-emerald-100":"bg-gray-100"}`,children:e.jsx(K,{className:`w-5 h-5 ${m.status==="in_use"?"text-emerald-600":"text-gray-500"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:m.sd_label}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(Le,{className:"w-3 h-3"}),"Camera ",m.camera_number]})]})]}),d(m.status)]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Total Sessions"}),e.jsx("span",{className:"font-medium text-gray-900",children:m.total_sessions})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Completed"}),e.jsx("span",{className:"font-medium text-emerald-600",children:m.completed_sessions})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Early Removals"}),e.jsx("span",{className:`font-medium ${m.early_removals>0?"text-amber-600":"text-gray-600"}`,children:m.early_removals})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Reliability"}),e.jsxs("span",{className:`font-medium ${u(m.reliability_score)}`,children:[m.reliability_score,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Files Processed"}),e.jsx("span",{className:"font-medium text-gray-900",children:((g=m.total_files_processed)==null?void 0:g.toLocaleString())||0})]})]}),m.last_used&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(ie,{className:"w-3 h-3"}),"Last used: ",new Date(m.last_used).toLocaleDateString()]})]},m.sd_label)})}):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(K,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:"No SD cards registered"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Cards will appear when editors bind them"})]}),s.length>0&&e.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-around text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Cards"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:s.filter(m=>m.status==="in_use").length}),e.jsx("p",{className:"text-xs text-gray-500",children:"In Use"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:s.reduce((m,g)=>m+(g.total_sessions||0),0)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Sessions"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:s.reduce((m,g)=>m+(g.early_removals||0),0)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Early Removals"})]})]})})]})}function gv({eventId:t}){var u,m,g,j,f,b,_,x,y,h,S;const[s,r]=p.useState(null),[a,n]=p.useState(!0);p.useEffect(()=>{l()},[t]);const l=async()=>{n(!0);try{const v=await hl.getCoverage(t);r(v)}catch(v){console.error("Failed to load backup coverage:",v)}finally{n(!1)}},i=v=>v>=90?"text-emerald-600":v>=70?"text-amber-600":"text-red-600",o=v=>v>=90?"bg-emerald-500":v>=70?"bg-amber-500":"bg-red-500";if(a)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(oe,{className:"w-8 h-8 animate-spin text-sky-500"})});const c=((u=s==null?void 0:s.summary)==null?void 0:u.backup_percentage)||0,d=((m=s==null?void 0:s.summary)==null?void 0:m.verified_percentage)||0;return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:e.jsx(Ja,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Backup Status"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Data protection and verification overview"})]})]}),e.jsx("button",{onClick:l,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-sky-50 rounded-lg",children:e.jsx(oe,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-sky-600"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Backup Coverage"})]}),e.jsxs("span",{className:`text-2xl font-bold ${i(c)}`,children:[c,"%"]})]}),e.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${o(c)} transition-all duration-500`,style:{width:`${c}%`}})}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-500",children:[e.jsxs("span",{children:[((g=s==null?void 0:s.summary)==null?void 0:g.backed_up)||0," backed up"]}),e.jsxs("span",{children:[((j=s==null?void 0:s.summary)==null?void 0:j.total_media)||0," total"]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"w-5 h-5 text-emerald-600"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Verified Backups"})]}),e.jsxs("span",{className:`text-2xl font-bold ${i(d)}`,children:[d,"%"]})]}),e.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${o(d)} transition-all duration-500`,style:{width:`${d}%`}})}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-500",children:[e.jsxs("span",{children:[((f=s==null?void 0:s.summary)==null?void 0:f.verified)||0," verified"]}),e.jsxs("span",{children:[((b=s==null?void 0:s.summary)==null?void 0:b.backed_up)||0," backed up"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-sky-50 rounded-xl",children:[e.jsx("p",{className:"text-3xl font-bold text-sky-700",children:((_=s==null?void 0:s.summary)==null?void 0:_.total_media)||0}),e.jsx("p",{className:"text-sm text-sky-600",children:"Total Files"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[e.jsx("p",{className:"text-3xl font-bold text-purple-700",children:((x=s==null?void 0:s.summary)==null?void 0:x.backed_up)||0}),e.jsx("p",{className:"text-sm text-purple-600",children:"Backed Up"})]}),e.jsxs("div",{className:"text-center p-4 bg-emerald-50 rounded-xl",children:[e.jsx("p",{className:"text-3xl font-bold text-emerald-700",children:((y=s==null?void 0:s.summary)==null?void 0:y.verified)||0}),e.jsx("p",{className:"text-sm text-emerald-600",children:"Verified"})]}),e.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-xl",children:[e.jsx("p",{className:"text-3xl font-bold text-amber-700",children:((h=s==null?void 0:s.summary)==null?void 0:h.pending)||0}),e.jsx("p",{className:"text-sm text-amber-600",children:"Pending"})]})]}),((S=s==null?void 0:s.disks)==null?void 0:S.length)>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-gray-500"}),"Backup Drives"]}),e.jsx("div",{className:"space-y-3",children:s.disks.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:border-gray-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${v.is_connected?"bg-emerald-100":"bg-gray-100"}`,children:e.jsx(K,{className:`w-6 h-6 ${v.is_connected?"text-emerald-600":"text-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:v.disk_label}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[e.jsxs("span",{children:[v.files_count||0," files"]}),e.jsx("span",{children:""}),e.jsx("span",{children:v.size_formatted||"0 B"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[v.space_used_percentage!==void 0&&e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[v.space_used_percentage,"% used"]}),e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden mt-1",children:e.jsx("div",{className:`h-full ${v.space_used_percentage>90?"bg-red-500":v.space_used_percentage>70?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${v.space_used_percentage}%`}})})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.is_connected?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:v.is_connected?"Connected":"Offline"})]})]},v.id))})]}),e.jsx("div",{className:"mt-6 p-4 rounded-xl border border-gray-200",children:e.jsx("div",{className:"flex items-center gap-3",children:d>=90?e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-6 h-6 text-emerald-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-emerald-700",children:"Backup Health: Excellent"}),e.jsx("p",{className:"text-sm text-gray-500",children:"All critical data is protected and verified"})]})]}):d>=70?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-6 h-6 text-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-700",children:"Backup Health: Needs Attention"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Some files are pending backup or verification"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-6 h-6 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-700",children:"Backup Health: Critical"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Many files are not backed up - immediate action required"})]})]})})})]})]})}function fv({eventId:t}){const[s,r]=p.useState([]),[a,n]=p.useState({total:0,critical:0,warning:0,info:0}),[l,i]=p.useState(!0),[o,c]=p.useState("all"),[d,u]=p.useState(!0);p.useEffect(()=>{m();let _;return d&&(_=setInterval(m,15e3)),()=>clearInterval(_)},[t,d]);const m=async()=>{try{const _=await Se.getAlerts(t);r(_.alerts||[]),n(_.summary||{total:0,critical:0,warning:0,info:0})}catch(_){console.error("Failed to load alerts:",_)}finally{i(!1)}},g=s.filter(_=>o==="all"?!0:_.severity===o),j=_=>{switch(_){case"critical":return e.jsx(Ft,{className:"w-5 h-5 text-red-500"});case"warning":return e.jsx(G,{className:"w-5 h-5 text-amber-500"});default:return e.jsx(Ns,{className:"w-5 h-5 text-blue-500"})}},f=_=>{switch(_){case"critical":return"border-red-200 bg-red-50 hover:bg-red-100";case"warning":return"border-amber-200 bg-amber-50 hover:bg-amber-100";default:return"border-blue-200 bg-blue-50 hover:bg-blue-100"}},b=_=>({stalled_session:"Stalled Session",offline_editor:"Editor Offline",critical_issue:"Critical Issue",low_disk_space:"Low Disk Space",backup_failed:"Backup Failed"})[_]||_;return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${a.critical>0?"bg-red-50":a.warning>0?"bg-amber-50":"bg-emerald-50"}`,children:e.jsx(qt,{className:`w-5 h-5 ${a.critical>0?"text-red-600":a.warning>0?"text-amber-600":"text-emerald-600"}`})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Attention Queue"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Items requiring supervisor attention"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a.critical>0&&e.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium",children:[a.critical," critical"]}),a.warning>0&&e.jsxs("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-medium",children:[a.warning," warning"]}),a.info>0&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:[a.info," info"]})]}),e.jsx("button",{onClick:m,disabled:l,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-sky-50 rounded-lg",children:e.jsx(oe,{className:`w-5 h-5 ${l?"animate-spin":""}`})})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ul,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:o,onChange:_=>c(_.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-2",children:[e.jsxs("option",{value:"all",children:["All Alerts (",a.total,")"]}),e.jsxs("option",{value:"critical",children:["Critical (",a.critical,")"]}),e.jsxs("option",{value:"warning",children:["Warning (",a.warning,")"]}),e.jsxs("option",{value:"info",children:["Info (",a.info,")"]})]})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 ml-auto",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:_=>u(_.target.checked),className:"rounded border-gray-300 text-sky-600"}),"Auto-refresh (15s)"]})]})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:l&&s.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(oe,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-sky-500"}),e.jsx("p",{className:"text-gray-500",children:"Loading alerts..."})]}):g.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(ee,{className:"w-12 h-12 mx-auto mb-3 text-emerald-400"}),e.jsx("p",{className:"font-medium text-emerald-700",children:"All Clear!"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"No alerts requiring attention"})]}):g.map((_,x)=>e.jsx("div",{className:`p-4 border-l-4 transition-colors ${f(_.severity)}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:j(_.severity)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:_.title}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${_.severity==="critical"?"bg-red-200 text-red-800":_.severity==="warning"?"bg-amber-200 text-amber-800":"bg-blue-200 text-blue-800"}`,children:b(_.type)})]}),e.jsx("p",{className:"text-sm text-gray-600",children:_.message}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[_.user&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($t,{className:"w-3 h-3"}),_.user]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"w-3 h-3"}),_.time_ago]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("button",{className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"View"})})]})},x))}),s.length>0&&e.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",g.length," of ",s.length," alerts"]})})]})}function yv({eventId:t}){var d,u,m;const[s,r]=p.useState(null),[a,n]=p.useState(!0),[l,i]=p.useState("today");p.useEffect(()=>{o()},[t]);const o=async()=>{n(!0);try{const g=await Se.getTimeAnalytics(t);r(g)}catch(g){console.error("Failed to load productivity data:",g)}finally{n(!1)}};if(a)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(oe,{className:"w-8 h-8 animate-spin text-sky-500"})});const c=((d=s==null?void 0:s.hourly_activity)==null?void 0:d.length)>0?Math.max(...s.hourly_activity.map(g=>g.count)):1;return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:e.jsx(Ot,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Editor Productivity"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Performance metrics and efficiency tracking"})]})]}),e.jsx("button",{onClick:o,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-sky-50 rounded-lg",children:e.jsx(oe,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-sky-100 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sky-600 mb-2",children:[e.jsx(ie,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Avg Session"})]}),e.jsxs("p",{className:"text-2xl font-bold text-sky-700",children:[Math.round((s==null?void 0:s.avg_session_minutes)||0)," min"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mb-2",children:[e.jsx(bs,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Files/Session"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:Math.round((s==null?void 0:s.avg_files_per_session)||0)})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 mb-2",children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Files/Hour"})]}),e.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:(s==null?void 0:s.files_per_hour)||0})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-600 mb-2",children:[e.jsx(he,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Active Editors"})]}),e.jsx("p",{className:"text-2xl font-bold text-amber-700",children:(s==null?void 0:s.active_editors_today)||0})]})]}),((u=s==null?void 0:s.hourly_activity)==null?void 0:u.length)>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(js,{className:"w-5 h-5 text-gray-500"}),"Hourly Activity (Last 24h)"]}),e.jsx("div",{className:"flex items-end gap-1 h-32",children:s.hourly_activity.map((g,j)=>{var f;return e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:"w-full bg-sky-500 rounded-t transition-all hover:bg-sky-600",style:{height:`${g.count/c*100}%`,minHeight:g.count>0?"4px":"0"},title:`${g.hour}: ${g.count} files`}),e.jsx("span",{className:"text-xs text-gray-400 mt-1 rotate-45 origin-left",children:(f=g.hour)==null?void 0:f.split(":")[0]})]},j)})})]}),((m=s==null?void 0:s.editor_efficiency)==null?void 0:m.length)>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(rh,{className:"w-5 h-5 text-amber-500"}),"Editor Efficiency (Files/Hour)"]}),e.jsx("div",{className:"space-y-3",children:s.editor_efficiency.slice(0,10).map((g,j)=>{var f;return e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${j===0?"bg-amber-100 text-amber-700":j===1?"bg-gray-200 text-gray-700":j===2?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:j+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:g.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[g.files_last_8_hours||0," files in last 8 hours"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-sky-600",children:g.files_per_hour||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"files/hr"})]}),e.jsx("div",{className:"w-24",children:e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-sky-500",style:{width:`${Math.min(100,g.files_per_hour/(((f=s.editor_efficiency[0])==null?void 0:f.files_per_hour)||1)*100)}%`}})})})]},g.id)})})]}),(s==null?void 0:s.peak_hours)&&e.jsx("div",{className:"mt-6 p-4 bg-indigo-50 border border-indigo-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ie,{className:"w-6 h-6 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-indigo-700",children:"Peak Productivity Hours"}),e.jsxs("p",{className:"text-sm text-indigo-600",children:[s.peak_hours.join(", ")," - Schedule critical tasks during these times"]})]})]})})]})]})}const jv=[{id:"live",label:"Live Monitor",icon:gl},{id:"attention",label:"Attention Queue",icon:qt},{id:"sdcards",label:"SD Cards",icon:K},{id:"backup",label:"Backup Status",icon:Ja},{id:"productivity",label:"Productivity",icon:Ot}];function bv(){const{activeEvent:t,isAdmin:s,isTeamLead:r,isGroupLeader:a}=ce(),[n,l]=p.useState("live");if(!(s()||r()||a()))return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(re,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:"You don't have access to operations monitoring"})]})});const o=t==null?void 0:t.id;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Operations Center"}),e.jsx("p",{className:"text-gray-500",children:"Real-time monitoring and operational oversight"})]}),t&&e.jsx("div",{className:"px-4 py-2 bg-emerald-50 border border-emerald-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-emerald-700",children:[e.jsx("span",{className:"font-medium",children:"Active Event:"})," ",t.name]})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-1",children:e.jsx("div",{className:"flex gap-1",children:jv.map(c=>{const d=c.icon;return e.jsxs("button",{onClick:()=>l(c.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-colors ${n===c.id?"bg-sky-100 text-sky-700":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(d,{className:"w-4 h-4"}),c.label]},c.id)})})}),e.jsxs("div",{children:[n==="live"&&e.jsx(hv,{eventId:o}),n==="attention"&&e.jsx(fv,{eventId:o}),n==="sdcards"&&e.jsx(pv,{eventId:o}),n==="backup"&&e.jsx(gv,{eventId:o}),n==="productivity"&&e.jsx(yv,{eventId:o})]})]})}const Ls={VERIFIED_BACKUP:"verified_backup",EDITOR_STREAM:"editor_stream",QA_CACHE:"qa_cache",OFFLINE:"offline"};function vv({media:t,onClose:s,canDownload:r,onDownload:a,user:n}){var _,x,y;const[l,i]=p.useState(!1),[o,c]=p.useState(!1),[d,u]=p.useState(null),[m,g]=p.useState(!0);p.useEffect(()=>{(()=>{t.backup_verified&&t.backup_available?u({type:Ls.VERIFIED_BACKUP,label:"Verified Backup",icon:K,color:"text-green-600",bgColor:"bg-green-50",url:t.backup_stream_url||t.preview_url}):t.editor_online&&t.local_available?u({type:Ls.EDITOR_STREAM,label:"Editor Stream (Live)",icon:ws,color:"text-blue-600",bgColor:"bg-blue-50",url:t.editor_stream_url||t.preview_url}):t.qa_cache_available?u({type:Ls.QA_CACHE,label:"QA Review Cache",icon:pt,color:"text-yellow-600",bgColor:"bg-yellow-50",url:t.qa_cache_url}):u({type:Ls.OFFLINE,label:"Source Offline",icon:Ir,color:"text-red-600",bgColor:"bg-red-50",url:null}),g(!1)})()},[t]);const j=async()=>{var h,S;if(!o)try{await((S=rt.logPlayback)==null?void 0:S.call(rt,t.media_id,{source:d==null?void 0:d.type,reason:((h=t.issues)==null?void 0:h.length)>0?"issue_review":"admin_oversight"})),c(!0)}catch(v){console.error("Failed to log playback:",v)}i(!0)},f=async()=>{var h;if(a){try{await((h=rt.logDownload)==null?void 0:h.call(rt,t.media_id,{source:d==null?void 0:d.type}))}catch(S){console.error("Failed to log download:",S)}a(t)}};if(!t)return null;const b=(d==null?void 0:d.icon)||K;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-5xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.filename}),e.jsx("p",{className:"text-sm text-gray-500",children:t.media_id})]}),d&&e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${d.bgColor}`,children:[e.jsx(b,{className:`w-4 h-4 ${d.color}`}),e.jsxs("span",{className:`text-sm font-medium ${d.color}`,children:["Source: ",d.label]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r&&(d==null?void 0:d.type)!==Ls.OFFLINE&&e.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Da,{className:"w-4 h-4"}),"Download"]}),r&&(d==null?void 0:d.type)!==Ls.OFFLINE&&e.jsxs("button",{onClick:()=>navigator.clipboard.writeText((d==null?void 0:d.url)||""),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Copy stream URL",children:[e.jsx(bs,{className:"w-4 h-4"}),"Copy URL"]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ee,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"flex-1 bg-black relative",children:m?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):(d==null?void 0:d.type)===Ls.OFFLINE?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ir,{className:"w-20 h-20 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-xl font-medium",children:"Source Offline"}),e.jsx("p",{className:"text-sm mt-2",children:"Video is not currently available for playback"}),e.jsx("p",{className:"text-xs mt-4 text-gray-500",children:"Backup disk may be disconnected or editor is offline"})]})}):l?e.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:(d==null?void 0:d.url)||t.preview_url,onEnded:()=>i(!1),children:"Your browser does not support video playback."}):e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[e.jsxs("button",{onClick:j,className:"flex items-center gap-3 px-8 py-4 bg-white/10 hover:bg-white/20 rounded-full transition-colors text-white",children:[e.jsx(Vr,{className:"w-8 h-8"}),e.jsx("span",{className:"text-lg font-medium",children:"Play Video"})]}),e.jsx("p",{className:"absolute bottom-8 text-white/60 text-sm",children:"Playback will be logged for audit purposes"})]})}),e.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($t,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block text-xs",children:"Person"}),e.jsx("span",{className:"font-medium",children:t.full_name||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yj,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block text-xs",children:"Condition"}),e.jsx("span",{className:"font-medium",children:t.condition||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zc,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block text-xs",children:"Region"}),e.jsx("span",{className:"font-medium",children:t.region||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block text-xs",children:"Camera / SD"}),e.jsxs("span",{className:"font-medium",children:[t.camera_number||"?"," / ",t.sd_label||"?"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block text-xs",children:"Indexed"}),e.jsx("span",{className:"font-medium",children:t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($t,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block text-xs",children:"Editor"}),e.jsx("span",{className:"font-medium",children:((_=t.editor)==null?void 0:_.name)||"N/A"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[((x=t.issues)==null?void 0:x.length)>0&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-50 border border-red-200 rounded-full",children:[e.jsx(G,{className:"w-4 h-4 text-red-600"}),e.jsxs("span",{className:"text-sm text-red-700",children:[t.issues.length," Issue",t.issues.length>1?"s":""]})]}),e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${t.backup_verified?"bg-green-50 border border-green-200":t.backup_pending?"bg-yellow-50 border border-yellow-200":"bg-gray-50 border border-gray-200"}`,children:[e.jsx(K,{className:`w-4 h-4 ${t.backup_verified?"text-green-600":t.backup_pending?"text-yellow-600":"text-gray-600"}`}),e.jsx("span",{className:`text-sm ${t.backup_verified?"text-green-700":t.backup_pending?"text-yellow-700":"text-gray-700"}`,children:t.backup_verified?"Backup Verified":t.backup_pending?"Backup Pending":"No Backup"})]})]}),((y=t.issues)==null?void 0:y.length)>0&&e.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Issue Notes"}),t.issues.map((h,S)=>{var v;return e.jsxs("div",{className:"text-sm text-red-700",children:[e.jsxs("span",{className:"font-medium",children:[(v=h.type)==null?void 0:v.replace("_"," "),":"]})," ",h.description||"No description"]},S)})]})]}),e.jsx("div",{className:"px-4 py-2 bg-gray-100 border-t border-gray-200 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx(pt,{className:"w-3 h-3 inline mr-1"}),"All playback actions are logged for audit. User: ",n==null?void 0:n.name," (",n==null?void 0:n.role,")"]})})]})})}function Nv(){const{user:t,activeEvent:s,isAdmin:r,isTeamLead:a,isGroupLeader:n,isQA:l,isQALead:i}=ce(),[o,c]=p.useState([]),[d,u]=p.useState(!1),[m,g]=p.useState(null),[j,f]=p.useState(!1),b=r()||a(),_=l()||i(),x=n(),y=b,h=b,S=b,v=b||x,[N,w]=p.useState({full_name:"",age:"",condition:"",region:"",camera_number:"",sd_label:"",editor_id:"",group_id:"",issue_type:"",issue_status:"",backup_status:"",date_from:"",date_to:"",page:1}),[k,E]=p.useState({current_page:1,last_page:1,total:0}),P=async $=>{if($==null||$.preventDefault(),!(s!=null&&s.id)){c([]),E({current_page:1,last_page:1,total:0}),f(!0);return}u(!0),f(!0);try{const q={};b?Object.entries(N).forEach(([Q,A])=>{A&&(q[Q]=A)}):_?(N.issue_type&&(q.issue_type=N.issue_type),N.issue_status&&(q.issue_status=N.issue_status),N.camera_number&&(q.camera_number=N.camera_number),N.sd_label&&(q.sd_label=N.sd_label),q.has_issues=!0):x&&(N.issue_type&&(q.issue_type=N.issue_type),N.issue_status&&(q.issue_status=N.issue_status),N.camera_number&&(q.camera_number=N.camera_number),q.my_groups=!0),q.event_id=s.id;const F=await rt.search(q);c(F.data||[]),E({current_page:F.current_page||1,last_page:F.last_page||1,total:F.total||0})}catch(q){console.error("Search failed:",q)}finally{u(!1)}},R=async $=>{var q;if(y)try{const F=await((q=rt.getDownloadUrl)==null?void 0:q.call(rt,$.media_id));F!=null&&F.url?window.open(F.url,"_blank"):window.open($.preview_url||$.backup_stream_url,"_blank")}catch(F){console.error("Download failed:",F)}},B=[{value:"no_audio",label:"No Audio"},{value:"low_audio",label:"Low Audio"},{value:"blurry",label:"Blurry Video"},{value:"shaky",label:"Shaky Video"},{value:"cut_interview",label:"Cut Interview"},{value:"filename_error",label:"Filename Error"},{value:"duplicate",label:"Duplicate"},{value:"other",label:"Other"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Search & Playback"}),e.jsx("p",{className:"text-gray-500",children:b?"Global search across all indexed media  find any video ever indexed":_?"Search videos with reported issues only":x?"Search issues within your groups":"Search indexed media"}),s!=null&&s.name?e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Active event: ",e.jsx("span",{className:"font-medium text-blue-600",children:s.name})]}):null]}),!(s!=null&&s.id)&&e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-sm text-amber-800",children:"You must activate an event before searching media."}),_&&e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 flex items-start gap-3",children:[e.jsx(Mr,{className:"w-5 h-5 text-purple-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-purple-800",children:"QA Search Restrictions"}),e.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"You can only search videos with reported issues. Search by name, condition, region, editor, or group is not available. This is enforced at API level."})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[h&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:N.full_name,onChange:$=>w({...N,full_name:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Search by name..."})]}),h&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Age"}),e.jsx("input",{type:"number",value:N.age,onChange:$=>w({...N,age:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Age"})]}),v&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Condition"}),e.jsx("input",{type:"text",value:N.condition,onChange:$=>w({...N,condition:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Cripple"})]}),S&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Region"}),e.jsx("input",{type:"text",value:N.region,onChange:$=>w({...N,region:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Kisumu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Camera Number"}),e.jsx("input",{type:"text",value:N.camera_number,onChange:$=>w({...N,camera_number:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"SD Card Label"}),e.jsx("input",{type:"text",value:N.sd_label,onChange:$=>w({...N,sd_label:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 10B"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Issue Type"}),e.jsxs("select",{value:N.issue_type,onChange:$=>w({...N,issue_type:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),B.map($=>e.jsx("option",{value:$.value,children:$.label},$.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Issue Status"}),e.jsxs("select",{value:N.issue_status,onChange:$=>w({...N,issue_status:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Any Status"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"acknowledged",children:"Acknowledged"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"})]})]}),b&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Backup Status"}),e.jsxs("select",{value:N.backup_status,onChange:$=>w({...N,backup_status:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Any Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"backed_up",children:"Backed Up"}),e.jsx("option",{value:"verified",children:"Verified"})]})]}),b&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"From Date"}),e.jsx("input",{type:"date",value:N.date_from,onChange:$=>w({...N,date_from:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"To Date"}),e.jsx("input",{type:"date",value:N.date_to,onChange:$=>w({...N,date_to:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:()=>w({full_name:"",age:"",condition:"",region:"",camera_number:"",sd_label:"",editor_id:"",group_id:"",issue_type:"",issue_status:"",backup_status:"",date_from:"",date_to:"",page:1}),className:"text-gray-600 hover:text-gray-800",children:"Clear Filters"}),e.jsxs("button",{type:"submit",disabled:d||!(s!=null&&s.id),className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(Jt,{className:"w-4 h-4"}),d?"Searching...":"Search"]})]})]})}),j&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:e.jsxs("h3",{className:"font-semibold text-gray-900",children:[k.total," Result",k.total!==1?"s":""," Found"]})}),d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(it,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No videos found matching your search criteria"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:o.map($=>{var q,F;return e.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:$.thumbnail_url?e.jsx("img",{src:$.thumbnail_url,alt:"",className:"w-full h-full object-cover"}):e.jsx(Dj,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:$.filename}),((q=$.issues)==null?void 0:q.length)>0&&e.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs font-medium",children:"Issue"}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${$.backup_verified?"bg-green-100 text-green-700":$.backup_pending?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:$.backup_verified?"Verified":$.backup_pending?"Pending":"No Backup"})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[b&&$.full_name&&e.jsx("span",{children:$.full_name}),e.jsxs("span",{children:["Camera ",$.camera_number||"?"]}),e.jsxs("span",{children:["SD ",$.sd_label||"?"]}),((F=$.editor)==null?void 0:F.name)&&e.jsxs("span",{children:["Editor: ",$.editor.name]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[$.backup_available&&e.jsx("span",{className:"flex items-center gap-1 text-green-600",children:e.jsx(K,{className:"w-4 h-4"})}),$.editor_online&&e.jsx("span",{className:"flex items-center gap-1 text-blue-600",children:e.jsx(ws,{className:"w-4 h-4"})}),!$.backup_available&&!$.editor_online&&e.jsx("span",{className:"flex items-center gap-1 text-red-600",children:e.jsx(Ir,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>g($),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(Vr,{className:"w-4 h-4"}),"Play"]}),y&&e.jsx("button",{onClick:()=>R($),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Download",children:e.jsx(Da,{className:"w-4 h-4"})})]})]},$.id)})}),k.last_page>1&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",k.current_page," of ",k.last_page]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{w({...N,page:k.current_page-1}),P()},disabled:k.current_page===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Previous"}),e.jsx("button",{onClick:()=>{w({...N,page:k.current_page+1}),P()},disabled:k.current_page===k.last_page,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Next"})]})]})]}),m&&e.jsx(vv,{media:m,onClose:()=>g(null),canDownload:y,onDownload:R,user:t})]})}function ne({children:t,roles:s}){const{user:r,loading:a,hasAnyRole:n}=ce();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?s&&!n(s)?e.jsx(ko,{to:"/"}):e.jsx(rb,{children:t}):e.jsx(ko,{to:"/login"})}function wv(){return e.jsx(Sj,{children:e.jsx(Ej,{children:e.jsxs(Hf,{children:[e.jsxs(Of,{children:[e.jsx(se,{path:"/login",element:e.jsx(lb,{})}),e.jsx(se,{path:"/register",element:e.jsx(ib,{})}),e.jsx(se,{path:"/forgot-password",element:e.jsx(ob,{})}),e.jsx(se,{path:"/reset-password",element:e.jsx(cb,{})}),e.jsx(se,{path:"/",element:e.jsx(ne,{children:e.jsx(bb,{})})}),e.jsx(se,{path:"/analytics-dashboard",element:e.jsx(ne,{roles:["admin","team-lead","group-leader"],children:e.jsx(Nb,{})})}),e.jsx(se,{path:"/live-operations",element:e.jsx(ne,{roles:["admin","team-lead","group-leader"],children:e.jsx(dv,{})})}),e.jsx(se,{path:"/operations",element:e.jsx(ne,{roles:["admin","team-lead","group-leader"],children:e.jsx(bv,{})})}),e.jsx(se,{path:"/events",element:e.jsx(ne,{roles:["admin","team-lead"],children:e.jsx(kb,{})})}),e.jsx(se,{path:"/groups",element:e.jsx(ne,{roles:["admin","team-lead","group-leader"],children:e.jsx(_b,{})})}),e.jsx(se,{path:"/cameras",element:e.jsx(ne,{roles:["admin","team-lead"],children:e.jsx(Sb,{})})}),e.jsx(se,{path:"/search",element:e.jsx(ne,{roles:["admin","team-lead","group-leader","qa","qa-lead"],children:e.jsx(Nv,{})})}),e.jsx(se,{path:"/media",element:e.jsx(ne,{roles:["admin","team-lead"],children:e.jsx(Eb,{})})}),e.jsx(se,{path:"/quality-control",element:e.jsx(ne,{roles:["admin","team-lead","qa","qa-lead","group-leader"],children:e.jsx(Ab,{})})}),e.jsx(se,{path:"/issues",element:e.jsx(ne,{roles:["admin","team-lead","group-leader","qa","qa-lead"],children:e.jsx(Lb,{})})}),e.jsx(se,{path:"/healing-cases",element:e.jsx(ne,{roles:["admin","team-lead","group-leader"],children:e.jsx(Pb,{})})}),e.jsx(se,{path:"/backups",element:e.jsx(ne,{roles:["admin","team-lead","backup","backup-lead"],children:e.jsx(Tb,{})})}),e.jsx(se,{path:"/storage-forecast",element:e.jsx(ne,{roles:["admin","team-lead","backup","backup-lead"],children:e.jsx(Ob,{})})}),e.jsx(se,{path:"/data-protection",element:e.jsx(ne,{roles:["admin","team-lead"],children:e.jsx(Ib,{})})}),e.jsx(se,{path:"/users",element:e.jsx(ne,{roles:["admin","team-lead","group-leader","qa-lead","backup-lead"],children:e.jsx(zb,{})})}),e.jsx(se,{path:"/approvals",element:e.jsx(ne,{roles:["admin","team-lead","group-leader"],children:e.jsx(Bb,{})})}),e.jsx(se,{path:"/audit-logs",element:e.jsx(ne,{roles:["admin"],children:e.jsx(Vb,{})})}),e.jsx(se,{path:"/settings",element:e.jsx(ne,{roles:["admin"],children:e.jsx(qb,{})})}),e.jsx(se,{path:"/profile",element:e.jsx(ne,{children:e.jsx(Wb,{})})}),e.jsx(se,{path:"/notifications",element:e.jsx(ne,{children:e.jsx(Gb,{})})}),e.jsx(se,{path:"/reports",element:e.jsx(ne,{roles:["admin","team-lead","group-leader"],children:e.jsx(Kb,{})})}),e.jsx(se,{path:"/shifts",element:e.jsx(ne,{roles:["admin","team-lead","group-leader"],children:e.jsx(Jb,{})})}),e.jsx(se,{path:"/activity-feed",element:e.jsx(ne,{roles:["admin","team-lead","group-leader"],children:e.jsx(Zb,{})})}),e.jsx(se,{path:"/help",element:e.jsx(ne,{children:e.jsx(sv,{})})}),e.jsx(se,{path:"/work-allocation",element:e.jsx(ne,{roles:["admin","team-lead","group-leader"],children:e.jsx(lv,{})})}),e.jsx(se,{path:"*",element:e.jsx(ko,{to:"/"})})]}),e.jsx(nb,{})]})})})}Ai.createRoot(document.getElementById("root")).render(e.jsx(Uo.StrictMode,{children:e.jsx(wv,{})}));
