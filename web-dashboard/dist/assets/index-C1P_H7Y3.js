function op(e,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const l=Object.getOwnPropertyDescriptor(a,n);l&&Object.defineProperty(e,n,l.get?l:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();function cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rm={exports:{}},xl={},am={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fa=Symbol.for("react.element"),dp=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),mp=Symbol.for("react.strict_mode"),xp=Symbol.for("react.profiler"),pp=Symbol.for("react.provider"),hp=Symbol.for("react.context"),gp=Symbol.for("react.forward_ref"),fp=Symbol.for("react.suspense"),yp=Symbol.for("react.memo"),vp=Symbol.for("react.lazy"),dd=Symbol.iterator;function bp(e){return e===null||typeof e!="object"?null:(e=dd&&e[dd]||e["@@iterator"],typeof e=="function"?e:null)}var nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lm=Object.assign,im={};function Tr(e,s,r){this.props=e,this.context=s,this.refs=im,this.updater=r||nm}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};Tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function om(){}om.prototype=Tr.prototype;function Ao(e,s,r){this.props=e,this.context=s,this.refs=im,this.updater=r||nm}var Ro=Ao.prototype=new om;Ro.constructor=Ao;lm(Ro,Tr.prototype);Ro.isPureReactComponent=!0;var ud=Array.isArray,cm=Object.prototype.hasOwnProperty,Po={current:null},dm={key:!0,ref:!0,__self:!0,__source:!0};function um(e,s,r){var a,n={},l=null,i=null;if(s!=null)for(a in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)cm.call(s,a)&&!dm.hasOwnProperty(a)&&(n[a]=s[a]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:Fa,type:e,key:l,ref:i,props:n,_owner:Po.current}}function jp(e,s){return{$$typeof:Fa,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function Lo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fa}function Np(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var md=/\/+/g;function $l(e,s){return typeof e=="object"&&e!==null&&e.key!=null?Np(""+e.key):s.toString(36)}function bn(e,s,r,a,n){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Fa:case dp:i=!0}}if(i)return i=e,n=n(i),e=a===""?"."+$l(i,0):a,ud(n)?(r="",e!=null&&(r=e.replace(md,"$&/")+"/"),bn(n,s,r,"",function(d){return d})):n!=null&&(Lo(n)&&(n=jp(n,r+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(md,"$&/")+"/")+e)),s.push(n)),1;if(i=0,a=a===""?".":a+":",ud(e))for(var o=0;o<e.length;o++){l=e[o];var c=a+$l(l,o);i+=bn(l,s,r,c,n)}else if(c=bp(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=a+$l(l,o++),i+=bn(l,s,r,c,n);else if(l==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function Ja(e,s,r){if(e==null)return e;var a=[],n=0;return bn(e,a,"","",function(l){return s.call(r,l,n++)}),a}function wp(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},jn={transition:null},kp={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:jn,ReactCurrentOwner:Po};function mm(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Ja,forEach:function(e,s,r){Ja(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return Ja(e,function(){s++}),s},toArray:function(e){return Ja(e,function(s){return s})||[]},only:function(e){if(!Lo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Tr;Q.Fragment=up;Q.Profiler=xp;Q.PureComponent=Ao;Q.StrictMode=mp;Q.Suspense=fp;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kp;Q.act=mm;Q.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=lm({},e.props),n=e.key,l=e.ref,i=e._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=Po.current),s.key!==void 0&&(n=""+s.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in s)cm.call(s,c)&&!dm.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:Fa,type:e.type,key:n,ref:l,props:a,_owner:i}};Q.createContext=function(e){return e={$$typeof:hp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pp,_context:e},e.Consumer=e};Q.createElement=um;Q.createFactory=function(e){var s=um.bind(null,e);return s.type=e,s};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:gp,render:e}};Q.isValidElement=Lo;Q.lazy=function(e){return{$$typeof:vp,_payload:{_status:-1,_result:e},_init:wp}};Q.memo=function(e,s){return{$$typeof:yp,type:e,compare:s===void 0?null:s}};Q.startTransition=function(e){var s=jn.transition;jn.transition={};try{e()}finally{jn.transition=s}};Q.unstable_act=mm;Q.useCallback=function(e,s){return He.current.useCallback(e,s)};Q.useContext=function(e){return He.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return He.current.useDeferredValue(e)};Q.useEffect=function(e,s){return He.current.useEffect(e,s)};Q.useId=function(){return He.current.useId()};Q.useImperativeHandle=function(e,s,r){return He.current.useImperativeHandle(e,s,r)};Q.useInsertionEffect=function(e,s){return He.current.useInsertionEffect(e,s)};Q.useLayoutEffect=function(e,s){return He.current.useLayoutEffect(e,s)};Q.useMemo=function(e,s){return He.current.useMemo(e,s)};Q.useReducer=function(e,s,r){return He.current.useReducer(e,s,r)};Q.useRef=function(e){return He.current.useRef(e)};Q.useState=function(e){return He.current.useState(e)};Q.useSyncExternalStore=function(e,s,r){return He.current.useSyncExternalStore(e,s,r)};Q.useTransition=function(){return He.current.useTransition()};Q.version="18.3.1";am.exports=Q;var y=am.exports;const To=cp(y),Sp=op({__proto__:null,default:To},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=y,Cp=Symbol.for("react.element"),Ep=Symbol.for("react.fragment"),Ap=Object.prototype.hasOwnProperty,Rp=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pp={key:!0,ref:!0,__self:!0,__source:!0};function xm(e,s,r){var a,n={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(a in s)Ap.call(s,a)&&!Pp.hasOwnProperty(a)&&(n[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:Cp,type:e,key:l,ref:i,props:n,_owner:Rp.current}}xl.Fragment=Ep;xl.jsx=xm;xl.jsxs=xm;rm.exports=xl;var t=rm.exports,Ni={},pm={exports:{}},lt={},hm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s($,L){var I=$.length;$.push(L);e:for(;0<I;){var z=I-1>>>1,H=$[z];if(0<n(H,L))$[z]=L,$[I]=H,I=z;else break e}}function r($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var L=$[0],I=$.pop();if(I!==L){$[0]=I;e:for(var z=0,H=$.length,ee=H>>>1;z<ee;){var ne=2*(z+1)-1,qe=$[ne],G=ne+1,Te=$[G];if(0>n(qe,I))G<H&&0>n(Te,qe)?($[z]=Te,$[G]=I,z=G):($[z]=qe,$[ne]=I,z=ne);else if(G<H&&0>n(Te,I))$[z]=Te,$[G]=I,z=G;else break e}}return L}function n($,L){var I=$.sortIndex-L.sortIndex;return I!==0?I:$.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,x=null,v=3,b=!1,h=!1,p=!1,N=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g($){for(var L=r(d);L!==null;){if(L.callback===null)a(d);else if(L.startTime<=$)a(d),L.sortIndex=L.expirationTime,s(c,L);else break;L=r(d)}}function k($){if(p=!1,g($),!h)if(r(c)!==null)h=!0,K(C);else{var L=r(d);L!==null&&se(k,L.startTime-$)}}function C($,L){h=!1,p&&(p=!1,m(w),w=-1),b=!0;var I=v;try{for(g(L),x=r(c);x!==null&&(!(x.expirationTime>L)||$&&!S());){var z=x.callback;if(typeof z=="function"){x.callback=null,v=x.priorityLevel;var H=z(x.expirationTime<=L);L=e.unstable_now(),typeof H=="function"?x.callback=H:x===r(c)&&a(c),g(L)}else a(c);x=r(c)}if(x!==null)var ee=!0;else{var ne=r(d);ne!==null&&se(k,ne.startTime-L),ee=!1}return ee}finally{x=null,v=I,b=!1}}var E=!1,j=null,w=-1,_=5,A=-1;function S(){return!(e.unstable_now()-A<_)}function U(){if(j!==null){var $=e.unstable_now();A=$;var L=!0;try{L=j(!0,$)}finally{L?R():(E=!1,j=null)}}else E=!1}var R;if(typeof f=="function")R=function(){f(U)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,V=T.port2;T.port1.onmessage=U,R=function(){V.postMessage(null)}}else R=function(){N(U,0)};function K($){j=$,E||(E=!0,R())}function se($,L){w=N(function(){$(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){h||b||(h=!0,K(C))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(v){case 1:case 2:case 3:var L=3;break;default:L=v}var I=v;v=L;try{return $()}finally{v=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,L){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var I=v;v=$;try{return L()}finally{v=I}},e.unstable_scheduleCallback=function($,L,I){var z=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?z+I:z):I=z,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=I+H,$={id:u++,callback:L,priorityLevel:$,startTime:I,expirationTime:H,sortIndex:-1},I>z?($.sortIndex=I,s(d,$),r(c)===null&&$===r(d)&&(p?(m(w),w=-1):p=!0,se(k,I-z))):($.sortIndex=H,s(c,$),h||b||(h=!0,K(C))),$},e.unstable_shouldYield=S,e.unstable_wrapCallback=function($){var L=v;return function(){var I=v;v=L;try{return $.apply(this,arguments)}finally{v=I}}}})(gm);hm.exports=gm;var Lp=hm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp=y,at=Lp;function D(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fm=new Set,pa={};function Gs(e,s){Nr(e,s),Nr(e+"Capture",s)}function Nr(e,s){for(pa[e]=s,e=0;e<s.length;e++)fm.add(s[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wi=Object.prototype.hasOwnProperty,Mp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xd={},pd={};function Op(e){return wi.call(pd,e)?!0:wi.call(xd,e)?!1:Mp.test(e)?pd[e]=!0:(xd[e]=!0,!1)}function Ip(e,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dp(e,s,r,a){if(s===null||typeof s>"u"||Ip(e,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Ve(e,s,r,a,n,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];Le[s]=new Ve(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mo=/[\-:]([a-z])/g;function Oo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(Mo,Oo);Le[s]=new Ve(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(Mo,Oo);Le[s]=new Ve(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(Mo,Oo);Le[s]=new Ve(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function Io(e,s,r,a){var n=Le.hasOwnProperty(s)?Le[s]:null;(n!==null?n.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(Dp(s,r,n,a)&&(r=null),a||n===null?Op(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(s=n.attributeName,a=n.attributeNamespace,r===null?e.removeAttribute(s):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?e.setAttributeNS(a,s,r):e.setAttribute(s,r))))}var Kt=Tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ya=Symbol.for("react.element"),er=Symbol.for("react.portal"),tr=Symbol.for("react.fragment"),Do=Symbol.for("react.strict_mode"),ki=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),vm=Symbol.for("react.context"),Fo=Symbol.for("react.forward_ref"),Si=Symbol.for("react.suspense"),_i=Symbol.for("react.suspense_list"),$o=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),bm=Symbol.for("react.offscreen"),hd=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=hd&&e[hd]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,Ul;function ea(e){if(Ul===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Ul=s&&s[1]||""}return`
`+Ul+e}var zl=!1;function Bl(e,s){if(!e||zl)return"";zl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var a=d}Reflect.construct(e,[],s)}else{try{s.call()}catch(d){a=d}e.call(s.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),l=a.stack.split(`
`),i=n.length-1,o=l.length-1;1<=i&&0<=o&&n[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||n[i]!==l[o]){var c=`
`+n[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{zl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ea(e):""}function Fp(e){switch(e.tag){case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 2:case 15:return e=Bl(e.type,!1),e;case 11:return e=Bl(e.type.render,!1),e;case 1:return e=Bl(e.type,!0),e;default:return""}}function Ci(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tr:return"Fragment";case er:return"Portal";case ki:return"Profiler";case Do:return"StrictMode";case Si:return"Suspense";case _i:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vm:return(e.displayName||"Context")+".Consumer";case ym:return(e._context.displayName||"Context")+".Provider";case Fo:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $o:return s=e.displayName||null,s!==null?s:Ci(e.type)||"Memo";case Yt:s=e._payload,e=e._init;try{return Ci(e(s))}catch{}}return null}function $p(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ci(s);case 8:return s===Do?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ps(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jm(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Up(e){var s=jm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),a=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,l=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return n.call(this)},set:function(i){a=""+i,l.call(this,i)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Xa(e){e._valueTracker||(e._valueTracker=Up(e))}function Nm(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return e&&(a=jm(e)?e.checked?"true":"false":e.value),e=a,e!==r?(s.setValue(e),!0):!1}function Fn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ei(e,s){var r=s.checked;return pe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gd(e,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=ps(s.value!=null?s.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function wm(e,s){s=s.checked,s!=null&&Io(e,"checked",s,!1)}function Ai(e,s){wm(e,s);var r=ps(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?Ri(e,s.type,r):s.hasOwnProperty("defaultValue")&&Ri(e,s.type,ps(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function fd(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ri(e,s,r){(s!=="number"||Fn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ta=Array.isArray;function xr(e,s,r,a){if(e=e.options,s){s={};for(var n=0;n<r.length;n++)s["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=s.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+ps(r),s=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}s!==null||e[n].disabled||(s=e[n])}s!==null&&(s.selected=!0)}}function Pi(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(D(91));return pe({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yd(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(D(92));if(ta(r)){if(1<r.length)throw Error(D(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:ps(r)}}function km(e,s){var r=ps(s.value),a=ps(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function vd(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function Sm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Li(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?Sm(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Za,_m=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,n){MSApp.execUnsafeLocalFunction(function(){return e(s,r,a,n)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(Za=Za||document.createElement("div"),Za.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ha(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zp=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(e){zp.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),na[s]=na[e]})});function Cm(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||na.hasOwnProperty(e)&&na[e]?(""+s).trim():s+"px"}function Em(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=Cm(r,s[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}var Bp=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ti(e,s){if(s){if(Bp[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(D(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(D(61))}if(s.style!=null&&typeof s.style!="object")throw Error(D(62))}}function Mi(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oi=null;function Uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,pr=null,hr=null;function bd(e){if(e=za(e)){if(typeof Ii!="function")throw Error(D(280));var s=e.stateNode;s&&(s=yl(s),Ii(e.stateNode,e.type,s))}}function Am(e){pr?hr?hr.push(e):hr=[e]:pr=e}function Rm(){if(pr){var e=pr,s=hr;if(hr=pr=null,bd(e),s)for(e=0;e<s.length;e++)bd(s[e])}}function Pm(e,s){return e(s)}function Lm(){}var Hl=!1;function Tm(e,s,r){if(Hl)return e(s,r);Hl=!0;try{return Pm(e,s,r)}finally{Hl=!1,(pr!==null||hr!==null)&&(Lm(),Rm())}}function ga(e,s){var r=e.stateNode;if(r===null)return null;var a=yl(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,s,typeof r));return r}var Di=!1;if(Bt)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Di=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{Di=!1}function Hp(e,s,r,a,n,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(u){this.onError(u)}}var la=!1,$n=null,Un=!1,Fi=null,Vp={onError:function(e){la=!0,$n=e}};function qp(e,s,r,a,n,l,i,o,c){la=!1,$n=null,Hp.apply(Vp,arguments)}function Wp(e,s,r,a,n,l,i,o,c){if(qp.apply(this,arguments),la){if(la){var d=$n;la=!1,$n=null}else throw Error(D(198));Un||(Un=!0,Fi=d)}}function Qs(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function Mm(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function jd(e){if(Qs(e)!==e)throw Error(D(188))}function Gp(e){var s=e.alternate;if(!s){if(s=Qs(e),s===null)throw Error(D(188));return s!==e?null:e}for(var r=e,a=s;;){var n=r.return;if(n===null)break;var l=n.alternate;if(l===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===r)return jd(n),e;if(l===a)return jd(n),s;l=l.sibling}throw Error(D(188))}if(r.return!==a.return)r=n,a=l;else{for(var i=!1,o=n.child;o;){if(o===r){i=!0,r=n,a=l;break}if(o===a){i=!0,a=n,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,a=n;break}if(o===a){i=!0,a=l,r=n;break}o=o.sibling}if(!i)throw Error(D(189))}}if(r.alternate!==a)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:s}function Om(e){return e=Gp(e),e!==null?Im(e):null}function Im(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=Im(e);if(s!==null)return s;e=e.sibling}return null}var Dm=at.unstable_scheduleCallback,Nd=at.unstable_cancelCallback,Qp=at.unstable_shouldYield,Kp=at.unstable_requestPaint,fe=at.unstable_now,Jp=at.unstable_getCurrentPriorityLevel,zo=at.unstable_ImmediatePriority,Fm=at.unstable_UserBlockingPriority,zn=at.unstable_NormalPriority,Yp=at.unstable_LowPriority,$m=at.unstable_IdlePriority,pl=null,Rt=null;function Xp(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(pl,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:th,Zp=Math.log,eh=Math.LN2;function th(e){return e>>>=0,e===0?32:31-(Zp(e)/eh|0)|0}var en=64,tn=4194304;function sa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bn(e,s){var r=e.pendingLanes;if(r===0)return 0;var a=0,n=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~n;o!==0?a=sa(o):(l&=i,l!==0&&(a=sa(l)))}else i=r&~n,i!==0?a=sa(i):l!==0&&(a=sa(l));if(a===0)return 0;if(s!==0&&s!==a&&!(s&n)&&(n=a&-a,l=s&-s,n>=l||n===16&&(l&4194240)!==0))return s;if(a&4&&(a|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=a;0<s;)r=31-bt(s),n=1<<r,a|=e[r],s&=~n;return a}function sh(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rh(e,s){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-bt(l),o=1<<i,c=n[i];c===-1?(!(o&r)||o&a)&&(n[i]=sh(o,s)):c<=s&&(e.expiredLanes|=o),l&=~o}}function $i(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Um(){var e=en;return en<<=1,!(en&4194240)&&(en=64),e}function Vl(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function $a(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-bt(s),e[s]=r}function ah(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-bt(r),l=1<<n;s[n]=0,a[n]=-1,e[n]=-1,r&=~l}}function Bo(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var a=31-bt(r),n=1<<a;n&s|e[a]&s&&(e[a]|=s),r&=~n}}var te=0;function zm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bm,Ho,Hm,Vm,qm,Ui=!1,sn=[],as=null,ns=null,ls=null,fa=new Map,ya=new Map,Zt=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wd(e,s){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":fa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(s.pointerId)}}function qr(e,s,r,a,n,l){return e===null||e.nativeEvent!==l?(e={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:l,targetContainers:[n]},s!==null&&(s=za(s),s!==null&&Ho(s)),e):(e.eventSystemFlags|=a,s=e.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),e)}function lh(e,s,r,a,n){switch(s){case"focusin":return as=qr(as,e,s,r,a,n),!0;case"dragenter":return ns=qr(ns,e,s,r,a,n),!0;case"mouseover":return ls=qr(ls,e,s,r,a,n),!0;case"pointerover":var l=n.pointerId;return fa.set(l,qr(fa.get(l)||null,e,s,r,a,n)),!0;case"gotpointercapture":return l=n.pointerId,ya.set(l,qr(ya.get(l)||null,e,s,r,a,n)),!0}return!1}function Wm(e){var s=Es(e.target);if(s!==null){var r=Qs(s);if(r!==null){if(s=r.tag,s===13){if(s=Mm(r),s!==null){e.blockedOn=s,qm(e.priority,function(){Hm(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nn(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=zi(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Oi=a,r.target.dispatchEvent(a),Oi=null}else return s=za(r),s!==null&&Ho(s),e.blockedOn=r,!1;s.shift()}return!0}function kd(e,s,r){Nn(e)&&r.delete(s)}function ih(){Ui=!1,as!==null&&Nn(as)&&(as=null),ns!==null&&Nn(ns)&&(ns=null),ls!==null&&Nn(ls)&&(ls=null),fa.forEach(kd),ya.forEach(kd)}function Wr(e,s){e.blockedOn===s&&(e.blockedOn=null,Ui||(Ui=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,ih)))}function va(e){function s(n){return Wr(n,e)}if(0<sn.length){Wr(sn[0],e);for(var r=1;r<sn.length;r++){var a=sn[r];a.blockedOn===e&&(a.blockedOn=null)}}for(as!==null&&Wr(as,e),ns!==null&&Wr(ns,e),ls!==null&&Wr(ls,e),fa.forEach(s),ya.forEach(s),r=0;r<Zt.length;r++)a=Zt[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Zt.length&&(r=Zt[0],r.blockedOn===null);)Wm(r),r.blockedOn===null&&Zt.shift()}var gr=Kt.ReactCurrentBatchConfig,Hn=!0;function oh(e,s,r,a){var n=te,l=gr.transition;gr.transition=null;try{te=1,Vo(e,s,r,a)}finally{te=n,gr.transition=l}}function ch(e,s,r,a){var n=te,l=gr.transition;gr.transition=null;try{te=4,Vo(e,s,r,a)}finally{te=n,gr.transition=l}}function Vo(e,s,r,a){if(Hn){var n=zi(e,s,r,a);if(n===null)ei(e,s,a,Vn,r),wd(e,a);else if(lh(n,e,s,r,a))a.stopPropagation();else if(wd(e,a),s&4&&-1<nh.indexOf(e)){for(;n!==null;){var l=za(n);if(l!==null&&Bm(l),l=zi(e,s,r,a),l===null&&ei(e,s,a,Vn,r),l===n)break;n=l}n!==null&&a.stopPropagation()}else ei(e,s,a,null,r)}}var Vn=null;function zi(e,s,r,a){if(Vn=null,e=Uo(a),e=Es(e),e!==null)if(s=Qs(e),s===null)e=null;else if(r=s.tag,r===13){if(e=Mm(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return Vn=e,null}function Gm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jp()){case zo:return 1;case Fm:return 4;case zn:case Yp:return 16;case $m:return 536870912;default:return 16}default:return 16}}var ts=null,qo=null,wn=null;function Qm(){if(wn)return wn;var e,s=qo,r=s.length,a,n="value"in ts?ts.value:ts.textContent,l=n.length;for(e=0;e<r&&s[e]===n[e];e++);var i=r-e;for(a=1;a<=i&&s[r-a]===n[l-a];a++);return wn=n.slice(e,1<a?1-a:void 0)}function kn(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function rn(){return!0}function Sd(){return!1}function it(e){function s(r,a,n,l,i){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?rn:Sd,this.isPropagationStopped=Sd,this}return pe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),s}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=it(Mr),Ua=pe({},Mr,{view:0,detail:0}),dh=it(Ua),ql,Wl,Gr,hl=pe({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(ql=e.screenX-Gr.screenX,Wl=e.screenY-Gr.screenY):Wl=ql=0,Gr=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:Wl}}),_d=it(hl),uh=pe({},hl,{dataTransfer:0}),mh=it(uh),xh=pe({},Ua,{relatedTarget:0}),Gl=it(xh),ph=pe({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),hh=it(ph),gh=pe({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fh=it(gh),yh=pe({},Mr,{data:0}),Cd=it(yh),vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nh(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=jh[e])?!!s[e]:!1}function Go(){return Nh}var wh=pe({},Ua,{key:function(e){if(e.key){var s=vh[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=kn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Go,charCode:function(e){return e.type==="keypress"?kn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kh=it(wh),Sh=pe({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=it(Sh),_h=pe({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Go}),Ch=it(_h),Eh=pe({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ah=it(Eh),Rh=pe({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ph=it(Rh),Lh=[9,13,27,32],Qo=Bt&&"CompositionEvent"in window,ia=null;Bt&&"documentMode"in document&&(ia=document.documentMode);var Th=Bt&&"TextEvent"in window&&!ia,Km=Bt&&(!Qo||ia&&8<ia&&11>=ia),Ad=" ",Rd=!1;function Jm(e,s){switch(e){case"keyup":return Lh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function Mh(e,s){switch(e){case"compositionend":return Ym(s);case"keypress":return s.which!==32?null:(Rd=!0,Ad);case"textInput":return e=s.data,e===Ad&&Rd?null:e;default:return null}}function Oh(e,s){if(sr)return e==="compositionend"||!Qo&&Jm(e,s)?(e=Qm(),wn=qo=ts=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Km&&s.locale!=="ko"?null:s.data;default:return null}}var Ih={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Ih[e.type]:s==="textarea"}function Xm(e,s,r,a){Am(a),s=qn(s,"onChange"),0<s.length&&(r=new Wo("onChange","change",null,r,a),e.push({event:r,listeners:s}))}var oa=null,ba=null;function Dh(e){cx(e,0)}function gl(e){var s=nr(e);if(Nm(s))return e}function Fh(e,s){if(e==="change")return s}var Zm=!1;if(Bt){var Ql;if(Bt){var Kl="oninput"in document;if(!Kl){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),Kl=typeof Ld.oninput=="function"}Ql=Kl}else Ql=!1;Zm=Ql&&(!document.documentMode||9<document.documentMode)}function Td(){oa&&(oa.detachEvent("onpropertychange",ex),ba=oa=null)}function ex(e){if(e.propertyName==="value"&&gl(ba)){var s=[];Xm(s,ba,e,Uo(e)),Tm(Dh,s)}}function $h(e,s,r){e==="focusin"?(Td(),oa=s,ba=r,oa.attachEvent("onpropertychange",ex)):e==="focusout"&&Td()}function Uh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gl(ba)}function zh(e,s){if(e==="click")return gl(s)}function Bh(e,s){if(e==="input"||e==="change")return gl(s)}function Hh(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var kt=typeof Object.is=="function"?Object.is:Hh;function ja(e,s){if(kt(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!wi.call(s,n)||!kt(e[n],s[n]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Od(e,s){var r=Md(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=s&&a>=s)return{node:r,offset:s-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Md(r)}}function tx(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?tx(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function sx(){for(var e=window,s=Fn();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=Fn(e.document)}return s}function Ko(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Vh(e){var s=sx(),r=e.focusedElem,a=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&tx(r.ownerDocument.documentElement,r)){if(a!==null&&Ko(r)){if(s=a.start,e=a.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,l=Math.min(a.start,n);a=a.end===void 0?l:Math.min(a.end,n),!e.extend&&l>a&&(n=a,a=l,l=n),n=Od(r,l);var i=Od(r,a);n&&i&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),e.removeAllRanges(),l>a?(e.addRange(s),e.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qh=Bt&&"documentMode"in document&&11>=document.documentMode,rr=null,Bi=null,ca=null,Hi=!1;function Id(e,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hi||rr==null||rr!==Fn(a)||(a=rr,"selectionStart"in a&&Ko(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ca&&ja(ca,a)||(ca=a,a=qn(Bi,"onSelect"),0<a.length&&(s=new Wo("onSelect","select",null,s,r),e.push({event:s,listeners:a}),s.target=rr)))}function an(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var ar={animationend:an("Animation","AnimationEnd"),animationiteration:an("Animation","AnimationIteration"),animationstart:an("Animation","AnimationStart"),transitionend:an("Transition","TransitionEnd")},Jl={},rx={};Bt&&(rx=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function fl(e){if(Jl[e])return Jl[e];if(!ar[e])return e;var s=ar[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in rx)return Jl[e]=s[r];return e}var ax=fl("animationend"),nx=fl("animationiteration"),lx=fl("animationstart"),ix=fl("transitionend"),ox=new Map,Dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(e,s){ox.set(e,s),Gs(s,[e])}for(var Yl=0;Yl<Dd.length;Yl++){var Xl=Dd[Yl],Wh=Xl.toLowerCase(),Gh=Xl[0].toUpperCase()+Xl.slice(1);fs(Wh,"on"+Gh)}fs(ax,"onAnimationEnd");fs(nx,"onAnimationIteration");fs(lx,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(ix,"onTransitionEnd");Nr("onMouseEnter",["mouseout","mouseover"]);Nr("onMouseLeave",["mouseout","mouseover"]);Nr("onPointerEnter",["pointerout","pointerover"]);Nr("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ra));function Fd(e,s,r){var a=e.type||"unknown-event";e.currentTarget=r,Wp(a,s,void 0,e),e.currentTarget=null}function cx(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var l=void 0;if(s)for(var i=a.length-1;0<=i;i--){var o=a[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&n.isPropagationStopped())break e;Fd(n,o,d),l=c}else for(i=0;i<a.length;i++){if(o=a[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&n.isPropagationStopped())break e;Fd(n,o,d),l=c}}}if(Un)throw e=Fi,Un=!1,Fi=null,e}function oe(e,s){var r=s[Qi];r===void 0&&(r=s[Qi]=new Set);var a=e+"__bubble";r.has(a)||(dx(s,e,2,!1),r.add(a))}function Zl(e,s,r){var a=0;s&&(a|=4),dx(r,e,a,s)}var nn="_reactListening"+Math.random().toString(36).slice(2);function Na(e){if(!e[nn]){e[nn]=!0,fm.forEach(function(r){r!=="selectionchange"&&(Qh.has(r)||Zl(r,!1,e),Zl(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[nn]||(s[nn]=!0,Zl("selectionchange",!1,s))}}function dx(e,s,r,a){switch(Gm(s)){case 1:var n=oh;break;case 4:n=ch;break;default:n=Vo}r=n.bind(null,s,r,e),n=void 0,!Di||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(s,r,{capture:!0,passive:n}):e.addEventListener(s,r,!0):n!==void 0?e.addEventListener(s,r,{passive:n}):e.addEventListener(s,r,!1)}function ei(e,s,r,a,n){var l=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(i===4)for(i=a.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;i=i.return}for(;o!==null;){if(i=Es(o),i===null)return;if(c=i.tag,c===5||c===6){a=l=i;continue e}o=o.parentNode}}a=a.return}Tm(function(){var d=l,u=Uo(r),x=[];e:{var v=ox.get(e);if(v!==void 0){var b=Wo,h=e;switch(e){case"keypress":if(kn(r)===0)break e;case"keydown":case"keyup":b=kh;break;case"focusin":h="focus",b=Gl;break;case"focusout":h="blur",b=Gl;break;case"beforeblur":case"afterblur":b=Gl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Ch;break;case ax:case nx:case lx:b=hh;break;case ix:b=Ah;break;case"scroll":b=dh;break;case"wheel":b=Ph;break;case"copy":case"cut":case"paste":b=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Ed}var p=(s&4)!==0,N=!p&&e==="scroll",m=p?v!==null?v+"Capture":null:v;p=[];for(var f=d,g;f!==null;){g=f;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,m!==null&&(k=ga(f,m),k!=null&&p.push(wa(f,k,g)))),N)break;f=f.return}0<p.length&&(v=new b(v,h,null,r,u),x.push({event:v,listeners:p}))}}if(!(s&7)){e:{if(v=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",v&&r!==Oi&&(h=r.relatedTarget||r.fromElement)&&(Es(h)||h[Ht]))break e;if((b||v)&&(v=u.window===u?u:(v=u.ownerDocument)?v.defaultView||v.parentWindow:window,b?(h=r.relatedTarget||r.toElement,b=d,h=h?Es(h):null,h!==null&&(N=Qs(h),h!==N||h.tag!==5&&h.tag!==6)&&(h=null)):(b=null,h=d),b!==h)){if(p=_d,k="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(p=Ed,k="onPointerLeave",m="onPointerEnter",f="pointer"),N=b==null?v:nr(b),g=h==null?v:nr(h),v=new p(k,f+"leave",b,r,u),v.target=N,v.relatedTarget=g,k=null,Es(u)===d&&(p=new p(m,f+"enter",h,r,u),p.target=g,p.relatedTarget=N,k=p),N=k,b&&h)t:{for(p=b,m=h,f=0,g=p;g;g=Zs(g))f++;for(g=0,k=m;k;k=Zs(k))g++;for(;0<f-g;)p=Zs(p),f--;for(;0<g-f;)m=Zs(m),g--;for(;f--;){if(p===m||m!==null&&p===m.alternate)break t;p=Zs(p),m=Zs(m)}p=null}else p=null;b!==null&&$d(x,v,b,p,!1),h!==null&&N!==null&&$d(x,N,h,p,!0)}}e:{if(v=d?nr(d):window,b=v.nodeName&&v.nodeName.toLowerCase(),b==="select"||b==="input"&&v.type==="file")var C=Fh;else if(Pd(v))if(Zm)C=Bh;else{C=Uh;var E=$h}else(b=v.nodeName)&&b.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=zh);if(C&&(C=C(e,d))){Xm(x,C,r,u);break e}E&&E(e,v,d),e==="focusout"&&(E=v._wrapperState)&&E.controlled&&v.type==="number"&&Ri(v,"number",v.value)}switch(E=d?nr(d):window,e){case"focusin":(Pd(E)||E.contentEditable==="true")&&(rr=E,Bi=d,ca=null);break;case"focusout":ca=Bi=rr=null;break;case"mousedown":Hi=!0;break;case"contextmenu":case"mouseup":case"dragend":Hi=!1,Id(x,r,u);break;case"selectionchange":if(qh)break;case"keydown":case"keyup":Id(x,r,u)}var j;if(Qo)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else sr?Jm(e,r)&&(w="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(Km&&r.locale!=="ko"&&(sr||w!=="onCompositionStart"?w==="onCompositionEnd"&&sr&&(j=Qm()):(ts=u,qo="value"in ts?ts.value:ts.textContent,sr=!0)),E=qn(d,w),0<E.length&&(w=new Cd(w,e,null,r,u),x.push({event:w,listeners:E}),j?w.data=j:(j=Ym(r),j!==null&&(w.data=j)))),(j=Th?Mh(e,r):Oh(e,r))&&(d=qn(d,"onBeforeInput"),0<d.length&&(u=new Cd("onBeforeInput","beforeinput",null,r,u),x.push({event:u,listeners:d}),u.data=j))}cx(x,s)})}function wa(e,s,r){return{instance:e,listener:s,currentTarget:r}}function qn(e,s){for(var r=s+"Capture",a=[];e!==null;){var n=e,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=ga(e,r),l!=null&&a.unshift(wa(e,l,n)),l=ga(e,s),l!=null&&a.push(wa(e,l,n))),e=e.return}return a}function Zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $d(e,s,r,a,n){for(var l=s._reactName,i=[];r!==null&&r!==a;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&d!==null&&(o=d,n?(c=ga(r,l),c!=null&&i.unshift(wa(r,c,o))):n||(c=ga(r,l),c!=null&&i.push(wa(r,c,o)))),r=r.return}i.length!==0&&e.push({event:s,listeners:i})}var Kh=/\r\n?/g,Jh=/\u0000|\uFFFD/g;function Ud(e){return(typeof e=="string"?e:""+e).replace(Kh,`
`).replace(Jh,"")}function ln(e,s,r){if(s=Ud(s),Ud(e)!==s&&r)throw Error(D(425))}function Wn(){}var Vi=null,qi=null;function Wi(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gi=typeof setTimeout=="function"?setTimeout:void 0,Yh=typeof clearTimeout=="function"?clearTimeout:void 0,zd=typeof Promise=="function"?Promise:void 0,Xh=typeof queueMicrotask=="function"?queueMicrotask:typeof zd<"u"?function(e){return zd.resolve(null).then(e).catch(Zh)}:Gi;function Zh(e){setTimeout(function(){throw e})}function ti(e,s){var r=s,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){e.removeChild(n),va(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);va(s)}function is(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Bd(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),At="__reactFiber$"+Or,ka="__reactProps$"+Or,Ht="__reactContainer$"+Or,Qi="__reactEvents$"+Or,eg="__reactListeners$"+Or,tg="__reactHandles$"+Or;function Es(e){var s=e[At];if(s)return s;for(var r=e.parentNode;r;){if(s=r[Ht]||r[At]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=Bd(e);e!==null;){if(r=e[At])return r;e=Bd(e)}return s}e=r,r=e.parentNode}return null}function za(e){return e=e[At]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function yl(e){return e[ka]||null}var Ki=[],lr=-1;function ys(e){return{current:e}}function ce(e){0>lr||(e.current=Ki[lr],Ki[lr]=null,lr--)}function re(e,s){lr++,Ki[lr]=e.current,e.current=s}var hs={},Fe=ys(hs),Ke=ys(!1),Is=hs;function wr(e,s){var r=e.type.contextTypes;if(!r)return hs;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in r)n[l]=s[l];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=n),n}function Je(e){return e=e.childContextTypes,e!=null}function Gn(){ce(Ke),ce(Fe)}function Hd(e,s,r){if(Fe.current!==hs)throw Error(D(168));re(Fe,s),re(Ke,r)}function ux(e,s,r){var a=e.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in s))throw Error(D(108,$p(e)||"Unknown",n));return pe({},r,a)}function Qn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,Is=Fe.current,re(Fe,e),re(Ke,Ke.current),!0}function Vd(e,s,r){var a=e.stateNode;if(!a)throw Error(D(169));r?(e=ux(e,s,Is),a.__reactInternalMemoizedMergedChildContext=e,ce(Ke),ce(Fe),re(Fe,e)):ce(Ke),re(Ke,r)}var It=null,vl=!1,si=!1;function mx(e){It===null?It=[e]:It.push(e)}function sg(e){vl=!0,mx(e)}function vs(){if(!si&&It!==null){si=!0;var e=0,s=te;try{var r=It;for(te=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}It=null,vl=!1}catch(n){throw It!==null&&(It=It.slice(e+1)),Dm(zo,vs),n}finally{te=s,si=!1}}return null}var ir=[],or=0,Kn=null,Jn=0,ot=[],ct=0,Ds=null,Dt=1,Ft="";function Ss(e,s){ir[or++]=Jn,ir[or++]=Kn,Kn=e,Jn=s}function xx(e,s,r){ot[ct++]=Dt,ot[ct++]=Ft,ot[ct++]=Ds,Ds=e;var a=Dt;e=Ft;var n=32-bt(a)-1;a&=~(1<<n),r+=1;var l=32-bt(s)+n;if(30<l){var i=n-n%5;l=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Dt=1<<32-bt(s)+n|r<<n|a,Ft=l+e}else Dt=1<<l|r<<n|a,Ft=e}function Jo(e){e.return!==null&&(Ss(e,1),xx(e,1,0))}function Yo(e){for(;e===Kn;)Kn=ir[--or],ir[or]=null,Jn=ir[--or],ir[or]=null;for(;e===Ds;)Ds=ot[--ct],ot[ct]=null,Ft=ot[--ct],ot[ct]=null,Dt=ot[--ct],ot[ct]=null}var rt=null,tt=null,ue=!1,ft=null;function px(e,s){var r=dt(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function qd(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,rt=e,tt=is(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,rt=e,tt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Ds!==null?{id:Dt,overflow:Ft}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=dt(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,rt=e,tt=null,!0):!1;default:return!1}}function Ji(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yi(e){if(ue){var s=tt;if(s){var r=s;if(!qd(e,s)){if(Ji(e))throw Error(D(418));s=is(r.nextSibling);var a=rt;s&&qd(e,s)?px(a,r):(e.flags=e.flags&-4097|2,ue=!1,rt=e)}}else{if(Ji(e))throw Error(D(418));e.flags=e.flags&-4097|2,ue=!1,rt=e}}}function Wd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function on(e){if(e!==rt)return!1;if(!ue)return Wd(e),ue=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Wi(e.type,e.memoizedProps)),s&&(s=tt)){if(Ji(e))throw hx(),Error(D(418));for(;s;)px(e,s),s=is(s.nextSibling)}if(Wd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){tt=is(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}tt=null}}else tt=rt?is(e.stateNode.nextSibling):null;return!0}function hx(){for(var e=tt;e;)e=is(e.nextSibling)}function kr(){tt=rt=null,ue=!1}function Xo(e){ft===null?ft=[e]:ft.push(e)}var rg=Kt.ReactCurrentBatchConfig;function Qr(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var a=r.stateNode}if(!a)throw Error(D(147,e));var n=a,l=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var o=n.refs;i===null?delete o[l]:o[l]=i},s._stringRef=l,s)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function cn(e,s){throw e=Object.prototype.toString.call(s),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Gd(e){var s=e._init;return s(e._payload)}function gx(e){function s(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function r(m,f){if(!e)return null;for(;f!==null;)s(m,f),f=f.sibling;return null}function a(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function n(m,f){return m=us(m,f),m.index=0,m.sibling=null,m}function l(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,f,g,k){return f===null||f.tag!==6?(f=ci(g,m.mode,k),f.return=m,f):(f=n(f,g),f.return=m,f)}function c(m,f,g,k){var C=g.type;return C===tr?u(m,f,g.props.children,k,g.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Yt&&Gd(C)===f.type)?(k=n(f,g.props),k.ref=Qr(m,f,g),k.return=m,k):(k=Pn(g.type,g.key,g.props,null,m.mode,k),k.ref=Qr(m,f,g),k.return=m,k)}function d(m,f,g,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=di(g,m.mode,k),f.return=m,f):(f=n(f,g.children||[]),f.return=m,f)}function u(m,f,g,k,C){return f===null||f.tag!==7?(f=Ms(g,m.mode,k,C),f.return=m,f):(f=n(f,g),f.return=m,f)}function x(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ci(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ya:return g=Pn(f.type,f.key,f.props,null,m.mode,g),g.ref=Qr(m,null,f),g.return=m,g;case er:return f=di(f,m.mode,g),f.return=m,f;case Yt:var k=f._init;return x(m,k(f._payload),g)}if(ta(f)||Hr(f))return f=Ms(f,m.mode,g,null),f.return=m,f;cn(m,f)}return null}function v(m,f,g,k){var C=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:o(m,f,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ya:return g.key===C?c(m,f,g,k):null;case er:return g.key===C?d(m,f,g,k):null;case Yt:return C=g._init,v(m,f,C(g._payload),k)}if(ta(g)||Hr(g))return C!==null?null:u(m,f,g,k,null);cn(m,g)}return null}function b(m,f,g,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(g)||null,o(f,m,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ya:return m=m.get(k.key===null?g:k.key)||null,c(f,m,k,C);case er:return m=m.get(k.key===null?g:k.key)||null,d(f,m,k,C);case Yt:var E=k._init;return b(m,f,g,E(k._payload),C)}if(ta(k)||Hr(k))return m=m.get(g)||null,u(f,m,k,C,null);cn(f,k)}return null}function h(m,f,g,k){for(var C=null,E=null,j=f,w=f=0,_=null;j!==null&&w<g.length;w++){j.index>w?(_=j,j=null):_=j.sibling;var A=v(m,j,g[w],k);if(A===null){j===null&&(j=_);break}e&&j&&A.alternate===null&&s(m,j),f=l(A,f,w),E===null?C=A:E.sibling=A,E=A,j=_}if(w===g.length)return r(m,j),ue&&Ss(m,w),C;if(j===null){for(;w<g.length;w++)j=x(m,g[w],k),j!==null&&(f=l(j,f,w),E===null?C=j:E.sibling=j,E=j);return ue&&Ss(m,w),C}for(j=a(m,j);w<g.length;w++)_=b(j,m,w,g[w],k),_!==null&&(e&&_.alternate!==null&&j.delete(_.key===null?w:_.key),f=l(_,f,w),E===null?C=_:E.sibling=_,E=_);return e&&j.forEach(function(S){return s(m,S)}),ue&&Ss(m,w),C}function p(m,f,g,k){var C=Hr(g);if(typeof C!="function")throw Error(D(150));if(g=C.call(g),g==null)throw Error(D(151));for(var E=C=null,j=f,w=f=0,_=null,A=g.next();j!==null&&!A.done;w++,A=g.next()){j.index>w?(_=j,j=null):_=j.sibling;var S=v(m,j,A.value,k);if(S===null){j===null&&(j=_);break}e&&j&&S.alternate===null&&s(m,j),f=l(S,f,w),E===null?C=S:E.sibling=S,E=S,j=_}if(A.done)return r(m,j),ue&&Ss(m,w),C;if(j===null){for(;!A.done;w++,A=g.next())A=x(m,A.value,k),A!==null&&(f=l(A,f,w),E===null?C=A:E.sibling=A,E=A);return ue&&Ss(m,w),C}for(j=a(m,j);!A.done;w++,A=g.next())A=b(j,m,w,A.value,k),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?w:A.key),f=l(A,f,w),E===null?C=A:E.sibling=A,E=A);return e&&j.forEach(function(U){return s(m,U)}),ue&&Ss(m,w),C}function N(m,f,g,k){if(typeof g=="object"&&g!==null&&g.type===tr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ya:e:{for(var C=g.key,E=f;E!==null;){if(E.key===C){if(C=g.type,C===tr){if(E.tag===7){r(m,E.sibling),f=n(E,g.props.children),f.return=m,m=f;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Yt&&Gd(C)===E.type){r(m,E.sibling),f=n(E,g.props),f.ref=Qr(m,E,g),f.return=m,m=f;break e}r(m,E);break}else s(m,E);E=E.sibling}g.type===tr?(f=Ms(g.props.children,m.mode,k,g.key),f.return=m,m=f):(k=Pn(g.type,g.key,g.props,null,m.mode,k),k.ref=Qr(m,f,g),k.return=m,m=k)}return i(m);case er:e:{for(E=g.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){r(m,f.sibling),f=n(f,g.children||[]),f.return=m,m=f;break e}else{r(m,f);break}else s(m,f);f=f.sibling}f=di(g,m.mode,k),f.return=m,m=f}return i(m);case Yt:return E=g._init,N(m,f,E(g._payload),k)}if(ta(g))return h(m,f,g,k);if(Hr(g))return p(m,f,g,k);cn(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(r(m,f.sibling),f=n(f,g),f.return=m,m=f):(r(m,f),f=ci(g,m.mode,k),f.return=m,m=f),i(m)):r(m,f)}return N}var Sr=gx(!0),fx=gx(!1),Yn=ys(null),Xn=null,cr=null,Zo=null;function ec(){Zo=cr=Xn=null}function tc(e){var s=Yn.current;ce(Yn),e._currentValue=s}function Xi(e,s,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),e===r)break;e=e.return}}function fr(e,s){Xn=e,Zo=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(Qe=!0),e.firstContext=null)}function mt(e){var s=e._currentValue;if(Zo!==e)if(e={context:e,memoizedValue:s,next:null},cr===null){if(Xn===null)throw Error(D(308));cr=e,Xn.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return s}var As=null;function sc(e){As===null?As=[e]:As.push(e)}function yx(e,s,r,a){var n=s.interleaved;return n===null?(r.next=r,sc(s)):(r.next=n.next,n.next=r),s.interleaved=r,Vt(e,a)}function Vt(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xt=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vx(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function os(e,s,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,J&2){var n=a.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),a.pending=s,Vt(e,r)}return n=a.interleaved,n===null?(s.next=s,sc(a)):(s.next=n.next,n.next=s),a.interleaved=s,Vt(e,r)}function Sn(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Bo(e,r)}}function Qd(e,s){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?n=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?n=l=s:l=l.next=s}else n=l=s;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function Zn(e,s,r,a){var n=e.updateQueue;Xt=!1;var l=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(l!==null){var x=n.baseState;i=0,u=d=c=null,o=l;do{var v=o.lane,b=o.eventTime;if((a&v)===v){u!==null&&(u=u.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,p=o;switch(v=s,b=r,p.tag){case 1:if(h=p.payload,typeof h=="function"){x=h.call(b,x,v);break e}x=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=p.payload,v=typeof h=="function"?h.call(b,x,v):h,v==null)break e;x=pe({},x,v);break e;case 2:Xt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=n.effects,v===null?n.effects=[o]:v.push(o))}else b={eventTime:b,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=b,c=x):u=u.next=b,i|=v;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;v=o,o=v.next,v.next=null,n.lastBaseUpdate=v,n.shared.pending=null}}while(!0);if(u===null&&(c=x),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,s=n.shared.interleaved,s!==null){n=s;do i|=n.lane,n=n.next;while(n!==s)}else l===null&&(n.shared.lanes=0);$s|=i,e.lanes=i,e.memoizedState=x}}function Kd(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var a=e[s],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(D(191,n));n.call(a)}}}var Ba={},Pt=ys(Ba),Sa=ys(Ba),_a=ys(Ba);function Rs(e){if(e===Ba)throw Error(D(174));return e}function ac(e,s){switch(re(_a,s),re(Sa,e),re(Pt,Ba),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Li(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=Li(s,e)}ce(Pt),re(Pt,s)}function _r(){ce(Pt),ce(Sa),ce(_a)}function bx(e){Rs(_a.current);var s=Rs(Pt.current),r=Li(s,e.type);s!==r&&(re(Sa,e),re(Pt,r))}function nc(e){Sa.current===e&&(ce(Pt),ce(Sa))}var me=ys(0);function el(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ri=[];function lc(){for(var e=0;e<ri.length;e++)ri[e]._workInProgressVersionPrimary=null;ri.length=0}var _n=Kt.ReactCurrentDispatcher,ai=Kt.ReactCurrentBatchConfig,Fs=0,xe=null,ke=null,_e=null,tl=!1,da=!1,Ca=0,ag=0;function Me(){throw Error(D(321))}function ic(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!kt(e[r],s[r]))return!1;return!0}function oc(e,s,r,a,n,l){if(Fs=l,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_n.current=e===null||e.memoizedState===null?og:cg,e=r(a,n),da){l=0;do{if(da=!1,Ca=0,25<=l)throw Error(D(301));l+=1,_e=ke=null,s.updateQueue=null,_n.current=dg,e=r(a,n)}while(da)}if(_n.current=sl,s=ke!==null&&ke.next!==null,Fs=0,_e=ke=xe=null,tl=!1,s)throw Error(D(300));return e}function cc(){var e=Ca!==0;return Ca=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?xe.memoizedState=_e=e:_e=_e.next=e,_e}function xt(){if(ke===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var s=_e===null?xe.memoizedState:_e.next;if(s!==null)_e=s,ke=e;else{if(e===null)throw Error(D(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},_e===null?xe.memoizedState=_e=e:_e=_e.next=e}return _e}function Ea(e,s){return typeof s=="function"?s(e):s}function ni(e){var s=xt(),r=s.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var a=ke,n=a.baseQueue,l=r.pending;if(l!==null){if(n!==null){var i=n.next;n.next=l.next,l.next=i}a.baseQueue=n=l,r.pending=null}if(n!==null){l=n.next,a=a.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((Fs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var x={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=x,i=a):c=c.next=x,xe.lanes|=u,$s|=u}d=d.next}while(d!==null&&d!==l);c===null?i=a:c.next=o,kt(a,s.memoizedState)||(Qe=!0),s.memoizedState=a,s.baseState=i,s.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){n=e;do l=n.lane,xe.lanes|=l,$s|=l,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function li(e){var s=xt(),r=s.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,l=s.memoizedState;if(n!==null){r.pending=null;var i=n=n.next;do l=e(l,i.action),i=i.next;while(i!==n);kt(l,s.memoizedState)||(Qe=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,a]}function jx(){}function Nx(e,s){var r=xe,a=xt(),n=s(),l=!kt(a.memoizedState,n);if(l&&(a.memoizedState=n,Qe=!0),a=a.queue,dc(Sx.bind(null,r,a,e),[e]),a.getSnapshot!==s||l||_e!==null&&_e.memoizedState.tag&1){if(r.flags|=2048,Aa(9,kx.bind(null,r,a,n,s),void 0,null),Ee===null)throw Error(D(349));Fs&30||wx(r,s,n)}return n}function wx(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=xe.updateQueue,s===null?(s={lastEffect:null,stores:null},xe.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function kx(e,s,r,a){s.value=r,s.getSnapshot=a,_x(s)&&Cx(e)}function Sx(e,s,r){return r(function(){_x(s)&&Cx(e)})}function _x(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!kt(e,r)}catch{return!0}}function Cx(e){var s=Vt(e,1);s!==null&&jt(s,e,1,-1)}function Jd(e){var s=Et();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},s.queue=e,e=e.dispatch=ig.bind(null,xe,e),[s.memoizedState,e]}function Aa(e,s,r,a){return e={tag:e,create:s,destroy:r,deps:a,next:null},s=xe.updateQueue,s===null?(s={lastEffect:null,stores:null},xe.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,s.lastEffect=e)),e}function Ex(){return xt().memoizedState}function Cn(e,s,r,a){var n=Et();xe.flags|=e,n.memoizedState=Aa(1|s,r,void 0,a===void 0?null:a)}function bl(e,s,r,a){var n=xt();a=a===void 0?null:a;var l=void 0;if(ke!==null){var i=ke.memoizedState;if(l=i.destroy,a!==null&&ic(a,i.deps)){n.memoizedState=Aa(s,r,l,a);return}}xe.flags|=e,n.memoizedState=Aa(1|s,r,l,a)}function Yd(e,s){return Cn(8390656,8,e,s)}function dc(e,s){return bl(2048,8,e,s)}function Ax(e,s){return bl(4,2,e,s)}function Rx(e,s){return bl(4,4,e,s)}function Px(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Lx(e,s,r){return r=r!=null?r.concat([e]):null,bl(4,4,Px.bind(null,s,e),r)}function uc(){}function Tx(e,s){var r=xt();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&ic(s,a[1])?a[0]:(r.memoizedState=[e,s],e)}function Mx(e,s){var r=xt();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&ic(s,a[1])?a[0]:(e=e(),r.memoizedState=[e,s],e)}function Ox(e,s,r){return Fs&21?(kt(r,s)||(r=Um(),xe.lanes|=r,$s|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=r)}function ng(e,s){var r=te;te=r!==0&&4>r?r:4,e(!0);var a=ai.transition;ai.transition={};try{e(!1),s()}finally{te=r,ai.transition=a}}function Ix(){return xt().memoizedState}function lg(e,s,r){var a=ds(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Dx(e))Fx(s,r);else if(r=yx(e,s,r,a),r!==null){var n=Ue();jt(r,e,a,n),$x(r,s,a)}}function ig(e,s,r){var a=ds(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dx(e))Fx(s,n);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,o=l(i,r);if(n.hasEagerState=!0,n.eagerState=o,kt(o,i)){var c=s.interleaved;c===null?(n.next=n,sc(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}r=yx(e,s,n,a),r!==null&&(n=Ue(),jt(r,e,a,n),$x(r,s,a))}}function Dx(e){var s=e.alternate;return e===xe||s!==null&&s===xe}function Fx(e,s){da=tl=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function $x(e,s,r){if(r&4194240){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Bo(e,r)}}var sl={readContext:mt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},og={readContext:mt,useCallback:function(e,s){return Et().memoizedState=[e,s===void 0?null:s],e},useContext:mt,useEffect:Yd,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,Cn(4194308,4,Px.bind(null,s,e),r)},useLayoutEffect:function(e,s){return Cn(4194308,4,e,s)},useInsertionEffect:function(e,s){return Cn(4,2,e,s)},useMemo:function(e,s){var r=Et();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var a=Et();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=lg.bind(null,xe,e),[a.memoizedState,e]},useRef:function(e){var s=Et();return e={current:e},s.memoizedState=e},useState:Jd,useDebugValue:uc,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Jd(!1),s=e[0];return e=ng.bind(null,e[1]),Et().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var a=xe,n=Et();if(ue){if(r===void 0)throw Error(D(407));r=r()}else{if(r=s(),Ee===null)throw Error(D(349));Fs&30||wx(a,s,r)}n.memoizedState=r;var l={value:r,getSnapshot:s};return n.queue=l,Yd(Sx.bind(null,a,l,e),[e]),a.flags|=2048,Aa(9,kx.bind(null,a,l,r,s),void 0,null),r},useId:function(){var e=Et(),s=Ee.identifierPrefix;if(ue){var r=Ft,a=Dt;r=(a&~(1<<32-bt(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=Ca++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=ag++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},cg={readContext:mt,useCallback:Tx,useContext:mt,useEffect:dc,useImperativeHandle:Lx,useInsertionEffect:Ax,useLayoutEffect:Rx,useMemo:Mx,useReducer:ni,useRef:Ex,useState:function(){return ni(Ea)},useDebugValue:uc,useDeferredValue:function(e){var s=xt();return Ox(s,ke.memoizedState,e)},useTransition:function(){var e=ni(Ea)[0],s=xt().memoizedState;return[e,s]},useMutableSource:jx,useSyncExternalStore:Nx,useId:Ix,unstable_isNewReconciler:!1},dg={readContext:mt,useCallback:Tx,useContext:mt,useEffect:dc,useImperativeHandle:Lx,useInsertionEffect:Ax,useLayoutEffect:Rx,useMemo:Mx,useReducer:li,useRef:Ex,useState:function(){return li(Ea)},useDebugValue:uc,useDeferredValue:function(e){var s=xt();return ke===null?s.memoizedState=e:Ox(s,ke.memoizedState,e)},useTransition:function(){var e=li(Ea)[0],s=xt().memoizedState;return[e,s]},useMutableSource:jx,useSyncExternalStore:Nx,useId:Ix,unstable_isNewReconciler:!1};function ht(e,s){if(e&&e.defaultProps){s=pe({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function Zi(e,s,r,a){s=e.memoizedState,r=r(a,s),r=r==null?s:pe({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jl={isMounted:function(e){return(e=e._reactInternals)?Qs(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var a=Ue(),n=ds(e),l=Ut(a,n);l.payload=s,r!=null&&(l.callback=r),s=os(e,l,n),s!==null&&(jt(s,e,n,a),Sn(s,e,n))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var a=Ue(),n=ds(e),l=Ut(a,n);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=os(e,l,n),s!==null&&(jt(s,e,n,a),Sn(s,e,n))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=Ue(),a=ds(e),n=Ut(r,a);n.tag=2,s!=null&&(n.callback=s),s=os(e,n,a),s!==null&&(jt(s,e,a,r),Sn(s,e,a))}};function Xd(e,s,r,a,n,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,l,i):s.prototype&&s.prototype.isPureReactComponent?!ja(r,a)||!ja(n,l):!0}function Ux(e,s,r){var a=!1,n=hs,l=s.contextType;return typeof l=="object"&&l!==null?l=mt(l):(n=Je(s)?Is:Fe.current,a=s.contextTypes,l=(a=a!=null)?wr(e,n):hs),s=new s(r,l),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=jl,e.stateNode=s,s._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=l),s}function Zd(e,s,r,a){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==e&&jl.enqueueReplaceState(s,s.state,null)}function eo(e,s,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},rc(e);var l=s.contextType;typeof l=="object"&&l!==null?n.context=mt(l):(l=Je(s)?Is:Fe.current,n.context=wr(e,l)),n.state=e.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(Zi(e,s,l,r),n.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&jl.enqueueReplaceState(n,n.state,null),Zn(e,r,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Cr(e,s){try{var r="",a=s;do r+=Fp(a),a=a.return;while(a);var n=r}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:s,stack:n,digest:null}}function ii(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function to(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var ug=typeof WeakMap=="function"?WeakMap:Map;function zx(e,s,r){r=Ut(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){al||(al=!0,mo=a),to(e,s)},r}function Bx(e,s,r){r=Ut(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=s.value;r.payload=function(){return a(n)},r.callback=function(){to(e,s)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){to(e,s),typeof a!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),r}function eu(e,s,r){var a=e.pingCache;if(a===null){a=e.pingCache=new ug;var n=new Set;a.set(s,n)}else n=a.get(s),n===void 0&&(n=new Set,a.set(s,n));n.has(r)||(n.add(r),e=Sg.bind(null,e,s,r),s.then(e,e))}function tu(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function su(e,s,r,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Ut(-1,1),s.tag=2,os(r,s,1))),r.lanes|=1),e)}var mg=Kt.ReactCurrentOwner,Qe=!1;function $e(e,s,r,a){s.child=e===null?fx(s,null,r,a):Sr(s,e.child,r,a)}function ru(e,s,r,a,n){r=r.render;var l=s.ref;return fr(s,n),a=oc(e,s,r,a,l,n),r=cc(),e!==null&&!Qe?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,qt(e,s,n)):(ue&&r&&Jo(s),s.flags|=1,$e(e,s,a,n),s.child)}function au(e,s,r,a,n){if(e===null){var l=r.type;return typeof l=="function"&&!vc(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,Hx(e,s,l,a,n)):(e=Pn(r.type,null,a,s,s.mode,n),e.ref=s.ref,e.return=s,s.child=e)}if(l=e.child,!(e.lanes&n)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:ja,r(i,a)&&e.ref===s.ref)return qt(e,s,n)}return s.flags|=1,e=us(l,a),e.ref=s.ref,e.return=s,s.child=e}function Hx(e,s,r,a,n){if(e!==null){var l=e.memoizedProps;if(ja(l,a)&&e.ref===s.ref)if(Qe=!1,s.pendingProps=a=l,(e.lanes&n)!==0)e.flags&131072&&(Qe=!0);else return s.lanes=e.lanes,qt(e,s,n)}return so(e,s,r,a,n)}function Vx(e,s,r){var a=s.pendingProps,n=a.children,l=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(ur,et),et|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,re(ur,et),et|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:r,re(ur,et),et|=a}else l!==null?(a=l.baseLanes|r,s.memoizedState=null):a=r,re(ur,et),et|=a;return $e(e,s,n,r),s.child}function qx(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function so(e,s,r,a,n){var l=Je(r)?Is:Fe.current;return l=wr(s,l),fr(s,n),r=oc(e,s,r,a,l,n),a=cc(),e!==null&&!Qe?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,qt(e,s,n)):(ue&&a&&Jo(s),s.flags|=1,$e(e,s,r,n),s.child)}function nu(e,s,r,a,n){if(Je(r)){var l=!0;Qn(s)}else l=!1;if(fr(s,n),s.stateNode===null)En(e,s),Ux(s,r,a),eo(s,r,a,n),a=!0;else if(e===null){var i=s.stateNode,o=s.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=mt(d):(d=Je(r)?Is:Fe.current,d=wr(s,d));var u=r.getDerivedStateFromProps,x=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==a||c!==d)&&Zd(s,i,a,d),Xt=!1;var v=s.memoizedState;i.state=v,Zn(s,a,i,n),c=s.memoizedState,o!==a||v!==c||Ke.current||Xt?(typeof u=="function"&&(Zi(s,r,u,a),c=s.memoizedState),(o=Xt||Xd(s,r,o,a,v,c,d))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),i.props=a,i.state=c,i.context=d,a=o):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{i=s.stateNode,vx(e,s),o=s.memoizedProps,d=s.type===s.elementType?o:ht(s.type,o),i.props=d,x=s.pendingProps,v=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=mt(c):(c=Je(r)?Is:Fe.current,c=wr(s,c));var b=r.getDerivedStateFromProps;(u=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==x||v!==c)&&Zd(s,i,a,c),Xt=!1,v=s.memoizedState,i.state=v,Zn(s,a,i,n);var h=s.memoizedState;o!==x||v!==h||Ke.current||Xt?(typeof b=="function"&&(Zi(s,r,b,a),h=s.memoizedState),(d=Xt||Xd(s,r,d,a,v,h,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,h,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=h),i.props=a,i.state=h,i.context=c,a=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(s.flags|=1024),a=!1)}return ro(e,s,r,a,l,n)}function ro(e,s,r,a,n,l){qx(e,s);var i=(s.flags&128)!==0;if(!a&&!i)return n&&Vd(s,r,!1),qt(e,s,l);a=s.stateNode,mg.current=s;var o=i&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,e!==null&&i?(s.child=Sr(s,e.child,null,l),s.child=Sr(s,null,o,l)):$e(e,s,o,l),s.memoizedState=a.state,n&&Vd(s,r,!0),s.child}function Wx(e){var s=e.stateNode;s.pendingContext?Hd(e,s.pendingContext,s.pendingContext!==s.context):s.context&&Hd(e,s.context,!1),ac(e,s.containerInfo)}function lu(e,s,r,a,n){return kr(),Xo(n),s.flags|=256,$e(e,s,r,a),s.child}var ao={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gx(e,s,r){var a=s.pendingProps,n=me.current,l=!1,i=(s.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(l=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),re(me,n&1),e===null)return Yi(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=a.children,e=a.fallback,l?(a=s.mode,l=s.child,i={mode:"hidden",children:i},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=kl(i,a,0,null),e=Ms(e,a,r,null),l.return=s,e.return=s,l.sibling=e,s.child=l,s.child.memoizedState=no(r),s.memoizedState=ao,e):mc(s,i));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return xg(e,s,i,a,o,n,r);if(l){l=a.fallback,i=s.mode,n=e.child,o=n.sibling;var c={mode:"hidden",children:a.children};return!(i&1)&&s.child!==n?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=us(n,c),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?l=us(o,l):(l=Ms(l,i,r,null),l.flags|=2),l.return=s,a.return=s,a.sibling=l,s.child=a,a=l,l=s.child,i=e.child.memoizedState,i=i===null?no(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,s.memoizedState=ao,a}return l=e.child,e=l.sibling,a=us(l,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=a,s.memoizedState=null,a}function mc(e,s){return s=kl({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function dn(e,s,r,a){return a!==null&&Xo(a),Sr(s,e.child,null,r),e=mc(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function xg(e,s,r,a,n,l,i){if(r)return s.flags&256?(s.flags&=-257,a=ii(Error(D(422))),dn(e,s,i,a)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(l=a.fallback,n=s.mode,a=kl({mode:"visible",children:a.children},n,0,null),l=Ms(l,n,i,null),l.flags|=2,a.return=s,l.return=s,a.sibling=l,s.child=a,s.mode&1&&Sr(s,e.child,null,i),s.child.memoizedState=no(i),s.memoizedState=ao,l);if(!(s.mode&1))return dn(e,s,i,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,l=Error(D(419)),a=ii(l,a,void 0),dn(e,s,i,a)}if(o=(i&e.childLanes)!==0,Qe||o){if(a=Ee,a!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|i)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,Vt(e,n),jt(a,e,n,-1))}return yc(),a=ii(Error(D(421))),dn(e,s,i,a)}return n.data==="$?"?(s.flags|=128,s.child=e.child,s=_g.bind(null,e),n._reactRetry=s,null):(e=l.treeContext,tt=is(n.nextSibling),rt=s,ue=!0,ft=null,e!==null&&(ot[ct++]=Dt,ot[ct++]=Ft,ot[ct++]=Ds,Dt=e.id,Ft=e.overflow,Ds=s),s=mc(s,a.children),s.flags|=4096,s)}function iu(e,s,r){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s),Xi(e.return,s,r)}function oi(e,s,r,a,n){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=r,l.tailMode=n)}function Qx(e,s,r){var a=s.pendingProps,n=a.revealOrder,l=a.tail;if($e(e,s,a.children,r),a=me.current,a&2)a=a&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iu(e,r,s);else if(e.tag===19)iu(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(re(me,a),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(r=s.child,n=null;r!==null;)e=r.alternate,e!==null&&el(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=s.child,s.child=null):(n=r.sibling,r.sibling=null),oi(s,!1,n,r,l);break;case"backwards":for(r=null,n=s.child,s.child=null;n!==null;){if(e=n.alternate,e!==null&&el(e)===null){s.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}oi(s,!0,r,null,l);break;case"together":oi(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function En(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function qt(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),$s|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(D(153));if(s.child!==null){for(e=s.child,r=us(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=us(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function pg(e,s,r){switch(s.tag){case 3:Wx(s),kr();break;case 5:bx(s);break;case 1:Je(s.type)&&Qn(s);break;case 4:ac(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,n=s.memoizedProps.value;re(Yn,a._currentValue),a._currentValue=n;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(re(me,me.current&1),s.flags|=128,null):r&s.child.childLanes?Gx(e,s,r):(re(me,me.current&1),e=qt(e,s,r),e!==null?e.sibling:null);re(me,me.current&1);break;case 19:if(a=(r&s.childLanes)!==0,e.flags&128){if(a)return Qx(e,s,r);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),re(me,me.current),a)break;return null;case 22:case 23:return s.lanes=0,Vx(e,s,r)}return qt(e,s,r)}var Kx,lo,Jx,Yx;Kx=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lo=function(){};Jx=function(e,s,r,a){var n=e.memoizedProps;if(n!==a){e=s.stateNode,Rs(Pt.current);var l=null;switch(r){case"input":n=Ei(e,n),a=Ei(e,a),l=[];break;case"select":n=pe({},n,{value:void 0}),a=pe({},a,{value:void 0}),l=[];break;case"textarea":n=Pi(e,n),a=Pi(e,a),l=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Wn)}Ti(r,a);var i;r=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var o=n[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(pa.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in a){var c=a[d];if(o=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(pa.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&oe("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(s.updateQueue=d)&&(s.flags|=4)}};Yx=function(e,s,r,a){r!==a&&(s.flags|=4)};function Kr(e,s){if(!ue)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Oe(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(s)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,s}function hg(e,s,r){var a=s.pendingProps;switch(Yo(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(s),null;case 1:return Je(s.type)&&Gn(),Oe(s),null;case 3:return a=s.stateNode,_r(),ce(Ke),ce(Fe),lc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(on(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ft!==null&&(ho(ft),ft=null))),lo(e,s),Oe(s),null;case 5:nc(s);var n=Rs(_a.current);if(r=s.type,e!==null&&s.stateNode!=null)Jx(e,s,r,a,n),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(D(166));return Oe(s),null}if(e=Rs(Pt.current),on(s)){a=s.stateNode,r=s.type;var l=s.memoizedProps;switch(a[At]=s,a[ka]=l,e=(s.mode&1)!==0,r){case"dialog":oe("cancel",a),oe("close",a);break;case"iframe":case"object":case"embed":oe("load",a);break;case"video":case"audio":for(n=0;n<ra.length;n++)oe(ra[n],a);break;case"source":oe("error",a);break;case"img":case"image":case"link":oe("error",a),oe("load",a);break;case"details":oe("toggle",a);break;case"input":gd(a,l),oe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},oe("invalid",a);break;case"textarea":yd(a,l),oe("invalid",a)}Ti(r,l),n=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?a.textContent!==o&&(l.suppressHydrationWarning!==!0&&ln(a.textContent,o,e),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&ln(a.textContent,o,e),n=["children",""+o]):pa.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&oe("scroll",a)}switch(r){case"input":Xa(a),fd(a,l,!0);break;case"textarea":Xa(a),vd(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=Wn)}a=n,s.updateQueue=a,a!==null&&(s.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=i.createElement(r,{is:a.is}):(e=i.createElement(r),r==="select"&&(i=e,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):e=i.createElementNS(e,r),e[At]=s,e[ka]=a,Kx(e,s,!1,!1),s.stateNode=e;e:{switch(i=Mi(r,a),r){case"dialog":oe("cancel",e),oe("close",e),n=a;break;case"iframe":case"object":case"embed":oe("load",e),n=a;break;case"video":case"audio":for(n=0;n<ra.length;n++)oe(ra[n],e);n=a;break;case"source":oe("error",e),n=a;break;case"img":case"image":case"link":oe("error",e),oe("load",e),n=a;break;case"details":oe("toggle",e),n=a;break;case"input":gd(e,a),n=Ei(e,a),oe("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=pe({},a,{value:void 0}),oe("invalid",e);break;case"textarea":yd(e,a),n=Pi(e,a),oe("invalid",e);break;default:n=a}Ti(r,n),o=n;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Em(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_m(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ha(e,c):typeof c=="number"&&ha(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(pa.hasOwnProperty(l)?c!=null&&l==="onScroll"&&oe("scroll",e):c!=null&&Io(e,l,c,i))}switch(r){case"input":Xa(e),fd(e,a,!1);break;case"textarea":Xa(e),vd(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ps(a.value));break;case"select":e.multiple=!!a.multiple,l=a.value,l!=null?xr(e,!!a.multiple,l,!1):a.defaultValue!=null&&xr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Wn)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Oe(s),null;case 6:if(e&&s.stateNode!=null)Yx(e,s,e.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(D(166));if(r=Rs(_a.current),Rs(Pt.current),on(s)){if(a=s.stateNode,r=s.memoizedProps,a[At]=s,(l=a.nodeValue!==r)&&(e=rt,e!==null))switch(e.tag){case 3:ln(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ln(a.nodeValue,r,(e.mode&1)!==0)}l&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[At]=s,s.stateNode=a}return Oe(s),null;case 13:if(ce(me),a=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&tt!==null&&s.mode&1&&!(s.flags&128))hx(),kr(),s.flags|=98560,l=!1;else if(l=on(s),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(D(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(D(317));l[At]=s}else kr(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Oe(s),l=!1}else ft!==null&&(ho(ft),ft=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(e===null||me.current&1?Se===0&&(Se=3):yc())),s.updateQueue!==null&&(s.flags|=4),Oe(s),null);case 4:return _r(),lo(e,s),e===null&&Na(s.stateNode.containerInfo),Oe(s),null;case 10:return tc(s.type._context),Oe(s),null;case 17:return Je(s.type)&&Gn(),Oe(s),null;case 19:if(ce(me),l=s.memoizedState,l===null)return Oe(s),null;if(a=(s.flags&128)!==0,i=l.rendering,i===null)if(a)Kr(l,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(i=el(e),i!==null){for(s.flags|=128,Kr(l,!1),a=i.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)l=r,e=a,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return re(me,me.current&1|2),s.child}e=e.sibling}l.tail!==null&&fe()>Er&&(s.flags|=128,a=!0,Kr(l,!1),s.lanes=4194304)}else{if(!a)if(e=el(i),e!==null){if(s.flags|=128,a=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Kr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ue)return Oe(s),null}else 2*fe()-l.renderingStartTime>Er&&r!==1073741824&&(s.flags|=128,a=!0,Kr(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(r=l.last,r!==null?r.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=fe(),s.sibling=null,r=me.current,re(me,a?r&1|2:r&1),s):(Oe(s),null);case 22:case 23:return fc(),a=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?et&1073741824&&(Oe(s),s.subtreeFlags&6&&(s.flags|=8192)):Oe(s),null;case 24:return null;case 25:return null}throw Error(D(156,s.tag))}function gg(e,s){switch(Yo(s),s.tag){case 1:return Je(s.type)&&Gn(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return _r(),ce(Ke),ce(Fe),lc(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return nc(s),null;case 13:if(ce(me),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(D(340));kr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return ce(me),null;case 4:return _r(),null;case 10:return tc(s.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var un=!1,Ie=!1,fg=typeof WeakSet=="function"?WeakSet:Set,B=null;function dr(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){he(e,s,a)}else r.current=null}function io(e,s,r){try{r()}catch(a){he(e,s,a)}}var ou=!1;function yg(e,s){if(Vi=Hn,e=sx(),Ko(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,x=e,v=null;t:for(;;){for(var b;x!==r||n!==0&&x.nodeType!==3||(o=i+n),x!==l||a!==0&&x.nodeType!==3||(c=i+a),x.nodeType===3&&(i+=x.nodeValue.length),(b=x.firstChild)!==null;)v=x,x=b;for(;;){if(x===e)break t;if(v===r&&++d===n&&(o=i),v===l&&++u===a&&(c=i),(b=x.nextSibling)!==null)break;x=v,v=x.parentNode}x=b}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(qi={focusedElem:e,selectionRange:r},Hn=!1,B=s;B!==null;)if(s=B,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,B=e;else for(;B!==null;){s=B;try{var h=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var p=h.memoizedProps,N=h.memoizedState,m=s.stateNode,f=m.getSnapshotBeforeUpdate(s.elementType===s.type?p:ht(s.type,p),N);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=s.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(k){he(s,s.return,k)}if(e=s.sibling,e!==null){e.return=s.return,B=e;break}B=s.return}return h=ou,ou=!1,h}function ua(e,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var l=n.destroy;n.destroy=void 0,l!==void 0&&io(s,r,l)}n=n.next}while(n!==a)}}function Nl(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function oo(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function Xx(e){var s=e.alternate;s!==null&&(e.alternate=null,Xx(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[At],delete s[ka],delete s[Qi],delete s[eg],delete s[tg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zx(e){return e.tag===5||e.tag===3||e.tag===4}function cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function co(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Wn));else if(a!==4&&(e=e.child,e!==null))for(co(e,s,r),e=e.sibling;e!==null;)co(e,s,r),e=e.sibling}function uo(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(uo(e,s,r),e=e.sibling;e!==null;)uo(e,s,r),e=e.sibling}var Re=null,gt=!1;function Jt(e,s,r){for(r=r.child;r!==null;)e0(e,s,r),r=r.sibling}function e0(e,s,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(pl,r)}catch{}switch(r.tag){case 5:Ie||dr(r,s);case 6:var a=Re,n=gt;Re=null,Jt(e,s,r),Re=a,gt=n,Re!==null&&(gt?(e=Re,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Re.removeChild(r.stateNode));break;case 18:Re!==null&&(gt?(e=Re,r=r.stateNode,e.nodeType===8?ti(e.parentNode,r):e.nodeType===1&&ti(e,r),va(e)):ti(Re,r.stateNode));break;case 4:a=Re,n=gt,Re=r.stateNode.containerInfo,gt=!0,Jt(e,s,r),Re=a,gt=n;break;case 0:case 11:case 14:case 15:if(!Ie&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var l=n,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&io(r,s,i),n=n.next}while(n!==a)}Jt(e,s,r);break;case 1:if(!Ie&&(dr(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){he(r,s,o)}Jt(e,s,r);break;case 21:Jt(e,s,r);break;case 22:r.mode&1?(Ie=(a=Ie)||r.memoizedState!==null,Jt(e,s,r),Ie=a):Jt(e,s,r);break;default:Jt(e,s,r)}}function du(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fg),s.forEach(function(a){var n=Cg.bind(null,e,a);r.has(a)||(r.add(a),a.then(n,n))})}}function pt(e,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var l=e,i=s,o=i;e:for(;o!==null;){switch(o.tag){case 5:Re=o.stateNode,gt=!1;break e;case 3:Re=o.stateNode.containerInfo,gt=!0;break e;case 4:Re=o.stateNode.containerInfo,gt=!0;break e}o=o.return}if(Re===null)throw Error(D(160));e0(l,i,n),Re=null,gt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){he(n,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)t0(s,e),s=s.sibling}function t0(e,s){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pt(s,e),_t(e),a&4){try{ua(3,e,e.return),Nl(3,e)}catch(p){he(e,e.return,p)}try{ua(5,e,e.return)}catch(p){he(e,e.return,p)}}break;case 1:pt(s,e),_t(e),a&512&&r!==null&&dr(r,r.return);break;case 5:if(pt(s,e),_t(e),a&512&&r!==null&&dr(r,r.return),e.flags&32){var n=e.stateNode;try{ha(n,"")}catch(p){he(e,e.return,p)}}if(a&4&&(n=e.stateNode,n!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&wm(n,l),Mi(o,i);var d=Mi(o,l);for(i=0;i<c.length;i+=2){var u=c[i],x=c[i+1];u==="style"?Em(n,x):u==="dangerouslySetInnerHTML"?_m(n,x):u==="children"?ha(n,x):Io(n,u,x,d)}switch(o){case"input":Ai(n,l);break;case"textarea":km(n,l);break;case"select":var v=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var b=l.value;b!=null?xr(n,!!l.multiple,b,!1):v!==!!l.multiple&&(l.defaultValue!=null?xr(n,!!l.multiple,l.defaultValue,!0):xr(n,!!l.multiple,l.multiple?[]:"",!1))}n[ka]=l}catch(p){he(e,e.return,p)}}break;case 6:if(pt(s,e),_t(e),a&4){if(e.stateNode===null)throw Error(D(162));n=e.stateNode,l=e.memoizedProps;try{n.nodeValue=l}catch(p){he(e,e.return,p)}}break;case 3:if(pt(s,e),_t(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{va(s.containerInfo)}catch(p){he(e,e.return,p)}break;case 4:pt(s,e),_t(e);break;case 13:pt(s,e),_t(e),n=e.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(hc=fe())),a&4&&du(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ie=(d=Ie)||u,pt(s,e),Ie=d):pt(s,e),_t(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(B=e,u=e.child;u!==null;){for(x=B=u;B!==null;){switch(v=B,b=v.child,v.tag){case 0:case 11:case 14:case 15:ua(4,v,v.return);break;case 1:dr(v,v.return);var h=v.stateNode;if(typeof h.componentWillUnmount=="function"){a=v,r=v.return;try{s=a,h.props=s.memoizedProps,h.state=s.memoizedState,h.componentWillUnmount()}catch(p){he(a,r,p)}}break;case 5:dr(v,v.return);break;case 22:if(v.memoizedState!==null){mu(x);continue}}b!==null?(b.return=v,B=b):mu(x)}u=u.sibling}e:for(u=null,x=e;;){if(x.tag===5){if(u===null){u=x;try{n=x.stateNode,d?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=x.stateNode,c=x.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Cm("display",i))}catch(p){he(e,e.return,p)}}}else if(x.tag===6){if(u===null)try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(p){he(e,e.return,p)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;u===x&&(u=null),x=x.return}u===x&&(u=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:pt(s,e),_t(e),a&4&&du(e);break;case 21:break;default:pt(s,e),_t(e)}}function _t(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(Zx(r)){var a=r;break e}r=r.return}throw Error(D(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(ha(n,""),a.flags&=-33);var l=cu(e);uo(e,l,n);break;case 3:case 4:var i=a.stateNode.containerInfo,o=cu(e);co(e,o,i);break;default:throw Error(D(161))}}catch(c){he(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function vg(e,s,r){B=e,s0(e)}function s0(e,s,r){for(var a=(e.mode&1)!==0;B!==null;){var n=B,l=n.child;if(n.tag===22&&a){var i=n.memoizedState!==null||un;if(!i){var o=n.alternate,c=o!==null&&o.memoizedState!==null||Ie;o=un;var d=Ie;if(un=i,(Ie=c)&&!d)for(B=n;B!==null;)i=B,c=i.child,i.tag===22&&i.memoizedState!==null?xu(n):c!==null?(c.return=i,B=c):xu(n);for(;l!==null;)B=l,s0(l),l=l.sibling;B=n,un=o,Ie=d}uu(e)}else n.subtreeFlags&8772&&l!==null?(l.return=n,B=l):uu(e)}}function uu(e){for(;B!==null;){var s=B;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ie||Nl(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!Ie)if(r===null)a.componentDidMount();else{var n=s.elementType===s.type?r.memoizedProps:ht(s.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&Kd(s,l,a);break;case 3:var i=s.updateQueue;if(i!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Kd(s,i,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var x=u.dehydrated;x!==null&&va(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Ie||s.flags&512&&oo(s)}catch(v){he(s,s.return,v)}}if(s===e){B=null;break}if(r=s.sibling,r!==null){r.return=s.return,B=r;break}B=s.return}}function mu(e){for(;B!==null;){var s=B;if(s===e){B=null;break}var r=s.sibling;if(r!==null){r.return=s.return,B=r;break}B=s.return}}function xu(e){for(;B!==null;){var s=B;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Nl(4,s)}catch(c){he(s,r,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var n=s.return;try{a.componentDidMount()}catch(c){he(s,n,c)}}var l=s.return;try{oo(s)}catch(c){he(s,l,c)}break;case 5:var i=s.return;try{oo(s)}catch(c){he(s,i,c)}}}catch(c){he(s,s.return,c)}if(s===e){B=null;break}var o=s.sibling;if(o!==null){o.return=s.return,B=o;break}B=s.return}}var bg=Math.ceil,rl=Kt.ReactCurrentDispatcher,xc=Kt.ReactCurrentOwner,ut=Kt.ReactCurrentBatchConfig,J=0,Ee=null,je=null,Pe=0,et=0,ur=ys(0),Se=0,Ra=null,$s=0,wl=0,pc=0,ma=null,We=null,hc=0,Er=1/0,Ot=null,al=!1,mo=null,cs=null,mn=!1,ss=null,nl=0,xa=0,xo=null,An=-1,Rn=0;function Ue(){return J&6?fe():An!==-1?An:An=fe()}function ds(e){return e.mode&1?J&2&&Pe!==0?Pe&-Pe:rg.transition!==null?(Rn===0&&(Rn=Um()),Rn):(e=te,e!==0||(e=window.event,e=e===void 0?16:Gm(e.type)),e):1}function jt(e,s,r,a){if(50<xa)throw xa=0,xo=null,Error(D(185));$a(e,r,a),(!(J&2)||e!==Ee)&&(e===Ee&&(!(J&2)&&(wl|=r),Se===4&&es(e,Pe)),Ye(e,a),r===1&&J===0&&!(s.mode&1)&&(Er=fe()+500,vl&&vs()))}function Ye(e,s){var r=e.callbackNode;rh(e,s);var a=Bn(e,e===Ee?Pe:0);if(a===0)r!==null&&Nd(r),e.callbackNode=null,e.callbackPriority=0;else if(s=a&-a,e.callbackPriority!==s){if(r!=null&&Nd(r),s===1)e.tag===0?sg(pu.bind(null,e)):mx(pu.bind(null,e)),Xh(function(){!(J&6)&&vs()}),r=null;else{switch(zm(a)){case 1:r=zo;break;case 4:r=Fm;break;case 16:r=zn;break;case 536870912:r=$m;break;default:r=zn}r=d0(r,r0.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function r0(e,s){if(An=-1,Rn=0,J&6)throw Error(D(327));var r=e.callbackNode;if(yr()&&e.callbackNode!==r)return null;var a=Bn(e,e===Ee?Pe:0);if(a===0)return null;if(a&30||a&e.expiredLanes||s)s=ll(e,a);else{s=a;var n=J;J|=2;var l=n0();(Ee!==e||Pe!==s)&&(Ot=null,Er=fe()+500,Ts(e,s));do try{wg();break}catch(o){a0(e,o)}while(!0);ec(),rl.current=l,J=n,je!==null?s=0:(Ee=null,Pe=0,s=Se)}if(s!==0){if(s===2&&(n=$i(e),n!==0&&(a=n,s=po(e,n))),s===1)throw r=Ra,Ts(e,0),es(e,a),Ye(e,fe()),r;if(s===6)es(e,a);else{if(n=e.current.alternate,!(a&30)&&!jg(n)&&(s=ll(e,a),s===2&&(l=$i(e),l!==0&&(a=l,s=po(e,l))),s===1))throw r=Ra,Ts(e,0),es(e,a),Ye(e,fe()),r;switch(e.finishedWork=n,e.finishedLanes=a,s){case 0:case 1:throw Error(D(345));case 2:_s(e,We,Ot);break;case 3:if(es(e,a),(a&130023424)===a&&(s=hc+500-fe(),10<s)){if(Bn(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){Ue(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Gi(_s.bind(null,e,We,Ot),s);break}_s(e,We,Ot);break;case 4:if(es(e,a),(a&4194240)===a)break;for(s=e.eventTimes,n=-1;0<a;){var i=31-bt(a);l=1<<i,i=s[i],i>n&&(n=i),a&=~l}if(a=n,a=fe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*bg(a/1960))-a,10<a){e.timeoutHandle=Gi(_s.bind(null,e,We,Ot),a);break}_s(e,We,Ot);break;case 5:_s(e,We,Ot);break;default:throw Error(D(329))}}}return Ye(e,fe()),e.callbackNode===r?r0.bind(null,e):null}function po(e,s){var r=ma;return e.current.memoizedState.isDehydrated&&(Ts(e,s).flags|=256),e=ll(e,s),e!==2&&(s=We,We=r,s!==null&&ho(s)),e}function ho(e){We===null?We=e:We.push.apply(We,e)}function jg(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],l=n.getSnapshot;n=n.value;try{if(!kt(l(),n))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function es(e,s){for(s&=~pc,s&=~wl,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-bt(s),a=1<<r;e[r]=-1,s&=~a}}function pu(e){if(J&6)throw Error(D(327));yr();var s=Bn(e,0);if(!(s&1))return Ye(e,fe()),null;var r=ll(e,s);if(e.tag!==0&&r===2){var a=$i(e);a!==0&&(s=a,r=po(e,a))}if(r===1)throw r=Ra,Ts(e,0),es(e,s),Ye(e,fe()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,_s(e,We,Ot),Ye(e,fe()),null}function gc(e,s){var r=J;J|=1;try{return e(s)}finally{J=r,J===0&&(Er=fe()+500,vl&&vs())}}function Us(e){ss!==null&&ss.tag===0&&!(J&6)&&yr();var s=J;J|=1;var r=ut.transition,a=te;try{if(ut.transition=null,te=1,e)return e()}finally{te=a,ut.transition=r,J=s,!(J&6)&&vs()}}function fc(){et=ur.current,ce(ur)}function Ts(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Yh(r)),je!==null)for(r=je.return;r!==null;){var a=r;switch(Yo(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Gn();break;case 3:_r(),ce(Ke),ce(Fe),lc();break;case 5:nc(a);break;case 4:_r();break;case 13:ce(me);break;case 19:ce(me);break;case 10:tc(a.type._context);break;case 22:case 23:fc()}r=r.return}if(Ee=e,je=e=us(e.current,null),Pe=et=s,Se=0,Ra=null,pc=wl=$s=0,We=ma=null,As!==null){for(s=0;s<As.length;s++)if(r=As[s],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,l=r.pending;if(l!==null){var i=l.next;l.next=n,a.next=i}r.pending=a}As=null}return e}function a0(e,s){do{var r=je;try{if(ec(),_n.current=sl,tl){for(var a=xe.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}tl=!1}if(Fs=0,_e=ke=xe=null,da=!1,Ca=0,xc.current=null,r===null||r.return===null){Se=1,Ra=s,je=null;break}e:{var l=e,i=r.return,o=r,c=s;if(s=Pe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,x=u.tag;if(!(u.mode&1)&&(x===0||x===11||x===15)){var v=u.alternate;v?(u.updateQueue=v.updateQueue,u.memoizedState=v.memoizedState,u.lanes=v.lanes):(u.updateQueue=null,u.memoizedState=null)}var b=tu(i);if(b!==null){b.flags&=-257,su(b,i,o,l,s),b.mode&1&&eu(l,d,s),s=b,c=d;var h=s.updateQueue;if(h===null){var p=new Set;p.add(c),s.updateQueue=p}else h.add(c);break e}else{if(!(s&1)){eu(l,d,s),yc();break e}c=Error(D(426))}}else if(ue&&o.mode&1){var N=tu(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),su(N,i,o,l,s),Xo(Cr(c,o));break e}}l=c=Cr(c,o),Se!==4&&(Se=2),ma===null?ma=[l]:ma.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var m=zx(l,c,s);Qd(l,m);break e;case 1:o=c;var f=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cs===null||!cs.has(g)))){l.flags|=65536,s&=-s,l.lanes|=s;var k=Bx(l,o,s);Qd(l,k);break e}}l=l.return}while(l!==null)}i0(r)}catch(C){s=C,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function n0(){var e=rl.current;return rl.current=sl,e===null?sl:e}function yc(){(Se===0||Se===3||Se===2)&&(Se=4),Ee===null||!($s&268435455)&&!(wl&268435455)||es(Ee,Pe)}function ll(e,s){var r=J;J|=2;var a=n0();(Ee!==e||Pe!==s)&&(Ot=null,Ts(e,s));do try{Ng();break}catch(n){a0(e,n)}while(!0);if(ec(),J=r,rl.current=a,je!==null)throw Error(D(261));return Ee=null,Pe=0,Se}function Ng(){for(;je!==null;)l0(je)}function wg(){for(;je!==null&&!Qp();)l0(je)}function l0(e){var s=c0(e.alternate,e,et);e.memoizedProps=e.pendingProps,s===null?i0(e):je=s,xc.current=null}function i0(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=gg(r,s),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,je=null;return}}else if(r=hg(r,s,et),r!==null){je=r;return}if(s=s.sibling,s!==null){je=s;return}je=s=e}while(s!==null);Se===0&&(Se=5)}function _s(e,s,r){var a=te,n=ut.transition;try{ut.transition=null,te=1,kg(e,s,r,a)}finally{ut.transition=n,te=a}return null}function kg(e,s,r,a){do yr();while(ss!==null);if(J&6)throw Error(D(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(ah(e,l),e===Ee&&(je=Ee=null,Pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mn||(mn=!0,d0(zn,function(){return yr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=ut.transition,ut.transition=null;var i=te;te=1;var o=J;J|=4,xc.current=null,yg(e,r),t0(r,e),Vh(qi),Hn=!!Vi,qi=Vi=null,e.current=r,vg(r),Kp(),J=o,te=i,ut.transition=l}else e.current=r;if(mn&&(mn=!1,ss=e,nl=n),l=e.pendingLanes,l===0&&(cs=null),Xp(r.stateNode),Ye(e,fe()),s!==null)for(a=e.onRecoverableError,r=0;r<s.length;r++)n=s[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(al)throw al=!1,e=mo,mo=null,e;return nl&1&&e.tag!==0&&yr(),l=e.pendingLanes,l&1?e===xo?xa++:(xa=0,xo=e):xa=0,vs(),null}function yr(){if(ss!==null){var e=zm(nl),s=ut.transition,r=te;try{if(ut.transition=null,te=16>e?16:e,ss===null)var a=!1;else{if(e=ss,ss=null,nl=0,J&6)throw Error(D(331));var n=J;for(J|=4,B=e.current;B!==null;){var l=B,i=l.child;if(B.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(B=d;B!==null;){var u=B;switch(u.tag){case 0:case 11:case 15:ua(8,u,l)}var x=u.child;if(x!==null)x.return=u,B=x;else for(;B!==null;){u=B;var v=u.sibling,b=u.return;if(Xx(u),u===d){B=null;break}if(v!==null){v.return=b,B=v;break}B=b}}}var h=l.alternate;if(h!==null){var p=h.child;if(p!==null){h.child=null;do{var N=p.sibling;p.sibling=null,p=N}while(p!==null)}}B=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,B=i;else e:for(;B!==null;){if(l=B,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ua(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,B=m;break e}B=l.return}}var f=e.current;for(B=f;B!==null;){i=B;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,B=g;else e:for(i=f;B!==null;){if(o=B,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Nl(9,o)}}catch(C){he(o,o.return,C)}if(o===i){B=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,B=k;break e}B=o.return}}if(J=n,vs(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(pl,e)}catch{}a=!0}return a}finally{te=r,ut.transition=s}}return!1}function hu(e,s,r){s=Cr(r,s),s=zx(e,s,1),e=os(e,s,1),s=Ue(),e!==null&&($a(e,1,s),Ye(e,s))}function he(e,s,r){if(e.tag===3)hu(e,e,r);else for(;s!==null;){if(s.tag===3){hu(s,e,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(cs===null||!cs.has(a))){e=Cr(r,e),e=Bx(s,e,1),s=os(s,e,1),e=Ue(),s!==null&&($a(s,1,e),Ye(s,e));break}}s=s.return}}function Sg(e,s,r){var a=e.pingCache;a!==null&&a.delete(s),s=Ue(),e.pingedLanes|=e.suspendedLanes&r,Ee===e&&(Pe&r)===r&&(Se===4||Se===3&&(Pe&130023424)===Pe&&500>fe()-hc?Ts(e,0):pc|=r),Ye(e,s)}function o0(e,s){s===0&&(e.mode&1?(s=tn,tn<<=1,!(tn&130023424)&&(tn=4194304)):s=1);var r=Ue();e=Vt(e,s),e!==null&&($a(e,s,r),Ye(e,r))}function _g(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),o0(e,r)}function Cg(e,s){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(D(314))}a!==null&&a.delete(s),o0(e,r)}var c0;c0=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||Ke.current)Qe=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return Qe=!1,pg(e,s,r);Qe=!!(e.flags&131072)}else Qe=!1,ue&&s.flags&1048576&&xx(s,Jn,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;En(e,s),e=s.pendingProps;var n=wr(s,Fe.current);fr(s,r),n=oc(null,s,a,e,n,r);var l=cc();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Je(a)?(l=!0,Qn(s)):l=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,rc(s),n.updater=jl,s.stateNode=n,n._reactInternals=s,eo(s,a,e,r),s=ro(null,s,a,!0,l,r)):(s.tag=0,ue&&l&&Jo(s),$e(null,s,n,r),s=s.child),s;case 16:a=s.elementType;e:{switch(En(e,s),e=s.pendingProps,n=a._init,a=n(a._payload),s.type=a,n=s.tag=Ag(a),e=ht(a,e),n){case 0:s=so(null,s,a,e,r);break e;case 1:s=nu(null,s,a,e,r);break e;case 11:s=ru(null,s,a,e,r);break e;case 14:s=au(null,s,a,ht(a.type,e),r);break e}throw Error(D(306,a,""))}return s;case 0:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ht(a,n),so(e,s,a,n,r);case 1:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ht(a,n),nu(e,s,a,n,r);case 3:e:{if(Wx(s),e===null)throw Error(D(387));a=s.pendingProps,l=s.memoizedState,n=l.element,vx(e,s),Zn(s,a,null,r);var i=s.memoizedState;if(a=i.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){n=Cr(Error(D(423)),s),s=lu(e,s,a,r,n);break e}else if(a!==n){n=Cr(Error(D(424)),s),s=lu(e,s,a,r,n);break e}else for(tt=is(s.stateNode.containerInfo.firstChild),rt=s,ue=!0,ft=null,r=fx(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kr(),a===n){s=qt(e,s,r);break e}$e(e,s,a,r)}s=s.child}return s;case 5:return bx(s),e===null&&Yi(s),a=s.type,n=s.pendingProps,l=e!==null?e.memoizedProps:null,i=n.children,Wi(a,n)?i=null:l!==null&&Wi(a,l)&&(s.flags|=32),qx(e,s),$e(e,s,i,r),s.child;case 6:return e===null&&Yi(s),null;case 13:return Gx(e,s,r);case 4:return ac(s,s.stateNode.containerInfo),a=s.pendingProps,e===null?s.child=Sr(s,null,a,r):$e(e,s,a,r),s.child;case 11:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ht(a,n),ru(e,s,a,n,r);case 7:return $e(e,s,s.pendingProps,r),s.child;case 8:return $e(e,s,s.pendingProps.children,r),s.child;case 12:return $e(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,n=s.pendingProps,l=s.memoizedProps,i=n.value,re(Yn,a._currentValue),a._currentValue=i,l!==null)if(kt(l.value,i)){if(l.children===n.children&&!Ke.current){s=qt(e,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(l.tag===1){c=Ut(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Xi(l.return,r,s),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(D(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Xi(i,r,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}$e(e,s,n.children,r),s=s.child}return s;case 9:return n=s.type,a=s.pendingProps.children,fr(s,r),n=mt(n),a=a(n),s.flags|=1,$e(e,s,a,r),s.child;case 14:return a=s.type,n=ht(a,s.pendingProps),n=ht(a.type,n),au(e,s,a,n,r);case 15:return Hx(e,s,s.type,s.pendingProps,r);case 17:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:ht(a,n),En(e,s),s.tag=1,Je(a)?(e=!0,Qn(s)):e=!1,fr(s,r),Ux(s,a,n),eo(s,a,n,r),ro(null,s,a,!0,e,r);case 19:return Qx(e,s,r);case 22:return Vx(e,s,r)}throw Error(D(156,s.tag))};function d0(e,s){return Dm(e,s)}function Eg(e,s,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,s,r,a){return new Eg(e,s,r,a)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ag(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fo)return 11;if(e===$o)return 14}return 2}function us(e,s){var r=e.alternate;return r===null?(r=dt(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pn(e,s,r,a,n,l){var i=2;if(a=e,typeof e=="function")vc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case tr:return Ms(r.children,n,l,s);case Do:i=8,n|=8;break;case ki:return e=dt(12,r,s,n|2),e.elementType=ki,e.lanes=l,e;case Si:return e=dt(13,r,s,n),e.elementType=Si,e.lanes=l,e;case _i:return e=dt(19,r,s,n),e.elementType=_i,e.lanes=l,e;case bm:return kl(r,n,l,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ym:i=10;break e;case vm:i=9;break e;case Fo:i=11;break e;case $o:i=14;break e;case Yt:i=16,a=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return s=dt(i,r,s,n),s.elementType=e,s.type=a,s.lanes=l,s}function Ms(e,s,r,a){return e=dt(7,e,a,s),e.lanes=r,e}function kl(e,s,r,a){return e=dt(22,e,a,s),e.elementType=bm,e.lanes=r,e.stateNode={isHidden:!1},e}function ci(e,s,r){return e=dt(6,e,null,s),e.lanes=r,e}function di(e,s,r){return s=dt(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function Rg(e,s,r,a,n){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function bc(e,s,r,a,n,l,i,o,c){return e=new Rg(e,s,r,o,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=dt(3,null,null,s),e.current=l,l.stateNode=e,l.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(l),e}function Pg(e,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:er,key:a==null?null:""+a,children:e,containerInfo:s,implementation:r}}function u0(e){if(!e)return hs;e=e._reactInternals;e:{if(Qs(e)!==e||e.tag!==1)throw Error(D(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Je(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(Je(r))return ux(e,r,s)}return s}function m0(e,s,r,a,n,l,i,o,c){return e=bc(r,a,!0,e,n,l,i,o,c),e.context=u0(null),r=e.current,a=Ue(),n=ds(r),l=Ut(a,n),l.callback=s??null,os(r,l,n),e.current.lanes=n,$a(e,n,a),Ye(e,a),e}function Sl(e,s,r,a){var n=s.current,l=Ue(),i=ds(n);return r=u0(r),s.context===null?s.context=r:s.pendingContext=r,s=Ut(l,i),s.payload={element:e},a=a===void 0?null:a,a!==null&&(s.callback=a),e=os(n,s,i),e!==null&&(jt(e,n,i,l),Sn(e,n,i)),i}function il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gu(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function jc(e,s){gu(e,s),(e=e.alternate)&&gu(e,s)}function Lg(){return null}var x0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nc(e){this._internalRoot=e}_l.prototype.render=Nc.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(D(409));Sl(e,s,null,null)};_l.prototype.unmount=Nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Us(function(){Sl(null,e,null,null)}),s[Ht]=null}};function _l(e){this._internalRoot=e}_l.prototype.unstable_scheduleHydration=function(e){if(e){var s=Vm();e={blockedOn:null,target:e,priority:s};for(var r=0;r<Zt.length&&s!==0&&s<Zt[r].priority;r++);Zt.splice(r,0,e),r===0&&Wm(e)}};function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fu(){}function Tg(e,s,r,a,n){if(n){if(typeof a=="function"){var l=a;a=function(){var d=il(i);l.call(d)}}var i=m0(s,a,e,0,null,!1,!1,"",fu);return e._reactRootContainer=i,e[Ht]=i.current,Na(e.nodeType===8?e.parentNode:e),Us(),i}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var d=il(c);o.call(d)}}var c=bc(e,0,!1,null,null,!1,!1,"",fu);return e._reactRootContainer=c,e[Ht]=c.current,Na(e.nodeType===8?e.parentNode:e),Us(function(){Sl(s,c,r,a)}),c}function El(e,s,r,a,n){var l=r._reactRootContainer;if(l){var i=l;if(typeof n=="function"){var o=n;n=function(){var c=il(i);o.call(c)}}Sl(s,i,e,n)}else i=Tg(r,s,e,n,a);return il(i)}Bm=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=sa(s.pendingLanes);r!==0&&(Bo(s,r|1),Ye(s,fe()),!(J&6)&&(Er=fe()+500,vs()))}break;case 13:Us(function(){var a=Vt(e,1);if(a!==null){var n=Ue();jt(a,e,1,n)}}),jc(e,1)}};Ho=function(e){if(e.tag===13){var s=Vt(e,134217728);if(s!==null){var r=Ue();jt(s,e,134217728,r)}jc(e,134217728)}};Hm=function(e){if(e.tag===13){var s=ds(e),r=Vt(e,s);if(r!==null){var a=Ue();jt(r,e,s,a)}jc(e,s)}};Vm=function(){return te};qm=function(e,s){var r=te;try{return te=e,s()}finally{te=r}};Ii=function(e,s,r){switch(s){case"input":if(Ai(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==e&&a.form===e.form){var n=yl(a);if(!n)throw Error(D(90));Nm(a),Ai(a,n)}}}break;case"textarea":km(e,r);break;case"select":s=r.value,s!=null&&xr(e,!!r.multiple,s,!1)}};Pm=gc;Lm=Us;var Mg={usingClientEntryPoint:!1,Events:[za,nr,yl,Am,Rm,gc]},Jr={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Og={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Om(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||Lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xn.isDisabled&&xn.supportsFiber)try{pl=xn.inject(Og),Rt=xn}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg;lt.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wc(s))throw Error(D(200));return Pg(e,s,null,r)};lt.createRoot=function(e,s){if(!wc(e))throw Error(D(299));var r=!1,a="",n=x0;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=bc(e,1,!1,null,null,r,!1,a,n),e[Ht]=s.current,Na(e.nodeType===8?e.parentNode:e),new Nc(s)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Om(s),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return Us(e)};lt.hydrate=function(e,s,r){if(!Cl(s))throw Error(D(200));return El(null,e,s,!0,r)};lt.hydrateRoot=function(e,s,r){if(!wc(e))throw Error(D(405));var a=r!=null&&r.hydratedSources||null,n=!1,l="",i=x0;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),s=m0(s,null,e,1,r??null,n,!1,l,i),e[Ht]=s.current,Na(e),a)for(e=0;e<a.length;e++)r=a[e],n=r._getVersion,n=n(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,n]:s.mutableSourceEagerHydrationData.push(r,n);return new _l(s)};lt.render=function(e,s,r){if(!Cl(s))throw Error(D(200));return El(null,e,s,!1,r)};lt.unmountComponentAtNode=function(e){if(!Cl(e))throw Error(D(40));return e._reactRootContainer?(Us(function(){El(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};lt.unstable_batchedUpdates=gc;lt.unstable_renderSubtreeIntoContainer=function(e,s,r,a){if(!Cl(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return El(e,s,r,!1,a)};lt.version="18.3.1-next-f1338f8080-20240426";function p0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p0)}catch(e){console.error(e)}}p0(),pm.exports=lt;var Ig=pm.exports,yu=Ig;Ni.createRoot=yu.createRoot,Ni.hydrateRoot=yu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pa.apply(this,arguments)}var rs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rs||(rs={}));const vu="popstate";function Dg(e){e===void 0&&(e={});function s(a,n){let{pathname:l,search:i,hash:o}=a.location;return go("",{pathname:l,search:i,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:ol(n)}return $g(s,r,null,e)}function ye(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function kc(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Fg(){return Math.random().toString(36).substr(2,8)}function bu(e,s){return{usr:e.state,key:e.key,idx:s}}function go(e,s,r,a){return r===void 0&&(r=null),Pa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?Ir(s):s,{state:r,key:s&&s.key||a||Fg()})}function ol(e){let{pathname:s="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Ir(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(s.search=e.substr(a),e=e.substr(0,a)),e&&(s.pathname=e)}return s}function $g(e,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:l=!1}=a,i=n.history,o=rs.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Pa({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function x(){o=rs.Pop;let N=u(),m=N==null?null:N-d;d=N,c&&c({action:o,location:p.location,delta:m})}function v(N,m){o=rs.Push;let f=go(p.location,N,m);d=u()+1;let g=bu(f,d),k=p.createHref(f);try{i.pushState(g,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;n.location.assign(k)}l&&c&&c({action:o,location:p.location,delta:1})}function b(N,m){o=rs.Replace;let f=go(p.location,N,m);d=u();let g=bu(f,d),k=p.createHref(f);i.replaceState(g,"",k),l&&c&&c({action:o,location:p.location,delta:0})}function h(N){let m=n.location.origin!=="null"?n.location.origin:n.location.href,f=typeof N=="string"?N:ol(N);return f=f.replace(/ $/,"%20"),ye(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let p={get action(){return o},get location(){return e(n,i)},listen(N){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(vu,x),c=N,()=>{n.removeEventListener(vu,x),c=null}},createHref(N){return s(n,N)},createURL:h,encodeLocation(N){let m=h(N);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:v,replace:b,go(N){return i.go(N)}};return p}var ju;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ju||(ju={}));function Ug(e,s,r){return r===void 0&&(r="/"),zg(e,s,r)}function zg(e,s,r,a){let n=typeof s=="string"?Ir(s):s,l=Sc(n.pathname||"/",r);if(l==null)return null;let i=h0(e);Bg(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=ef(l);o=Yg(i[c],d)}return o}function h0(e,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(ye(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=ms([a,c.relativePath]),u=r.concat(c);l.children&&l.children.length>0&&(ye(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),h0(l.children,s,u,d)),!(l.path==null&&!l.index)&&s.push({path:d,score:Kg(d,l.index),routesMeta:u})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))n(l,i);else for(let c of g0(l.path))n(l,i,c)}),s}function g0(e){let s=e.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return n?[l,""]:[l];let i=g0(a.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),n&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Bg(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:Jg(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Hg=/^:[\w-]+$/,Vg=3,qg=2,Wg=1,Gg=10,Qg=-2,Nu=e=>e==="*";function Kg(e,s){let r=e.split("/"),a=r.length;return r.some(Nu)&&(a+=Qg),s&&(a+=qg),r.filter(n=>!Nu(n)).reduce((n,l)=>n+(Hg.test(l)?Vg:l===""?Wg:Gg),a)}function Jg(e,s){return e.length===s.length&&e.slice(0,-1).every((a,n)=>a===s[n])?e[e.length-1]-s[s.length-1]:0}function Yg(e,s,r){let{routesMeta:a}=e,n={},l="/",i=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,u=l==="/"?s:s.slice(l.length)||"/",x=Xg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),v=c.route;if(!x)return null;Object.assign(n,x.params),i.push({params:n,pathname:ms([l,x.pathname]),pathnameBase:nf(ms([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=ms([l,x.pathnameBase]))}return i}function Xg(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=Zg(e.path,e.caseSensitive,e.end),n=s.match(r);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,u,x)=>{let{paramName:v,isOptional:b}=u;if(v==="*"){let p=o[x]||"";i=l.slice(0,l.length-p.length).replace(/(.)\/+$/,"$1")}const h=o[x];return b&&!h?d[v]=void 0:d[v]=(h||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function Zg(e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),kc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function ef(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return kc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function Sc(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const tf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sf=e=>tf.test(e);function rf(e,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?Ir(e):e,l;if(r)if(sf(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),kc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?l=wu(r.substring(1),"/"):l=wu(r,s)}else l=s;return{pathname:l,search:lf(a),hash:of(n)}}function wu(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function ui(e,s,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function af(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function _c(e,s){let r=af(e);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Cc(e,s,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Ir(e):(n=Pa({},e),ye(!n.pathname||!n.pathname.includes("?"),ui("?","pathname","search",n)),ye(!n.pathname||!n.pathname.includes("#"),ui("#","pathname","hash",n)),ye(!n.search||!n.search.includes("#"),ui("#","search","hash",n)));let l=e===""||n.pathname==="",i=l?"/":n.pathname,o;if(i==null)o=r;else{let x=s.length-1;if(!a&&i.startsWith("..")){let v=i.split("/");for(;v[0]==="..";)v.shift(),x-=1;n.pathname=v.join("/")}o=x>=0?s[x]:"/"}let c=rf(n,o),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ms=e=>e.join("/").replace(/\/\/+/g,"/"),nf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lf=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,of=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const f0=["post","put","patch","delete"];new Set(f0);const df=["get",...f0];new Set(df);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},La.apply(this,arguments)}const Ec=y.createContext(null),uf=y.createContext(null),bs=y.createContext(null),Al=y.createContext(null),js=y.createContext({outlet:null,matches:[],isDataRoute:!1}),y0=y.createContext(null);function mf(e,s){let{relative:r}=s===void 0?{}:s;Dr()||ye(!1);let{basename:a,navigator:n}=y.useContext(bs),{hash:l,pathname:i,search:o}=b0(e,{relative:r}),c=i;return a!=="/"&&(c=i==="/"?a:ms([a,i])),n.createHref({pathname:c,search:o,hash:l})}function Dr(){return y.useContext(Al)!=null}function Ks(){return Dr()||ye(!1),y.useContext(Al).location}function v0(e){y.useContext(bs).static||y.useLayoutEffect(e)}function Js(){let{isDataRoute:e}=y.useContext(js);return e?Sf():xf()}function xf(){Dr()||ye(!1);let e=y.useContext(Ec),{basename:s,future:r,navigator:a}=y.useContext(bs),{matches:n}=y.useContext(js),{pathname:l}=Ks(),i=JSON.stringify(_c(n,r.v7_relativeSplatPath)),o=y.useRef(!1);return v0(()=>{o.current=!0}),y.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){a.go(d);return}let x=Cc(d,JSON.parse(i),l,u.relative==="path");e==null&&s!=="/"&&(x.pathname=x.pathname==="/"?s:ms([s,x.pathname])),(u.replace?a.replace:a.push)(x,u.state,u)},[s,a,i,l,e])}function b0(e,s){let{relative:r}=s===void 0?{}:s,{future:a}=y.useContext(bs),{matches:n}=y.useContext(js),{pathname:l}=Ks(),i=JSON.stringify(_c(n,a.v7_relativeSplatPath));return y.useMemo(()=>Cc(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function pf(e,s){return hf(e,s)}function hf(e,s,r,a){Dr()||ye(!1);let{navigator:n}=y.useContext(bs),{matches:l}=y.useContext(js),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Ks(),u;if(s){var x;let N=typeof s=="string"?Ir(s):s;c==="/"||(x=N.pathname)!=null&&x.startsWith(c)||ye(!1),u=N}else u=d;let v=u.pathname||"/",b=v;if(c!=="/"){let N=c.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let h=Ug(e,{pathname:b}),p=bf(h&&h.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:ms([c,n.encodeLocation?n.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:ms([c,n.encodeLocation?n.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,r,a);return s&&p?y.createElement(Al.Provider,{value:{location:La({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:rs.Pop}},p):p}function gf(){let e=kf(),s=cf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},s),r?y.createElement("pre",{style:n},r):null,null)}const ff=y.createElement(gf,null);class yf extends y.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?y.createElement(js.Provider,{value:this.props.routeContext},y.createElement(y0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vf(e){let{routeContext:s,match:r,children:a}=e,n=y.useContext(Ec);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(js.Provider,{value:s},a)}function bf(e,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=a)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(n=r)==null?void 0:n.errors;if(o!=null){let u=i.findIndex(x=>x.route.id&&(o==null?void 0:o[x.route.id])!==void 0);u>=0||ye(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let u=0;u<i.length;u++){let x=i[u];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(d=u),x.route.id){let{loaderData:v,errors:b}=r,h=x.route.loader&&v[x.route.id]===void 0&&(!b||b[x.route.id]===void 0);if(x.route.lazy||h){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,x,v)=>{let b,h=!1,p=null,N=null;r&&(b=o&&x.route.id?o[x.route.id]:void 0,p=x.route.errorElement||ff,c&&(d<0&&v===0?(_f("route-fallback"),h=!0,N=null):d===v&&(h=!0,N=x.route.hydrateFallbackElement||null)));let m=s.concat(i.slice(0,v+1)),f=()=>{let g;return b?g=p:h?g=N:x.route.Component?g=y.createElement(x.route.Component,null):x.route.element?g=x.route.element:g=u,y.createElement(vf,{match:x,routeContext:{outlet:u,matches:m,isDataRoute:r!=null},children:g})};return r&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?y.createElement(yf,{location:r.location,revalidation:r.revalidation,component:p,error:b,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var j0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(j0||{}),N0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(N0||{});function jf(e){let s=y.useContext(Ec);return s||ye(!1),s}function Nf(e){let s=y.useContext(uf);return s||ye(!1),s}function wf(e){let s=y.useContext(js);return s||ye(!1),s}function w0(e){let s=wf(),r=s.matches[s.matches.length-1];return r.route.id||ye(!1),r.route.id}function kf(){var e;let s=y.useContext(y0),r=Nf(),a=w0();return s!==void 0?s:(e=r.errors)==null?void 0:e[a]}function Sf(){let{router:e}=jf(j0.UseNavigateStable),s=w0(N0.UseNavigateStable),r=y.useRef(!1);return v0(()=>{r.current=!0}),y.useCallback(function(n,l){l===void 0&&(l={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,La({fromRouteId:s},l)))},[e,s])}const ku={};function _f(e,s,r){ku[e]||(ku[e]=!0)}function Cf(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fo(e){let{to:s,replace:r,state:a,relative:n}=e;Dr()||ye(!1);let{future:l,static:i}=y.useContext(bs),{matches:o}=y.useContext(js),{pathname:c}=Ks(),d=Js(),u=Cc(s,_c(o,l.v7_relativeSplatPath),c,n==="path"),x=JSON.stringify(u);return y.useEffect(()=>d(JSON.parse(x),{replace:r,state:a,relative:n}),[d,x,n,r,a]),null}function Z(e){ye(!1)}function Ef(e){let{basename:s="/",children:r=null,location:a,navigationType:n=rs.Pop,navigator:l,static:i=!1,future:o}=e;Dr()&&ye(!1);let c=s.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:l,static:i,future:La({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof a=="string"&&(a=Ir(a));let{pathname:u="/",search:x="",hash:v="",state:b=null,key:h="default"}=a,p=y.useMemo(()=>{let N=Sc(u,c);return N==null?null:{location:{pathname:N,search:x,hash:v,state:b,key:h},navigationType:n}},[c,u,x,v,b,h,n]);return p==null?null:y.createElement(bs.Provider,{value:d},y.createElement(Al.Provider,{children:r,value:p}))}function Af(e){let{children:s,location:r}=e;return pf(yo(s),r)}new Promise(()=>{});function yo(e,s){s===void 0&&(s=[]);let r=[];return y.Children.forEach(e,(a,n)=>{if(!y.isValidElement(a))return;let l=[...s,n];if(a.type===y.Fragment){r.push.apply(r,yo(a.props.children,l));return}a.type!==Z&&ye(!1),!a.props.index||!a.props.children||ye(!1);let i={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=yo(a.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vo.apply(this,arguments)}function Rf(e,s){if(e==null)return{};var r={},a=Object.keys(e),n,l;for(l=0;l<a.length;l++)n=a[l],!(s.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Pf(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Lf(e,s){return e.button===0&&(!s||s==="_self")&&!Pf(e)}function bo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let a=e[r];return s.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function Tf(e,s){let r=bo(e);return s&&s.forEach((a,n)=>{r.has(n)||s.getAll(n).forEach(l=>{r.append(n,l)})}),r}const Mf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Of="6";try{window.__reactRouterVersion=Of}catch{}const If="startTransition",Su=Sp[If];function Df(e){let{basename:s,children:r,future:a,window:n}=e,l=y.useRef();l.current==null&&(l.current=Dg({window:n,v5Compat:!0}));let i=l.current,[o,c]=y.useState({action:i.action,location:i.location}),{v7_startTransition:d}=a||{},u=y.useCallback(x=>{d&&Su?Su(()=>c(x)):c(x)},[c,d]);return y.useLayoutEffect(()=>i.listen(u),[i,u]),y.useEffect(()=>Cf(a),[a]),y.createElement(Ef,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:i,future:a})}const Ff=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$f=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=y.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:x}=s,v=Rf(s,Mf),{basename:b}=y.useContext(bs),h,p=!1;if(typeof d=="string"&&$f.test(d)&&(h=d,Ff))try{let g=new URL(window.location.href),k=d.startsWith("//")?new URL(g.protocol+d):new URL(d),C=Sc(k.pathname,b);k.origin===g.origin&&C!=null?d=C+k.search+k.hash:p=!0}catch{}let N=mf(d,{relative:n}),m=Uf(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:n,viewTransition:x});function f(g){a&&a(g),g.defaultPrevented||m(g)}return y.createElement("a",vo({},v,{href:h||N,onClick:p||l?a:f,ref:r,target:c}))});var _u;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_u||(_u={}));var Cu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cu||(Cu={}));function Uf(e,s){let{target:r,replace:a,state:n,preventScrollReset:l,relative:i,viewTransition:o}=s===void 0?{}:s,c=Js(),d=Ks(),u=b0(e,{relative:i});return y.useCallback(x=>{if(Lf(x,r)){x.preventDefault();let v=a!==void 0?a:ol(d)===ol(u);c(e,{replace:v,state:n,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,a,n,r,e,l,i,o])}function k0(e){let s=y.useRef(bo(e)),r=y.useRef(!1),a=Ks(),n=y.useMemo(()=>Tf(a.search,r.current?null:s.current),[a.search]),l=Js(),i=y.useCallback((o,c)=>{const d=bo(typeof o=="function"?o(n):o);r.current=!0,l("?"+d,c)},[l,n]);return[n,i]}function S0(e,s){return function(){return e.apply(s,arguments)}}const{toString:zf}=Object.prototype,{getPrototypeOf:Ac}=Object,{iterator:Rl,toStringTag:_0}=Symbol,Pl=(e=>s=>{const r=zf.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),St=e=>(e=e.toLowerCase(),s=>Pl(s)===e),Ll=e=>s=>typeof s===e,{isArray:Fr}=Array,Ar=Ll("undefined");function Ha(e){return e!==null&&!Ar(e)&&e.constructor!==null&&!Ar(e.constructor)&&Xe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const C0=St("ArrayBuffer");function Bf(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&C0(e.buffer),s}const Hf=Ll("string"),Xe=Ll("function"),E0=Ll("number"),Va=e=>e!==null&&typeof e=="object",Vf=e=>e===!0||e===!1,Ln=e=>{if(Pl(e)!=="object")return!1;const s=Ac(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(_0 in e)&&!(Rl in e)},qf=e=>{if(!Va(e)||Ha(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Wf=St("Date"),Gf=St("File"),Qf=St("Blob"),Kf=St("FileList"),Jf=e=>Va(e)&&Xe(e.pipe),Yf=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||Xe(e.append)&&((s=Pl(e))==="formdata"||s==="object"&&Xe(e.toString)&&e.toString()==="[object FormData]"))},Xf=St("URLSearchParams"),[Zf,ey,ty,sy]=["ReadableStream","Request","Response","Headers"].map(St),ry=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qa(e,s,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),Fr(e))for(a=0,n=e.length;a<n;a++)s.call(null,e[a],a,e);else{if(Ha(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(a=0;a<i;a++)o=l[a],s.call(null,e[o],o,e)}}function A0(e,s){if(Ha(e))return null;s=s.toLowerCase();const r=Object.keys(e);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Ps=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,R0=e=>!Ar(e)&&e!==Ps;function jo(){const{caseless:e,skipUndefined:s}=R0(this)&&this||{},r={},a=(n,l)=>{const i=e&&A0(r,l)||l;Ln(r[i])&&Ln(n)?r[i]=jo(r[i],n):Ln(n)?r[i]=jo({},n):Fr(n)?r[i]=n.slice():(!s||!Ar(n))&&(r[i]=n)};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&qa(arguments[n],a);return r}const ay=(e,s,r,{allOwnKeys:a}={})=>(qa(s,(n,l)=>{r&&Xe(n)?e[l]=S0(n,r):e[l]=n},{allOwnKeys:a}),e),ny=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ly=(e,s,r,a)=>{e.prototype=Object.create(s.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),r&&Object.assign(e.prototype,r)},iy=(e,s,r,a)=>{let n,l,i;const o={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),l=n.length;l-- >0;)i=n[l],(!a||a(i,e,s))&&!o[i]&&(s[i]=e[i],o[i]=!0);e=r!==!1&&Ac(e)}while(e&&(!r||r(e,s))&&e!==Object.prototype);return s},oy=(e,s,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=s.length;const a=e.indexOf(s,r);return a!==-1&&a===r},cy=e=>{if(!e)return null;if(Fr(e))return e;let s=e.length;if(!E0(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=e[s];return r},dy=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Ac(Uint8Array)),uy=(e,s)=>{const a=(e&&e[Rl]).call(e);let n;for(;(n=a.next())&&!n.done;){const l=n.value;s.call(e,l[0],l[1])}},my=(e,s)=>{let r;const a=[];for(;(r=e.exec(s))!==null;)a.push(r);return a},xy=St("HTMLFormElement"),py=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Eu=(({hasOwnProperty:e})=>(s,r)=>e.call(s,r))(Object.prototype),hy=St("RegExp"),P0=(e,s)=>{const r=Object.getOwnPropertyDescriptors(e),a={};qa(r,(n,l)=>{let i;(i=s(n,l,e))!==!1&&(a[l]=i||n)}),Object.defineProperties(e,a)},gy=e=>{P0(e,(s,r)=>{if(Xe(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Xe(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},fy=(e,s)=>{const r={},a=n=>{n.forEach(l=>{r[l]=!0})};return Fr(e)?a(e):a(String(e).split(s)),r},yy=()=>{},vy=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function by(e){return!!(e&&Xe(e.append)&&e[_0]==="FormData"&&e[Rl])}const jy=e=>{const s=new Array(10),r=(a,n)=>{if(Va(a)){if(s.indexOf(a)>=0)return;if(Ha(a))return a;if(!("toJSON"in a)){s[n]=a;const l=Fr(a)?[]:{};return qa(a,(i,o)=>{const c=r(i,n+1);!Ar(c)&&(l[o]=c)}),s[n]=void 0,l}}return a};return r(e,0)},Ny=St("AsyncFunction"),wy=e=>e&&(Va(e)||Xe(e))&&Xe(e.then)&&Xe(e.catch),L0=((e,s)=>e?setImmediate:s?((r,a)=>(Ps.addEventListener("message",({source:n,data:l})=>{n===Ps&&l===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Ps.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xe(Ps.postMessage)),ky=typeof queueMicrotask<"u"?queueMicrotask.bind(Ps):typeof process<"u"&&process.nextTick||L0,Sy=e=>e!=null&&Xe(e[Rl]),P={isArray:Fr,isArrayBuffer:C0,isBuffer:Ha,isFormData:Yf,isArrayBufferView:Bf,isString:Hf,isNumber:E0,isBoolean:Vf,isObject:Va,isPlainObject:Ln,isEmptyObject:qf,isReadableStream:Zf,isRequest:ey,isResponse:ty,isHeaders:sy,isUndefined:Ar,isDate:Wf,isFile:Gf,isBlob:Qf,isRegExp:hy,isFunction:Xe,isStream:Jf,isURLSearchParams:Xf,isTypedArray:dy,isFileList:Kf,forEach:qa,merge:jo,extend:ay,trim:ry,stripBOM:ny,inherits:ly,toFlatObject:iy,kindOf:Pl,kindOfTest:St,endsWith:oy,toArray:cy,forEachEntry:uy,matchAll:my,isHTMLForm:xy,hasOwnProperty:Eu,hasOwnProp:Eu,reduceDescriptors:P0,freezeMethods:gy,toObjectSet:fy,toCamelCase:py,noop:yy,toFiniteNumber:vy,findKey:A0,global:Ps,isContextDefined:R0,isSpecCompliantForm:by,toJSONObject:jy,isAsyncFn:Ny,isThenable:wy,setImmediate:L0,asap:ky,isIterable:Sy};function q(e,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}P.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const T0=q.prototype,M0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{M0[e]={value:e}});Object.defineProperties(q,M0);Object.defineProperty(T0,"isAxiosError",{value:!0});q.from=(e,s,r,a,n,l)=>{const i=Object.create(T0);P.toFlatObject(e,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=s==null&&e?e.code:s;return q.call(i,o,c,r,a,n),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const _y=null;function No(e){return P.isPlainObject(e)||P.isArray(e)}function O0(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function Au(e,s,r){return e?e.concat(s).map(function(n,l){return n=O0(n),!r&&l?"["+n+"]":n}).join(r?".":""):s}function Cy(e){return P.isArray(e)&&!e.some(No)}const Ey=P.toFlatObject(P,{},null,function(s){return/^is[A-Z]/.test(s)});function Tl(e,s,r){if(!P.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,r=P.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,N){return!P.isUndefined(N[p])});const a=r.metaTokens,n=r.visitor||u,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(s);if(!P.isFunction(n))throw new TypeError("visitor must be a function");function d(h){if(h===null)return"";if(P.isDate(h))return h.toISOString();if(P.isBoolean(h))return h.toString();if(!c&&P.isBlob(h))throw new q("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(h)||P.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,p,N){let m=h;if(h&&!N&&typeof h=="object"){if(P.endsWith(p,"{}"))p=a?p:p.slice(0,-2),h=JSON.stringify(h);else if(P.isArray(h)&&Cy(h)||(P.isFileList(h)||P.endsWith(p,"[]"))&&(m=P.toArray(h)))return p=O0(p),m.forEach(function(g,k){!(P.isUndefined(g)||g===null)&&s.append(i===!0?Au([p],k,l):i===null?p:p+"[]",d(g))}),!1}return No(h)?!0:(s.append(Au(N,p,l),d(h)),!1)}const x=[],v=Object.assign(Ey,{defaultVisitor:u,convertValue:d,isVisitable:No});function b(h,p){if(!P.isUndefined(h)){if(x.indexOf(h)!==-1)throw Error("Circular reference detected in "+p.join("."));x.push(h),P.forEach(h,function(m,f){(!(P.isUndefined(m)||m===null)&&n.call(s,m,P.isString(f)?f.trim():f,p,v))===!0&&b(m,p?p.concat(f):[f])}),x.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return b(e),s}function Ru(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Rc(e,s){this._pairs=[],e&&Tl(e,this,s)}const I0=Rc.prototype;I0.append=function(s,r){this._pairs.push([s,r])};I0.toString=function(s){const r=s?function(a){return s.call(this,a,Ru)}:Ru;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Ay(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function D0(e,s,r){if(!s)return e;const a=r&&r.encode||Ay;P.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let l;if(n?l=n(s,r):l=P.isURLSearchParams(s)?s.toString():new Rc(s,r).toString(a),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Pu{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){P.forEach(this.handlers,function(a){a!==null&&s(a)})}}const F0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ry=typeof URLSearchParams<"u"?URLSearchParams:Rc,Py=typeof FormData<"u"?FormData:null,Ly=typeof Blob<"u"?Blob:null,Ty={isBrowser:!0,classes:{URLSearchParams:Ry,FormData:Py,Blob:Ly},protocols:["http","https","file","blob","url","data"]},Pc=typeof window<"u"&&typeof document<"u",wo=typeof navigator=="object"&&navigator||void 0,My=Pc&&(!wo||["ReactNative","NativeScript","NS"].indexOf(wo.product)<0),Oy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Iy=Pc&&window.location.href||"http://localhost",Dy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pc,hasStandardBrowserEnv:My,hasStandardBrowserWebWorkerEnv:Oy,navigator:wo,origin:Iy},Symbol.toStringTag,{value:"Module"})),De={...Dy,...Ty};function Fy(e,s){return Tl(e,new De.classes.URLSearchParams,{visitor:function(r,a,n,l){return De.isNode&&P.isBuffer(r)?(this.append(a,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...s})}function $y(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Uy(e){const s={},r=Object.keys(e);let a;const n=r.length;let l;for(a=0;a<n;a++)l=r[a],s[l]=e[l];return s}function $0(e){function s(r,a,n,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&P.isArray(n)?n.length:i,c?(P.hasOwnProp(n,i)?n[i]=[n[i],a]:n[i]=a,!o):((!n[i]||!P.isObject(n[i]))&&(n[i]=[]),s(r,a,n[i],l)&&P.isArray(n[i])&&(n[i]=Uy(n[i])),!o)}if(P.isFormData(e)&&P.isFunction(e.entries)){const r={};return P.forEachEntry(e,(a,n)=>{s($y(a),n,r,0)}),r}return null}function zy(e,s,r){if(P.isString(e))try{return(s||JSON.parse)(e),P.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Wa={transitional:F0,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,l=P.isObject(s);if(l&&P.isHTMLForm(s)&&(s=new FormData(s)),P.isFormData(s))return n?JSON.stringify($0(s)):s;if(P.isArrayBuffer(s)||P.isBuffer(s)||P.isStream(s)||P.isFile(s)||P.isBlob(s)||P.isReadableStream(s))return s;if(P.isArrayBufferView(s))return s.buffer;if(P.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Fy(s,this.formSerializer).toString();if((o=P.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Tl(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return l||n?(r.setContentType("application/json",!1),zy(s)):s}],transformResponse:[function(s){const r=this.transitional||Wa.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(P.isResponse(s)||P.isReadableStream(s))return s;if(s&&P.isString(s)&&(a&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?q.from(o,q.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:De.classes.FormData,Blob:De.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{Wa.headers[e]={}});const By=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hy=e=>{const s={};let r,a,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),a=i.substring(n+1).trim(),!(!r||s[r]&&By[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Lu=Symbol("internals");function Yr(e){return e&&String(e).trim().toLowerCase()}function Tn(e){return e===!1||e==null?e:P.isArray(e)?e.map(Tn):String(e)}function Vy(e){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)s[a[1]]=a[2];return s}const qy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function mi(e,s,r,a,n){if(P.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!P.isString(s)){if(P.isString(a))return s.indexOf(a)!==-1;if(P.isRegExp(a))return a.test(s)}}function Wy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function Gy(e,s){const r=P.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(n,l,i){return this[a].call(this,s,n,l,i)},configurable:!0})})}let Ze=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function l(o,c,d){const u=Yr(c);if(!u)throw new Error("header name must be a non-empty string");const x=P.findKey(n,u);(!x||n[x]===void 0||d===!0||d===void 0&&n[x]!==!1)&&(n[x||c]=Tn(o))}const i=(o,c)=>P.forEach(o,(d,u)=>l(d,u,c));if(P.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(P.isString(s)&&(s=s.trim())&&!qy(s))i(Hy(s),r);else if(P.isObject(s)&&P.isIterable(s)){let o={},c,d;for(const u of s){if(!P.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?P.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(o,r)}else s!=null&&l(r,s,a);return this}get(s,r){if(s=Yr(s),s){const a=P.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return Vy(n);if(P.isFunction(r))return r.call(this,n,a);if(P.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Yr(s),s){const a=P.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||mi(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function l(i){if(i=Yr(i),i){const o=P.findKey(a,i);o&&(!r||mi(a,a[o],o,r))&&(delete a[o],n=!0)}}return P.isArray(s)?s.forEach(l):l(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const l=r[a];(!s||mi(this,this[l],l,s,!0))&&(delete this[l],n=!0)}return n}normalize(s){const r=this,a={};return P.forEach(this,(n,l)=>{const i=P.findKey(a,l);if(i){r[i]=Tn(n),delete r[l];return}const o=s?Wy(l):String(l).trim();o!==l&&delete r[l],r[o]=Tn(n),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return P.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&P.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Lu]=this[Lu]={accessors:{}}).accessors,n=this.prototype;function l(i){const o=Yr(i);a[o]||(Gy(n,i),a[o]=!0)}return P.isArray(s)?s.forEach(l):l(s),this}};Ze.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Ze.prototype,({value:e},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(a){this[r]=a}}});P.freezeMethods(Ze);function xi(e,s){const r=this||Wa,a=s||r,n=Ze.from(a.headers);let l=a.data;return P.forEach(e,function(o){l=o.call(r,l,n.normalize(),s?s.status:void 0)}),n.normalize(),l}function U0(e){return!!(e&&e.__CANCEL__)}function $r(e,s,r){q.call(this,e??"canceled",q.ERR_CANCELED,s,r),this.name="CanceledError"}P.inherits($r,q,{__CANCEL__:!0});function z0(e,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):s(new q("Request failed with status code "+r.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Qy(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function Ky(e,s){e=e||10;const r=new Array(e),a=new Array(e);let n=0,l=0,i;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),u=a[l];i||(i=d),r[n]=c,a[n]=d;let x=l,v=0;for(;x!==n;)v+=r[x++],x=x%e;if(n=(n+1)%e,n===l&&(l=(l+1)%e),d-i<s)return;const b=u&&d-u;return b?Math.round(v*1e3/b):void 0}}function Jy(e,s){let r=0,a=1e3/s,n,l;const i=(d,u=Date.now())=>{r=u,n=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const u=Date.now(),x=u-r;x>=a?i(d,u):(n=d,l||(l=setTimeout(()=>{l=null,i(n)},a-x)))},()=>n&&i(n)]}const cl=(e,s,r=3)=>{let a=0;const n=Ky(50,250);return Jy(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-a,d=n(c),u=i<=o;a=i;const x={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[s?"download":"upload"]:!0};e(x)},r)},Tu=(e,s)=>{const r=e!=null;return[a=>s[0]({lengthComputable:r,total:e,loaded:a}),s[1]]},Mu=e=>(...s)=>P.asap(()=>e(...s)),Yy=De.hasStandardBrowserEnv?((e,s)=>r=>(r=new URL(r,De.origin),e.protocol===r.protocol&&e.host===r.host&&(s||e.port===r.port)))(new URL(De.origin),De.navigator&&/(msie|trident)/i.test(De.navigator.userAgent)):()=>!0,Xy=De.hasStandardBrowserEnv?{write(e,s,r,a,n,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(s)}`];P.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),P.isString(a)&&o.push(`path=${a}`),P.isString(n)&&o.push(`domain=${n}`),l===!0&&o.push("secure"),P.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Zy(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ev(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function B0(e,s,r){let a=!Zy(s);return e&&(a||r==!1)?ev(e,s):s}const Ou=e=>e instanceof Ze?{...e}:e;function zs(e,s){s=s||{};const r={};function a(d,u,x,v){return P.isPlainObject(d)&&P.isPlainObject(u)?P.merge.call({caseless:v},d,u):P.isPlainObject(u)?P.merge({},u):P.isArray(u)?u.slice():u}function n(d,u,x,v){if(P.isUndefined(u)){if(!P.isUndefined(d))return a(void 0,d,x,v)}else return a(d,u,x,v)}function l(d,u){if(!P.isUndefined(u))return a(void 0,u)}function i(d,u){if(P.isUndefined(u)){if(!P.isUndefined(d))return a(void 0,d)}else return a(void 0,u)}function o(d,u,x){if(x in s)return a(d,u);if(x in e)return a(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,u,x)=>n(Ou(d),Ou(u),x,!0)};return P.forEach(Object.keys({...e,...s}),function(u){const x=c[u]||n,v=x(e[u],s[u],u);P.isUndefined(v)&&x!==o||(r[u]=v)}),r}const H0=e=>{const s=zs({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:l,headers:i,auth:o}=s;if(s.headers=i=Ze.from(i),s.url=D0(B0(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),P.isFormData(r)){if(De.hasStandardBrowserEnv||De.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(P.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,x])=>{d.includes(u.toLowerCase())&&i.set(u,x)})}}if(De.hasStandardBrowserEnv&&(a&&P.isFunction(a)&&(a=a(s)),a||a!==!1&&Yy(s.url))){const c=n&&l&&Xy.read(l);c&&i.set(n,c)}return s},tv=typeof XMLHttpRequest<"u",sv=tv&&function(e){return new Promise(function(r,a){const n=H0(e);let l=n.data;const i=Ze.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,u,x,v,b,h;function p(){b&&b(),h&&h(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let N=new XMLHttpRequest;N.open(n.method.toUpperCase(),n.url,!0),N.timeout=n.timeout;function m(){if(!N)return;const g=Ze.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:g,config:e,request:N};z0(function(j){r(j),p()},function(j){a(j),p()},C),N=null}"onloadend"in N?N.onloadend=m:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(m)},N.onabort=function(){N&&(a(new q("Request aborted",q.ECONNABORTED,e,N)),N=null)},N.onerror=function(k){const C=k&&k.message?k.message:"Network Error",E=new q(C,q.ERR_NETWORK,e,N);E.event=k||null,a(E),N=null},N.ontimeout=function(){let k=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const C=n.transitional||F0;n.timeoutErrorMessage&&(k=n.timeoutErrorMessage),a(new q(k,C.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,e,N)),N=null},l===void 0&&i.setContentType(null),"setRequestHeader"in N&&P.forEach(i.toJSON(),function(k,C){N.setRequestHeader(C,k)}),P.isUndefined(n.withCredentials)||(N.withCredentials=!!n.withCredentials),o&&o!=="json"&&(N.responseType=n.responseType),d&&([v,h]=cl(d,!0),N.addEventListener("progress",v)),c&&N.upload&&([x,b]=cl(c),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",b)),(n.cancelToken||n.signal)&&(u=g=>{N&&(a(!g||g.type?new $r(null,e,N):g),N.abort(),N=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const f=Qy(n.url);if(f&&De.protocols.indexOf(f)===-1){a(new q("Unsupported protocol "+f+":",q.ERR_BAD_REQUEST,e));return}N.send(l||null)})},rv=(e,s)=>{const{length:r}=e=e?e.filter(Boolean):[];if(s||r){let a=new AbortController,n;const l=function(d){if(!n){n=!0,o();const u=d instanceof Error?d:this.reason;a.abort(u instanceof q?u:new $r(u instanceof Error?u.message:u))}};let i=s&&setTimeout(()=>{i=null,l(new q(`timeout ${s} of ms exceeded`,q.ETIMEDOUT))},s);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=a;return c.unsubscribe=()=>P.asap(o),c}},av=function*(e,s){let r=e.byteLength;if(r<s){yield e;return}let a=0,n;for(;a<r;)n=a+s,yield e.slice(a,n),a=n},nv=async function*(e,s){for await(const r of lv(e))yield*av(r,s)},lv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},Iu=(e,s,r,a)=>{const n=nv(e,s);let l=0,i,o=c=>{i||(i=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){o(),c.close();return}let x=u.byteLength;if(r){let v=l+=x;r(v)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},Du=64*1024,{isFunction:pn}=P,iv=(({Request:e,Response:s})=>({Request:e,Response:s}))(P.global),{ReadableStream:Fu,TextEncoder:$u}=P.global,Uu=(e,...s)=>{try{return!!e(...s)}catch{return!1}},ov=e=>{e=P.merge.call({skipUndefined:!0},iv,e);const{fetch:s,Request:r,Response:a}=e,n=s?pn(s):typeof fetch=="function",l=pn(r),i=pn(a);if(!n)return!1;const o=n&&pn(Fu),c=n&&(typeof $u=="function"?(h=>p=>h.encode(p))(new $u):async h=>new Uint8Array(await new r(h).arrayBuffer())),d=l&&o&&Uu(()=>{let h=!1;const p=new r(De.origin,{body:new Fu,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!p}),u=i&&o&&Uu(()=>P.isReadableStream(new a("").body)),x={stream:u&&(h=>h.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!x[h]&&(x[h]=(p,N)=>{let m=p&&p[h];if(m)return m.call(p);throw new q(`Response type '${h}' is not supported`,q.ERR_NOT_SUPPORT,N)})});const v=async h=>{if(h==null)return 0;if(P.isBlob(h))return h.size;if(P.isSpecCompliantForm(h))return(await new r(De.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(P.isArrayBufferView(h)||P.isArrayBuffer(h))return h.byteLength;if(P.isURLSearchParams(h)&&(h=h+""),P.isString(h))return(await c(h)).byteLength},b=async(h,p)=>{const N=P.toFiniteNumber(h.getContentLength());return N??v(p)};return async h=>{let{url:p,method:N,data:m,signal:f,cancelToken:g,timeout:k,onDownloadProgress:C,onUploadProgress:E,responseType:j,headers:w,withCredentials:_="same-origin",fetchOptions:A}=H0(h),S=s||fetch;j=j?(j+"").toLowerCase():"text";let U=rv([f,g&&g.toAbortSignal()],k),R=null;const T=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let V;try{if(E&&d&&N!=="get"&&N!=="head"&&(V=await b(w,m))!==0){let z=new r(p,{method:"POST",body:m,duplex:"half"}),H;if(P.isFormData(m)&&(H=z.headers.get("content-type"))&&w.setContentType(H),z.body){const[ee,ne]=Tu(V,cl(Mu(E)));m=Iu(z.body,Du,ee,ne)}}P.isString(_)||(_=_?"include":"omit");const K=l&&"credentials"in r.prototype,se={...A,signal:U,method:N.toUpperCase(),headers:w.normalize().toJSON(),body:m,duplex:"half",credentials:K?_:void 0};R=l&&new r(p,se);let $=await(l?S(R,A):S(p,se));const L=u&&(j==="stream"||j==="response");if(u&&(C||L&&T)){const z={};["status","statusText","headers"].forEach(qe=>{z[qe]=$[qe]});const H=P.toFiniteNumber($.headers.get("content-length")),[ee,ne]=C&&Tu(H,cl(Mu(C),!0))||[];$=new a(Iu($.body,Du,ee,()=>{ne&&ne(),T&&T()}),z)}j=j||"text";let I=await x[P.findKey(x,j)||"text"]($,h);return!L&&T&&T(),await new Promise((z,H)=>{z0(z,H,{data:I,headers:Ze.from($.headers),status:$.status,statusText:$.statusText,config:h,request:R})})}catch(K){throw T&&T(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new q("Network Error",q.ERR_NETWORK,h,R),{cause:K.cause||K}):q.from(K,K&&K.code,h,R)}}},cv=new Map,V0=e=>{let s=e&&e.env||{};const{fetch:r,Request:a,Response:n}=s,l=[a,n,r];let i=l.length,o=i,c,d,u=cv;for(;o--;)c=l[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:ov(s)),u=d;return d};V0();const Lc={http:_y,xhr:sv,fetch:{get:V0}};P.forEach(Lc,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const zu=e=>`- ${e}`,dv=e=>P.isFunction(e)||e===null||e===!1;function uv(e,s){e=P.isArray(e)?e:[e];const{length:r}=e;let a,n;const l={};for(let i=0;i<r;i++){a=e[i];let o;if(n=a,!dv(a)&&(n=Lc[(o=String(a)).toLowerCase()],n===void 0))throw new q(`Unknown adapter '${o}'`);if(n&&(P.isFunction(n)||(n=n.get(s))))break;l[o||"#"+i]=n}if(!n){const i=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(zu).join(`
`):" "+zu(i[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const q0={getAdapter:uv,adapters:Lc};function pi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $r(null,e)}function Bu(e){return pi(e),e.headers=Ze.from(e.headers),e.data=xi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),q0.getAdapter(e.adapter||Wa.adapter,e)(e).then(function(a){return pi(e),a.data=xi.call(e,e.transformResponse,a),a.headers=Ze.from(a.headers),a},function(a){return U0(a)||(pi(e),a&&a.response&&(a.response.data=xi.call(e,e.transformResponse,a.response),a.response.headers=Ze.from(a.response.headers))),Promise.reject(a)})}const W0="1.13.2",Ml={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{Ml[e]=function(a){return typeof a===e||"a"+(s<1?"n ":" ")+e}});const Hu={};Ml.transitional=function(s,r,a){function n(l,i){return"[Axios v"+W0+"] Transitional option '"+l+"'"+i+(a?". "+a:"")}return(l,i,o)=>{if(s===!1)throw new q(n(i," has been removed"+(r?" in "+r:"")),q.ERR_DEPRECATED);return r&&!Hu[i]&&(Hu[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(l,i,o):!0}};Ml.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function mv(e,s,r){if(typeof e!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const l=a[n],i=s[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new q("option "+l+" must be "+c,q.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new q("Unknown option "+l,q.ERR_BAD_OPTION)}}const Mn={assertOptions:mv,validators:Ml},Ct=Mn.validators;let Os=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Pu,response:new Pu}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const l=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=zs(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:l}=r;a!==void 0&&Mn.assertOptions(a,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1),n!=null&&(P.isFunction(n)?r.paramsSerializer={serialize:n}:Mn.assertOptions(n,{encode:Ct.function,serialize:Ct.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Mn.assertOptions(r,{baseUrl:Ct.spelling("baseURL"),withXsrfToken:Ct.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&P.merge(l.common,l[r.method]);l&&P.forEach(["delete","get","head","post","put","patch","common"],h=>{delete l[h]}),r.headers=Ze.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,x=0,v;if(!c){const h=[Bu.bind(this),void 0];for(h.unshift(...o),h.push(...d),v=h.length,u=Promise.resolve(r);x<v;)u=u.then(h[x++],h[x++]);return u}v=o.length;let b=r;for(;x<v;){const h=o[x++],p=o[x++];try{b=h(b)}catch(N){p.call(this,N);break}}try{u=Bu.call(this,b)}catch(h){return Promise.reject(h)}for(x=0,v=d.length;x<v;)u=u.then(d[x++],d[x++]);return u}getUri(s){s=zs(this.defaults,s);const r=B0(s.baseURL,s.url,s.allowAbsoluteUrls);return D0(r,s.params,s.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(s){Os.prototype[s]=function(r,a){return this.request(zs(a||{},{method:s,url:r,data:(a||{}).data}))}});P.forEach(["post","put","patch"],function(s){function r(a){return function(l,i,o){return this.request(zs(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Os.prototype[s]=r(),Os.prototype[s+"Form"]=r(!0)});let xv=class G0{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const a=this;this.promise.then(n=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](n);a._listeners=null}),this.promise.then=n=>{let l;const i=new Promise(o=>{a.subscribe(o),l=o}).then(n);return i.cancel=function(){a.unsubscribe(l)},i},s(function(l,i,o){a.reason||(a.reason=new $r(l,i,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new G0(function(n){s=n}),cancel:s}}};function pv(e){return function(r){return e.apply(null,r)}}function hv(e){return P.isObject(e)&&e.isAxiosError===!0}const ko={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ko).forEach(([e,s])=>{ko[s]=e});function Q0(e){const s=new Os(e),r=S0(Os.prototype.request,s);return P.extend(r,Os.prototype,s,{allOwnKeys:!0}),P.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return Q0(zs(e,n))},r}const ve=Q0(Wa);ve.Axios=Os;ve.CanceledError=$r;ve.CancelToken=xv;ve.isCancel=U0;ve.VERSION=W0;ve.toFormData=Tl;ve.AxiosError=q;ve.Cancel=ve.CanceledError;ve.all=function(s){return Promise.all(s)};ve.spread=pv;ve.isAxiosError=hv;ve.mergeConfig=zs;ve.AxiosHeaders=Ze;ve.formToJSON=e=>$0(P.isHTMLForm(e)?new FormData(e):e);ve.getAdapter=q0.getAdapter;ve.HttpStatusCode=ko;ve.default=ve;const{Axios:mj,AxiosError:xj,CanceledError:pj,isCancel:hj,CancelToken:gj,VERSION:fj,all:yj,Cancel:vj,isAxiosError:bj,spread:jj,toFormData:Nj,AxiosHeaders:wj,HttpStatusCode:kj,formToJSON:Sj,getAdapter:_j,mergeConfig:Cj}=ve,gv="/api",O=ve.create({baseURL:gv,headers:{"Content-Type":"application/json"}});O.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e});O.interceptors.response.use(e=>e.data,e=>{var s,r;return((s=e.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(((r=e.response)==null?void 0:r.data)||e)});const vr={login:e=>O.post("/auth/login",e),logout:()=>O.post("/auth/logout"),me:()=>O.get("/auth/me"),changePassword:e=>O.post("/auth/change-password",e),forgotPassword:e=>O.post("/auth/forgot-password",{email:e}),resetPassword:e=>O.post("/auth/reset-password",e)},Ge={getAdmin:e=>O.get("/dashboard/admin",{params:{event_id:e}}),getGroupLeader:()=>O.get("/dashboard/group-leader"),getQA:()=>O.get("/dashboard/qa"),getBackup:()=>O.get("/dashboard/backup"),getEditor:()=>O.get("/dashboard/editor"),getWorkflowProgress:e=>O.get("/dashboard/workflow-progress",{params:{event_id:e}}),getTimeAnalytics:e=>O.get("/dashboard/time-analytics",{params:{event_id:e}}),getIncidents:(e,s)=>O.get("/dashboard/incidents",{params:{event_id:e,days:s}}),getSdCardLifecycle:e=>O.get("/dashboard/sd-card-lifecycle",{params:{event_id:e}}),getComparative:e=>O.get("/dashboard/comparative",{params:{event_id:e}}),getPredictive:e=>O.get("/dashboard/predictive",{params:{event_id:e}}),getAlerts:e=>O.get("/dashboard/alerts",{params:{event_id:e}}),getLiveOperations:e=>O.get("/dashboard/live-operations",{params:{event_id:e}})},mr={getAll:e=>O.get("/events",{params:e}),getActive:()=>O.get("/events/active"),getOne:e=>O.get(`/events/${e}`),create:e=>O.post("/events",e),update:(e,s)=>O.put(`/events/${e}`,s),activate:(e,s=!1)=>O.post(`/events/${e}/activate`,{force:s}),complete:e=>O.post(`/events/${e}/complete`),getStats:e=>O.get(`/events/${e}/stats`)},$t={getAll:e=>O.get("/groups",{params:e}),getOne:e=>O.get(`/groups/${e}`),create:e=>O.post("/groups",e),update:(e,s)=>O.put(`/groups/${e}`,s),getMembers:e=>O.get(`/groups/${e}/members`),addMember:(e,s)=>O.post(`/groups/${e}/members`,{user_id:s}),removeMember:(e,s)=>O.delete(`/groups/${e}/members`,{data:{user_id:s}})},yt={search:e=>O.get("/media/search",{params:e}),getStatus:e=>O.get(`/media/${e}/status`),getDownloadUrl:e=>O.get(`/media/${e}/download-url`),logPlayback:(e,s)=>O.post(`/media/${e}/log-playback`,s),logDownload:(e,s)=>O.post(`/media/${e}/log-download`,s),getPlaybackSource:e=>O.get(`/media/${e}/playback-source`)},hn={getAll:e=>O.get("/issues",{params:e}),getOne:e=>O.get(`/issues/${e}`),acknowledge:e=>O.post(`/issues/${e}/acknowledge`),resolve:(e,s)=>O.post(`/issues/${e}/resolve`,{resolution_notes:s}),escalate:(e,s)=>O.post(`/issues/${e}/escalate`,{reason:s}),getGroupSummary:()=>O.get("/issues/group-summary")},So={getCoverage:e=>O.get("/backup/coverage",{params:{event_id:e}}),getPending:e=>O.get("/backup/pending",{params:e}),getDiskStatus:e=>O.get(`/backup/disk/${e}`),getAnalytics:e=>O.get("/backup/analytics",{params:{event_id:e}})},Nt={getAll:e=>O.get("/users",{params:e}),getOne:e=>O.get(`/users/${e}`),create:e=>O.post("/users",e),update:(e,s)=>O.put(`/users/${e}`,s),delete:e=>O.delete(`/users/${e}`),toggleStatus:e=>O.post(`/users/${e}/toggle-status`),assignGroups:(e,s)=>O.post(`/users/${e}/groups`,{group_ids:s}),getRoles:()=>O.get("/users/roles"),getEditorsStatus:e=>O.get("/users/editors-status",{params:e}),bulkImport:e=>O.post("/users/bulk-import",e),downloadTemplate:()=>O.get("/users/import-template",{responseType:"blob"}),getInvitations:()=>O.get("/users/invitations"),createInvitation:e=>O.post("/users/invitations",e),revokeInvitation:e=>O.delete(`/users/invitations/${e}`)},gn={getAll:e=>O.get("/audit-logs",{params:e}),getOne:e=>O.get(`/audit-logs/${e}`),getStats:()=>O.get("/audit-logs/stats"),getActions:()=>O.get("/audit-logs/actions"),getEntityTypes:()=>O.get("/audit-logs/entity-types")},Ls={register:e=>O.post("/auth/register",e),registerWithInvitation:e=>O.post("/auth/register/invitation",e),checkInvitation:e=>O.get(`/auth/invitation/${e}`),getPending:e=>O.get("/registrations/pending",{params:e}),sendInvitation:e=>O.post("/registrations/invite",e),approve:(e,s)=>O.post(`/registrations/${e}/approve`,s),reject:(e,s)=>O.post(`/registrations/${e}/reject`,s),suspend:(e,s)=>O.post(`/registrations/${e}/suspend`,s),reactivate:e=>O.post(`/registrations/${e}/reactivate`)},Xr={getAll:e=>O.get("/settings",{params:{group:e}}),update:e=>O.put("/settings",{settings:e}),getSmtp:()=>O.get("/settings/smtp"),updateSmtp:e=>O.put("/settings/smtp",e),testSmtp:e=>O.post("/settings/smtp/test",{email:e}),getGeneral:()=>O.get("/settings/general"),updateGeneral:e=>O.put("/settings/general",e)},Zr={getAll:e=>O.get("/cameras",{params:e}),getOne:e=>O.get(`/cameras/${e}`),create:e=>O.post("/cameras",e),update:(e,s)=>O.put(`/cameras/${e}`,s),delete:e=>O.delete(`/cameras/${e}`),getStats:e=>O.get("/cameras/stats",{params:e}),bindSdCard:(e,s)=>O.post(`/cameras/${e}/bind-sd`,{sd_card_id:s}),unbindSdCard:e=>O.post(`/cameras/${e}/unbind-sd`)},ws={getAll:e=>O.get("/healing-cases",{params:e}),getOne:e=>O.get(`/healing-cases/${e}`),create:e=>O.post("/healing-cases",e),update:(e,s)=>O.put(`/healing-cases/${e}`,s),delete:e=>O.delete(`/healing-cases/${e}`),getStats:e=>O.get("/healing-cases/stats",{params:e}),verify:e=>O.post(`/healing-cases/${e}/verify`),publish:e=>O.post(`/healing-cases/${e}/publish`)},fv={getOverview:e=>O.get("/quality-control",{params:{event_id:e}}),getDashboard:e=>O.get("/quality-control",{params:{event_id:e}}),getQueue:e=>O.get("/quality-control/queue",{params:e}),submit:(e,s)=>O.post(`/quality-control/${e}/submit`,s),getHistory:e=>O.get(`/quality-control/${e}/history`),getStats:e=>O.get("/quality-control/stats",{params:e})},yv={getForecast:e=>O.get("/storage",{params:e}),getUsage:()=>O.get("/storage"),getDisks:()=>O.get("/storage")},vv={getOverview:e=>O.get("/work-allocation/overview",{params:{event_id:e}}),assign:(e,s)=>O.post("/work-allocation/assign",{editor_id:e,media_ids:s}),autoDistribute:e=>O.post("/work-allocation/auto-distribute",e),reassign:(e,s,r)=>O.post("/work-allocation/reassign",{from_editor_id:e,to_editor_id:s,media_ids:r})},K0=y.createContext(null);function bv({children:e}){const[s,r]=y.useState(null),[a,n]=y.useState(null),[l,i]=y.useState(!0);y.useEffect(()=>{const j=localStorage.getItem("token"),w=localStorage.getItem("user");j&&w?(r(JSON.parse(w)),Promise.all([vr.me(),mr.getActive().catch(()=>({event:null}))]).then(([_,A])=>{r(_.user),localStorage.setItem("user",JSON.stringify(_.user)),n((A==null?void 0:A.event)||null)}).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)}).finally(()=>i(!1))):i(!1)},[]);const o=async()=>{try{const j=await mr.getActive();return n((j==null?void 0:j.event)||null),(j==null?void 0:j.event)||null}catch{return n(null),null}},c=async(j,w)=>{const _=await vr.login({email:j,password:w});return localStorage.setItem("token",_.authorization.token),localStorage.setItem("user",JSON.stringify(_.user)),r(_.user),await o(),_},d=async()=>{try{await vr.logout()}catch{}localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)},u=()=>{const j=s==null?void 0:s.roles;return Array.isArray(j)?j.map(w=>w?typeof w=="string"?w:typeof w=="object"&&(w.name||w.slug||w.code)||null:null).filter(Boolean):[]},x=j=>u().includes(j),v=j=>{const w=u();return j.some(_=>w.includes(_))},b=()=>x("admin"),h=()=>x("team-lead"),p=()=>x("group-leader"),N=()=>x("qa-lead"),m=()=>x("qa"),f=()=>x("backup-lead"),g=()=>x("backup"),k=()=>x("editor"),C=()=>b()||h(),E=()=>b()||h()||p()||N()||f();return t.jsx(K0.Provider,{value:{user:s,activeEvent:a,loading:l,login:c,logout:d,refreshActiveEvent:o,hasRole:x,hasAnyRole:v,isAdmin:b,isTeamLead:h,isGroupLeader:p,isQALead:N,isQA:m,isBackupLead:f,isBackup:g,isEditor:k,hasOperationalAccess:C,canManageUsers:E},children:e})}function de(){const e=y.useContext(K0);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const J0=y.createContext(null),jv=(e,s)=>{switch(s.type){case"ADD_TOAST":return[s.toast,...e].slice(0,5);case"REMOVE_TOAST":return e.filter(r=>r.id!==s.id);case"CLEAR_ALL":return[];default:return e}};function Nv({children:e}){const[s,r]=y.useReducer(jv,[]),a=y.useCallback(u=>{const x=`toast-${Date.now()}-${Math.random().toString(16).slice(2)}`,v={...u,id:x,createdAt:Date.now()};r({type:"ADD_TOAST",toast:v});const b=u.duration||4500;return b>0&&setTimeout(()=>{r({type:"REMOVE_TOAST",id:x})},b),x},[]),n=y.useCallback(u=>{r({type:"REMOVE_TOAST",id:u})},[]),l=y.useCallback(()=>{r({type:"CLEAR_ALL"})},[]),i=y.useCallback((u,x,v={})=>a({kind:"success",title:u,message:x,...v}),[a]),o=y.useCallback((u,x,v={})=>a({kind:"error",title:u,message:x,...v}),[a]),c=y.useCallback((u,x,v={})=>a({kind:"warning",title:u,message:x,...v}),[a]),d=y.useCallback((u,x,v={})=>a({kind:"info",title:u,message:x,...v}),[a]);return t.jsx(J0.Provider,{value:{toasts:s,addToast:a,removeToast:n,clearAll:l,success:i,error:o,warning:c,info:d},children:e})}function Y0(){const e=y.useContext(J0);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,s)=>{const r=y.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},u)=>y.createElement("svg",{ref:u,...wv,width:n,height:n,stroke:a,strokeWidth:i?Number(l)*24/Number(n):l,className:["lucide",`lucide-${kv(e)}`,o].join(" "),...d},[...s.map(([x,v])=>y.createElement(x,v)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=F("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=F("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=F("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=F("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=F("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=F("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=F("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=F("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=F("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=F("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=F("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=F("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=F("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=F("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=F("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=F("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=F("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=F("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=F("FileVideo",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=F("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=F("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=F("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=F("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=F("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=F("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=F("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=F("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=F("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=F("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=F("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=F("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=F("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=F("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=F("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=F("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=F("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=F("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=F("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=F("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=F("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=F("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=F("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=F("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=F("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=F("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=F("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=F("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=F("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=F("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=F("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=F("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=F("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=F("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=F("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=F("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Qv={ok:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-700 border-amber-200",error:"bg-red-50 text-red-700 border-red-200",info:"bg-sky-50 text-sky-700 border-sky-200",neutral:"bg-gray-50 text-gray-600 border-gray-200",live:"bg-purple-50 text-purple-700 border-purple-200"};function Dn({kind:e="neutral",children:s,icon:r,pulse:a}){return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-full border ${Qv[e]}`,children:[a&&t.jsxs("span",{className:"relative flex h-2 w-2",children:[t.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${e==="ok"?"bg-emerald-400":e==="live"?"bg-purple-400":"bg-amber-400"}`}),t.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${e==="ok"?"bg-emerald-500":e==="live"?"bg-purple-500":"bg-amber-500"}`})]}),r&&!a&&t.jsx(r,{className:"w-3.5 h-3.5"}),s]})}function Kv({online:e}){return e==null?t.jsx(Dn,{kind:"neutral",icon:ge,children:"Connecting..."}):e?t.jsx(Dn,{kind:"ok",icon:qs,children:"Online"}):t.jsx(Dn,{kind:"error",icon:Da,children:"Offline"})}function Jv({isLive:e,label:s}){return e?t.jsx(Dn,{kind:"live",pulse:!0,children:s||"Live"}):null}function Yv({children:e}){var C,E,j;const{user:s,logout:r,isAdmin:a,isGroupLeader:n,isQA:l,isBackup:i}=de(),o=Ks(),c=Js(),[d,u]=y.useState(!0),[x,v]=y.useState(["overview"]),[b,h]=y.useState(()=>{const w=localStorage.getItem("darkMode");return w?JSON.parse(w):!1}),[p,N]=y.useState(!1);To.useEffect(()=>{b?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(b))},[b]);const m=async()=>{await r(),c("/login")},f=w=>{v(_=>_.includes(w)?_.filter(A=>A!==w):[..._,w])},k=[{id:"overview",name:"Overview",icon:Gu,roles:["admin","team-lead","group-leader","qa","backup","editor"],items:[{name:"Dashboard",href:"/",icon:Gu,roles:["admin","team-lead","group-leader","qa","backup","editor"]},{name:"Live Operations",href:"/live-operations",icon:ae,roles:["admin","team-lead","group-leader"]},{name:"Analytics",href:"/analytics-dashboard",icon:Bs,roles:["admin","team-lead","group-leader"]}]},{id:"operations",name:"Operations",icon:Wt,roles:["admin","team-lead","group-leader"],items:[{name:"Events",href:"/events",icon:Wt,roles:["admin","team-lead"]},{name:"Groups",href:"/groups",icon:Ne,roles:["admin","team-lead","group-leader"]},{name:"Work Allocation",href:"/work-allocation",icon:In,roles:["admin","team-lead","group-leader"]},{name:"Cameras",href:"/cameras",icon:st,roles:["admin","team-lead"]}]},{id:"media",name:"Media",icon:nt,roles:["admin","team-lead","group-leader","qa"],items:[{name:"Search & Playback",href:"/search",icon:Gt,roles:["admin","team-lead","group-leader","qa"]},{name:"Media Library",href:"/media",icon:nt,roles:["admin","team-lead"]},{name:"Quality Control",href:"/quality-control",icon:Y,roles:["admin","team-lead","qa","group-leader"]},{name:"Issues",href:"/issues",icon:W,roles:["admin","team-lead","group-leader","qa"]},{name:"Healing Cases",href:"/healing-cases",icon:On,roles:["admin","team-lead","group-leader"]}]},{id:"storage",name:"Storage",icon:Mc,roles:["admin","team-lead","backup"],items:[{name:"Backups",href:"/backups",icon:X,roles:["admin","team-lead","backup"]},{name:"Storage Forecast",href:"/storage-forecast",icon:Bs,roles:["admin","team-lead","backup"]},{name:"Data Protection",href:"/data-protection",icon:wt,roles:["admin","team-lead"]}]},{id:"admin",name:"Administration",icon:Pv,roles:["admin","team-lead","group-leader","qa-lead","backup-lead"],items:[{name:"Users",href:"/users",icon:Gv,roles:["admin","team-lead","group-leader","qa-lead","backup-lead"]},{name:"Shifts",href:"/shifts",icon:ge,roles:["admin","team-lead","group-leader"]},{name:"Reports",href:"/reports",icon:Oa,roles:["admin","team-lead","group-leader"]},{name:"Activity Feed",href:"/activity-feed",icon:ae,roles:["admin","team-lead","group-leader"]},{name:"Approvals",href:"/approvals",icon:Ia,roles:["admin","team-lead","group-leader"]},{name:"Audit Logs",href:"/audit-logs",icon:gs,roles:["admin"]},{name:"Settings",href:"/settings",icon:Lr,roles:["admin"]}]},{id:"support",name:"Support",icon:Co,roles:["admin","team-lead","group-leader","qa","qa-lead","backup","backup-lead","editor"],items:[{name:"Help & Docs",href:"/help",icon:Co,roles:["admin","team-lead","group-leader","qa","qa-lead","backup","backup-lead","editor"]}]}].filter(w=>w.roles.some(_=>{var A;return(A=s==null?void 0:s.roles)==null?void 0:A.includes(_)})).map(w=>({...w,items:w.items.filter(_=>_.roles.some(A=>{var S;return(S=s==null?void 0:s.roles)==null?void 0:S.includes(A)}))})).filter(w=>w.items.length>0);return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-200 ${d?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[t.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"G1"})}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold text-gray-900",children:"Gate 1 System"}),t.jsx("span",{className:"block text-[10px] text-gray-400",children:"Powered by Nelium Systems"})]})]}),t.jsx("button",{onClick:()=>u(!1),className:"lg:hidden",children:t.jsx(Ae,{className:"w-5 h-5 text-gray-500"})})]}),t.jsx("nav",{className:"p-4 space-y-2 overflow-y-auto",style:{maxHeight:"calc(100vh - 180px)"},children:k.map(w=>{const _=x.includes(w.id),A=w.items.some(S=>o.pathname===S.href);return t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{onClick:()=>f(w.id),className:`flex items-center justify-between w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors ${A?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(w.icon,{className:"w-5 h-5"}),w.name]}),_?t.jsx(dl,{className:"w-4 h-4"}):t.jsx(Rr,{className:"w-4 h-4"})]}),_&&t.jsx("div",{className:"ml-4 space-y-1",children:w.items.map(S=>{const U=o.pathname===S.href;return t.jsxs(Ce,{to:S.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${U?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsx(S.icon,{className:"w-4 h-4"}),S.name]},S.name)})})]},w.id)})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:[t.jsxs(Ce,{to:"/profile",className:"flex items-center gap-3 mb-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-medium",children:((E=(C=s==null?void 0:s.name)==null?void 0:C.charAt(0))==null?void 0:E.toUpperCase())||"U"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s==null?void 0:s.name}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:(j=s==null?void 0:s.roles)==null?void 0:j[0]})]})]}),t.jsxs("button",{onClick:m,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg",children:[t.jsx(Ic,{className:"w-4 h-4"}),"Sign out"]})]})]}),t.jsxs("div",{className:`${d?"lg:pl-64":""} transition-all duration-200`,children:[t.jsx("header",{className:"sticky top-0 z-40 bg-white border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>u(!d),className:"lg:hidden",children:t.jsx(Dv,{className:"w-6 h-6 text-gray-500"})}),t.jsxs("div",{className:"relative hidden md:block",children:[t.jsx(Gt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 w-64 bg-gray-100 border-0 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:bg-white"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"hidden lg:flex items-center gap-2 mr-2",children:[t.jsx(Kv,{online:!0}),t.jsx(Jv,{isLive:!0,label:"System Live"})]}),t.jsx("button",{onClick:()=>h(!b),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg dark:hover:bg-gray-700",title:b?"Light mode":"Dark mode",children:b?t.jsx(Hv,{className:"w-5 h-5"}):t.jsx(Uv,{className:"w-5 h-5"})}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>N(!p),className:"relative p-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:[t.jsx(Ma,{className:"w-5 h-5"}),t.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),p&&t.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50",children:[t.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[t.jsx("span",{className:"font-semibold text-gray-900",children:"Notifications"}),t.jsx(Ce,{to:"/notifications",onClick:()=>N(!1),className:"text-sm text-blue-600 hover:text-blue-700",children:"View all"})]}),t.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[t.jsxs("div",{className:"p-3 hover:bg-gray-50 border-b border-gray-100",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New Issue Reported"}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Camera CAM-042 reported corrupt file"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"5 min ago"})]}),t.jsxs("div",{className:"p-3 hover:bg-gray-50 border-b border-gray-100",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Backup Completed"}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Daily backup completed successfully"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"1 hour ago"})]}),t.jsxs("div",{className:"p-3 hover:bg-gray-50",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Storage Warning"}),t.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"DISK-003 is at 85% capacity"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"3 hours ago"})]})]}),t.jsx("div",{className:"p-2 border-t border-gray-100",children:t.jsx(Ce,{to:"/notifications",onClick:()=>N(!1),className:"block w-full text-center text-sm text-gray-600 hover:text-gray-900 py-2",children:"See all notifications"})})]})]})]})]})}),t.jsx("main",{className:"p-6",children:e})]})]})}const Xv={success:Y,error:Ws,warning:W,info:Hs},Qu={success:{bg:"bg-emerald-50",border:"border-emerald-200",icon:"text-emerald-500",title:"text-emerald-800",message:"text-emerald-600"},error:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500",title:"text-red-800",message:"text-red-600"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:"text-amber-500",title:"text-amber-800",message:"text-amber-600"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:"text-sky-500",title:"text-sky-800",message:"text-sky-600"}};function Zv(){const{toasts:e,removeToast:s}=Y0();return e.length===0?null:t.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 max-w-sm",children:e.map(r=>{const a=Xv[r.kind]||Hs,n=Qu[r.kind]||Qu.info;return t.jsxs("div",{className:`${n.bg} ${n.border} border rounded-xl p-4 shadow-lg animate-slide-in-right flex items-start gap-3`,role:"alert",children:[t.jsx(a,{className:`w-5 h-5 ${n.icon} flex-shrink-0 mt-0.5`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`font-semibold text-sm ${n.title}`,children:r.title}),r.message&&t.jsx("p",{className:`text-sm mt-0.5 ${n.message}`,children:r.message})]}),t.jsx("button",{onClick:()=>s(r.id),className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:t.jsx(Ae,{className:"w-4 h-4"})})]},r.id)})})}function eb(){const[e,s]=y.useState(""),[r,a]=y.useState(""),[n,l]=y.useState(""),[i,o]=y.useState(!1),{login:c}=de(),d=Js(),u=async x=>{x.preventDefault(),l(""),o(!0);try{await c(e,r),d("/")}catch(v){l(v.message||"Invalid credentials")}finally{o(!1)}};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-white font-bold text-2xl",children:"G1"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gate 1 System"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Media Chain & Evidence Management"})]}),t.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n&&t.jsx("div",{className:"bg-red-50 text-red-700 px-4 py-3 rounded-lg text-sm",children:n}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),t.jsx("input",{type:"email",value:e,onChange:x=>s(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com",required:!0})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),t.jsx(Ce,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})]}),t.jsx("input",{type:"password",value:r,onChange:x=>a(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),t.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Signing in...":"Sign in"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",t.jsx(Ce,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Register here"})]})})]})})})}function tb(){var f;const[e]=k0();Js();const s=e.get("token")||e.get("invite"),[r,a]=y.useState({name:"",email:"",phone:"",password:"",password_confirmation:"",registration_notes:""}),[n,l]=y.useState(null),[i,o]=y.useState(!1),[c,d]=y.useState(!1),[u,x]=y.useState(!1),[v,b]=y.useState(""),[h,p]=y.useState(!!s);y.useEffect(()=>{s&&N()},[s]);const N=async()=>{try{const g=await Ls.checkInvitation(s);l(g),g!=null&&g.email&&a(k=>({...k,email:g.email}))}catch{b("Invalid or expired invitation link")}finally{p(!1)}},m=async g=>{if(g.preventDefault(),d(!0),b(""),r.password!==r.password_confirmation){b("Passwords do not match"),d(!1);return}try{s?await Ls.registerWithInvitation({token:s,...r}):await Ls.register(r),x(!0)}catch(k){b(k.message||k.error||"Registration failed")}finally{d(!1)}};return h?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent"})}):u?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 text-center border border-white/20",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-500/30",children:t.jsx(Y,{className:"w-10 h-10 text-white"})}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:s?"Registration Complete!":"Application Submitted!"}),t.jsx("p",{className:"text-gray-300 mb-6",children:s?"Your account is ready. You can now login to the system.":"Your registration is pending approval. You will receive an email once your account has been approved."}),t.jsx(Ce,{to:"/login",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl font-medium hover:from-purple-600 hover:to-indigo-700 transition-all shadow-lg shadow-purple-500/30",children:"Go to Login"})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/20",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-purple-500/30",children:t.jsx("span",{className:"text-3xl font-bold text-white",children:"G1"})}),t.jsx("h1",{className:"text-2xl font-bold text-white",children:s?"Complete Your Registration":"Join Gate 1 System"}),t.jsx("p",{className:"text-gray-400 mt-2",children:s?"You have been invited to join the team":"Create your editor account"}),((f=n==null?void 0:n.groups)==null?void 0:f.length)>0&&t.jsx("div",{className:"mt-3 px-4 py-2 bg-purple-500/20 rounded-lg inline-block",children:t.jsxs("span",{className:"text-purple-300 text-sm",children:["Joining: ",n.groups.map(g=>g.name).join(", ")]})})]}),v&&t.jsxs("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 text-red-300 rounded-xl flex items-center gap-3",children:[t.jsx(ze,{className:"w-5 h-5 flex-shrink-0"}),v]}),t.jsxs("form",{onSubmit:m,className:"space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Qt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",value:r.name,onChange:g=>a({...r,name:g.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"John Doe",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Vs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"email",value:r.email,onChange:g=>a({...r,email:g.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all disabled:opacity-50",placeholder:"you@example.com",required:!0,disabled:!!s&&!!(n!=null&&n.email)})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ol,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"tel",value:r.phone,onChange:g=>a({...r,phone:g.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"+1 234 567 8900"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:i?"text":"password",value:r.password,onChange:g=>a({...r,password:g.target.value}),className:"w-full pl-12 pr-12 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"",required:!0,minLength:8}),t.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:i?t.jsx(br,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Minimum 8 characters"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:i?"text":"password",value:r.password_confirmation,onChange:g=>a({...r,password_confirmation:g.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"",required:!0})]})]}),!s&&t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Notes ",t.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(gs,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400"}),t.jsx("textarea",{value:r.registration_notes,onChange:g=>a({...r,registration_notes:g.target.value}),className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none",placeholder:"Any additional information...",rows:3})]})]}),t.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-indigo-700 disabled:opacity-50 transition-all shadow-lg shadow-purple-500/30",children:c?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):s?"Complete Registration":"Submit Application"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(Ce,{to:"/login",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[t.jsx(Ta,{className:"w-4 h-4"}),"Already have an account? Sign in"]})})]})})})}function sb(){const[e,s]=y.useState(""),[r,a]=y.useState(!1),[n,l]=y.useState(!1),[i,o]=y.useState(""),c=async d=>{d.preventDefault(),a(!0),o("");try{await vr.forgotPassword(e),l(!0)}catch(u){o(u.message||"Failed to send reset instructions")}finally{a(!1)}};return n?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Y,{className:"w-8 h-8 text-green-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email"}),t.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent password reset instructions to ",t.jsx("strong",{children:e})]}),t.jsxs(Ce,{to:"/login",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[t.jsx(Ta,{className:"w-4 h-4"}),"Back to Login"]})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-2xl font-bold text-white",children:"G1"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Forgot Password?"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your email and we'll send you reset instructions"})]}),i&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center gap-3",children:[t.jsx(ze,{className:"w-5 h-5 flex-shrink-0"}),i]}),t.jsxs("form",{onSubmit:c,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"email",value:e,onChange:d=>s(d.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",required:!0})]})]}),t.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:r?"Sending...":"Send Reset Instructions"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(Ce,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[t.jsx(Ta,{className:"w-4 h-4"}),"Back to Login"]})})]})})})}function rb(){const[e]=k0(),s=Js(),r=e.get("token"),[a,n]=y.useState({password:"",password_confirmation:""}),[l,i]=y.useState(!1),[o,c]=y.useState(!1),[d,u]=y.useState(!1),[x,v]=y.useState(""),b=async h=>{if(h.preventDefault(),c(!0),v(""),a.password!==a.password_confirmation){v("Passwords do not match"),c(!1);return}try{await vr.resetPassword({token:r,password:a.password,password_confirmation:a.password_confirmation}),u(!0),setTimeout(()=>s("/login"),3e3)}catch(p){v(p.message||"Failed to reset password")}finally{c(!1)}};return r?d?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Y,{className:"w-8 h-8 text-green-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully reset. Redirecting to login..."}),t.jsxs(Ce,{to:"/login",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[t.jsx(Ta,{className:"w-4 h-4"}),"Go to Login"]})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx(ep,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reset Password"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your new password below"})]}),x&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center gap-3",children:[t.jsx(ze,{className:"w-5 h-5 flex-shrink-0"}),x]}),t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:l?"text":"password",value:a.password,onChange:h=>n({...a,password:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",placeholder:"",required:!0,minLength:8}),t.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?t.jsx(br,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum 8 characters"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),t.jsx("input",{type:l?"text":"password",value:a.password_confirmation,onChange:h=>n({...a,password_confirmation:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),t.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:o?"Resetting...":"Reset Password"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(Ce,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[t.jsx(Ta,{className:"w-4 h-4"}),"Back to Login"]})})]})})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(ze,{className:"w-8 h-8 text-red-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Link"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),t.jsx(Ce,{to:"/forgot-password",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:"Request a new link"})]})})})}function fi(){const[e,s]=y.useState([]),[r,a]=y.useState({total:0,online:0,offline:0}),[n,l]=y.useState([]),[i,o]=y.useState(!0),[c,d]=y.useState({groupId:"",online:""}),[u,x]=y.useState(!0);y.useEffect(()=>{v(),b();let p;return u&&(p=setInterval(b,3e4)),()=>clearInterval(p)},[c,u]);const v=async()=>{try{const p=await $t.getAll();l(p.data||p)}catch(p){console.error("Failed to load groups:",p)}},b=async()=>{try{o(!0);const p={};c.groupId&&(p.group_id=c.groupId),c.online!==""&&(p.online=c.online);const N=await Nt.getEditorsStatus(p);s(N.editors||[]),a(N.summary||{total:0,online:0,offline:0})}catch(p){console.error("Failed to load editors status:",p)}finally{o(!1)}},h=p=>{if(!p)return"Never";const N=new Date(p),f=new Date-N,g=Math.floor(f/6e4),k=Math.floor(f/36e5),C=Math.floor(f/864e5);return g<1?"Just now":g<60?`${g}m ago`:k<24?`${k}h ago`:`${C}d ago`};return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-50 rounded-lg",children:t.jsx(Ne,{className:"w-5 h-5 text-sky-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Editor Status"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Real-time online/offline tracking"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-full text-sm font-medium",children:[t.jsx(zt,{className:"w-2 h-2 fill-emerald-500"}),r.online," Online"]}),t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-600 rounded-full text-sm font-medium",children:[t.jsx(zt,{className:"w-2 h-2 fill-gray-400"}),r.offline," Offline"]})]}),t.jsx("button",{onClick:b,disabled:i,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-sky-50 rounded-lg transition-colors",title:"Refresh",children:t.jsx(Be,{className:`w-5 h-5 ${i?"animate-spin":""}`})})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Oc,{className:"w-4 h-4 text-gray-400"}),t.jsxs("select",{value:c.groupId,onChange:p=>d({...c,groupId:p.target.value}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500",children:[t.jsx("option",{value:"",children:"All Groups"}),n.map(p=>t.jsxs("option",{value:p.id,children:[p.group_code," - ",p.name]},p.id))]})]}),t.jsxs("select",{value:c.online,onChange:p=>d({...c,online:p.target.value}),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"true",children:"Online Only"}),t.jsx("option",{value:"false",children:"Offline Only"})]}),t.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 ml-auto",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:p=>x(p.target.checked),className:"rounded border-gray-300 text-sky-600 focus:ring-sky-500"}),"Auto-refresh (30s)"]})]})]}),t.jsx("div",{className:"divide-y divide-gray-50",children:i&&e.length===0?t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(Be,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-sky-500"}),"Loading editors..."]}):e.length===0?t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(Ne,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),"No editors found"]}):e.map(p=>{var N,m;return t.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-10 h-10 bg-sky-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-sky-700 font-semibold text-sm",children:(N=p.name)==null?void 0:N.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2)})}),t.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white ${p.is_online?"bg-emerald-500":"bg-gray-400"}`})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:p.name}),p.is_online&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-emerald-50 text-emerald-700 rounded text-xs font-medium",children:[t.jsx(zt,{className:"w-1.5 h-1.5 fill-emerald-500"}),"Online"]})]}),t.jsx("div",{className:"text-sm text-gray-500",children:p.email})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[((m=p.groups)==null?void 0:m.length)>0&&t.jsxs("div",{className:"flex flex-wrap gap-1",children:[p.groups.slice(0,2).map(f=>t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:f.group_code},f.id)),p.groups.length>2&&t.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",p.groups.length-2]})]}),t.jsx("div",{className:"text-right min-w-[140px]",children:p.is_online?t.jsxs("div",{className:"flex items-center gap-2 text-emerald-600",children:[t.jsx($v,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:p.current_activity||"Active"})]}):t.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[t.jsx(ge,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:h(p.last_seen_at)})]})})]})]},p.id)})})]})}function Cs({percentage:e,color:s="sky"}){const r={sky:"bg-sky-500",emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500",purple:"bg-purple-500"};return t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:`h-2.5 rounded-full ${r[s]} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})})}function fn({title:e,value:s,subtitle:r,icon:a,color:n,percentage:l,secondaryPercentage:i,secondaryLabel:o}){const c={sky:"bg-sky-50 text-sky-600",emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r}),l!==void 0&&t.jsxs("div",{className:"mt-3 space-y-2",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[t.jsx("span",{className:"text-gray-500",children:"Copied"}),t.jsxs("span",{className:"font-medium",children:[l,"%"]})]}),t.jsx(Cs,{percentage:l,color:n})]}),i!==void 0&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[t.jsx("span",{className:"text-gray-500",children:o||"Renamed"}),t.jsxs("span",{className:"font-medium",children:[i,"%"]})]}),t.jsx(Cs,{percentage:i,color:"emerald"})]})]})]}),t.jsx("div",{className:`p-3 rounded-lg ${c[n]}`,children:t.jsx(a,{className:"w-5 h-5"})})]})})}function yi(){var d,u,x,v,b,h,p,N;const{activeEvent:e}=de(),[s,r]=y.useState(null),[a,n]=y.useState(!0),[l,i]=y.useState("overview");y.useEffect(()=>{o()},[e==null?void 0:e.id]);const o=async()=>{try{n(!0);const m=await Ge.getWorkflowProgress(e==null?void 0:e.id);r(m)}catch(m){console.error("Failed to load workflow progress:",m)}finally{n(!1)}};if(a&&!s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Be,{className:"w-8 h-8 animate-spin text-sky-500"})});const c=(s==null?void 0:s.overall)||{};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Workflow Progress"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"Copy & rename progress tracking"})]}),t.jsxs("button",{onClick:o,disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors text-sm",children:[t.jsx(Be,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(fn,{title:"Files Detected",value:((d=c.files_detected)==null?void 0:d.toLocaleString())||0,subtitle:`${((u=c.files_pending)==null?void 0:u.toLocaleString())||0} pending`,icon:gs,color:"sky",percentage:c.copy_percentage,secondaryPercentage:c.rename_percentage}),t.jsx(fn,{title:"Files Copied",value:((x=c.files_copied)==null?void 0:x.toLocaleString())||0,subtitle:c.total_size_formatted,icon:Tc,color:"emerald"}),t.jsx(fn,{title:"Media Renamed",value:((v=c.renamed_media)==null?void 0:v.toLocaleString())||0,subtitle:`of ${((b=c.total_media)==null?void 0:b.toLocaleString())||0} total`,icon:Y,color:"emerald"}),t.jsx(fn,{title:"Active Sessions",value:c.active_sessions||0,subtitle:"Currently processing",icon:ae,color:c.active_sessions>0?"amber":"sky"})]}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-6",children:[{id:"overview",label:"By Group",icon:tp},{id:"editors",label:"By Editor",icon:Ne},{id:"sessions",label:"Active Sessions",icon:ae}].map(m=>t.jsxs("button",{onClick:()=>i(m.id),className:`flex items-center gap-2 py-3 border-b-2 transition-colors text-sm ${l===m.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(m.icon,{className:"w-4 h-4"}),m.label]},m.id))})}),l==="overview"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress by Group"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Detected"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Copied"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Copy %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Renamed"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rename %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(h=s==null?void 0:s.by_group)==null?void 0:h.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium text-gray-900",children:m.group_code}),t.jsxs("div",{className:"text-xs text-gray-500",children:[m.member_count," members"]})]}),t.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:m.files_detected.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.files_copied.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right",children:m.files_pending>0?t.jsx("span",{className:"text-amber-600 font-medium",children:m.files_pending.toLocaleString()}):t.jsx("span",{className:"text-emerald-600",children:""})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Cs,{percentage:m.copy_percentage,color:m.copy_percentage>=90?"emerald":m.copy_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.copy_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.renamed_media.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Cs,{percentage:m.rename_percentage,color:m.rename_percentage>=90?"emerald":m.rename_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.rename_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600 text-sm",children:m.total_size_formatted})]},m.id)),(!(s!=null&&s.by_group)||s.by_group.length===0)&&t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"No group data available"})})]})]})})]}),l==="editors"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress by Editor"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Groups"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Detected"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Copied"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Copy %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Renamed"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rename %"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(p=s==null?void 0:s.by_editor)==null?void 0:p.map(m=>{var f;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-2.5 h-2.5 ${m.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:m.name}),t.jsx("div",{className:"text-xs text-gray-500",children:m.email})]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"flex flex-wrap gap-1",children:(f=m.groups)==null?void 0:f.map(g=>t.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:g.group_code},g.id))})}),t.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:m.files_detected.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.files_copied.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Cs,{percentage:m.copy_percentage,color:m.copy_percentage>=90?"emerald":m.copy_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.copy_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium",children:m.renamed_media.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(Cs,{percentage:m.rename_percentage,color:m.rename_percentage>=90?"emerald":m.rename_percentage>=50?"amber":"red"})}),t.jsxs("span",{className:"text-xs font-medium text-gray-700 w-10",children:[m.rename_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600 text-sm",children:m.total_size_formatted})]},m.id)}),(!(s!=null&&s.by_editor)||s.by_editor.length===0)&&t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"No editor data available"})})]})]})})]}),l==="sessions"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Active Copy Sessions"})}),((N=s==null?void 0:s.active_sessions)==null?void 0:N.length)>0?t.jsx("div",{className:"divide-y divide-gray-100",children:s.active_sessions.map(m=>t.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),t.jsx("span",{className:"font-medium text-gray-900",children:m.editor}),t.jsx("span",{className:"text-gray-500",children:""}),t.jsxs("span",{className:"text-gray-600",children:["Camera ",m.camera_number]}),m.sd_label&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-500",children:""}),t.jsx("span",{className:"text-gray-600",children:m.sd_label})]})]}),t.jsxs("span",{className:"text-sm text-gray-500",children:["Started ",new Date(m.started_at).toLocaleTimeString()]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Cs,{percentage:m.copy_progress,color:"sky"})}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"font-medium text-gray-900",children:m.files_copied}),t.jsxs("span",{className:"text-gray-500",children:[" / ",m.files_detected]}),t.jsxs("span",{className:"text-gray-400 ml-2",children:["(",m.copy_progress,"%)"]})]})]}),m.files_pending>0&&t.jsxs("div",{className:"mt-1 text-xs text-amber-600",children:[m.files_pending," files pending"]})]},m.session_id))}):t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(ae,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),t.jsx("p",{children:"No active copy sessions"})]})]})]})}const ab={sd:X,backup:X,snapshot:st,session:ae,copy:X,issues:W,attention:W,rename:Hs,system:ae,user:Qt,network:qs},Ku={success:{bg:"bg-emerald-50",border:"border-emerald-200",icon:"text-emerald-500",dot:"bg-emerald-500"},error:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500",dot:"bg-red-500"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:"text-amber-500",dot:"bg-amber-500"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:"text-sky-500",dot:"bg-sky-500"}};function nb(e){if(!e)return"-";const s=new Date(e);if(isNaN(s.getTime()))return"-";const a=new Date-s,n=Math.floor(a/6e4),l=Math.floor(a/36e5);return n<1?"Just now":n<60?`${n}m ago`:l<24?`${l}h ago`:s.toLocaleTimeString("en-KE",{hour:"2-digit",minute:"2-digit",hour12:!1})}function lb({item:e,expanded:s,onToggle:r}){const a=ab[e.source]||ae,n=Ku[e.kind]||Ku.info,l=e.details&&Object.keys(e.details).length>0;return t.jsx("div",{className:`${n.bg} ${n.border} border rounded-xl p-3 transition-all hover:shadow-sm`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex flex-col items-center",children:t.jsx("div",{className:`w-8 h-8 rounded-full ${n.bg} border ${n.border} flex items-center justify-center`,children:t.jsx(a,{className:`w-4 h-4 ${n.icon}`})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:e.title}),t.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:nb(e.createdAt)})]}),e.message&&t.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:e.message}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${n.bg} ${n.icon}`,children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${n.dot}`}),e.source]}),l&&t.jsxs("button",{onClick:()=>r(e.id),className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[s?t.jsx(Rv,{className:"w-3 h-3"}):t.jsx(dl,{className:"w-3 h-3"}),s?"Hide":"Details"]})]}),s&&l&&t.jsx("div",{className:"mt-2 p-2 bg-white/60 rounded-lg border border-gray-200",children:t.jsx("pre",{className:"text-xs text-gray-600 overflow-auto max-h-32 whitespace-pre-wrap",children:JSON.stringify(e.details,null,2)})})]})]})})}function ib({items:e=[],maxItems:s=20,title:r="Live Activity",showRefresh:a=!0,onRefresh:n,compact:l=!1,className:i=""}){const[o,c]=y.useState(new Set),[d,u]=y.useState("all"),x=y.useCallback(h=>{c(p=>{const N=new Set(p);return N.has(h)?N.delete(h):N.add(h),N})},[]),v=e.filter(h=>d==="all"||h.kind===d).slice(0,s),b=e.reduce((h,p)=>(h[p.kind]=(h[p.kind]||0)+1,h),{});return t.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 shadow-sm ${i}`,children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ae,{className:"w-5 h-5 text-gray-600"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:r}),t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:e.length})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"hidden sm:flex items-center gap-1",children:["all","success","warning","error","info"].map(h=>t.jsxs("button",{onClick:()=>u(h),className:`px-2 py-1 text-xs rounded-full transition-colors ${d===h?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[h==="all"?"All":h.charAt(0).toUpperCase()+h.slice(1),h!=="all"&&b[h]>0&&t.jsxs("span",{className:"ml-1 opacity-70",children:["(",b[h],")"]})]},h))}),a&&n&&t.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Be,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:`p-4 space-y-3 overflow-y-auto ${l?"max-h-64":"max-h-96"}`,children:v.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ae,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"No activity yet"})]}):v.map(h=>t.jsx(lb,{item:h,expanded:o.has(h.id),onToggle:x},h.id))}),e.length>s&&t.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:t.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",s," of ",e.length," activities"]})})]})}const Ju={IDLE:{bg:"bg-gray-50",border:"border-gray-200",icon:ge,iconColor:"text-gray-500",title:"Ready",subtitle:"Waiting for activity"},SD_DETECTED:{bg:"bg-sky-50",border:"border-sky-200",icon:X,iconColor:"text-sky-500",title:"SD Card Detected",subtitle:"Preparing session..."},SESSION_ACTIVE:{bg:"bg-emerald-50",border:"border-emerald-200",icon:ae,iconColor:"text-emerald-500",title:"Session Active",subtitle:"Workflow in progress"},COPYING_IN_PROGRESS:{bg:"bg-purple-50",border:"border-purple-200",icon:vt,iconColor:"text-purple-500",title:"Copying Files",subtitle:"Verifying and copying...",animate:!0},BACKUP_IN_PROGRESS:{bg:"bg-indigo-50",border:"border-indigo-200",icon:X,iconColor:"text-indigo-500",title:"Backup Running",subtitle:"Backing up to disk...",animate:!0},ATTENTION_REQUIRED:{bg:"bg-amber-50",border:"border-amber-300",icon:W,iconColor:"text-amber-500",title:"Attention Required",subtitle:"Action needed"},ISSUE_RECORDED:{bg:"bg-orange-50",border:"border-orange-200",icon:W,iconColor:"text-orange-500",title:"Issue Recorded",subtitle:"Pending QA review"},SD_REMOVAL_CHECK:{bg:"bg-amber-50",border:"border-amber-200",icon:X,iconColor:"text-amber-500",title:"SD Removal Check",subtitle:"Verifying safe removal..."},SESSION_CLOSED:{bg:"bg-emerald-50",border:"border-emerald-200",icon:Y,iconColor:"text-emerald-500",title:"Session Complete",subtitle:"All tasks finished"},RETENTION_PENDING:{bg:"bg-gray-50",border:"border-gray-200",icon:ge,iconColor:"text-gray-500",title:"Retention Pending",subtitle:"Auto-delete scheduled"}};function ob({percent:e,color:s="sky"}){const r={sky:"bg-sky-500",emerald:"bg-emerald-500",purple:"bg-purple-500",indigo:"bg-indigo-500",amber:"bg-amber-500"};return t.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${r[s]||r.sky} transition-all duration-500`,style:{width:`${Math.min(100,Math.max(0,e))}%`}})})}function cb({state:e="IDLE",sessionId:s,eventName:r,cameraNumber:a,progress:n,progressLabel:l,onAction:i,dismissible:o=!1,onDismiss:c,className:d=""}){const u=Ju[e]||Ju.IDLE,x=u.icon;return e==="IDLE"&&!s&&!r?null:t.jsx("div",{className:`${u.bg} ${u.border} border rounded-xl p-4 ${d}`,children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`p-2 rounded-full bg-white/80 ${u.animate?"animate-pulse":""}`,children:t.jsx(x,{className:`w-6 h-6 ${u.iconColor} ${u.animate?"animate-spin":""}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:u.title}),t.jsx("p",{className:"text-sm text-gray-600",children:u.subtitle})]}),o&&c&&t.jsx("button",{onClick:c,className:"p-1 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-white/50",children:t.jsx(Ae,{className:"w-4 h-4"})})]}),(s||r||a)&&t.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[r&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-700",children:[t.jsx(ae,{className:"w-3.5 h-3.5"}),r]}),a&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-700",children:[t.jsx(st,{className:"w-3.5 h-3.5"}),"Camera ",a]}),s&&t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-white/60 rounded-lg text-xs font-medium text-gray-500",children:["ID: ",s]})]}),n!=null&&t.jsxs("div",{className:"mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-gray-600",children:l||"Progress"}),t.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(n),"%"]})]}),t.jsx(ob,{percent:n,color:e==="BACKUP_IN_PROGRESS"?"indigo":e==="COPYING_IN_PROGRESS"?"purple":"sky"})]}),i&&e==="ATTENTION_REQUIRED"&&t.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[t.jsx("button",{onClick:()=>i("review"),className:"px-3 py-1.5 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors",children:"Review Now"}),t.jsx("button",{onClick:()=>i("dismiss"),className:"px-3 py-1.5 bg-white text-gray-700 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:"Dismiss"})]})]})]})})}const db={SD_REMOVAL_PENDING:"SD Card Removed Early",WRONG_DESTINATION:"Wrong Destination Detected",DUPLICATE_FILE:"Potential Duplicate Detected",FILENAME_MAJOR:"Filename Needs Attention",SD_SESSION_OVERLAP:"SD Session Overlap",BACKUP_FAILED:"Backup Failed",QUALITY_ISSUE:"Quality Issue Detected",STORAGE_CRITICAL:"Storage Critical",AGENT_OFFLINE:"Agent Went Offline"},Yu={critical:{bg:"bg-red-50",border:"border-red-200",icon:Ws,iconColor:"text-red-500",headerBg:"bg-red-100"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:W,iconColor:"text-amber-500",headerBg:"bg-amber-100"},info:{bg:"bg-sky-50",border:"border-sky-200",icon:Hs,iconColor:"text-sky-500",headerBg:"bg-sky-100"}};function ub({open:e,onClose:s,reason:r,severity:a="warning",title:n,message:l,details:i,actions:o=[],onAction:c}){if(!e)return null;const d=Yu[a]||Yu.warning,u=d.icon,x=n||db[r]||"Attention Required",v=async h=>{c&&await c(h),h.closeOnClick!==!1&&s()},b=o.length>0?o:[{id:"acknowledge",label:"Acknowledge",variant:"primary"},{id:"dismiss",label:"Dismiss",variant:"secondary"}];return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:`w-full max-w-lg ${d.bg} ${d.border} border rounded-2xl shadow-2xl overflow-hidden animate-scale-in`,children:[t.jsxs("div",{className:`${d.headerBg} px-6 py-4 flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-full bg-white/80",children:t.jsx(u,{className:`w-6 h-6 ${d.iconColor}`})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900",children:x}),r&&r!==x&&t.jsx("p",{className:"text-sm text-gray-600",children:r})]})]}),t.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-white/50 transition-colors",children:t.jsx(Ae,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"px-6 py-4",children:[l&&t.jsx("p",{className:"text-gray-700 mb-4",children:l}),i&&t.jsxs("div",{className:"bg-white/60 border border-gray-200 rounded-xl p-4 mb-4",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Details"}),typeof i=="object"?t.jsx("pre",{className:"text-sm text-gray-700 overflow-auto max-h-40 whitespace-pre-wrap",children:JSON.stringify(i,null,2)}):t.jsx("p",{className:"text-sm text-gray-700",children:i})]}),a==="critical"&&t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-100 border border-red-200 rounded-lg mb-4",children:[t.jsx(ze,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-700 font-medium",children:"This requires immediate attention."})]})]}),t.jsx("div",{className:"px-6 py-4 bg-white/50 border-t border-gray-200 flex flex-wrap gap-3 justify-end",children:b.map(h=>t.jsx("button",{onClick:()=>v(h),disabled:h.disabled,className:`px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${h.variant==="primary"?"bg-gray-900 text-white hover:bg-gray-800 shadow-lg":h.variant==="danger"?"bg-red-600 text-white hover:bg-red-700":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"} ${h.disabled?"opacity-50 cursor-not-allowed":""}`,children:h.label},h.id))})]})})}function mb(e){if(!e)return null;const a=new Date(e)-new Date;if(a<=0)return{expired:!0,text:"Event ended",days:0,hours:0};const n=Math.floor(a/(1e3*60*60*24)),l=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),i=Math.floor(a%(1e3*60*60)/(1e3*60));let o="";return n>0?o=`${n}d ${l}h remaining`:l>0?o=`${l}h ${i}m remaining`:o=`${i}m remaining`,{expired:!1,text:o,days:n,hours:l,minutes:i}}function vi({event:e}){if(!e)return t.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(W,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium opacity-90",children:"No Active Event"})]}),t.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Activate an Event to Begin"}),t.jsx("p",{className:"text-white/80 text-sm",children:"All operations are scoped to the active event. Go to Events to activate one."})]}),t.jsxs(Ce,{to:"/events",className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[t.jsx(Ur,{className:"w-4 h-4"}),"Go to Events"]})]})});const s=mb(e.end_datetime||e.end_date),r=new Date(e.start_datetime||e.start_date),a=e.end_datetime||e.end_date?new Date(e.end_datetime||e.end_date):null;return t.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 opacity-10",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white rounded-full -translate-y-1/2 translate-x-1/2"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white rounded-full translate-y-1/2 -translate-x-1/2"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),t.jsx("span",{className:"text-sm font-medium opacity-90",children:"ACTIVE EVENT"})]}),t.jsx("h2",{className:"text-3xl font-bold mb-1",children:e.name}),t.jsx("p",{className:"text-white/80 text-sm",children:e.code})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ml,{className:"w-6 h-6"}),t.jsx("span",{className:"text-lg font-semibold",children:"Running"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[t.jsx(Wt,{className:"w-3 h-3"}),"Started"]}),t.jsx("div",{className:"font-semibold",children:r.toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),a&&t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[t.jsx(ge,{className:"w-3 h-3"}),"Ends"]}),t.jsx("div",{className:"font-semibold",children:a.toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),e.location&&t.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[t.jsx(Dc,{className:"w-3 h-3"}),"Location"]}),t.jsx("div",{className:"font-semibold truncate",children:e.location})]}),s&&t.jsxs("div",{className:`rounded-lg p-3 ${s.expired?"bg-yellow-500/30":"bg-white/10"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-xs mb-1",children:[t.jsx(ae,{className:"w-3 h-3"}),"Time Left"]}),t.jsx("div",{className:"font-semibold",children:s.expired?"Past end date":s.text})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nt,{className:"w-4 h-4 opacity-70"}),t.jsxs("span",{children:[e.media_count||0," media files"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ne,{className:"w-4 h-4 opacity-70"}),t.jsxs("span",{children:[e.groups_count||0," groups"]})]})]}),t.jsxs(Ce,{to:"/events",className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:["Manage Event",t.jsx(Sv,{className:"w-4 h-4"})]})]})]})]})}function le({title:e,value:s,icon:r,color:a,subtitle:n}){const l={blue:"bg-blue-50 text-blue-600",red:"bg-red-50 text-red-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:s}),n&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]}),t.jsx("div",{className:`p-3 rounded-lg ${l[a]}`,children:t.jsx(r,{className:"w-6 h-6"})})]})})}function bi({issues:e}){const s={critical:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",medium:"bg-yellow-100 text-yellow-700",low:"bg-gray-100 text-gray-700"};return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Issues"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[(e==null?void 0:e.length)===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No open issues"}),e==null?void 0:e.map(r=>t.jsx("div",{className:"p-4 hover:bg-gray-50",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:r.type.replace("_"," ")}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Reported by ",r.reporter]})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s[r.severity]}`,children:r.severity})]})},r.id))]})]})}function Xu({groups:e}){return t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Groups Health"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:e==null?void 0:e.map(s=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:s.code}),t.jsx("p",{className:"text-sm text-gray-500",children:s.name})]}),t.jsx("div",{className:"flex items-center gap-2",children:s.open_issues>0?t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:[s.open_issues," issues"]}):t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:"Healthy"})})]},s.id))})]})}function xb(){var w,_,A,S,U,R,T,V,K,se,$,L;const{user:e,activeEvent:s,isAdmin:r,isTeamLead:a,isGroupLeader:n,isQALead:l,isQA:i,isBackupLead:o,isBackup:c}=de(),d=Y0(),[u,x]=y.useState(null),[v,b]=y.useState(!0),[h,p]=y.useState([]),[N,m]=y.useState("IDLE"),[f,g]=y.useState({open:!1,reason:null,details:null}),k=y.useCallback(I=>{const z=[],H=Date.now();return I!=null&&I.recent_issues&&I.recent_issues.slice(0,5).forEach((ee,ne)=>{var qe;z.push({id:`issue-${ee.id||ne}`,source:"issues",kind:ee.severity==="critical"?"error":"warning",title:`Issue: ${((qe=ee.type)==null?void 0:qe.replace("_"," "))||"Unknown"}`,message:`Reported by ${ee.reporter||"Unknown"}`,details:ee,createdAt:H-ne*6e4})}),I!=null&&I.overview&&(I.overview.active_sessions>0&&z.push({id:"sessions-active",source:"session",kind:"info",title:`${I.overview.active_sessions} Active Sessions`,message:"SD cards currently being processed",createdAt:H-12e4}),I.overview.pending_backups>0&&z.push({id:"backups-pending",source:"backup",kind:I.overview.pending_backups>10?"warning":"info",title:`${I.overview.pending_backups} Pending Backups`,message:"Files awaiting backup verification",createdAt:H-18e4})),z.sort((ee,ne)=>ne.createdAt-ee.createdAt),z},[]);y.useEffect(()=>{C()},[s==null?void 0:s.id]);const C=async()=>{var I,z;try{let H;r()?H=await Ge.getAdmin(s==null?void 0:s.id):a()?H=await Ge.getAdmin(s==null?void 0:s.id):n()?H=await Ge.getGroupLeader():l()||i()?H=await Ge.getQA():o()||c()?H=await Ge.getBackup():H=await Ge.getEditor(),x(H);const ee=k(H);p(ee),((I=H==null?void 0:H.overview)==null?void 0:I.active_sessions)>0?m("SESSION_ACTIVE"):((z=H==null?void 0:H.overview)==null?void 0:z.open_issues)>5&&m("ATTENTION_REQUIRED")}catch(H){console.error("Failed to load dashboard:",H),d.error("Dashboard Error","Failed to load dashboard data")}finally{b(!1)}},E=async()=>{d.info("Refreshing","Updating dashboard data..."),await C(),d.success("Updated","Dashboard data refreshed")},j=I=>{d.success("Action Recorded",`Decision: ${I.id}`),g({open:!1,reason:null,details:null})};if(v)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(r()&&(u!=null&&u.overview))return t.jsxs("div",{className:"space-y-6",children:[t.jsx(ub,{open:f.open,onClose:()=>g({open:!1,reason:null,details:null}),reason:f.reason,severity:f.severity,title:f.title,message:f.message,details:f.details,onAction:j}),t.jsx(vi,{event:s}),N!=="IDLE"&&t.jsx(cb,{state:N,eventName:u.overview.active_event_name,onAction:I=>{I==="review"&&g({open:!0,reason:"ATTENTION_REQUIRED",severity:"warning",title:"Issues Require Attention",message:`There are ${u.overview.open_issues} open issues that need review.`,details:{openIssues:u.overview.open_issues,criticalIssues:u.overview.critical_issues}})},dismissible:!0,onDismiss:()=>m("IDLE")}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Command View"}),t.jsx("p",{className:"text-gray-500",children:"System-wide situational awareness  signals, not metrics"})]}),t.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[t.jsx(Be,{className:"w-4 h-4"}),"Refresh"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(Ce,{to:"/events",className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Events"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Activate / switch active event"})]}),t.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:t.jsx(Wt,{className:"w-5 h-5"})})]})}),t.jsx(Ce,{to:"/issues",className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Issues"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Triage and assign"})]}),t.jsx("div",{className:"p-2 rounded-lg bg-red-50 text-red-600",children:t.jsx(W,{className:"w-5 h-5"})})]})}),t.jsx(Ce,{to:"/users",className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Users"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Invite and manage access"})]}),t.jsx("div",{className:"p-2 rounded-lg bg-purple-50 text-purple-600",children:t.jsx(Ne,{className:"w-5 h-5"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Operational Status"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Fast read on risk and throughput"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${(u.overview.critical_issues||0)>0?"bg-red-100 text-red-700":(u.overview.open_issues||0)>5?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:(u.overview.critical_issues||0)>0?"Critical":(u.overview.open_issues||0)>5?"Attention":"Stable"})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[t.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Open Issues"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:u.overview.open_issues||0})]}),t.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Critical"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:u.overview.critical_issues||0})]}),t.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Pending Backups"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:u.overview.pending_backups||0})]}),t.jsxs("div",{className:"rounded-lg bg-gray-50 p-3",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Active Sessions"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:u.overview.active_sessions||0})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Editors Online"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Last 2 minutes"})]}),t.jsx(qs,{className:"w-4 h-4 text-green-600"})]}),t.jsxs("div",{className:"mt-4 flex items-baseline gap-2",children:[t.jsx("div",{className:"text-3xl font-bold text-gray-900",children:u.overview.online_agents||0}),t.jsxs("div",{className:"text-sm text-gray-500",children:["/ ",u.overview.total_editors||0]})]}),t.jsxs("div",{className:"mt-3 rounded-lg bg-gray-50 p-3",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Backup Coverage"}),t.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[u.overview.backup_coverage||0,"%"]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsx(le,{title:"Active SD Sessions",value:u.overview.active_sessions||0,icon:ae,color:"blue",subtitle:"Currently copying"}),t.jsx(le,{title:"Cameras Healthy",value:u.overview.cameras_healthy||0,icon:st,color:"green",subtitle:`${u.overview.cameras_attention||0} need attention`}),t.jsx(le,{title:"Open Issues",value:u.overview.open_issues||0,icon:W,color:"red",subtitle:`${u.overview.critical_issues||0} critical`}),t.jsx(le,{title:"Pending Backups",value:u.overview.pending_backups||0,icon:X,color:"yellow"}),t.jsx(le,{title:"Early Removals",value:u.overview.early_removals_today||0,icon:W,color:u.overview.early_removals_today>0?"red":"green",subtitle:"Today"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Media Today"}),t.jsx(nt,{className:"w-4 h-4 text-blue-500"})]}),t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[u.overview.media_today||0,t.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"files indexed"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Total Media"}),t.jsx(xs,{className:"w-4 h-4 text-purple-500"})]}),t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[u.overview.total_media||0,t.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"files indexed"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Cameras Needing Attention"}),t.jsx(st,{className:"w-4 h-4 text-red-500"})]}),t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[u.overview.cameras_attention||0,t.jsx("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"cameras"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx(bi,{issues:u.recent_issues}),t.jsx(Xu,{groups:u.groups_health}),t.jsx(ib,{items:h,maxItems:10,title:"Live Activity",showRefresh:!0,onRefresh:E,compact:!0})]}),t.jsx(yi,{}),t.jsx(fi,{})]});if(a()&&(u!=null&&u.overview))return t.jsxs("div",{className:"space-y-6",children:[t.jsx(vi,{event:s}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Operations Command"}),t.jsx("p",{className:"text-gray-500",children:"Event operations oversight  real-time situational awareness"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsx(le,{title:"Active SD Sessions",value:u.overview.active_sessions||0,icon:ae,color:"blue",subtitle:"Currently copying"}),t.jsx(le,{title:"Cameras Healthy",value:u.overview.cameras_healthy||0,icon:st,color:"green",subtitle:`${u.overview.cameras_attention||0} need attention`}),t.jsx(le,{title:"Open Issues",value:u.overview.open_issues||0,icon:W,color:"red",subtitle:`${u.overview.critical_issues||0} critical`}),t.jsx(le,{title:"Pending Backups",value:u.overview.pending_backups||0,icon:X,color:"yellow"}),t.jsx(le,{title:"Early Removals",value:u.overview.early_removals_today||0,icon:W,color:u.overview.early_removals_today>0?"red":"green",subtitle:"Today"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsx(bi,{issues:u.recent_issues}),t.jsx(Xu,{groups:u.groups_health})]}),t.jsx(yi,{}),t.jsx(fi,{})]});if(n()&&(u!=null&&u.groups))return t.jsxs("div",{className:"space-y-6",children:[t.jsx(vi,{event:s}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Control View"}),t.jsx("p",{className:"text-gray-500",children:"Your group's operations  no global data, only your team"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(le,{title:"Editors Online",value:((w=u.team_stats)==null?void 0:w.online_members)||0,icon:qs,color:"green",subtitle:`of ${((_=u.team_stats)==null?void 0:_.total_members)||0} total`}),t.jsx(le,{title:"Active Sessions",value:((A=u.team_stats)==null?void 0:A.active_sessions)||0,icon:ae,color:"blue",subtitle:"In your group"}),t.jsx(le,{title:"Open Issues",value:((S=u.groups)==null?void 0:S.reduce((I,z)=>I+z.open_issues,0))||0,icon:W,color:"red"}),t.jsx(le,{title:"Backup Completion",value:`${((U=u.team_stats)==null?void 0:U.backup_percentage)||0}%`,icon:X,color:((R=u.team_stats)==null?void 0:R.backup_percentage)>=80?"green":"yellow",subtitle:"Group only"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"My Team"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:(T=u.groups)==null?void 0:T.map(I=>t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"font-medium",children:[I.code," - ",I.name]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[t.jsx(zt,{className:"w-2 h-2 fill-green-500 text-green-500"}),I.online_count||0," online"]})})]}),t.jsxs("div",{className:"flex gap-4 text-sm",children:[t.jsxs("span",{className:"text-gray-600",children:[I.member_count," members"]}),t.jsxs("span",{className:"text-red-600",children:[I.open_issues," issues"]})]})]},I.id))})]}),t.jsx(bi,{issues:u.recent_issues})]}),t.jsx(yi,{}),t.jsx(fi,{}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 text-sm text-blue-700",children:[t.jsx("strong",{children:" Scoped View"}),"  You only see data from your assigned groups. No global search or unrelated data."]})]});if((l()||i())&&(u!=null&&u.issue_summary)){const I=u.severity_distribution||{critical:0,high:0,medium:0,low:0},z=Object.values(I).reduce((H,ee)=>H+ee,0);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l()?"QA Lead Workbench":"Issue Workbench"}),t.jsx("p",{className:"text-gray-500",children:"Issue review only  you never see clean footage, only problems to resolve"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(le,{title:"Open Queue",value:u.issue_summary.open||0,icon:ge,color:"blue"}),t.jsx(le,{title:"Acknowledged",value:u.issue_summary.acknowledged||0,icon:ae,color:"yellow"}),t.jsx(le,{title:"In Progress",value:u.issue_summary.in_progress||0,icon:xs,color:"purple"}),t.jsx(le,{title:"Resolved Today",value:u.issue_summary.resolved_today||0,icon:Y,color:"green"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Severity Distribution"}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-red-700",children:I.critical||0}),t.jsx("div",{className:"text-xs text-red-600",children:"Critical"})]}),t.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-700",children:I.high||0}),t.jsx("div",{className:"text-xs text-orange-600",children:"High"})]}),t.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:I.medium||0}),t.jsx("div",{className:"text-xs text-yellow-600",children:"Medium"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-700",children:I.low||0}),t.jsx("div",{className:"text-xs text-gray-600",children:"Low"})]})]}),z>0&&t.jsxs("div",{className:"h-3 flex rounded-full overflow-hidden",children:[t.jsx("div",{className:"bg-red-500",style:{width:`${I.critical/z*100}%`}}),t.jsx("div",{className:"bg-orange-500",style:{width:`${I.high/z*100}%`}}),t.jsx("div",{className:"bg-yellow-500",style:{width:`${I.medium/z*100}%`}}),t.jsx("div",{className:"bg-gray-400",style:{width:`${I.low/z*100}%`}})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Critical Issues Queue"})}),t.jsxs("div",{className:"divide-y divide-gray-100 max-h-80 overflow-y-auto",children:[((V=u.critical_issues)==null?void 0:V.length)===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No critical issues"}),(K=u.critical_issues)==null?void 0:K.map(H=>{var ee,ne;return t.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:(ee=H.type)==null?void 0:ee.replace("_"," ")}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Camera ",H.camera_number||"?","  ",(ne=H.group)==null?void 0:ne.group_code]})]}),t.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:"Critical"})]})},H.id)})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Cameras with Repeated Issues"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[(u.problem_cameras||[]).length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No cameras flagged"}),(u.problem_cameras||[]).map(H=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(st,{className:"w-5 h-5 text-gray-400"}),t.jsxs("span",{className:"font-medium",children:["Camera ",H.camera_number]})]}),t.jsxs("span",{className:"text-red-600 text-sm",children:[H.issue_count," issues"]})]},H.camera_number))]})]})]}),t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-3 text-sm text-purple-700",children:[t.jsx("strong",{children:" QA Access"}),"  You can only view and resolve issues. No access to names, regions, or clean footage."]})]})}if((o()||c())&&(u!=null&&u.coverage)){const I=u.coverage;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o()?"Archive Integrity Lead":"Archive Integrity View"}),t.jsx("p",{className:"text-gray-500",children:"Coverage and verification status  you see integrity, not content"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(le,{title:"Pending Backups",value:I.pending||0,icon:ge,color:I.pending>10?"red":"yellow",subtitle:"By editor"}),t.jsx(le,{title:"Disks In Use",value:I.disks_in_use||0,icon:X,color:"blue"}),t.jsx(le,{title:"Verification Failures",value:I.verification_failures||0,icon:W,color:I.verification_failures>0?"red":"green"}),t.jsx(le,{title:"Coverage",value:`${I.coverage_percentage||0}%`,icon:Y,color:I.coverage_percentage>=90?"green":"yellow"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Backup Coverage"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:I.total_media||0}),t.jsx("div",{className:"text-sm text-gray-500",children:"Total Files"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:I.backed_up||0}),t.jsx("div",{className:"text-sm text-gray-500",children:"Backed Up"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:I.verified||0}),t.jsx("div",{className:"text-sm text-gray-500",children:"Verified"})]})]}),t.jsx("div",{className:"overflow-hidden h-4 flex rounded-full bg-gray-200",children:t.jsx("div",{style:{width:`${I.coverage_percentage}%`},className:"bg-green-500 transition-all duration-500"})}),t.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[t.jsx("span",{children:"0%"}),t.jsxs("span",{children:[I.coverage_percentage,"% backed up"]}),t.jsx("span",{children:"100%"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending by Editor"})}),t.jsxs("div",{className:"divide-y divide-gray-100 max-h-60 overflow-y-auto",children:[(u.pending_by_editor||[]).length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"All caught up!"}),(u.pending_by_editor||[]).map(z=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:z.name}),t.jsxs("span",{className:`text-sm ${z.pending>5?"text-red-600":"text-yellow-600"}`,children:[z.pending," pending"]})]},z.id))]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Disk Rotation Status"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[(u.disk_status||[]).length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No disk data"}),(u.disk_status||[]).map(z=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(X,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"font-medium",children:z.label})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${z.status==="active"?"bg-green-100 text-green-700":z.status==="full"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:z.status})]},z.id))]})]})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 text-sm text-green-700",children:[t.jsx("strong",{children:" Archive View"}),"  You see coverage and verification, not file contents. Focus on integrity, not media."]})]})}return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome, ",e==null?void 0:e.name]}),t.jsx("p",{className:"text-gray-500",children:"Your activity overview"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(le,{title:"Files Indexed Today",value:((se=u==null?void 0:u.today)==null?void 0:se.files_indexed)||0,icon:nt,color:"blue"}),t.jsx(le,{title:"Issues Reported",value:(($=u==null?void 0:u.today)==null?void 0:$.issues_reported)||0,icon:W,color:"yellow"}),t.jsx(le,{title:"Backups Verified",value:((L=u==null?void 0:u.today)==null?void 0:L.backups_verified)||0,icon:Y,color:"green"})]})]})}function ji({percentage:e,color:s="sky",size:r="md"}){const a={sky:"bg-sky-500",emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500",purple:"bg-purple-500"},n={sm:"h-1.5",md:"h-2.5",lg:"h-3"};return t.jsx("div",{className:`w-full bg-gray-200 rounded-full ${n[r]}`,children:t.jsx("div",{className:`${n[r]} rounded-full ${a[s]} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})})}function be({title:e,value:s,subtitle:r,icon:a,color:n,trend:l,trendValue:i}){const o={sky:"bg-sky-50 text-sky-600",emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",red:"bg-red-50 text-red-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r}),l&&t.jsxs("div",{className:`flex items-center gap-1 mt-2 text-sm ${l==="up"?"text-emerald-600":l==="down"?"text-red-600":"text-gray-500"}`,children:[l==="up"?t.jsx(xs,{className:"w-4 h-4"}):l==="down"?t.jsx(jr,{className:"w-4 h-4"}):t.jsx(Fc,{className:"w-4 h-4"}),t.jsx("span",{children:i})]})]}),t.jsx("div",{className:`p-3 rounded-lg ${o[n]}`,children:t.jsx(a,{className:"w-5 h-5"})})]})})}function pb({alert:e}){const s={critical:"border-red-200 bg-red-50",warning:"border-amber-200 bg-amber-50",info:"border-sky-200 bg-sky-50"},r={critical:t.jsx(Ws,{className:"w-5 h-5 text-red-500"}),warning:t.jsx(W,{className:"w-5 h-5 text-amber-500"}),info:t.jsx(ze,{className:"w-5 h-5 text-sky-500"})};return t.jsxs("div",{className:`p-3 rounded-lg border ${s[e.severity]} flex items-start gap-3`,children:[r[e.severity],t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-gray-900 text-sm",children:e.title}),t.jsx("div",{className:"text-gray-600 text-xs mt-0.5",children:e.message}),t.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:[e.time_ago,"  ",e.user]})]})]})}function hb(){var g,k,C,E,j,w,_,A,S,U,R,T,V,K,se,$,L,I,z,H,ee,ne,qe,G,Te,Ns,Mt,Ys,Il,Xs,Br,Ga,Uc,zc,Bc,Hc,Vc,qc,Wc,Gc,Qc,Kc,Jc,Yc,Xc,Zc,ed,td,sd,rd,ad,nd,ld,id,od,cd;const{activeEvent:e}=de(),[s,r]=y.useState(!0),[a,n]=y.useState("overview"),[l,i]=y.useState(null),[o,c]=y.useState(null),[d,u]=y.useState(null),[x,v]=y.useState(null),[b,h]=y.useState(null),[p,N]=y.useState(null);y.useEffect(()=>{m()},[e==null?void 0:e.id]);const m=async()=>{r(!0);const M=e==null?void 0:e.id;try{const[we,Qa,Dl,Ka,Fl,ip]=await Promise.all([Ge.getTimeAnalytics(M),Ge.getIncidents(M,7),Ge.getSdCardLifecycle(M),Ge.getComparative(M),Ge.getPredictive(M),Ge.getAlerts(M)]);i(we),c(Qa),u(Dl),v(Ka),h(Fl),N(ip)}catch(we){console.error("Failed to load analytics:",we)}finally{r(!1)}};if(s&&!l)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Be,{className:"w-8 h-8 animate-spin text-sky-500"})});const f=[{id:"overview",label:"Overview",icon:Bs},{id:"time",label:"Time Analytics",icon:ge},{id:"incidents",label:"Incidents",icon:W},{id:"sdcards",label:"SD Cards",icon:X},{id:"leaderboard",label:"Leaderboard",icon:Cv},{id:"planning",label:"Planning",icon:In}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"360 view of workflow operations"})]}),t.jsxs("button",{onClick:m,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors text-sm",children:[t.jsx(Be,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Refresh"]})]}),((g=p==null?void 0:p.summary)==null?void 0:g.critical)>0&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-4",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(Ma,{className:"w-6 h-6 text-red-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"font-semibold text-red-900",children:[p.summary.critical," Critical Alert",p.summary.critical>1?"s":""]}),t.jsx("div",{className:"text-red-700 text-sm",children:"Immediate attention required"})]}),t.jsx("button",{onClick:()=>n("incidents"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"View Alerts"})]}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:f.map(M=>t.jsxs("button",{onClick:()=>n(M.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors text-sm whitespace-nowrap ${a===M.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(M.icon,{className:"w-4 h-4"}),M.label]},M.id))})}),a==="overview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Processing Rate",value:`${((k=l==null?void 0:l.summary)==null?void 0:k.files_per_hour_24h)||0}/hr`,subtitle:`${((C=l==null?void 0:l.summary)==null?void 0:C.total_files_24h)||0} files in 24h`,icon:ml,color:"sky"}),t.jsx(be,{title:"Active Alerts",value:((E=p==null?void 0:p.summary)==null?void 0:E.total)||0,subtitle:`${((j=p==null?void 0:p.summary)==null?void 0:j.critical)||0} critical`,icon:Ma,color:((w=p==null?void 0:p.summary)==null?void 0:w.critical)>0?"red":"emerald"}),t.jsx(be,{title:"ETA Completion",value:((_=b==null?void 0:b.eta)==null?void 0:_.copies_formatted)||"N/A",subtitle:`${((A=b==null?void 0:b.pending_work)==null?void 0:A.total)||0} pending`,icon:gi,color:"purple"}),t.jsx(be,{title:"Online Editors",value:((S=b==null?void 0:b.resources)==null?void 0:S.online_editors)||0,subtitle:((U=b==null?void 0:b.resources)==null?void 0:U.status)==="understaffed"?"Need more staff":"Optimal",icon:Ne,color:((R=b==null?void 0:b.resources)==null?void 0:R.status)==="understaffed"?"amber":"emerald"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Alerts"}),t.jsxs("span",{className:"text-xs text-gray-500",children:[((T=p==null?void 0:p.summary)==null?void 0:T.total)||0," total"]})]}),t.jsxs("div",{className:"p-4 space-y-3 max-h-80 overflow-y-auto",children:[(V=p==null?void 0:p.alerts)==null?void 0:V.slice(0,5).map((M,we)=>t.jsx(pb,{alert:M},we)),(!(p!=null&&p.alerts)||p.alerts.length===0)&&t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(Y,{className:"w-12 h-12 mx-auto mb-2 text-emerald-300"}),t.jsx("p",{children:"No active alerts"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Top Performers Today"})}),t.jsx("div",{className:"p-4 space-y-3",children:(K=x==null?void 0:x.editor_leaderboard)==null?void 0:K.slice(0,5).map((M,we)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${we===0?"bg-amber-100 text-amber-700":we===1?"bg-gray-100 text-gray-700":we===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:we+1}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-gray-900 text-sm",children:M.name}),t.jsxs("div",{className:"text-xs text-gray-500",children:[M.files_this_week," this week"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold text-gray-900",children:M.files_today}),t.jsxs("div",{className:`text-xs flex items-center gap-1 ${M.trend==="up"?"text-emerald-600":M.trend==="down"?"text-red-600":"text-gray-500"}`,children:[M.trend==="up"?t.jsx(xs,{className:"w-3 h-3"}):M.trend==="down"?t.jsx(jr,{className:"w-3 h-3"}):null,M.change_percent>0?"+":"",M.change_percent,"%"]})]})]},M.id))})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Files Processed (Last 12 Hours)"}),t.jsx("div",{className:"flex items-end gap-2 h-32",children:(se=l==null?void 0:l.hourly_breakdown)==null?void 0:se.map((M,we)=>{var Ka;const Qa=Math.max(...((Ka=l.hourly_breakdown)==null?void 0:Ka.map(Fl=>Fl.files))||[1]),Dl=Qa>0?M.files/Qa*100:0;return t.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[t.jsx("div",{className:"w-full bg-gray-100 rounded-t relative",style:{height:"100px"},children:t.jsx("div",{className:"absolute bottom-0 w-full bg-sky-500 rounded-t transition-all",style:{height:`${Dl}%`}})}),t.jsx("span",{className:"text-xs text-gray-500",children:M.hour})]},we)})})]})]}),a==="time"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Avg Session Duration",value:`${(($=l==null?void 0:l.summary)==null?void 0:$.avg_session_minutes)||0} min`,icon:ge,color:"sky"}),t.jsx(be,{title:"Avg Files/Session",value:((L=l==null?void 0:l.summary)==null?void 0:L.avg_files_per_session)||0,icon:ae,color:"emerald"}),t.jsx(be,{title:"Files/Hour (24h)",value:((I=l==null?void 0:l.summary)==null?void 0:I.files_per_hour_24h)||0,icon:ml,color:"purple"}),t.jsx(be,{title:"Total (24h)",value:((z=l==null?void 0:l.summary)==null?void 0:z.total_files_24h)||0,icon:Bs,color:"amber"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Editor Efficiency (Last 8 Hours)"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sessions"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files/Hour"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(H=l==null?void 0:l.editor_efficiency)==null?void 0:H.map(M=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-2.5 h-2.5 ${M.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),t.jsx("span",{className:"font-medium text-gray-900",children:M.name})]})}),t.jsx("td",{className:"px-4 py-3 text-right font-medium",children:M.files_last_8h}),t.jsx("td",{className:"px-4 py-3 text-right",children:M.sessions_last_8h}),t.jsx("td",{className:"px-4 py-3 text-right font-bold text-sky-600",children:M.files_per_hour}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${M.is_online?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:M.is_online?"Online":"Offline"})})]},M.id))})]})})]}),((ee=l==null?void 0:l.bottlenecks)==null?void 0:ee.length)>0&&t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[t.jsxs("h3",{className:"font-semibold text-amber-900 mb-3 flex items-center gap-2",children:[t.jsx(W,{className:"w-5 h-5"}),"Bottlenecks Detected"]}),t.jsx("div",{className:"space-y-2",children:l.bottlenecks.map(M=>t.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:M.editor}),t.jsx("span",{className:"text-gray-500 mx-2",children:""}),t.jsxs("span",{children:["Camera ",M.camera]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm",children:[M.files_copied,"/",M.files_detected," files"]}),t.jsxs("div",{className:"text-xs text-amber-600",children:[M.duration_minutes," min elapsed"]})]})]},M.session_id))})]})]}),a==="incidents"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Total Incidents",value:((ne=o==null?void 0:o.summary)==null?void 0:ne.total_incidents)||0,subtitle:"Last 7 days",icon:W,color:"amber"}),t.jsx(be,{title:"File Deletions",value:((qe=o==null?void 0:o.summary)==null?void 0:qe.deletions)||0,icon:Tt,color:"red"}),t.jsx(be,{title:"Early Removals",value:((G=o==null?void 0:o.summary)==null?void 0:G.early_removals)||0,icon:Ic,color:"amber"}),t.jsx(be,{title:"Repeat Offenders",value:((Te=o==null?void 0:o.summary)==null?void 0:Te.repeat_offenders)||0,icon:Ne,color:((Ns=o==null?void 0:o.summary)==null?void 0:Ns.repeat_offenders)>0?"red":"emerald"})]}),((Mt=o==null?void 0:o.repeat_offenders)==null?void 0:Mt.length)>0&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[t.jsx("h3",{className:"font-semibold text-red-900 mb-3",children:" Repeat Offenders"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:o.repeat_offenders.map(M=>t.jsxs("div",{className:"bg-white rounded-lg p-3",children:[t.jsx("div",{className:"font-medium text-gray-900",children:M.name}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:M.email}),t.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[M.deletions>0&&t.jsxs("span",{className:"text-red-600",children:[M.deletions," deletions"]}),M.early_removals>0&&t.jsxs("span",{className:"text-amber-600",children:[M.early_removals," early removals"]})]})]},M.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-2",children:[t.jsx(Tt,{className:"w-5 h-5 text-red-500"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"File Deletions"})]}),t.jsxs("div",{className:"p-4 space-y-2 max-h-64 overflow-y-auto",children:[(Ys=o==null?void 0:o.deletions)==null?void 0:Ys.map(M=>t.jsxs("div",{className:"p-2 bg-red-50 rounded-lg text-sm",children:[t.jsx("div",{className:"font-medium text-red-900",children:M.user}),t.jsx("div",{className:"text-red-700 text-xs",children:M.details}),t.jsx("div",{className:"text-red-500 text-xs mt-1",children:new Date(M.created_at).toLocaleString()})]},M.id)),(!(o!=null&&o.deletions)||o.deletions.length===0)&&t.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No deletions recorded"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-2",children:[t.jsx(Wv,{className:"w-5 h-5 text-amber-500"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"Early SD Removals"})]}),t.jsxs("div",{className:"p-4 space-y-2 max-h-64 overflow-y-auto",children:[(Il=o==null?void 0:o.early_removals)==null?void 0:Il.map(M=>t.jsxs("div",{className:"p-2 bg-amber-50 rounded-lg text-sm",children:[t.jsxs("div",{className:"font-medium text-amber-900",children:[M.user," - Camera ",M.camera]}),t.jsxs("div",{className:"text-amber-700 text-xs",children:[M.files_pending," files not copied"]}),t.jsx("div",{className:"text-amber-500 text-xs mt-1",children:new Date(M.created_at).toLocaleString()})]},M.id)),(!(o!=null&&o.early_removals)||o.early_removals.length===0)&&t.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No early removals recorded"})]})]})]})]}),a==="sdcards"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Total SD Cards",value:((Xs=d==null?void 0:d.summary)==null?void 0:Xs.total_cards)||0,icon:X,color:"sky"}),t.jsx(be,{title:"Currently In Use",value:((Br=d==null?void 0:d.summary)==null?void 0:Br.in_use)||0,icon:ae,color:"emerald"}),t.jsx(be,{title:"Available",value:((Ga=d==null?void 0:d.summary)==null?void 0:Ga.available)||0,icon:Y,color:"sky"}),t.jsx(be,{title:"Avg Reliability",value:`${((Uc=d==null?void 0:d.summary)==null?void 0:Uc.avg_reliability)||100}%`,icon:In,color:((zc=d==null?void 0:d.summary)==null?void 0:zc.avg_reliability)<90?"amber":"emerald"})]}),((Bc=d==null?void 0:d.problematic_cards)==null?void 0:Bc.length)>0&&t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[t.jsx("h3",{className:"font-semibold text-amber-900 mb-3",children:" Cards Needing Attention"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:d.problematic_cards.map(M=>t.jsxs("div",{className:"bg-white rounded-lg p-3",children:[t.jsxs("div",{className:"font-medium",children:["Camera ",M.camera_number,M.sd_label]}),t.jsx("div",{className:"text-xs text-gray-500",children:M.hardware_id}),t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(ji,{percentage:M.reliability_score,color:"amber",size:"sm"}),t.jsxs("span",{className:"text-xs text-amber-600",children:[M.reliability_score,"%"]})]}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[M.early_removals," early removals"]})]},M.id))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"All SD Cards"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Card"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sessions"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Files"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Reliability"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Last Used"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(Hc=d==null?void 0:d.cards)==null?void 0:Hc.map(M=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsxs("div",{className:"font-medium",children:["Camera ",M.camera_number,M.sd_label]}),t.jsx("div",{className:"text-xs text-gray-500",children:M.hardware_id})]}),t.jsx("td",{className:"px-4 py-3 text-right",children:M.total_sessions}),t.jsx("td",{className:"px-4 py-3 text-right",children:M.total_files_processed}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[t.jsx("div",{className:"w-16",children:t.jsx(ji,{percentage:M.reliability_score,color:M.reliability_score>=90?"emerald":M.reliability_score>=70?"amber":"red",size:"sm"})}),t.jsxs("span",{className:"text-xs",children:[M.reliability_score,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${M.status==="in_use"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-600"}`,children:M.status==="in_use"?"In Use":"Available"})}),t.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-500",children:M.last_used?new Date(M.last_used).toLocaleDateString():"Never"})]},M.id))})]})})]})]}),a==="leaderboard"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Group Performance"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Today"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Yesterday"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"This Week"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Backup %"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Trend"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(Vc=x==null?void 0:x.group_comparison)==null?void 0:Vc.map(M=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium",children:M.group_code}),t.jsxs("div",{className:"text-xs text-gray-500",children:[M.member_count," members"]})]}),t.jsx("td",{className:"px-4 py-3 text-right font-bold",children:M.files_today}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:M.files_yesterday}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:M.files_this_week}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[t.jsx("div",{className:"w-16",children:t.jsx(ji,{percentage:M.backup_percentage,color:"emerald",size:"sm"})}),t.jsxs("span",{className:"text-xs",children:[M.backup_percentage,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:M.trend==="up"?t.jsx(xs,{className:"w-5 h-5 text-emerald-500 mx-auto"}):M.trend==="down"?t.jsx(jr,{className:"w-5 h-5 text-red-500 mx-auto"}):t.jsx(Fc,{className:"w-5 h-5 text-gray-400 mx-auto"})})]},M.id))})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:" Editor Leaderboard"})}),t.jsx("div",{className:"p-4 space-y-3",children:(qc=x==null?void 0:x.editor_leaderboard)==null?void 0:qc.map((M,we)=>t.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold ${we===0?"bg-amber-100 text-amber-700":we===1?"bg-gray-200 text-gray-700":we===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:we<3?["","",""][we]:we+1}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-gray-900",children:M.name}),t.jsxs("div",{className:"text-xs text-gray-500",children:[M.files_this_week," files this week"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:M.files_today}),t.jsxs("div",{className:`text-xs flex items-center justify-end gap-1 ${M.trend==="up"?"text-emerald-600":M.trend==="down"?"text-red-600":"text-gray-500"}`,children:[M.trend==="up"?t.jsx(xs,{className:"w-3 h-3"}):M.trend==="down"?t.jsx(jr,{className:"w-3 h-3"}):null,M.change_percent>0?"+":"",M.change_percent,"% vs yesterday"]})]})]},M.id))})]})]}),a==="planning"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(be,{title:"Pending Copies",value:((Wc=b==null?void 0:b.pending_work)==null?void 0:Wc.copies)||0,icon:ae,color:"sky"}),t.jsx(be,{title:"Pending Backups",value:((Gc=b==null?void 0:b.pending_work)==null?void 0:Gc.backups)||0,icon:X,color:"amber"}),t.jsx(be,{title:"Pending Verification",value:((Qc=b==null?void 0:b.pending_work)==null?void 0:Qc.verification)||0,icon:Y,color:"purple"}),t.jsx(be,{title:"Total Pending",value:((Kc=b==null?void 0:b.pending_work)==null?void 0:Kc.total)||0,icon:In,color:"red"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Estimated Completion Time"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-sky-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Copies ETA"}),t.jsx("div",{className:"text-2xl font-bold text-sky-700",children:((Jc=b==null?void 0:b.eta)==null?void 0:Jc.copies_formatted)||"N/A"})]}),t.jsx(gi,{className:"w-8 h-8 text-sky-500"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Backups ETA"}),t.jsx("div",{className:"text-2xl font-bold text-amber-700",children:((Yc=b==null?void 0:b.eta)==null?void 0:Yc.backups_formatted)||"N/A"})]}),t.jsx(gi,{className:"w-8 h-8 text-amber-500"})]}),t.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Based on ",((Xc=b==null?void 0:b.processing_rate)==null?void 0:Xc.files_per_hour)||0," files/hour processing rate"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Resource Status"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:`p-4 rounded-lg ${((Zc=b==null?void 0:b.resources)==null?void 0:Zc.status)==="understaffed"?"bg-red-50":((ed=b==null?void 0:b.resources)==null?void 0:ed.status)==="overstaffed"?"bg-amber-50":"bg-emerald-50"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),t.jsx("div",{className:`text-xl font-bold capitalize ${((td=b==null?void 0:b.resources)==null?void 0:td.status)==="understaffed"?"text-red-700":((sd=b==null?void 0:b.resources)==null?void 0:sd.status)==="overstaffed"?"text-amber-700":"text-emerald-700"}`,children:((rd=b==null?void 0:b.resources)==null?void 0:rd.status)||"Unknown"})]}),t.jsx(Ne,{className:`w-8 h-8 ${((ad=b==null?void 0:b.resources)==null?void 0:ad.status)==="understaffed"?"text-red-500":((nd=b==null?void 0:b.resources)==null?void 0:nd.status)==="overstaffed"?"text-amber-500":"text-emerald-500"}`})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:((ld=b==null?void 0:b.resources)==null?void 0:ld.online_editors)||0}),t.jsx("div",{className:"text-xs text-gray-500",children:"Online Editors"})]}),t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:((id=b==null?void 0:b.resources)==null?void 0:id.recommended_editors)||0}),t.jsx("div",{className:"text-xs text-gray-500",children:"Recommended"})]})]}),t.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Workload: ",((od=b==null?void 0:b.resources)==null?void 0:od.workload_per_editor)||0," files per editor"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Editor Workload Distribution"})}),t.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:(cd=b==null?void 0:b.editor_workload)==null?void 0:cd.map(M=>t.jsxs("div",{className:`p-3 rounded-lg border ${M.status==="overloaded"?"border-red-200 bg-red-50":M.status==="busy"?"border-amber-200 bg-amber-50":M.status==="available"?"border-emerald-200 bg-emerald-50":"border-gray-200 bg-gray-50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-2.5 h-2.5 ${M.is_online?"fill-emerald-500 text-emerald-500":"fill-gray-300 text-gray-300"}`}),t.jsx("span",{className:"font-medium",children:M.name})]}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${M.status==="overloaded"?"bg-red-200 text-red-700":M.status==="busy"?"bg-amber-200 text-amber-700":M.status==="available"?"bg-emerald-200 text-emerald-700":"bg-gray-200 text-gray-600"}`,children:M.status})]}),t.jsxs("div",{className:"mt-2 text-sm",children:[t.jsx("span",{className:"font-bold",children:M.pending_files})," files pending"]})]},M.id))})]})]})]})}function gb(e){if(!e)return null;const a=new Date(e)-new Date;if(a<=0)return{expired:!0,text:"Ended"};const n=Math.floor(a/(1e3*60*60*24)),l=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),i=Math.floor(a%(1e3*60*60)/(1e3*60));return n>0?{expired:!1,text:`${n}d ${l}h remaining`}:l>0?{expired:!1,text:`${l}h ${i}m remaining`}:{expired:!1,text:`${i}m remaining`}}function fb(){const{refreshActiveEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState(!0),[l,i]=y.useState(!1),[o,c]=y.useState(!1),[d,u]=y.useState(!1),[x,v]=y.useState(null),[b,h]=y.useState(null),[p,N]=y.useState(null),[m,f]=y.useState(!1),[g,k]=y.useState({name:"",description:"",location:"",start_date:"",start_time:"09:00",end_date:"",end_time:"17:00",auto_delete_enabled:!0,auto_delete_days_after_end:30});y.useEffect(()=>{C()},[]);const C=async()=>{try{const R=await mr.getAll();r(R.data||[])}catch(R){console.error("Failed to load events:",R)}finally{n(!1)}},E=async R=>{R.preventDefault();try{const T={...g,start_datetime:g.start_date&&g.start_time?`${g.start_date}T${g.start_time}:00`:null,end_datetime:g.end_date&&g.end_time?`${g.end_date}T${g.end_time}:00`:null};await mr.create(T),i(!1),k({name:"",description:"",location:"",start_date:"",start_time:"09:00",end_date:"",end_time:"17:00",auto_delete_enabled:!0,auto_delete_days_after_end:30}),C()}catch(T){console.error("Failed to create event:",T)}},j=(R,T)=>{if(!R)return"-";const V=new Date(R),K={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return V.toLocaleString(void 0,K)},w=async(R,T=!1)=>{var V,K,se,$;f(!0);try{const L=await mr.activate(R,T);e&&await e(),C(),u(!1),v(null),h(null)}catch(L){if((L==null?void 0:L.code)==="ACTIVE_EVENT_EXISTS"||((K=(V=L==null?void 0:L.response)==null?void 0:V.data)==null?void 0:K.code)==="ACTIVE_EVENT_EXISTS"){const I=(L==null?void 0:L.active_event)||(($=(se=L==null?void 0:L.response)==null?void 0:se.data)==null?void 0:$.active_event);h(I),v(R),u(!0)}else console.error("Failed to activate event:",L)}finally{f(!1)}},_=async()=>{x&&await w(x,!0)},A=async R=>{try{await mr.complete(R),C()}catch(T){console.error("Failed to complete event:",T)}},S={draft:"bg-gray-100 text-gray-700",active:"bg-green-100 text-green-700 ring-2 ring-green-400 ring-offset-1",completed:"bg-blue-100 text-blue-700",archived:"bg-gray-100 text-gray-500"},U=[...s].sort((R,T)=>R.status==="active"&&T.status!=="active"?-1:T.status==="active"&&R.status!=="active"?1:new Date(T.start_date)-new Date(R.start_date));return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Events"}),t.jsx("p",{className:"text-gray-500",children:"Manage healing service events"})]}),t.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[t.jsx(zr,{className:"w-5 h-5"}),"New Event"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(R=>{const T=R.status==="active",V=T?gb(R.end_datetime||R.end_date):null;return t.jsxs("div",{className:`bg-white rounded-xl shadow-sm overflow-hidden transition-all ${T?"border-2 border-green-400 ring-4 ring-green-100":"border border-gray-100"}`,children:[T&&t.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 px-4 py-2 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-white",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),t.jsx("span",{className:"font-semibold text-sm",children:"RUNNING NOW"})]}),V&&!V.expired&&t.jsx("span",{className:"text-white/90 text-sm font-medium",children:V.text}),(V==null?void 0:V.expired)&&t.jsx("span",{className:"text-yellow-200 text-sm font-medium",children:"Past end date"})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:`font-semibold ${T?"text-green-700":"text-gray-900"}`,children:R.name}),t.jsx("p",{className:"text-sm text-gray-500",children:R.code})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S[R.status]}`,children:T?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ml,{className:"w-3 h-3"}),"Active"]}):R.status})]}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wt,{className:"w-4 h-4"}),t.jsx("span",{children:j(R.start_datetime||R.start_date)})]}),(R.end_datetime||R.end_date)&&t.jsxs("div",{className:`flex items-center gap-2 ${T?"text-green-600 font-medium":""}`,children:[t.jsx(ge,{className:"w-4 h-4"}),t.jsxs("span",{children:["Ends: ",j(R.end_datetime||R.end_date)]})]}),R.location&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dc,{className:"w-4 h-4"}),t.jsx("span",{children:R.location})]}),R.auto_delete_enabled&&t.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[t.jsx(Tt,{className:"w-4 h-4"}),t.jsxs("span",{children:["Auto-delete ",R.auto_delete_days_after_end||30,"d after end"]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[t.jsx(nt,{className:"w-4 h-4"}),t.jsx("span",{children:R.media_count||0})]}),t.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[t.jsx(Ne,{className:"w-4 h-4"}),t.jsxs("span",{children:[R.groups_count||0," groups"]})]})]})]}),t.jsxs("div",{className:`px-6 py-3 border-t flex gap-2 ${T?"bg-green-50 border-green-100":"bg-gray-50 border-gray-100"}`,children:[R.status==="draft"&&t.jsxs("button",{onClick:()=>w(R.id),disabled:m,className:"flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded disabled:opacity-50",children:[t.jsx(Ur,{className:"w-4 h-4"}),m?"Activating...":"Activate Event"]}),R.status==="active"&&t.jsxs("button",{onClick:()=>A(R.id),className:"flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded",children:[t.jsx(Y,{className:"w-4 h-4"}),"Mark Complete"]}),t.jsx("button",{onClick:()=>{N(R),c(!0)},className:"flex-1 text-center py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded",children:"View Details"})]})]},R.id)})}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Create New Event"}),t.jsxs("form",{onSubmit:E,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Name"}),t.jsx("input",{type:"text",value:g.name,onChange:R=>k({...g,name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{value:g.description,onChange:R=>k({...g,description:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),t.jsx("input",{type:"text",value:g.location,onChange:R=>k({...g,location:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),t.jsx("input",{type:"date",value:g.start_date,onChange:R=>k({...g,start_date:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),t.jsx("input",{type:"time",value:g.start_time,onChange:R=>k({...g,start_time:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),t.jsx("input",{type:"date",value:g.end_date,onChange:R=>k({...g,end_date:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),t.jsx("input",{type:"time",value:g.end_time,onChange:R=>k({...g,end_time:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(W,{className:"w-4 h-4 text-orange-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Data Protection"})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("input",{type:"checkbox",id:"auto_delete",checked:g.auto_delete_enabled,onChange:R=>k({...g,auto_delete_enabled:R.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"auto_delete",className:"text-sm text-gray-700",children:"Auto-delete media from editor devices after event"})]}),g.auto_delete_enabled&&t.jsxs("div",{className:"ml-7",children:[t.jsxs("label",{className:"block text-sm text-gray-600 mb-1",children:["Delete files ",t.jsx("span",{className:"font-medium",children:g.auto_delete_days_after_end})," days after event ends"]}),t.jsx("input",{type:"range",min:"1",max:"90",value:g.auto_delete_days_after_end,onChange:R=>k({...g,auto_delete_days_after_end:parseInt(R.target.value)}),className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[t.jsx("span",{children:"1 day"}),t.jsx("span",{children:"30 days"}),t.jsx("span",{children:"90 days"})]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Event"})]})]})]})}),o&&p&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg p-6 m-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:p.name}),t.jsx("p",{className:"text-sm text-gray-500",children:p.code})]}),t.jsx("button",{onClick:()=>c(!1),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Status"}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S[p.status]}`,children:p.status})]}),p.description&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"Description"}),t.jsx("p",{className:"text-gray-900 mt-1",children:p.description})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"Start"}),t.jsx("p",{className:"text-gray-900 font-medium",children:j(p.start_datetime||p.start_date)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"End"}),t.jsx("p",{className:"text-gray-900 font-medium",children:j(p.end_datetime||p.end_date)})]})]}),p.auto_delete_enabled&&t.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[t.jsx(Tt,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium text-sm",children:"Data Protection Active"})]}),t.jsxs("p",{className:"text-sm text-orange-600 mt-1",children:["Media files will be auto-deleted from editor devices ",p.auto_delete_days_after_end||30," days after event ends"]})]}),p.location&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"Location"}),t.jsx("p",{className:"text-gray-900",children:p.location})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.media_count||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Media Files"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.groups_count||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Groups"})]})]})]}),t.jsx("div",{className:"flex gap-3 mt-6",children:t.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Close"})})]})}),d&&b&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center",children:t.jsx(W,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Another Event is Active"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Only one event can be active at a time"})]})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"font-medium text-green-700",children:"Currently Running"})]}),t.jsx("p",{className:"font-semibold text-gray-900",children:b.name}),t.jsx("p",{className:"text-sm text-gray-500",children:b.code}),b.end_date&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Ends: ",j(b.end_date)]})]}),t.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Activating a new event will automatically mark ",t.jsx("strong",{children:b.name})," as completed. Do you want to proceed?"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{u(!1),v(null),h(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:_,disabled:m,className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50",children:m?"Switching...":"Switch Event"})]})]})})]})}function yb(){var _,A;const{activeEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState(!0),[l,i]=y.useState(!1),[o,c]=y.useState(null),[d,u]=y.useState([]),[x,v]=y.useState(!1),[b,h]=y.useState([]),[p,N]=y.useState(""),[m,f]=y.useState({name:"",description:"",leader_phone:""});y.useEffect(()=>{g()},[e==null?void 0:e.id]);const g=async()=>{try{const S=await $t.getAll({event_id:e==null?void 0:e.id});r(S.data||[])}catch(S){console.error("Failed to load data:",S)}finally{n(!1)}},k=async S=>{S.preventDefault();try{if(!(e!=null&&e.id)){console.error("No active event set; cannot create group");return}await $t.create({...m,event_id:e.id}),i(!1),f({name:"",description:"",leader_phone:""}),g()}catch(U){console.error("Failed to create group:",U)}},C=async S=>{try{const U=await $t.getMembers(S);u(U.members||[])}catch(U){console.error("Failed to load members:",U)}},E=async S=>{c(S),await C(S.id)},j=async()=>{try{const S=await Nt.getAll({per_page:100}),U=S.data||S||[],R=d.map(T=>T.id);h(U.filter(T=>!R.includes(T.id))),v(!0)}catch(S){console.error("Failed to load users:",S)}},w=async()=>{if(!(!p||!o))try{await $t.addMember(o.id,p),await C(o.id),v(!1),N("")}catch(S){console.error("Failed to add member:",S)}};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Groups"}),t.jsxs("p",{className:"text-gray-500",children:["Manage editor groups and team leaders",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:()=>i(!0),disabled:!(e!=null&&e.id),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[t.jsx(zr,{className:"w-5 h-5"}),"New Group"]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"All Groups"})}),t.jsxs("div",{className:"divide-y divide-gray-100 max-h-[600px] overflow-y-auto",children:[s.length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No groups created yet"}),s.map(S=>t.jsxs("button",{onClick:()=>E(S),className:`w-full p-4 text-left hover:bg-gray-50 flex items-center justify-between ${(o==null?void 0:o.id)===S.id?"bg-blue-50":""}`,children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:S.group_code}),S.open_issues>0&&t.jsx("span",{className:"px-1.5 py-0.5 bg-red-100 text-red-700 rounded text-xs",children:S.open_issues})]}),t.jsx("p",{className:"text-sm text-gray-500",children:S.name}),t.jsxs("p",{className:"text-xs text-gray-400",children:[S.members_count||0," members"]})]}),t.jsx(Rr,{className:"w-5 h-5 text-gray-400"})]},S.id))]})]}),t.jsx("div",{className:"lg:col-span-2",children:o?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[o.group_code," - ",o.name]}),t.jsx("p",{className:"text-gray-500",children:o.description||"No description"})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${o.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:o.is_active?"Active":"Inactive"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Leader"}),t.jsx("p",{className:"font-medium text-gray-900",children:((_=o.leader)==null?void 0:_.name)||"Not assigned"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Event"}),t.jsx("p",{className:"font-medium text-gray-900",children:((A=o.event)==null?void 0:A.name)||"Unknown"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Team Members"}),t.jsxs("button",{onClick:j,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[t.jsx($c,{className:"w-4 h-4"}),"Add Member"]})]}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[d.length===0&&t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No members in this group"}),d.map(S=>{var U,R;return t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-gray-600 font-medium",children:((R=(U=S.name)==null?void 0:U.charAt(0))==null?void 0:R.toUpperCase())||"U"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:S.name}),t.jsx("p",{className:"text-sm text-gray-500",children:S.email})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right text-sm",children:[t.jsxs("p",{className:"text-gray-900",children:[S.media_today||0," files today"]}),S.open_issues>0&&t.jsxs("p",{className:"text-red-600",children:[S.open_issues," issues"]})]}),t.jsx("div",{className:`w-3 h-3 rounded-full ${S.is_online?"bg-green-500":"bg-gray-300"}`,title:S.is_online?"Online":"Offline"})]})]},S.id)})]})]})]}):t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[t.jsx(Ne,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"Select a group to view details"})]})})]}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Create New Group"}),!(e!=null&&e.id)&&t.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-800",children:"You must activate an event before creating groups."}),t.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Name"}),t.jsx("input",{type:"text",value:m.name,onChange:S=>f({...m,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Blue Team - Camera 3",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{value:m.description,onChange:S=>f({...m,description:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leader Phone"}),t.jsx("input",{type:"tel",value:m.leader_phone,onChange:S=>f({...m,leader_phone:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"+254..."})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:!(e!=null&&e.id),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Group"})]})]})]})}),x&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add Team Member"}),t.jsx("button",{onClick:()=>v(!1),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),t.jsxs("select",{value:p,onChange:S=>N(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Choose a user..."}),b.map(S=>t.jsxs("option",{value:S.id,children:[S.name," (",S.email,")"]},S.id))]})]}),b.length===0&&t.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No available users to add"}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:w,disabled:!p,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Add Member"})]})]})]})})]})}function vb(){const{activeEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState([]),[l,i]=y.useState(!0),[o,c]=y.useState(""),[d,u]=y.useState(""),[x,v]=y.useState(null),[b,h]=y.useState({type:"",text:""}),[p,N]=y.useState(!1),[m,f]=y.useState(null),[g,k]=y.useState({camera_id:"",group_id:"",model:"",serial_number:"",status:"active",notes:""});y.useEffect(()=>{C()},[o,d,e==null?void 0:e.id]);const C=async()=>{i(!0);try{if(!(e!=null&&e.id)){r([]),n([]),v(null);return}const[S,U,R]=await Promise.all([Zr.getAll({event_id:e.id,search:o,status:d}),$t.getAll({event_id:e.id}),Zr.getStats({event_id:e.id})]);r(S.data.data||S.data),n(U.data.data||U.data),v(R.data)}catch{h({type:"error",text:"Failed to load cameras"})}finally{i(!1)}},E=async S=>{S.preventDefault();try{m?(await Zr.update(m.id,g),h({type:"success",text:"Camera updated successfully"})):(await Zr.create(g),h({type:"success",text:"Camera created successfully"})),N(!1),_(),C()}catch(U){h({type:"error",text:U.message||"Operation failed"})}},j=async S=>{if(confirm(`Delete camera ${S.camera_id}?`))try{await Zr.delete(S.id),h({type:"success",text:"Camera deleted"}),C()}catch{h({type:"error",text:"Failed to delete camera"})}},w=S=>{f(S),k({camera_id:S.camera_id,group_id:S.group_id,model:S.model||"",serial_number:S.serial_number||"",status:S.status,notes:S.notes||""}),N(!0)},_=()=>{f(null),k({camera_id:"",group_id:"",model:"",serial_number:"",status:"active",notes:""})},A=S=>{const U={active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-700",maintenance:"bg-amber-100 text-amber-700"};return t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${U[S]||U.inactive}`,children:S})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cameras"}),t.jsxs("p",{className:"text-gray-500",children:["Manage cameras and SD card bindings",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:()=>{_(),N(!0)},disabled:!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[t.jsx(zr,{className:"w-4 h-4"}),"Add Camera"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing cameras."}),b.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${b.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[b.type==="success"?t.jsx(Y,{className:"w-5 h-5"}):t.jsx(ze,{className:"w-5 h-5"}),b.text,t.jsx("button",{onClick:()=>h({type:"",text:""}),className:"ml-auto",children:""})]}),x&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Cameras"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.total})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.active})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"With SD Card"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.with_sd_card})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Maintenance"}),t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:x.maintenance})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Gt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search cameras...",value:o,onChange:S=>c(S.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("select",{value:d,onChange:S=>u(S.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),l?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(S=>{var U;return t.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 hover:shadow-lg transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:t.jsx(st,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:S.camera_id}),t.jsx("p",{className:"text-sm text-gray-500",children:S.model||"No model"})]})]}),A(S.status)]}),t.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Group:"}),t.jsx("span",{className:"font-medium",children:((U=S.group)==null?void 0:U.group_code)||"-"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Serial:"}),t.jsx("span",{className:"font-medium",children:S.serial_number||"-"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-500",children:"SD Card:"}),S.current_sd_card?t.jsxs("span",{className:"flex items-center gap-1 text-green-600 font-medium",children:[t.jsx(Lv,{className:"w-4 h-4"}),S.current_sd_card.sd_card_id]}):t.jsx("span",{className:"text-gray-400",children:"Not bound"})]})]}),t.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[t.jsxs("button",{onClick:()=>w(S),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 text-sm font-medium",children:[t.jsx(ap,{className:"w-4 h-4"}),"Edit"]}),t.jsx("button",{onClick:()=>j(S),className:"flex items-center justify-center gap-1 px-3 py-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 text-sm font-medium",children:t.jsx(Tt,{className:"w-4 h-4"})})]})]},S.id)})}),p&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold",children:m?"Edit Camera":"Add Camera"}),t.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:E,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Camera ID *"}),t.jsx("input",{type:"text",value:g.camera_id,onChange:S=>k({...g,camera_id:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group *"}),t.jsxs("select",{value:g.group_id,onChange:S=>k({...g,group_id:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",required:!0,children:[t.jsx("option",{value:"",children:"Select group..."}),a.map(S=>t.jsxs("option",{value:S.id,children:[S.group_code," - ",S.name]},S.id))]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),t.jsx("input",{type:"text",value:g.model,onChange:S=>k({...g,model:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),t.jsx("input",{type:"text",value:g.serial_number,onChange:S=>k({...g,serial_number:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),t.jsxs("select",{value:g.status,onChange:S=>k({...g,status:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),t.jsx("textarea",{value:g.notes,onChange:S=>k({...g,notes:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 resize-none",rows:2})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:m?"Update":"Create"})]})]})]})})]})}function bb({media:e,onClose:s}){return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.filename}),t.jsx("p",{className:"text-sm text-gray-500",children:e.media_id})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"aspect-video bg-black",children:e.preview_url?t.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:e.preview_url,children:"Your browser does not support video playback."}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(nt,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Preview not available"}),t.jsx("p",{className:"text-sm",children:"File is stored on backup disk"})]})})}),t.jsx("div",{className:"p-4 bg-gray-50",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Person:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.full_name||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Condition:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.condition||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Region:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.region||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Status:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.status})]})]})})]})}):null}function jb(){const{activeEvent:e,isQA:s,isQALead:r,isBackup:a,isBackupLead:n,isAdmin:l,isTeamLead:i,isGroupLeader:o}=de(),[c,d]=y.useState([]),[u,x]=y.useState(!0),[v,b]=y.useState(null),h=s()||r(),p=a()||n(),N=l()||i()||o(),[m,f]=y.useState({full_name:"",condition:"",region:"",status:"",type:"",page:1}),[g,k]=y.useState({current_page:1,last_page:1,total:0});y.useEffect(()=>{C()},[m,e==null?void 0:e.id]);const C=async()=>{x(!0);try{const A=Object.fromEntries(Object.entries(m).filter(([U,R])=>R!==""));e!=null&&e.id&&(A.event_id=e.id);const S=await yt.search(A);d(S.data||[]),k({current_page:S.current_page||1,last_page:S.last_page||1,total:S.total||0})}catch(A){console.error("Failed to load media:",A)}finally{x(!1)}},E=A=>{A.preventDefault(),f({...m,page:1})},j=A=>{f({...m,page:A})},w={indexed:"bg-gray-100 text-gray-700",synced:"bg-blue-100 text-blue-700",backed_up:"bg-yellow-100 text-yellow-700",verified:"bg-green-100 text-green-700",issue:"bg-red-100 text-red-700"},_=A=>{if(!A)return"0 B";const S=1024,U=["B","KB","MB","GB"],R=Math.floor(Math.log(A)/Math.log(S));return parseFloat((A/Math.pow(S,R)).toFixed(2))+" "+U[R]};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Media Search"}),t.jsx("p",{className:"text-gray-500",children:h?"Search media with issues  you cannot search by name or region":p?"View backup status  you see coverage, not content":"Search and browse all indexed media files"})]}),h&&t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-3 text-sm text-purple-700 flex items-center gap-2",children:[t.jsx(Pr,{className:"w-4 h-4"}),t.jsxs("span",{children:[t.jsx("strong",{children:"QA Access:"})," You can only search by issue status. Name, region, and clean footage are hidden."]})]}),p&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 text-sm text-green-700 flex items-center gap-2",children:[t.jsx(Pr,{className:"w-4 h-4"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Backup Access:"})," You see file status and coverage only. No content playback available."]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("form",{onSubmit:E,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[N&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),t.jsx("input",{type:"text",value:m.full_name,onChange:A=>f({...m,full_name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Search name..."})]}),!p&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Condition"}),t.jsx("input",{type:"text",value:m.condition,onChange:A=>f({...m,condition:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Cripple"})]}),N&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Region"}),t.jsx("input",{type:"text",value:m.region,onChange:A=>f({...m,region:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Kisumu"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Status"}),t.jsxs("select",{value:m.status,onChange:A=>f({...m,status:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"indexed",children:"Indexed"}),t.jsx("option",{value:"synced",children:"Synced"}),t.jsx("option",{value:"backed_up",children:"Backed Up"}),t.jsx("option",{value:"verified",children:"Verified"}),t.jsx("option",{value:"issue",children:"Has Issues"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Type"}),t.jsxs("select",{value:m.type,onChange:A=>f({...m,type:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Types"}),t.jsx("option",{value:"before",children:"Before"}),t.jsx("option",{value:"after",children:"After"})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[t.jsx(Gt,{className:"w-4 h-4"}),"Search"]})})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[u?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"File"}),N&&t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Person"}),!p&&t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Condition"}),N&&t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Region"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[c.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No media found. Try adjusting your search filters."})}),c.map(A=>{var S,U;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsx(nt,{className:"w-5 h-5 text-gray-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 truncate max-w-xs",children:A.filename}),t.jsx("p",{className:"text-xs text-gray-500",children:A.media_id})]})]})}),N&&t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-900",children:A.full_name||"-"}),t.jsx("p",{className:"text-xs text-gray-500",children:A.age?`${A.age} years`:"-"})]})}),!p&&t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:A.condition||"-"}),N&&t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:A.region||"-"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:_(A.size_bytes)}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${w[A.status]}`,children:A.status}),((S=A.issues)==null?void 0:S.length)>0&&t.jsx(W,{className:"w-4 h-4 text-red-500"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[!p&&(N||h&&((U=A.issues)==null?void 0:U.length)>0)&&t.jsx("button",{onClick:()=>b(A),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Play",children:t.jsx(Ur,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>b(A),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"View Details",children:t.jsx(Lt,{className:"w-4 h-4"})})]})})]},A.id)})]})]})}),g.last_page>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",g.current_page," of ",g.last_page," (",g.total," total)"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>j(g.current_page-1),disabled:g.current_page===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Previous"}),t.jsx("button",{onClick:()=>j(g.current_page+1),disabled:g.current_page===g.last_page,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Next"})]})]})]}),v&&t.jsx(bb,{media:v,onClose:()=>b(null)})]})}function Zu({percentage:e,color:s="emerald"}){const r={emerald:"bg-emerald-500",amber:"bg-amber-500",red:"bg-red-500"};return t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full ${r[s]} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})})}function yn({title:e,value:s,subtitle:r,icon:a,color:n}){const l={emerald:"bg-emerald-50 text-emerald-600",amber:"bg-amber-50 text-amber-600",red:"bg-red-50 text-red-600",sky:"bg-sky-50 text-sky-600"};return t.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),r&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]}),t.jsx("div",{className:`p-3 rounded-lg ${l[n]}`,children:t.jsx(a,{className:"w-5 h-5"})})]})})}function Nb(){var d,u,x,v,b,h,p,N;const{activeEvent:e}=de(),[s,r]=y.useState(null),[a,n]=y.useState(!0),[l,i]=y.useState("overview");y.useEffect(()=>{o()},[e==null?void 0:e.id]);const o=async()=>{try{if(n(!0),!(e!=null&&e.id)){r(null);return}const m=await fv.getOverview(e==null?void 0:e.id);r(m)}catch(m){console.error("Failed to load quality control data:",m)}finally{n(!1)}};if(a&&!s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Be,{className:"w-8 h-8 animate-spin text-sky-500"})});const c=(s==null?void 0:s.overview)||{};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quality Control"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"Monitor filename errors and editor performance"})]}),t.jsxs("button",{onClick:o,disabled:a||!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:[t.jsx(Be,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing Quality Control."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx(yn,{title:"Total Media",value:((d=c.total_media)==null?void 0:d.toLocaleString())||0,subtitle:`${c.valid_percentage||100}% valid`,icon:Bs,color:"sky"}),t.jsx(yn,{title:"Valid Files",value:((u=c.valid_count)==null?void 0:u.toLocaleString())||0,subtitle:"Properly named",icon:Y,color:"emerald"}),t.jsx(yn,{title:"Warnings",value:((x=c.warning_count)==null?void 0:x.toLocaleString())||0,subtitle:"Minor issues",icon:W,color:"amber"}),t.jsx(yn,{title:"Errors",value:((v=c.error_count)==null?void 0:v.toLocaleString())||0,subtitle:`${c.error_rate||0}% error rate`,icon:Ws,color:"red"})]}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-6",children:[{id:"overview",label:"By Editor",icon:Ne},{id:"groups",label:"By Group",icon:Ne},{id:"issues",label:"Common Issues",icon:W},{id:"training",label:"Needs Training",icon:Wu}].map(m=>t.jsxs("button",{onClick:()=>i(m.id),className:`flex items-center gap-2 py-3 border-b-2 transition-colors text-sm ${l===m.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(m.icon,{className:"w-4 h-4"}),m.label]},m.id))})}),l==="overview"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality by Editor"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Valid"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Warnings"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Errors"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Error Rate"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Quality Score"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[(b=s==null?void 0:s.by_editor)==null?void 0:b.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:m.editor_name}),m.needs_training&&t.jsx("span",{className:"px-1.5 py-0.5 bg-amber-100 text-amber-700 text-xs rounded",children:"Needs Training"})]})}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:m.total_files.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600",children:m.valid.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-amber-600",children:m.warnings.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-red-600",children:m.errors.toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[t.jsx("div",{className:"w-16",children:t.jsx(Zu,{percentage:m.error_rate,color:m.error_rate>10?"red":m.error_rate>5?"amber":"emerald"})}),t.jsxs("span",{className:`text-xs font-medium ${m.error_rate>10?"text-red-600":m.error_rate>5?"text-amber-600":"text-emerald-600"}`,children:[m.error_rate,"%"]})]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.quality_score>=95?"bg-emerald-100 text-emerald-700":m.quality_score>=90?"bg-sky-100 text-sky-700":m.quality_score>=80?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[m.quality_score.toFixed(1),"%"]})})]},m.editor_id)),(!(s!=null&&s.by_editor)||s.by_editor.length===0)&&t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No editor data available"})})]})]})})]}),l==="groups"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality by Group"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Members"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Valid"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Errors"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Quality Score"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(h=s==null?void 0:s.by_group)==null?void 0:h.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium text-gray-900",children:m.group_code}),t.jsx("div",{className:"text-xs text-gray-500",children:m.group_name})]}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:m.member_count}),t.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:m.total_files.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-emerald-600",children:m.valid.toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-right text-red-600",children:(m.warnings+m.errors).toLocaleString()}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.quality_score>=95?"bg-emerald-100 text-emerald-700":m.quality_score>=90?"bg-sky-100 text-sky-700":m.quality_score>=80?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[m.quality_score.toFixed(1),"%"]})})]},m.group_id))})]})})]}),l==="issues"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Common Filename Issues"})}),t.jsx("div",{className:"p-4",children:((p=s==null?void 0:s.common_issues)==null?void 0:p.length)>0?t.jsx("div",{className:"space-y-4",children:s.common_issues.map((m,f)=>t.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-lg",children:t.jsx(W,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:m.label}),t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-full font-medium",children:[m.count," occurrences"]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.suggestion})]})]},f))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Y,{className:"w-12 h-12 mx-auto text-emerald-400 mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No common issues detected"})]})})]}),l==="training"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Editors Needing Training"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Editors with error rate above 10%"})]}),t.jsx("div",{className:"p-4",children:((N=s==null?void 0:s.by_editor)==null?void 0:N.filter(m=>m.needs_training).length)>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.by_editor.filter(m=>m.needs_training).map(m=>t.jsxs("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:m.editor_name}),t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:[m.error_rate,"% errors"]})]}),t.jsx("div",{className:"text-sm text-gray-600",children:t.jsxs("p",{children:[m.total_files," files  ",m.errors," errors"]})}),t.jsx("div",{className:"mt-2",children:t.jsx(Zu,{percentage:100-m.error_rate,color:"amber"})})]},m.editor_id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Wu,{className:"w-12 h-12 mx-auto text-emerald-400 mb-3"}),t.jsx("p",{className:"text-gray-500",children:"All editors are performing well!"})]})})]}),(s==null?void 0:s.daily_trend)&&s.daily_trend.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quality Trend (Last 7 Days)"})}),t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"flex items-end gap-2 h-32",children:s.daily_trend.map((m,f)=>t.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[t.jsxs("div",{className:"w-full flex flex-col gap-0.5",style:{height:"100px"},children:[t.jsx("div",{className:"bg-emerald-400 rounded-t",style:{height:`${m.valid/m.total*100}%`}}),t.jsx("div",{className:"bg-amber-400",style:{height:`${m.warning/m.total*100}%`}}),t.jsx("div",{className:"bg-red-400 rounded-b",style:{height:`${m.error/m.total*100}%`}})]}),t.jsx("span",{className:"text-xs text-gray-500 mt-2",children:new Date(m.date).toLocaleDateString("en",{weekday:"short"})})]},f))}),t.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Valid"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-amber-400 rounded"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Warnings"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-red-400 rounded"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Errors"})]})]})]})]})]})}function wb({issue:e,onClose:s}){var a,n;if(!e)return null;const r=e.media;return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:["Review Issue: ",e.issue_id]}),t.jsx("p",{className:"text-sm text-gray-500",children:(r==null?void 0:r.filename)||"Unknown file"})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"aspect-video bg-black",children:r!=null&&r.preview_url?t.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:r.preview_url,children:"Your browser does not support video playback."}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(nt,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Preview not available"}),t.jsx("p",{className:"text-sm",children:"Request playback from backup disk"})]})})}),t.jsxs("div",{className:"p-4 bg-gray-50",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Type:"}),t.jsx("span",{className:"ml-2 font-medium",children:(a=e.type)==null?void 0:a.replace("_"," ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Severity:"}),t.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs font-medium ${e.severity==="critical"?"bg-red-100 text-red-700":e.severity==="high"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:e.severity})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Camera:"}),t.jsx("span",{className:"ml-2 font-medium",children:(r==null?void 0:r.camera_number)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Reported:"}),t.jsx("span",{className:"ml-2 font-medium",children:((n=e.reporter)==null?void 0:n.name)||"Unknown"})]})]}),e.description&&t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("p",{className:"text-sm text-gray-700",children:e.description})})]})]})})}function kb(){const{activeEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState(!0),[l,i]=y.useState("open"),[o,c]=y.useState(null),[d,u]=y.useState(null),[x,v]=y.useState("");y.useEffect(()=>{b()},[l,e==null?void 0:e.id]);const b=async()=>{try{if(!(e!=null&&e.id)){r([]);return}const k=await hn.getAll({event_id:e.id,status:l!=="all"?l:void 0});r(k.data||[])}catch(k){console.error("Failed to load issues:",k)}finally{n(!1)}},h=async k=>{try{await hn.acknowledge(k),b()}catch(C){console.error("Failed to acknowledge issue:",C)}},p=async k=>{try{await hn.resolve(k,x),c(null),v(""),b()}catch(C){console.error("Failed to resolve issue:",C)}},N=async k=>{try{await hn.escalate(k,"Escalated by user"),b()}catch(C){console.error("Failed to escalate issue:",C)}},m={critical:"bg-red-100 text-red-700 border-red-200",high:"bg-orange-100 text-orange-700 border-orange-200",medium:"bg-yellow-100 text-yellow-700 border-yellow-200",low:"bg-gray-100 text-gray-700 border-gray-200"},f={open:"bg-red-50 text-red-700",acknowledged:"bg-yellow-50 text-yellow-700",in_progress:"bg-blue-50 text-blue-700",escalated:"bg-purple-50 text-purple-700",resolved:"bg-green-50 text-green-700",closed:"bg-gray-50 text-gray-700"},g={no_audio:"No Audio",low_audio:"Low Audio",blurry:"Blurry Video",shaky:"Shaky Video",cut_interview:"Cut Interview",filename_error:"Filename Error",duplicate:"Duplicate",other:"Other"};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Issues"}),t.jsxs("p",{className:"text-gray-500",children:["Quality issues and resolution tracking",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing issues."}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","open","acknowledged","in_progress","escalated","resolved"].map(k=>t.jsx("button",{onClick:()=>i(k),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l===k?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:k.replace("_"," ").charAt(0).toUpperCase()+k.replace("_"," ").slice(1)},k))}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Issue"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Type"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Severity"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Reporter"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[s.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No issues found"})}),s.map(k=>{var C,E,j;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:k.issue_id}),t.jsx("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:((C=k.media)==null?void 0:C.filename)||"Unknown file"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-sm text-gray-900",children:g[k.type]||k.type})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m[k.severity]}`,children:k.severity})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${f[k.status]}`,children:k.status.replace("_"," ")})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-900",children:((E=k.reporter)==null?void 0:E.name)||"Unknown"}),t.jsx("p",{className:"text-xs text-gray-500",children:(j=k.group)==null?void 0:j.group_code})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>u(k),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Play & Review",children:t.jsx(Ur,{className:"w-4 h-4"})}),k.status==="open"&&t.jsx("button",{onClick:()=>h(k.issue_id),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",title:"Acknowledge",children:t.jsx(Lt,{className:"w-4 h-4"})}),["open","acknowledged","in_progress"].includes(k.status)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>c(k),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Resolve",children:t.jsx(Y,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>N(k.issue_id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Escalate",children:t.jsx(_v,{className:"w-4 h-4"})})]})]})})]},k.id)})]})]})})}),o&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 m-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Resolve Issue"}),t.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Issue: ",o.issue_id," - ",g[o.type]]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Notes"}),t.jsx("textarea",{value:x,onChange:k=>v(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Describe how the issue was resolved..."})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{c(null),v("")},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:()=>p(o.issue_id),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Mark Resolved"})]})]})}),d&&t.jsx(wb,{issue:d,onClose:()=>u(null)})]})}function Sb(){var se,$;const{activeEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState([]),[l,i]=y.useState(!0),[o,c]=y.useState(""),[d,u]=y.useState(""),[x,v]=y.useState(null),[b,h]=y.useState({type:"",text:""}),[p,N]=y.useState(!1),[m,f]=y.useState(!1),[g,k]=y.useState(null),[C,E]=y.useState(null),[j,w]=y.useState({event_id:"",group_id:"",person_name:"",description:"",healing_date:"",status:"pending"});y.useEffect(()=>{_()},[o,d,e==null?void 0:e.id]);const _=async()=>{i(!0);try{if(!(e!=null&&e.id)){r([]),n([]),v(null);return}const[L,I,z]=await Promise.all([ws.getAll({event_id:e.id,search:o,status:d}),$t.getAll({event_id:e.id}),ws.getStats({event_id:e.id})]);r(L.data.data||L.data),n(I.data.data||I.data),v(z.data)}catch{h({type:"error",text:"Failed to load healing cases"})}finally{i(!1)}},A=async L=>{L.preventDefault();try{if(!(e!=null&&e.id)){h({type:"error",text:"No active event. Activate an event first."});return}const I={...j,event_id:e.id};C?(await ws.update(C.id,I),h({type:"success",text:"Healing case updated"})):(await ws.create(I),h({type:"success",text:"Healing case created"})),N(!1),V(),_()}catch(I){h({type:"error",text:I.message||"Operation failed"})}},S=async L=>{try{await ws.verify(L.id),h({type:"success",text:"Case verified successfully"}),_()}catch{h({type:"error",text:"Failed to verify case"})}},U=async L=>{try{await ws.publish(L.id),h({type:"success",text:"Case published successfully"}),_()}catch(I){h({type:"error",text:I.message||"Failed to publish case"})}},R=async L=>{if(confirm(`Delete healing case ${L.case_id}?`))try{await ws.delete(L.id),h({type:"success",text:"Case deleted"}),_()}catch{h({type:"error",text:"Failed to delete case"})}},T=L=>{if(!(e!=null&&e.id)){h({type:"error",text:"No active event. Activate an event first."});return}E(L),w({event_id:e.id,group_id:L.group_id,person_name:L.person_name,description:L.description,healing_date:L.healing_date,status:L.status}),N(!0)},V=()=>{E(null),w({event_id:"",group_id:"",person_name:"",description:"",healing_date:"",status:"pending"})},K=L=>{const I={pending:"bg-amber-100 text-amber-700",verified:"bg-blue-100 text-blue-700",published:"bg-green-100 text-green-700"},z={pending:t.jsx(ze,{className:"w-3 h-3"}),verified:t.jsx(wt,{className:"w-3 h-3"}),published:t.jsx(_o,{className:"w-3 h-3"})};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium ${I[L]}`,children:[z[L],L]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Healing Cases"}),t.jsxs("p",{className:"text-gray-500",children:["Document and manage healing testimonies",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:()=>{V(),N(!0)},disabled:!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2.5 bg-rose-600 text-white rounded-xl hover:bg-rose-700 transition-colors font-medium",children:[t.jsx(zr,{className:"w-4 h-4"}),"Add Case"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing healing cases."}),b.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${b.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[b.type==="success"?t.jsx(Y,{className:"w-5 h-5"}):t.jsx(ze,{className:"w-5 h-5"}),b.text,t.jsx("button",{onClick:()=>h({type:"",text:""}),className:"ml-auto",children:""})]}),x&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-pink-600 rounded-xl p-4 text-white",children:[t.jsx("p",{className:"text-rose-100 text-sm",children:"Total Cases"}),t.jsx("p",{className:"text-2xl font-bold",children:x.total})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:x.pending})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Verified"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.verified})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Published"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.published})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"This Month"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x.this_month})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Gt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search cases...",value:o,onChange:L=>c(L.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500 focus:border-rose-500"})]}),t.jsxs("select",{value:d,onChange:L=>u(L.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"verified",children:"Verified"}),t.jsx("option",{value:"published",children:"Published"})]})]}),l?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-rose-600"})}):s.length===0?t.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-gray-100",children:[t.jsx(On,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No healing cases found"}),t.jsx("p",{className:"text-gray-500",children:"Start documenting healing testimonies"})]}):t.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Case"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Person"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Event"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(L=>{var I,z;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-500 to-pink-600 rounded-lg flex items-center justify-center",children:t.jsx(On,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"font-medium text-gray-900",children:L.case_id})]})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"font-medium text-gray-900",children:L.person_name}),t.jsx("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:L.description})]}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"text-gray-900",children:((I=L.event)==null?void 0:I.event_code)||"-"}),t.jsx("p",{className:"text-sm text-gray-500",children:(z=L.group)==null?void 0:z.group_code})]}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(L.healing_date).toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4",children:K(L.status)}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>{k(L),f(!0)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"View",children:t.jsx(Lt,{className:"w-4 h-4"})}),L.status==="pending"&&t.jsx("button",{onClick:()=>S(L),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Verify",children:t.jsx(wt,{className:"w-4 h-4"})}),L.status==="verified"&&t.jsx("button",{onClick:()=>U(L),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Publish",children:t.jsx(_o,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>T(L),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",title:"Edit",children:t.jsx(ap,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>R(L),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:t.jsx(Tt,{className:"w-4 h-4"})})]})})]},L.id)})})]})})}),p&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold",children:C?"Edit Healing Case":"Add Healing Case"}),t.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:A,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event *"}),t.jsxs("select",{value:j.event_id,onChange:L=>w({...j,event_id:L.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0,children:[t.jsx("option",{value:"",children:"Select event..."}),events.map(L=>t.jsxs("option",{value:L.id,children:[L.event_code," - ",L.name]},L.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group *"}),t.jsxs("select",{value:j.group_id,onChange:L=>w({...j,group_id:L.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0,children:[t.jsx("option",{value:"",children:"Select group..."}),a.map(L=>t.jsxs("option",{value:L.id,children:[L.group_code," - ",L.name]},L.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Person Name *"}),t.jsx("input",{type:"text",value:j.person_name,onChange:L=>w({...j,person_name:L.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Healing Date *"}),t.jsx("input",{type:"date",value:j.healing_date,onChange:L=>w({...j,healing_date:L.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),t.jsx("textarea",{value:j.description,onChange:L=>w({...j,description:L.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-rose-500 resize-none",rows:4,required:!0})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-rose-600 text-white rounded-xl hover:bg-rose-700",children:C?"Update":"Create"})]})]})]})}),m&&g&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-500 to-pink-600 rounded-xl flex items-center justify-center",children:t.jsx(On,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:g.case_id}),K(g.status)]})]}),t.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Person Name"}),t.jsx("p",{className:"font-medium text-gray-900",children:g.person_name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Healing Date"}),t.jsx("p",{className:"font-medium text-gray-900",children:new Date(g.healing_date).toLocaleDateString()})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Event"}),t.jsx("p",{className:"font-medium text-gray-900",children:(se=g.event)==null?void 0:se.event_code})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Group"}),t.jsx("p",{className:"font-medium text-gray-900",children:($=g.group)==null?void 0:$.group_code})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),t.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-xl",children:g.description})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100",children:[t.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50",children:"Close"}),g.status==="pending"&&t.jsx("button",{onClick:()=>{S(g),f(!1)},className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Verify Case"}),g.status==="verified"&&t.jsx("button",{onClick:()=>{U(g),f(!1)},className:"flex-1 px-4 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700",children:"Publish Case"})]})]})})]})}function _b(){var d,u,x,v,b,h;const{activeEvent:e}=de(),[s,r]=y.useState(null),[a,n]=y.useState([]),[l,i]=y.useState(!0);y.useEffect(()=>{o()},[e==null?void 0:e.id]);const o=async()=>{try{if(!(e!=null&&e.id)){r(null),n([]);return}const[p,N]=await Promise.all([So.getCoverage(e.id),So.getPending({per_page:50,event_id:e.id})]);r(p),n(N.data||[])}catch(p){console.error("Failed to load backup data:",p)}finally{i(!1)}},c=p=>{if(!p)return"0 B";const N=1024,m=["B","KB","MB","GB","TB"],f=Math.floor(Math.log(p)/Math.log(N));return parseFloat((p/Math.pow(N,f)).toFixed(2))+" "+m[f]};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Backup Management"}),t.jsxs("p",{className:"text-gray-500",children:["Monitor backup coverage and verification status",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),t.jsxs("button",{onClick:o,disabled:!(e!=null&&e.id),className:"flex items-center gap-2 bg-white border border-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50",children:[t.jsx(Be,{className:"w-4 h-4"}),"Refresh"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing backup operations."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:t.jsx(X,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((d=s==null?void 0:s.total_media)==null?void 0:d.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total Media"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg",children:t.jsx(ge,{className:"w-6 h-6 text-yellow-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((u=s==null?void 0:s.backed_up)==null?void 0:u.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Backed Up"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:t.jsx(Y,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((x=s==null?void 0:s.verified)==null?void 0:x.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Verified"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:t.jsx(W,{className:"w-6 h-6 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((v=s==null?void 0:s.pending)==null?void 0:v.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:t.jsxs("span",{className:"text-xl font-bold text-purple-600",children:[(s==null?void 0:s.coverage_percentage)||0,"%"]})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Coverage"}),t.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full mt-1",children:t.jsx("div",{className:"h-full bg-purple-600 rounded-full",style:{width:`${(s==null?void 0:s.coverage_percentage)||0}%`}})})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Disks"})}),t.jsxs("div",{className:"divide-y divide-gray-100",children:[((b=s==null?void 0:s.disks)==null?void 0:b.length)===0&&t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No backup disks registered"}),(h=s==null?void 0:s.disks)==null?void 0:h.map(p=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-3 rounded-lg ${p.status==="active"?"bg-green-50":"bg-gray-50"}`,children:t.jsx(X,{className:`w-6 h-6 ${p.status==="active"?"text-green-600":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:p.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[p.purpose,"  ",p.backups_count," files  ",p.verified_backups," verified"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.status==="active"?"bg-green-100 text-green-700":p.status==="full"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:p.status})}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[p.usage_percentage,"% used"]})]})]},p.id))]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending Backups"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"File"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Event"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Age"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-100",children:[a.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"All files are backed up and verified! "})}),a.map(p=>{var N,m;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"font-medium text-gray-900 truncate max-w-xs",children:p.filename}),t.jsx("p",{className:"text-xs text-gray-500",children:p.media_id})]}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:((N=p.editor)==null?void 0:N.name)||"-"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:((m=p.event)==null?void 0:m.name)||"-"}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c(p.size_bytes)}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString()})]},p.id)})]})]})})]})]})}function aa({percentage:e,showLabel:s=!0}){const r=()=>e>=95?"bg-red-500":e>=90?"bg-amber-500":e>=75?"bg-yellow-500":"bg-emerald-500";return t.jsxs("div",{className:"w-full",children:[t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:t.jsx("div",{className:`h-3 rounded-full ${r()} transition-all duration-500`,style:{width:`${Math.min(e,100)}%`}})}),s&&t.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[t.jsx("span",{className:"text-gray-500",children:"Used"}),t.jsxs("span",{className:`font-medium ${e>=90?"text-red-600":"text-gray-700"}`,children:[e,"%"]})]})]})}function Cb({disk:e}){const s={healthy:"border-emerald-200 bg-emerald-50",caution:"border-yellow-200 bg-yellow-50",warning:"border-amber-200 bg-amber-50",critical:"border-red-200 bg-red-50"},r={healthy:t.jsx(Y,{className:"w-5 h-5 text-emerald-500"}),caution:t.jsx(ge,{className:"w-5 h-5 text-yellow-500"}),warning:t.jsx(W,{className:"w-5 h-5 text-amber-500"}),critical:t.jsx(W,{className:"w-5 h-5 text-red-500"})};return t.jsxs("div",{className:`rounded-xl border-2 p-4 ${s[e.health]}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:t.jsx(X,{className:"w-6 h-6 text-gray-700"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.disk_label}),t.jsx("p",{className:"text-xs text-gray-500",children:e.serial_number})]})]}),r[e.health]]}),t.jsx(aa,{percentage:e.used_percent}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Used"}),t.jsx("p",{className:"font-medium text-gray-900",children:e.used_space})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Free"}),t.jsx("p",{className:"font-medium text-emerald-600",children:e.free_space})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),t.jsx("p",{className:"font-medium text-gray-900",children:e.total_capacity})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),t.jsx("p",{className:`font-medium capitalize ${e.status==="active"?"text-emerald-600":"text-gray-500"}`,children:e.status})]})]})]})}function Eb(){var h,p,N,m,f,g,k,C,E,j;const{activeEvent:e}=de(),[s,r]=y.useState(null),[a,n]=y.useState(null),[l,i]=y.useState(!0),[o,c]=y.useState("overview");y.useEffect(()=>{d()},[e==null?void 0:e.id]);const d=async()=>{try{if(i(!0),!(e!=null&&e.id)){r(null),n(null);return}const[w,_]=await Promise.all([yv.getUsage(),So.getAnalytics(e.id)]);r(w),n(_)}catch(w){console.error("Failed to load storage data:",w)}finally{i(!1)}};if(l&&!s)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Be,{className:"w-8 h-8 animate-spin text-sky-500"})});const u=(s==null?void 0:s.totals)||{},x=(s==null?void 0:s.forecast)||{},v=(a==null?void 0:a.overall)||{},b=[{id:"overview",label:"Overview",icon:Bs},{id:"disks",label:"Disks",icon:X},{id:"groups",label:"By Group",icon:tp},{id:"editors",label:"By Editor",icon:Ne}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Storage & Backup"}),t.jsx("p",{className:"text-gray-500 text-sm",children:e?t.jsxs(t.Fragment,{children:["Event: ",t.jsx("span",{className:"font-medium text-sky-600",children:e.name})]}):"Monitor storage, backup coverage, and capacity forecast"})]}),t.jsxs("button",{onClick:d,disabled:l||!(e!=null&&e.id),className:"flex items-center gap-2 px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:[t.jsx(Be,{className:`w-4 h-4 ${l?"animate-spin":""}`}),"Refresh"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before viewing storage forecast and backup analytics."}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:b.map(w=>t.jsxs("button",{onClick:()=>c(w.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors text-sm whitespace-nowrap ${o===w.id?"border-sky-500 text-sky-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(w.icon,{className:"w-4 h-4"}),w.label]},w.id))})}),((h=s==null?void 0:s.alerts)==null?void 0:h.length)>0&&t.jsx("div",{className:"space-y-2",children:s.alerts.map((w,_)=>t.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg ${w.level==="critical"?"bg-red-50 border border-red-200":w.level==="warning"?"bg-amber-50 border border-amber-200":"bg-blue-50 border border-blue-200"}`,children:[t.jsx(W,{className:`w-5 h-5 ${w.level==="critical"?"text-red-500":w.level==="warning"?"text-amber-500":"text-blue-500"}`}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.message})]},_))}),o==="overview"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 rounded-lg",children:t.jsx(Mc,{className:"w-5 h-5 text-sky-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Total Capacity"})]}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.total_capacity}),t.jsxs("p",{className:"text-sm text-gray-500",children:[u.disk_count," disks"]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(X,{className:"w-5 h-5 text-emerald-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Free Space"})]}),t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:u.total_free}),t.jsxs("p",{className:"text-sm text-gray-500",children:[100-(u.overall_used_percent||0),"% available"]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:t.jsx(xs,{className:"w-5 h-5 text-amber-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Data Rate"})]}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((p=s==null?void 0:s.data_rate)==null?void 0:p.avg_per_hour)||"0 B"}),t.jsx("p",{className:"text-sm text-gray-500",children:"per hour average"})]}),t.jsxs("div",{className:`rounded-xl p-5 shadow-sm border ${x.status==="critical"?"bg-red-50 border-red-200":x.status==="warning"?"bg-amber-50 border-amber-200":x.status==="caution"?"bg-yellow-50 border-yellow-200":"bg-emerald-50 border-emerald-200"}`,children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:`p-2 rounded-lg ${x.status==="critical"?"bg-red-100":x.status==="warning"?"bg-amber-100":x.status==="caution"?"bg-yellow-100":"bg-emerald-100"}`,children:t.jsx(ge,{className:`w-5 h-5 ${x.status==="critical"?"text-red-600":x.status==="warning"?"text-amber-600":x.status==="caution"?"text-yellow-600":"text-emerald-600"}`})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Time Remaining"})]}),t.jsx("p",{className:`text-2xl font-bold ${x.status==="critical"?"text-red-700":x.status==="warning"?"text-amber-700":"text-gray-900"}`,children:x.days_remaining?`${x.days_remaining} days`:"N/A"}),t.jsx("p",{className:"text-sm text-gray-600",children:x.message})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Overall Storage Usage"}),t.jsx("div",{className:"mb-4",children:t.jsx(aa,{percentage:u.overall_used_percent||0})}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Used"}),t.jsx("p",{className:"font-semibold text-gray-900",children:u.total_used})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Free"}),t.jsx("p",{className:"font-semibold text-emerald-600",children:u.total_free})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),t.jsx("p",{className:"font-semibold text-gray-900",children:u.total_capacity})]})]})]}),x.estimated_full_at&&t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Storage Forecast"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Estimated Full At"}),t.jsx("p",{className:"font-semibold text-gray-900",children:x.estimated_full_formatted})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Hours Remaining"}),t.jsxs("p",{className:"font-semibold text-gray-900",children:[x.hours_remaining," hours"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Projected Daily Usage"}),t.jsx("p",{className:"font-semibold text-gray-900",children:(N=s==null?void 0:s.data_rate)==null?void 0:N.projected_daily})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Clips"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((m=v.total_clips)==null?void 0:m.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:v.total_size_formatted})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Backed Up"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:((f=v.backed_up_clips)==null?void 0:f.toLocaleString())||0}),t.jsxs("div",{className:"mt-2",children:[t.jsx(aa,{percentage:v.backup_percentage||0,showLabel:!1}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.backup_percentage||0,"% complete"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Verified"}),t.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:((g=v.verified_clips)==null?void 0:g.toLocaleString())||0}),t.jsxs("p",{className:"text-sm text-gray-500",children:[v.verification_percentage||0,"% verified"]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),t.jsx("p",{className:`text-2xl font-bold ${v.pending_clips>0?"text-amber-600":"text-emerald-600"}`,children:((k=v.pending_clips)==null?void 0:k.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:v.pending_size_formatted})]})]})]}),o==="disks"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(C=s==null?void 0:s.disks)==null?void 0:C.map(w=>t.jsx(Cb,{disk:w},w.id)),(!(s!=null&&s.disks)||s.disks.length===0)&&t.jsxs("div",{className:"col-span-full text-center py-8 bg-gray-50 rounded-xl",children:[t.jsx(X,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No backup disks registered"})]})]}),o==="groups"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Coverage by Group"})}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Group"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Members"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Clips"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Backed Up"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Progress"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(E=a==null?void 0:a.by_group)==null?void 0:E.map(w=>{var _,A,S;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-medium text-gray-900",children:w.group_code}),t.jsx("div",{className:"text-sm text-gray-500",children:w.name})]}),t.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:w.member_count}),t.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:(_=w.total_clips)==null?void 0:_.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:w.total_size_formatted}),t.jsx("td",{className:"px-6 py-4 text-right text-emerald-600 font-medium",children:(A=w.backed_up_clips)==null?void 0:A.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right",children:w.pending_clips>0?t.jsx("span",{className:"text-amber-600 font-medium",children:(S=w.pending_clips)==null?void 0:S.toLocaleString()}):t.jsx("span",{className:"text-emerald-600",children:""})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24",children:t.jsx(aa,{percentage:w.backup_percentage||0,showLabel:!1})}),t.jsxs("span",{className:"text-sm font-medium text-gray-900 w-12",children:[w.backup_percentage,"%"]})]})})]},w.id)})})]}),(!(a!=null&&a.by_group)||a.by_group.length===0)&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No group data available"})]})]}),o==="editors"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup Coverage by Editor"})}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Editor"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Groups"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Clips"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Size"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Backed Up"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Pending"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Progress"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:(j=a==null?void 0:a.by_editor)==null?void 0:j.map(w=>{var _,A,S,U;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-medium text-gray-900",children:w.name}),t.jsx("div",{className:"text-sm text-gray-500",children:w.email})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"flex flex-wrap gap-1",children:(_=w.groups)==null?void 0:_.map(R=>t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:R.group_code},R.id))})}),t.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:(A=w.total_clips)==null?void 0:A.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:w.total_size_formatted}),t.jsx("td",{className:"px-6 py-4 text-right text-emerald-600 font-medium",children:(S=w.backed_up_clips)==null?void 0:S.toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-right",children:w.pending_clips>0?t.jsx("span",{className:"text-amber-600 font-medium",children:(U=w.pending_clips)==null?void 0:U.toLocaleString()}):t.jsx("span",{className:"text-emerald-600",children:""})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24",children:t.jsx(aa,{percentage:w.backup_percentage||0,showLabel:!1})}),t.jsxs("span",{className:"text-sm font-medium text-gray-900 w-12",children:[w.backup_percentage,"%"]})]})})]},w.id)})})]}),(!(a!=null&&a.by_editor)||a.by_editor.length===0)&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No editor data available"})]})]})]})}function Ab(){const[e,s]=y.useState([]),[r,a]=y.useState(!0),[n,l]=y.useState(null),[i,o]=y.useState(!1),[c,d]=y.useState(!1),[u,x]=y.useState({auto_delete_enabled:!1,auto_delete_date:"",auto_delete_days_after_end:""}),[v,b]=y.useState(""),[h,p]=y.useState(!1);y.useEffect(()=>{N()},[]);const N=async()=>{try{a(!0);const C=await O.get("/media-deletion/status");s(C.data)}catch(C){console.error("Failed to load events:",C)}finally{a(!1)}},m=async C=>{try{const E=await O.get(`/media-deletion/event/${C.id}`);l(C),x({auto_delete_enabled:E.data.auto_delete_enabled||!1,auto_delete_date:E.data.auto_delete_date||"",auto_delete_days_after_end:E.data.auto_delete_days_after_end||""}),o(!0)}catch(E){console.error("Failed to load settings:",E)}},f=async()=>{try{p(!0),await O.put(`/media-deletion/event/${n.id}`,u),o(!1),N()}catch(C){console.error("Failed to save settings:",C),alert("Failed to save settings")}finally{p(!1)}},g=async()=>{if(!v||v.length<10){alert("Please provide a reason (at least 10 characters)");return}try{p(!0),await O.post(`/media-deletion/event/${n.id}/trigger`,{confirm:!0,reason:v}),d(!1),b(""),N()}catch(C){console.error("Failed to trigger deletion:",C),alert("Failed to trigger deletion")}finally{p(!1)}},k=C=>{const E={deleted:{bg:"bg-gray-100",text:"text-gray-600",icon:Y},disabled:{bg:"bg-yellow-100",text:"text-yellow-700",icon:Hs},pending_deletion:{bg:"bg-red-100",text:"text-red-700",icon:W},scheduled:{bg:"bg-blue-100",text:"text-blue-700",icon:ge},not_configured:{bg:"bg-gray-100",text:"text-gray-500",icon:Lr}},j=E[C]||E.not_configured,w=j.icon;return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${j.bg} ${j.text}`,children:[t.jsx(w,{size:12}),C.replace("_"," ")]})};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Be,{className:"animate-spin text-blue-500",size:32})}):t.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(wt,{className:"text-red-600",size:24})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Protection"})]}),t.jsx("p",{className:"text-gray-600",children:"Configure automatic media deletion for events to comply with data protection requirements. Videos will be permanently deleted from all editor devices after the specified date."})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Hs,{className:"text-blue-600 mt-0.5",size:20}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-blue-900",children:"How Auto-Delete Works"}),t.jsxs("ul",{className:"mt-2 text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:" Set a specific date or number of days after event ends"}),t.jsx("li",{children:" Media files are permanently deleted from server storage"}),t.jsx("li",{children:" Deletion tasks are sent to all editor devices (works offline)"}),t.jsx("li",{children:" Metadata is preserved for audit purposes"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Event Media Deletion Status"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Event"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"End Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Delete Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Media Files"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.map(C=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-medium text-gray-900",children:C.name})}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:C.end_date||"Not set"}),t.jsx("td",{className:"px-6 py-4 text-gray-600",children:C.calculated_delete_date||"Not configured"}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("span",{className:"text-gray-900 font-medium",children:C.media_count}),t.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"files"})]}),t.jsx("td",{className:"px-6 py-4",children:k(C.status)}),t.jsx("td",{className:"px-6 py-4 text-right",children:C.status!=="deleted"?t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>m(C),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Configure auto-delete",children:t.jsx(Lr,{size:18})}),t.jsx("button",{onClick:()=>{l(C),d(!0)},className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete now",children:t.jsx(Tt,{size:18})})]}):t.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-400",children:[t.jsx(Pr,{size:18}),t.jsx("span",{className:"text-xs",children:"Deleted"})]})})]},C.id)),e.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No events found"})})]})]})})]}),i&&n&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Auto-Delete Settings"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.name})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:u.auto_delete_enabled,onChange:C=>x({...u,auto_delete_enabled:C.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Enable auto-delete"})]}),u.auto_delete_enabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delete on specific date"}),t.jsx("input",{type:"date",value:u.auto_delete_date,onChange:C=>x({...u,auto_delete_date:C.target.value,auto_delete_days_after_end:""}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsx("div",{className:"text-center text-gray-500 text-sm",children:" OR "}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Days after event ends"}),t.jsx("input",{type:"number",value:u.auto_delete_days_after_end,onChange:C=>x({...u,auto_delete_days_after_end:C.target.value,auto_delete_date:""}),min:"1",max:"365",placeholder:"e.g., 30",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Media will be deleted this many days after the event end date"})]})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{onClick:f,disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:h?"Saving...":"Save Settings"})]})]})}),c&&n&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(W,{className:"text-red-600",size:20})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Immediate Deletion"})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("p",{className:"text-gray-600 mb-4",children:["You are about to permanently delete ",t.jsxs("strong",{children:[n.media_count," media files"]})," from event ",t.jsxs("strong",{children:['"',n.name,'"']}),"."]}),t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:t.jsxs("p",{className:"text-sm text-red-800",children:[t.jsx("strong",{children:"Warning:"})," This action cannot be undone. Files will be permanently deleted from the server and deletion tasks will be sent to all editor devices."]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for deletion (required)"}),t.jsx("textarea",{value:v,onChange:C=>b(C.target.value),placeholder:"Enter the reason for immediate deletion...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>{d(!1),b("")},className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{onClick:g,disabled:h||v.length<10,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:h?"Deleting...":"Delete All Media"})]})]})})]})}function Rb({user:e,roles:s,groups:r,onClose:a,onSave:n}){var b;const[l,i]=y.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",password:"",roles:((b=e==null?void 0:e.roles)==null?void 0:b.map(h=>h.slug))||["editor"],is_active:(e==null?void 0:e.is_active)??!0}),[o,c]=y.useState(!1),[d,u]=y.useState(""),x=async h=>{h.preventDefault(),c(!0),u("");try{const p={...l};if(p.password||delete p.password,e)await Nt.update(e.id,p);else{if(!p.password){u("Password is required for new users"),c(!1);return}await Nt.create(p)}n()}catch(p){u(p.message||"Failed to save user")}finally{c(!1)}},v=h=>{i(p=>({...p,roles:p.roles.includes(h)?p.roles.filter(N=>N!==h):[...p.roles,h]}))};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h3",{className:"text-lg font-semibold",children:e?"Edit User":"Create User"}),t.jsx("button",{onClick:a,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:x,className:"p-4 space-y-4",children:[d&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[t.jsx(ze,{className:"w-4 h-4"}),d]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),t.jsx("input",{type:"text",value:l.name,onChange:h=>i({...l,name:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",value:l.email,onChange:h=>i({...l,email:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),t.jsx("input",{type:"text",value:l.phone,onChange:h=>i({...l,phone:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e?"New Password (leave blank to keep current)":"Password"}),t.jsx("input",{type:"password",value:l.password,onChange:h=>i({...l,password:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",...!e&&{required:!0},minLength:8})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Roles"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(h=>t.jsx("button",{type:"button",onClick:()=>v(h.slug),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${l.roles.includes(h.slug)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h.name},h.slug))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"is_active",checked:l.is_active,onChange:h=>i({...l,is_active:h.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Active"})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o?"Saving...":"Save"})]})]})]})})}function Pb({user:e,onClose:s,onConfirm:r}){const[a,n]=y.useState(!1),l=async()=>{n(!0);try{await Nt.delete(e.id),r()}catch(i){console.error("Failed to delete user:",i)}finally{n(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm mx-4 p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Tt,{className:"w-6 h-6 text-red-600"})}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete User"}),t.jsxs("p",{className:"text-gray-500 mb-6",children:["Are you sure you want to delete ",t.jsx("strong",{children:e.name}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:l,disabled:a,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:a?"Deleting...":"Delete"})]})]})})})}function Lb({roles:e,groups:s,onClose:r,onSuccess:a}){var g,k,C,E,j,w;const[n,l]=y.useState(""),[i,o]=y.useState("editor"),[c,d]=y.useState(""),[u,x]=y.useState(!1),[v,b]=y.useState(null),[h,p]=y.useState(""),N=_=>{const A=_.trim().split(`
`),S=[];for(let U=0;U<A.length;U++){const R=A[U].trim();if(!R||U===0&&R.toLowerCase().includes("name")&&R.toLowerCase().includes("email"))continue;const T=R.split(",").map(V=>V.trim().replace(/^["']|["']$/g,""));T.length>=2&&T[1].includes("@")&&S.push({name:T[0],email:T[1],phone:T[2]||""})}return S},m=async()=>{x(!0),p(""),b(null);const _=N(n);if(_.length===0){p("No valid users found in CSV. Format: name,email,phone"),x(!1);return}try{const A=await Nt.bulkImport({users:_,role:i,group_id:c||null,send_invitations:!1});b(A)}catch(A){p(A.message||"Import failed")}finally{x(!1)}},f=_=>{const A=_.target.files[0];if(A){const S=new FileReader;S.onload=U=>{l(U.target.result)},S.readAsText(A)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(ul,{className:"w-5 h-5"}),"Bulk Import Users"]}),t.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[h&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[t.jsx(ze,{className:"w-4 h-4"}),h]}),v?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-green-50 text-green-700 rounded-lg",children:[t.jsx("p",{className:"font-medium",children:"Import completed!"}),t.jsxs("p",{className:"text-sm mt-1",children:["Created: ",((g=v.summary)==null?void 0:g.created)||0," | Skipped: ",((k=v.summary)==null?void 0:k.skipped)||0]})]}),((E=(C=v.results)==null?void 0:C.created)==null?void 0:E.length)>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Created Users:"}),t.jsx("div",{className:"max-h-40 overflow-y-auto bg-gray-50 rounded-lg p-2",children:v.results.created.map((_,A)=>t.jsxs("div",{className:"text-sm py-1",children:[_.name," (",_.email,")",_.temp_password&&t.jsxs("span",{className:"ml-2 text-gray-500",children:["Password: ",t.jsx("code",{className:"bg-gray-200 px-1 rounded",children:_.temp_password})]})]},A))})]}),((w=(j=v.results)==null?void 0:j.skipped)==null?void 0:w.length)>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2 text-yellow-700",children:"Skipped:"}),t.jsx("div",{className:"max-h-32 overflow-y-auto bg-yellow-50 rounded-lg p-2",children:v.results.skipped.map((_,A)=>t.jsxs("div",{className:"text-sm py-1 text-yellow-700",children:[_.email,": ",_.reason]},A))})]}),t.jsx("button",{onClick:()=>{a(),r()},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Done"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),t.jsx("select",{value:i,onChange:_=>o(_.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:e.map(_=>t.jsx("option",{value:_.slug,children:_.name},_.slug))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Group (optional)"}),t.jsxs("select",{value:c,onChange:_=>d(_.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"No group"}),s.map(_=>t.jsxs("option",{value:_.id,children:[_.group_code," - ",_.name]},_.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload CSV or paste data"}),t.jsx("input",{type:"file",accept:".csv,.txt",onChange:f,className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CSV Data (name,email,phone)"}),t.jsx("textarea",{value:n,onChange:_=>l(_.target.value),placeholder:`John Doe,john@example.com,+1234567890
Jane Smith,jane@example.com,`,rows:8,className:"w-full px-3 py-2 border rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"One user per line. Format: name,email,phone (phone is optional)"})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:m,disabled:u||!n.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:u?"Importing...":t.jsxs(t.Fragment,{children:[t.jsx(ul,{className:"w-4 h-4"})," Import Users"]})})]})]})]})]})})}function Tb({roles:e,groups:s,onClose:r,onSuccess:a}){const[n,l]=y.useState("editor"),[i,o]=y.useState(""),[c,d]=y.useState(100),[u,x]=y.useState(7),[v,b]=y.useState(!1),[h,p]=y.useState(null),[N,m]=y.useState(""),[f,g]=y.useState(!1),k=async()=>{b(!0),m("");try{const E=await Nt.createInvitation({role:n,group_id:i||null,max_uses:c,expires_days:u});p(E.invitation),a()}catch(E){m(E.message||"Failed to create invitation")}finally{b(!1)}},C=()=>{navigator.clipboard.writeText(h.link),g(!0),setTimeout(()=>g(!1),2e3)};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(sp,{className:"w-5 h-5"}),"Create Invitation Link"]}),t.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[N&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2",children:[t.jsx(ze,{className:"w-4 h-4"}),N]}),h?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-green-50 text-green-700 rounded-lg",children:[t.jsx("p",{className:"font-medium",children:"Invitation created!"}),t.jsxs("p",{className:"text-sm mt-1",children:["Share this link with users to let them register as ",n,"."]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invitation Link"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:h.link,readOnly:!0,className:"flex-1 px-3 py-2 border rounded-lg bg-gray-50 text-sm"}),t.jsxs("button",{onClick:C,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1",children:[t.jsx(Tc,{className:"w-4 h-4"}),f?"Copied!":"Copy"]})]})]}),t.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[t.jsxs("p",{children:["Max uses: ",h.max_uses]}),t.jsxs("p",{children:["Expires: ",new Date(h.expires_at).toLocaleDateString()]})]}),t.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Done"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role for new users"}),t.jsx("select",{value:n,onChange:E=>l(E.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:e.map(E=>t.jsx("option",{value:E.slug,children:E.name},E.slug))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Group (optional)"}),t.jsxs("select",{value:i,onChange:E=>o(E.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"No group"}),s.map(E=>t.jsxs("option",{value:E.id,children:[E.group_code," - ",E.name]},E.id))]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Uses"}),t.jsx("input",{type:"number",value:c,onChange:E=>d(parseInt(E.target.value)||100),min:1,max:500,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expires in (days)"}),t.jsx("input",{type:"number",value:u,onChange:E=>x(parseInt(E.target.value)||7),min:1,max:30,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:k,disabled:v,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:v?"Creating...":"Create Link"})]})]})]})]})})}function Mb(){const{isAdmin:e,isTeamLead:s,isGroupLeader:r,isQALead:a,isBackupLead:n}=de(),[l,i]=y.useState([]),[o,c]=y.useState([]),[d,u]=y.useState([]),[x,v]=y.useState(!0),[b,h]=y.useState(""),[p,N]=y.useState(""),[m,f]=y.useState(""),[g,k]=y.useState(!1),[C,E]=y.useState(!1),[j,w]=y.useState(!1),[_,A]=y.useState(null),[S,U]=y.useState(null),[R,T]=y.useState({current_page:1,last_page:1}),V=()=>e()?["admin","team-lead","group-leader","qa-lead","qa","backup-lead","backup","editor"]:s()?["group-leader","qa-lead","qa","backup-lead","backup","editor"]:r()?["editor"]:a()?["qa"]:n()?["backup"]:[],K=()=>e()?{title:"User Management",subtitle:"Manage all system users and roles"}:s()?{title:"Team Management",subtitle:"Manage team members (except admins)"}:r()?{title:"Group Members",subtitle:"Manage editors in your groups"}:a()?{title:"QA Team",subtitle:"Manage QA team members"}:n()?{title:"Backup Team",subtitle:"Manage backup team members"}:{title:"Users",subtitle:""},se=V(),$=K();y.useEffect(()=>{L()},[b,p,m]);const L=async()=>{v(!0);try{const G=p||(se.length<8?se.join(","):""),[Te,Ns,Mt]=await Promise.all([Nt.getAll({search:b,role:G,status:m}),Nt.getRoles(),$t.getAll()]);let Ys=Te.data||[];e()||(Ys=Ys.filter(Xs=>{var Br;return(Br=Xs.roles)==null?void 0:Br.some(Ga=>se.includes(Ga.slug))})),i(Ys),T({current_page:Te.current_page,last_page:Te.last_page}),c((Ns||[]).filter(Xs=>se.includes(Xs.slug))),u(Mt.data||Mt||[])}catch(G){console.error("Failed to load users:",G)}finally{v(!1)}},I=async G=>{try{await Nt.toggleStatus(G.id),L()}catch(Te){console.error("Failed to toggle status:",Te)}},z=G=>{A(G),k(!0)},H=()=>{A(null),k(!0)},ee=()=>{k(!1),A(null)},ne=()=>{ee(),L()},qe={admin:"bg-purple-100 text-purple-700","team-lead":"bg-indigo-100 text-indigo-700","group-leader":"bg-blue-100 text-blue-700","qa-lead":"bg-emerald-100 text-emerald-700",qa:"bg-green-100 text-green-700","backup-lead":"bg-orange-100 text-orange-700",backup:"bg-yellow-100 text-yellow-700",editor:"bg-gray-100 text-gray-700"};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:$.title}),t.jsx("p",{className:"text-gray-500",children:$.subtitle})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:"Bulk Import",children:[t.jsx(ul,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Import CSV"})]}),t.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:"Create Invitation Link",children:[t.jsx(sp,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Invite Link"})]}),t.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[t.jsx(zr,{className:"w-4 h-4"}),"Add ",a()?"QA Member":n()?"Backup Member":r()?"Editor":"User"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search users...",value:b,onChange:G=>h(G.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("select",{value:p,onChange:G=>N(G.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Roles"}),o.map(G=>t.jsx("option",{value:G.slug,children:G.name},G.slug))]}),t.jsxs("select",{value:m,onChange:G=>f(G.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),x?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Roles"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(G=>{var Te,Ns;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-blue-600 font-medium",children:(Te=G.name)==null?void 0:Te.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:G.name}),t.jsx("p",{className:"text-sm text-gray-500",children:G.email})]})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("div",{className:"flex flex-wrap gap-1",children:(Ns=G.roles)==null?void 0:Ns.map(Mt=>t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${qe[Mt.slug]||"bg-gray-100 text-gray-700"}`,children:Mt.name},Mt.slug))})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("button",{onClick:()=>I(G),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${G.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:G.is_active?t.jsxs(t.Fragment,{children:[t.jsx(Ia,{className:"w-3 h-3"}),"Active"]}):t.jsxs(t.Fragment,{children:[t.jsx(np,{className:"w-3 h-3"}),"Inactive"]})})}),t.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:new Date(G.created_at).toLocaleDateString()}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>z(G),className:"p-2 hover:bg-gray-100 rounded-lg",title:"Edit",children:t.jsx(rp,{className:"w-4 h-4 text-gray-500"})}),t.jsx("button",{onClick:()=>U(G),className:"p-2 hover:bg-red-50 rounded-lg",title:"Delete",children:t.jsx(Tt,{className:"w-4 h-4 text-red-500"})})]})})]},G.id)})})]}),l.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ne,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No users found"})]})]})]}),g&&t.jsx(Rb,{user:_,roles:o,groups:d,onClose:ee,onSave:ne}),S&&t.jsx(Pb,{user:S,onClose:()=>U(null),onConfirm:()=>{U(null),L()}}),C&&t.jsx(Lb,{roles:o,groups:d,onClose:()=>E(!1),onSuccess:L}),j&&t.jsx(Tb,{roles:o,groups:d,onClose:()=>w(!1),onSuccess:L})]})}function Ob(){const{activeEvent:e}=de(),[s,r]=y.useState([]),[a,n]=y.useState([]),[l,i]=y.useState(!0),[o,c]=y.useState(null),[d,u]=y.useState({type:"",text:""}),[x,v]=y.useState(null),[b,h]=y.useState(!1),[p,N]=y.useState(!1),[m,f]=y.useState(!1),[g,k]=y.useState({group_id:"",notes:""}),[C,E]=y.useState(""),[j,w]=y.useState({email:"",group_id:""});y.useEffect(()=>{_()},[e==null?void 0:e.id]);const _=async()=>{i(!0);try{const[T,V]=await Promise.all([Ls.getPending(),$t.getAll({event_id:e==null?void 0:e.id})]);r(T.data.data||T.data),n(V.data.data||V.data)}catch{u({type:"error",text:"Failed to load data"})}finally{i(!1)}},A=async()=>{if(!g.group_id){u({type:"error",text:"Please select a group"});return}c("approve");try{await Ls.approve(x.id,g),u({type:"success",text:`${x.name} has been approved`}),r(T=>T.filter(V=>V.id!==x.id)),h(!1),v(null),k({group_id:"",notes:""})}catch(T){u({type:"error",text:T.message||"Failed to approve user"})}finally{c(null)}},S=async()=>{c("reject");try{await Ls.reject(x.id,{reason:C}),u({type:"success",text:"Registration rejected"}),r(T=>T.filter(V=>V.id!==x.id)),N(!1),v(null),E("")}catch(T){u({type:"error",text:T.message||"Failed to reject"})}finally{c(null)}},U=async()=>{if(!j.email){u({type:"error",text:"Please enter an email address"});return}c("invite");try{await Ls.sendInvitation(j),u({type:"success",text:`Invitation sent to ${j.email}`}),f(!1),w({email:"",group_id:""})}catch(T){u({type:"error",text:T.message||"Failed to send invitation"})}finally{c(null)}},R=T=>new Date(T).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Registration Approvals"}),t.jsx("p",{className:"text-gray-500",children:"Manage pending user registrations"})]}),t.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[t.jsx(hi,{className:"w-4 h-4"}),"Send Invitation"]})]}),d.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${d.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[d.type==="success"?t.jsx(Y,{className:"w-5 h-5"}):t.jsx(ze,{className:"w-5 h-5"}),d.text,t.jsx("button",{onClick:()=>u({type:"",text:""}),className:"ml-auto text-current opacity-50 hover:opacity-100",children:""})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"No active event. You can review registrations, but group assignment will be unavailable until an event is activated."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-amber-100",children:"Pending Approvals"}),t.jsx("p",{className:"text-3xl font-bold mt-1",children:s.length})]}),t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(ge,{className:"w-6 h-6"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-emerald-100",children:"Active Groups"}),t.jsx("p",{className:"text-3xl font-bold mt-1",children:a.length})]}),t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(Ne,{className:"w-6 h-6"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-blue-100",children:"Quick Action"}),t.jsx("p",{className:"text-lg font-medium mt-1",children:"Invite New Editor"})]}),t.jsx("button",{onClick:()=>f(!0),className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",children:t.jsx($c,{className:"w-6 h-6"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-gray-100",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pending Registrations"})}),s.length===0?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ia,{className:"w-8 h-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Pending Registrations"}),t.jsx("p",{className:"text-gray-500",children:"All registration requests have been processed"})]}):t.jsx("div",{className:"divide-y divide-gray-100",children:s.map(T=>{var V,K;return t.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:((K=(V=T.name)==null?void 0:V.charAt(0))==null?void 0:K.toUpperCase())||"?"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:T.name}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-1 text-sm text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vs,{className:"w-4 h-4"}),T.email]}),T.phone&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ol,{className:"w-4 h-4"}),T.phone]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Wt,{className:"w-4 h-4"}),R(T.created_at)]})]}),T.registration_notes&&t.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-sm text-gray-600",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(gs,{className:"w-4 h-4 mt-0.5 text-gray-400"}),t.jsx("span",{children:T.registration_notes})]})})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{v(T),N(!0)},className:"flex items-center gap-2 px-4 py-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors font-medium",children:[t.jsx(Ws,{className:"w-4 h-4"}),"Reject"]}),t.jsxs("button",{onClick:()=>{v(T),h(!0)},className:"flex items-center gap-2 px-4 py-2 text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors font-medium",children:[t.jsx(Y,{className:"w-4 h-4"}),"Approve"]})]})]})},T.id)})})]}),b&&x&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(Ia,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Approve Registration"}),t.jsx("p",{className:"text-sm text-gray-500",children:x.name})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Assign to Group ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:g.group_id,onChange:T=>k({...g,group_id:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[t.jsx("option",{value:"",children:"Select a group..."}),a.map(T=>t.jsxs("option",{value:T.id,children:[T.group_code," - ",T.name]},T.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),t.jsx("textarea",{value:g.notes,onChange:T=>k({...g,notes:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none",rows:3,placeholder:"Any notes about this approval..."})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>{h(!1),v(null),k({group_id:"",notes:""})},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:A,disabled:o==="approve",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50 font-medium transition-colors",children:[o==="approve"?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(Y,{className:"w-4 h-4"}),"Approve"]})]})]})}),p&&x&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(np,{className:"w-6 h-6 text-red-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reject Registration"}),t.jsx("p",{className:"text-sm text-gray-500",children:x.name})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional)"}),t.jsx("textarea",{value:C,onChange:T=>E(T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none",rows:3,placeholder:"Reason for rejection..."}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"The user will be notified via email with this reason."})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>{N(!1),v(null),E("")},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:S,disabled:o==="reject",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 disabled:opacity-50 font-medium transition-colors",children:[o==="reject"?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(Ws,{className:"w-4 h-4"}),"Reject"]})]})]})}),m&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(hi,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Send Invitation"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Invite a new editor to join"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:j.email,onChange:T=>w({...j,email:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"editor@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pre-assign to Group (optional)"}),t.jsxs("select",{value:j.group_id,onChange:T=>w({...j,group_id:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"No group (assign later)"}),a.map(T=>t.jsxs("option",{value:T.id,children:[T.group_code," - ",T.name]},T.id))]})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>{f(!1),w({email:"",group_id:""})},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:U,disabled:o==="invite",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[o==="invite"?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(hi,{className:"w-4 h-4"}),"Send Invitation"]})]})]})})]})}function Ib({log:e,onClose:s}){var r,a;return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Audit Log Details"}),t.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Action"}),t.jsx("p",{className:"font-medium",children:e.action})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Timestamp"}),t.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"User"}),t.jsx("p",{className:"font-medium",children:((r=e.user)==null?void 0:r.name)||"System"}),t.jsx("p",{className:"text-sm text-gray-500",children:(a=e.user)==null?void 0:a.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"IP Address"}),t.jsx("p",{className:"font-medium",children:e.ip_address||"N/A"})]})]}),e.entity_type&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Entity"}),t.jsxs("p",{className:"font-medium",children:[e.entity_type," #",e.entity_id]})]}),e.metadata&&Object.keys(e.metadata).length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-500 uppercase mb-2 block",children:"Metadata"}),t.jsx("pre",{className:"bg-gray-50 p-3 rounded-lg text-sm overflow-auto max-h-48",children:JSON.stringify(e.metadata,null,2)})]})]}),t.jsx("div",{className:"p-4 border-t",children:t.jsx("button",{onClick:s,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Close"})})]})})}function vn({title:e,value:s,icon:r,color:a}){const n={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"};return t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-2 rounded-lg ${n[a]}`,children:t.jsx(r,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.toLocaleString())||0}),t.jsx("p",{className:"text-sm text-gray-500",children:e})]})]})})}function Db(){const[e,s]=y.useState([]),[r,a]=y.useState(null),[n,l]=y.useState([]),[i,o]=y.useState([]),[c,d]=y.useState(!0),[u,x]=y.useState(null),[v,b]=y.useState({search:"",action:"",entity_type:"",date_from:"",date_to:""}),[h,p]=y.useState({current_page:1,last_page:1,per_page:50,total:0});y.useEffect(()=>{N()},[]),y.useEffect(()=>{m()},[v,h.current_page]);const N=async()=>{try{const[j,w,_]=await Promise.all([gn.getStats(),gn.getActions(),gn.getEntityTypes()]);a(j),l(w||[]),o(_||[])}catch(j){console.error("Failed to load initial data:",j)}},m=async()=>{d(!0);try{const j=await gn.getAll({...v,page:h.current_page,per_page:h.per_page});s(j.data||[]),p(w=>({...w,current_page:j.current_page,last_page:j.last_page,total:j.total}))}catch(j){console.error("Failed to load logs:",j)}finally{d(!1)}},f=(j,w)=>{b(_=>({..._,[j]:w})),p(_=>({..._,current_page:1}))},g=()=>{b({search:"",action:"",entity_type:"",date_from:"",date_to:""})},k=j=>{p(w=>({...w,current_page:j}))},C={"user.create":"bg-green-100 text-green-700","user.update":"bg-blue-100 text-blue-700","user.delete":"bg-red-100 text-red-700","auth.login":"bg-purple-100 text-purple-700","auth.logout":"bg-gray-100 text-gray-700","media.sync":"bg-cyan-100 text-cyan-700","issue.report":"bg-orange-100 text-orange-700","issue.resolve":"bg-green-100 text-green-700"},E=j=>C[j]||"bg-gray-100 text-gray-700";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),t.jsx("p",{className:"text-gray-500",children:"Track all system activities and changes"})]}),r&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(vn,{title:"Total Logs",value:r.total,icon:Mc,color:"blue"}),t.jsx(vn,{title:"Today",value:r.today,icon:ge,color:"green"}),t.jsx(vn,{title:"This Week",value:r.this_week,icon:Wt,color:"yellow"}),t.jsx(vn,{title:"This Month",value:r.this_month,icon:ae,color:"purple"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search logs...",value:v.search,onChange:j=>f("search",j.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("select",{value:v.action,onChange:j=>f("action",j.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Actions"}),n.map(j=>t.jsx("option",{value:j,children:j},j))]}),t.jsxs("select",{value:v.entity_type,onChange:j=>f("entity_type",j.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Entities"}),i.map(j=>t.jsx("option",{value:j,children:j},j))]}),t.jsx("input",{type:"date",value:v.date_from,onChange:j=>f("date_from",j.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"From"}),t.jsx("input",{type:"date",value:v.date_to,onChange:j=>f("date_to",j.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"To"}),(v.search||v.action||v.entity_type||v.date_from||v.date_to)&&t.jsxs("button",{onClick:g,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg flex items-center gap-2",children:[t.jsx(Ae,{className:"w-4 h-4"}),"Clear"]})]})}),c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Timestamp"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Entity"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"IP Address"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Details"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(j=>{var w,_;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(j.created_at).toLocaleString()}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${E(j.action)}`,children:j.action})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:t.jsx(Qt,{className:"w-4 h-4 text-gray-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:((w=j.user)==null?void 0:w.name)||"System"}),t.jsx("p",{className:"text-xs text-gray-500",children:((_=j.user)==null?void 0:_.email)||""})]})]})}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:j.entity_type?`${j.entity_type} #${j.entity_id}`:"-"}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:j.ip_address||"-"}),t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsx("button",{onClick:()=>x(j),className:"p-2 hover:bg-gray-100 rounded-lg",title:"View Details",children:t.jsx(Lt,{className:"w-4 h-4 text-gray-500"})})})]},j.id)})})]}),e.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(gs,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No audit logs found"})]})]}),h.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-100",children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(h.current_page-1)*h.per_page+1," to"," ",Math.min(h.current_page*h.per_page,h.total)," of"," ",h.total," results"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>k(h.current_page-1),disabled:h.current_page===1,className:"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(Z0,{className:"w-4 h-4"})}),t.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",h.current_page," of ",h.last_page]}),t.jsx("button",{onClick:()=>k(h.current_page+1),disabled:h.current_page===h.last_page,className:"p-2 hover:bg-gray-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(Rr,{className:"w-4 h-4"})})]})]})]})]}),u&&t.jsx(Ib,{log:u,onClose:()=>x(null)})]})}function Fb(){const[e,s]=y.useState("general"),[r,a]=y.useState(!0),[n,l]=y.useState(!1),[i,o]=y.useState(!1),[c,d]=y.useState({type:"",text:""}),[u,x]=y.useState({app_name:"",app_url:"",require_approval:!0,allow_self_registration:!0}),[v,b]=y.useState({smtp_host:"",smtp_port:587,smtp_username:"",smtp_password:"",smtp_encryption:"tls",smtp_from_address:"",smtp_from_name:""}),[h,p]=y.useState(""),[N,m]=y.useState(!1);y.useEffect(()=>{f()},[]);const f=async()=>{a(!0);try{const[j,w]=await Promise.all([Xr.getGeneral(),Xr.getSmtp()]);x(j.data),b(w.data)}catch{d({type:"error",text:"Failed to load settings"})}finally{a(!1)}},g=async()=>{l(!0),d({type:"",text:""});try{await Xr.updateGeneral(u),d({type:"success",text:"General settings saved successfully"})}catch(j){d({type:"error",text:j.message||"Failed to save settings"})}finally{l(!1)}},k=async()=>{l(!0),d({type:"",text:""});try{await Xr.updateSmtp(v),d({type:"success",text:"SMTP settings saved successfully"})}catch(j){d({type:"error",text:j.message||"Failed to save settings"})}finally{l(!1)}},C=async()=>{if(!h){d({type:"error",text:"Please enter a test email address"});return}o(!0),d({type:"",text:""});try{const j=await Xr.testSmtp(h);d({type:"success",text:j.data.message})}catch(j){d({type:"error",text:j.message||"SMTP test failed"})}finally{o(!1)}};if(r)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})});const E=[{id:"general",label:"General",icon:_o},{id:"smtp",label:"Email (SMTP)",icon:Vs},{id:"security",label:"Security",icon:wt}];return t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),t.jsx("p",{className:"text-gray-500",children:"Configure your Gate 1 System"})]}),c.text&&t.jsxs("div",{className:`p-4 rounded-xl flex items-center gap-3 ${c.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[c.type==="success"?t.jsx(Y,{className:"w-5 h-5"}):t.jsx(ze,{className:"w-5 h-5"}),c.text]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"border-b border-gray-100",children:t.jsx("nav",{className:"flex",children:E.map(j=>t.jsxs("button",{onClick:()=>s(j.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${e===j.id?"border-blue-600 text-blue-600 bg-blue-50/50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(j.icon,{className:"w-4 h-4"}),j.label]},j.id))})}),t.jsxs("div",{className:"p-6",children:[e==="general"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Name"}),t.jsx("input",{type:"text",value:u.app_name,onChange:j=>x({...u,app_name:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application URL"}),t.jsx("input",{type:"url",value:u.app_url,onChange:j=>x({...u,app_url:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://gate1.cloud"})]})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Registration Settings"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[t.jsx("input",{type:"checkbox",checked:u.allow_self_registration,onChange:j=>x({...u,allow_self_registration:j.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Allow Self-Registration"}),t.jsx("div",{className:"text-sm text-gray-500",children:"Allow users to register themselves without an invitation"})]})]}),t.jsxs("label",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[t.jsx("input",{type:"checkbox",checked:u.require_approval,onChange:j=>x({...u,require_approval:j.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Require Approval"}),t.jsx("div",{className:"text-sm text-gray-500",children:"New registrations must be approved by an admin or group leader"})]})]})]})]}),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsxs("button",{onClick:g,disabled:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[n?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(Eo,{className:"w-4 h-4"}),"Save Changes"]})})]}),e==="smtp"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Vs,{className:"w-5 h-5 text-blue-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-900",children:"Email Configuration"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Configure SMTP settings to enable email notifications for password resets, registration approvals, and alerts."})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Host"}),t.jsxs("div",{className:"relative",children:[t.jsx(Bv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",value:v.smtp_host,onChange:j=>b({...v,smtp_host:j.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"smtp.gmail.com"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP Port"}),t.jsx("input",{type:"number",value:v.smtp_port,onChange:j=>b({...v,smtp_port:parseInt(j.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"587"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),t.jsx("input",{type:"text",value:v.smtp_username,onChange:j=>b({...v,smtp_username:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:N?"text":"password",value:v.smtp_password,onChange:j=>b({...v,smtp_password:j.target.value}),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:""}),t.jsx("button",{type:"button",onClick:()=>m(!N),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:N?t.jsx(br,{className:"w-4 h-4"}):t.jsx(Lt,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Encryption"}),t.jsxs("select",{value:v.smtp_encryption,onChange:j=>b({...v,smtp_encryption:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"tls",children:"TLS"}),t.jsx("option",{value:"ssl",children:"SSL"}),t.jsx("option",{value:"none",children:"None"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Address"}),t.jsx("input",{type:"email",value:v.smtp_from_address,onChange:j=>b({...v,smtp_from_address:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"noreply@gate1system.org"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Name"}),t.jsx("input",{type:"text",value:v.smtp_from_name,onChange:j=>b({...v,smtp_from_name:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Gate 1 System"})]})]}),t.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Configuration"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("input",{type:"email",value:h,onChange:j=>p(j.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email to send test message"}),t.jsxs("button",{onClick:C,disabled:i,className:"flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 disabled:opacity-50 font-medium transition-colors",children:[i?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(qv,{className:"w-4 h-4"}),"Send Test"]})]})]}),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsxs("button",{onClick:k,disabled:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 font-medium transition-colors",children:[n?t.jsx(vt,{className:"w-4 h-4 animate-spin"}):t.jsx(Eo,{className:"w-4 h-4"}),"Save SMTP Settings"]})})]}),e==="security"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(wt,{className:"w-5 h-5 text-amber-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-amber-900",children:"Security Settings"}),t.jsx("p",{className:"text-sm text-amber-700",children:"Additional security settings will be available in a future update."})]})]})}),t.jsxs("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(wt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:"Security settings coming soon"}),t.jsx("p",{className:"text-sm",children:"Session management, 2FA, and more"})]})]})]})]})]})}function $b(){var N,m,f;const{user:e}=de(),[s,r]=y.useState("profile"),[a,n]=y.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||""}),[l,i]=y.useState({current_password:"",password:"",password_confirmation:""}),[o,c]=y.useState({current:!1,new:!1,confirm:!1}),[d,u]=y.useState(!1),[x,v]=y.useState({type:"",text:""}),b=async g=>{g.preventDefault(),u(!0),v({type:"",text:""});try{await Nt.update(e.id,a),v({type:"success",text:"Profile updated successfully"})}catch(k){v({type:"error",text:k.message||"Failed to update profile"})}finally{u(!1)}},h=async g=>{if(g.preventDefault(),u(!0),v({type:"",text:""}),l.password!==l.password_confirmation){v({type:"error",text:"Passwords do not match"}),u(!1);return}try{await vr.changePassword(l),v({type:"success",text:"Password changed successfully"}),i({current_password:"",password:"",password_confirmation:""})}catch(k){v({type:"error",text:k.message||"Failed to change password"})}finally{u(!1)}},p=g=>{c(k=>({...k,[g]:!k[g]}))};return t.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"}),t.jsx("p",{className:"text-gray-500",children:"Manage your account settings"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-3xl font-bold text-white",children:((m=(N=e==null?void 0:e.name)==null?void 0:N.charAt(0))==null?void 0:m.toUpperCase())||"U"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e==null?void 0:e.name}),t.jsx("p",{className:"text-gray-500",children:e==null?void 0:e.email}),t.jsx("div",{className:"flex gap-2 mt-2",children:(f=e==null?void 0:e.roles)==null?void 0:f.map(g=>t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:g},g))})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"border-b border-gray-100",children:t.jsxs("nav",{className:"flex",children:[t.jsx("button",{onClick:()=>r("profile"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="profile"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qt,{className:"w-4 h-4"}),"Profile Information"]})}),t.jsx("button",{onClick:()=>r("security"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${s==="security"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(wt,{className:"w-4 h-4"}),"Security"]})})]})}),t.jsxs("div",{className:"p-6",children:[x.text&&t.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${x.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[x.type==="success"?t.jsx(Y,{className:"w-5 h-5"}):t.jsx(ze,{className:"w-5 h-5"}),x.text]}),s==="profile"&&t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qt,{className:"w-4 h-4"}),"Full Name"]})}),t.jsx("input",{type:"text",value:a.name,onChange:g=>n({...a,name:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vs,{className:"w-4 h-4"}),"Email Address"]})}),t.jsx("input",{type:"email",value:a.email,onChange:g=>n({...a,email:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ol,{className:"w-4 h-4"}),"Phone Number"]})}),t.jsx("input",{type:"text",value:a.phone,onChange:g=>n({...a,phone:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional"})]}),t.jsx("div",{className:"pt-4",children:t.jsxs("button",{type:"submit",disabled:d,className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:[t.jsx(Eo,{className:"w-4 h-4"}),d?"Saving...":"Save Changes"]})})]}),s==="security"&&t.jsxs("form",{onSubmit:h,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:o.current?"text":"password",value:l.current_password,onChange:g=>i({...l,current_password:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0}),t.jsx("button",{type:"button",onClick:()=>p("current"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.current?t.jsx(br,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:o.new?"text":"password",value:l.password,onChange:g=>i({...l,password:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0,minLength:8}),t.jsx("button",{type:"button",onClick:()=>p("new"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.new?t.jsx(br,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum 8 characters"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:o.confirm?"text":"password",value:l.password_confirmation,onChange:g=>i({...l,password_confirmation:g.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12",required:!0}),t.jsx("button",{type:"button",onClick:()=>p("confirm"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.confirm?t.jsx(br,{className:"w-5 h-5"}):t.jsx(Lt,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"pt-4",children:t.jsxs("button",{type:"submit",disabled:d,className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium",children:[t.jsx(ep,{className:"w-4 h-4"}),d?"Changing...":"Change Password"]})})]})]})]})]})}const Ub=[{id:1,type:"alert",title:"New Issue Reported",message:"Camera CAM-042 reported corrupt file in Group Alpha",time:"5 min ago",read:!1,link:"/issues"},{id:2,type:"success",title:"Backup Completed",message:"Daily backup for Event TEST-2024 completed successfully",time:"1 hour ago",read:!1,link:"/backups"},{id:3,type:"info",title:"New Editor Joined",message:"John Doe has joined Group Beta as an editor",time:"2 hours ago",read:!0,link:"/users"},{id:4,type:"warning",title:"Storage Warning",message:"Backup disk DISK-003 is at 85% capacity",time:"3 hours ago",read:!0,link:"/storage-forecast"},{id:5,type:"alert",title:"Issue Escalated",message:"Missing footage issue #127 has been escalated",time:"5 hours ago",read:!0,link:"/issues"},{id:6,type:"success",title:"QA Review Complete",message:"15 media files passed quality control",time:"1 day ago",read:!0,link:"/quality-control"},{id:7,type:"info",title:"Event Started",message:"Event TEST-2024 is now active",time:"2 days ago",read:!0,link:"/events"}];function zb(){const{user:e}=de(),[s,r]=y.useState(Ub),[a,n]=y.useState("all"),[l,i]=y.useState(!1),[o,c]=y.useState({issues:!0,backups:!0,storage:!0,users:!0,qa:!0}),d=s.filter(m=>a==="unread"?!m.read:a==="read"?m.read:!0),u=s.filter(m=>!m.read).length,x=m=>{r(f=>f.map(g=>g.id===m?{...g,read:!0}:g))},v=()=>{r(m=>m.map(f=>({...f,read:!0})))},b=m=>{r(f=>f.filter(g=>g.id!==m))},h=()=>{r([])},p=m=>{switch(m){case"alert":return t.jsx(W,{className:"w-5 h-5 text-red-500"});case"warning":return t.jsx(W,{className:"w-5 h-5 text-yellow-500"});case"success":return t.jsx(Y,{className:"w-5 h-5 text-green-500"});case"info":return t.jsx(Hs,{className:"w-5 h-5 text-blue-500"});default:return t.jsx(Ma,{className:"w-5 h-5 text-gray-500"})}},N=(m,f)=>{if(f)return"bg-white";switch(m){case"alert":return"bg-red-50";case"warning":return"bg-yellow-50";case"success":return"bg-green-50";case"info":return"bg-blue-50";default:return"bg-gray-50"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),t.jsx("p",{className:"text-gray-500",children:u>0?`${u} unread notifications`:"All caught up!"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i(!l),className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[t.jsx(Lr,{className:"w-4 h-4"}),"Preferences"]}),u>0&&t.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[t.jsx(Av,{className:"w-4 h-4"}),"Mark all read"]})]})]}),l&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[t.jsx("h3",{className:"font-medium mb-3",children:"Notification Preferences"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(o).map(([m,f])=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f,onChange:()=>c(g=>({...g,[m]:!g[m]})),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm capitalize",children:m})]},m))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Oc,{className:"w-4 h-4 text-gray-400"}),t.jsxs("select",{value:a,onChange:m=>n(m.target.value),className:"border-0 bg-transparent text-sm font-medium focus:ring-0",children:[t.jsx("option",{value:"all",children:"All Notifications"}),t.jsx("option",{value:"unread",children:"Unread"}),t.jsx("option",{value:"read",children:"Read"})]})]}),s.length>0&&t.jsx("button",{onClick:h,className:"text-sm text-red-600 hover:text-red-700",children:"Clear all"})]}),t.jsx("div",{className:"divide-y divide-gray-100",children:d.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ma,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No notifications"})]}):d.map(m=>t.jsx("div",{className:`p-4 ${N(m.type,m.read)} hover:bg-gray-50 transition-colors`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:p(m.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:`font-medium ${m.read?"text-gray-700":"text-gray-900"}`,children:m.title}),t.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:m.message})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!m.read&&t.jsx("button",{onClick:()=>x(m.id),className:"p-1 hover:bg-gray-200 rounded",title:"Mark as read",children:t.jsx(X0,{className:"w-4 h-4 text-gray-400"})}),t.jsx("button",{onClick:()=>b(m.id),className:"p-1 hover:bg-gray-200 rounded",title:"Delete",children:t.jsx(Tt,{className:"w-4 h-4 text-gray-400"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(ge,{className:"w-3 h-3 text-gray-400"}),t.jsx("span",{className:"text-xs text-gray-400",children:m.time}),m.link&&t.jsx("a",{href:m.link,className:"text-xs text-blue-600 hover:underline ml-2",children:"View details "})]})]})]})},m.id))})]})]})}const em=[{id:"daily-summary",name:"Daily Summary",description:"Overview of daily operations including media count, issues, and editor activity",icon:Wt,formats:["pdf","xlsx"],category:"operations"},{id:"event-report",name:"Event Report",description:"Complete report for a specific event including all statistics and media",icon:Bs,formats:["pdf","xlsx"],category:"operations"},{id:"media-export",name:"Media Inventory",description:"Export list of all media files with metadata and status",icon:nt,formats:["xlsx","csv"],category:"media"},{id:"issues-report",name:"Issues Report",description:"List of all issues with resolution status and timeline",icon:W,formats:["pdf","xlsx"],category:"quality"},{id:"backup-report",name:"Backup Status",description:"Backup coverage and verification report by disk and event",icon:X,formats:["pdf","xlsx"],category:"storage"},{id:"editor-performance",name:"Editor Performance",description:"Performance metrics and productivity stats for editors",icon:Ne,formats:["pdf","xlsx"],category:"team"},{id:"healing-cases",name:"Healing Cases",description:"Export healing case records with patient info and status",icon:gs,formats:["xlsx","csv"],category:"media"},{id:"audit-logs",name:"Audit Trail",description:"System audit logs for compliance and tracking",icon:gs,formats:["xlsx","csv"],category:"admin"}],Bb={operations:"Operations",media:"Media",quality:"Quality Control",storage:"Storage",team:"Team",admin:"Administration"};function Hb(){const{isAdmin:e,isTeamLead:s}=de(),[r,a]=y.useState(null),[n,l]=y.useState({start:"",end:""}),[i,o]=y.useState(""),[c,d]=y.useState(!1),[u,x]=y.useState([{id:1,name:"Daily Summary - Dec 25, 2024",type:"pdf",size:"245 KB",time:"2 hours ago"},{id:2,name:"Event Report - TEST-2024",type:"xlsx",size:"1.2 MB",time:"1 day ago"},{id:3,name:"Backup Status - December",type:"pdf",size:"180 KB",time:"3 days ago"}]),v=async(h,p)=>{d(!0),await new Promise(f=>setTimeout(f,2e3));const N=em.find(f=>f.id===h),m={id:Date.now(),name:`${N.name} - ${new Date().toLocaleDateString()}`,type:p,size:"---",time:"Just now"};x(f=>[m,...f.slice(0,9)]),d(!1),a(null),alert(`Report "${m.name}" generated! Download would start automatically.`)},b=em.reduce((h,p)=>(h[p.category]||(h[p.category]=[]),h[p.category].push(p),h),{});return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),t.jsx("p",{className:"text-gray-500",children:"Generate and download system reports"})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2 space-y-6",children:Object.entries(b).map(([h,p])=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h2",{className:"font-semibold text-gray-900",children:Bb[h]})}),t.jsx("div",{className:"divide-y divide-gray-100",children:p.map(N=>t.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(N.icon,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:N.name}),t.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:N.description}),t.jsx("div",{className:"flex items-center gap-2 mt-3",children:N.formats.map(m=>t.jsxs("button",{onClick:()=>a({...N,format:m}),className:"flex items-center gap-1 px-3 py-1.5 text-sm border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[m==="pdf"?t.jsx(qu,{className:"w-4 h-4 text-red-500"}):t.jsx(Vu,{className:"w-4 h-4 text-green-500"}),m.toUpperCase()]},m))})]})]})},N.id))})]},h))}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h2",{className:"font-semibold text-gray-900",children:"Recent Reports"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:u.length===0?t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No recent reports"}):u.map(h=>t.jsx("div",{className:"p-4 hover:bg-gray-50",children:t.jsxs("div",{className:"flex items-center gap-3",children:[h.type==="pdf"?t.jsx(qu,{className:"w-8 h-8 text-red-500"}):t.jsx(Vu,{className:"w-8 h-8 text-green-500"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:[h.size,"  ",h.time]})]}),t.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(Oa,{className:"w-4 h-4 text-gray-500"})})]})},h.id))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Quick Stats"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-blue-100",children:"Reports this month"}),t.jsx("span",{className:"font-semibold",children:"24"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-blue-100",children:"Total downloads"}),t.jsx("span",{className:"font-semibold",children:"156"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-blue-100",children:"Storage used"}),t.jsx("span",{className:"font-semibold",children:"48 MB"})]})]})]})]})]}),r&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h3",{className:"text-lg font-semibold",children:"Generate Report"})}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Report Type"}),t.jsxs("p",{className:"font-medium",children:[r.name," (",r.format.toUpperCase(),")"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("input",{type:"date",value:n.start,onChange:h=>l(p=>({...p,start:h.target.value})),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),t.jsx("input",{type:"date",value:n.end,onChange:h=>l(p=>({...p,end:h.target.value})),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),r.id==="event-report"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event"}),t.jsxs("select",{value:i,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select event..."}),t.jsx("option",{value:"1",children:"TEST-2024 - Test Event"}),t.jsx("option",{value:"2",children:"CONF-2024 - Conference"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:()=>a(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:()=>v(r.id,r.format),disabled:c,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:c?t.jsxs(t.Fragment,{children:[t.jsx(ge,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Oa,{className:"w-4 h-4"}),"Generate"]})})]})]})]})})]})}const Vb=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],tm=Array.from({length:24},(e,s)=>s),qb=[{id:1,userId:1,userName:"John Doe",date:"2024-12-26",startHour:8,endHour:16,status:"active",checkedIn:!0},{id:2,userId:2,userName:"Jane Smith",date:"2024-12-26",startHour:16,endHour:24,status:"scheduled"},{id:3,userId:3,userName:"Mike Johnson",date:"2024-12-26",startHour:8,endHour:16,status:"completed"},{id:4,userId:1,userName:"John Doe",date:"2024-12-27",startHour:8,endHour:16,status:"scheduled"},{id:5,userId:4,userName:"Sarah Wilson",date:"2024-12-27",startHour:16,endHour:24,status:"scheduled"}],sm=[{id:1,name:"John Doe"},{id:2,name:"Jane Smith"},{id:3,name:"Mike Johnson"},{id:4,name:"Sarah Wilson"},{id:5,name:"Tom Brown"}];function Wb(){const{isAdmin:e,isTeamLead:s,isGroupLeader:r}=de(),[a,n]=y.useState(new Date),[l,i]=y.useState("week"),[o,c]=y.useState(qb),[d,u]=y.useState(!1),[x,v]=y.useState(null),[b,h]=y.useState({userId:"",startHour:8,endHour:16}),p=e()||s()||r(),m=(()=>{const _=[],A=new Date(a);A.setDate(a.getDate()-a.getDay());for(let S=0;S<7;S++){const U=new Date(A);U.setDate(A.getDate()+S),_.push(U)}return _})(),f=_=>_.toISOString().split("T")[0],g=_=>o.filter(A=>A.date===f(_)),k=_=>{const A=new Date(a);A.setDate(a.getDate()+_*7),n(A)},C=(_,A)=>{p&&(v({date:f(_),hour:A}),h({userId:"",startHour:A,endHour:A+8}),u(!0))},E=()=>{if(!b.userId)return;const _=sm.find(S=>S.id===parseInt(b.userId)),A={id:Date.now(),userId:parseInt(b.userId),userName:(_==null?void 0:_.name)||"Unknown",date:x.date,startHour:parseInt(b.startHour),endHour:parseInt(b.endHour),status:"scheduled"};c(S=>[...S,A]),u(!1)},j=_=>{switch(_){case"active":return"bg-green-100 border-green-300 text-green-800";case"completed":return"bg-gray-100 border-gray-300 text-gray-600";case"scheduled":return"bg-blue-100 border-blue-300 text-blue-800";default:return"bg-gray-100 border-gray-300 text-gray-600"}},w={scheduled:o.filter(_=>_.date===f(new Date)&&_.status==="scheduled").length,active:o.filter(_=>_.date===f(new Date)&&_.status==="active").length,completed:o.filter(_=>_.date===f(new Date)&&_.status==="completed").length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shift Schedule"}),t.jsx("p",{className:"text-gray-500",children:"Manage editor work schedules"})]}),p&&t.jsxs("button",{onClick:()=>{v({date:f(new Date),hour:8}),h({userId:"",startHour:8,endHour:16}),u(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[t.jsx(zr,{className:"w-4 h-4"}),"Add Shift"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(ge,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.scheduled}),t.jsx("p",{className:"text-sm text-gray-500",children:"Scheduled Today"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(zv,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.active}),t.jsx("p",{className:"text-sm text-gray-500",children:"Currently Active"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:t.jsx(X0,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.completed}),t.jsx("p",{className:"text-sm text-gray-500",children:"Completed Today"})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>k(-1),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(Z0,{className:"w-5 h-5"})}),t.jsxs("h2",{className:"font-semibold text-gray-900",children:[m[0].toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",m[6].toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),t.jsx("button",{onClick:()=>k(1),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(Rr,{className:"w-5 h-5"})})]}),t.jsx("button",{onClick:()=>n(new Date),className:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg hover:bg-gray-50",children:"Today"})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("div",{className:"min-w-[800px]",children:[t.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-100",children:[t.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 border-r border-gray-100",children:"Time"}),m.map((_,A)=>{const S=f(_)===f(new Date);return t.jsxs("div",{className:`p-3 text-center border-r border-gray-100 last:border-r-0 ${S?"bg-blue-50":""}`,children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:Vb[_.getDay()]}),t.jsx("p",{className:`text-lg font-semibold ${S?"text-blue-600":"text-gray-900"}`,children:_.getDate()})]},A)})]}),[6,8,10,12,14,16,18,20,22].map(_=>t.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"p-2 text-center text-sm text-gray-500 border-r border-gray-100 bg-gray-50",children:[_.toString().padStart(2,"0"),":00"]}),m.map((A,S)=>{const U=g(A).filter(T=>T.startHour<=_&&T.endHour>_),R=f(A)===f(new Date);return t.jsx("div",{onClick:()=>C(A,_),className:`p-1 min-h-[60px] border-r border-gray-100 last:border-r-0 ${R?"bg-blue-50/50":""} ${p?"cursor-pointer hover:bg-gray-50":""}`,children:U.map(T=>t.jsxs("div",{className:`px-2 py-1 rounded text-xs font-medium border ${j(T.status)} mb-1`,children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Qt,{className:"w-3 h-3"}),T.userName]}),t.jsxs("div",{className:"text-[10px] opacity-75",children:[T.startHour,":00 - ",T.endHour,":00"]})]},T.id))},S)})]},_))]})})]}),d&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Schedule Shift"}),t.jsx("button",{onClick:()=>u(!1),className:"p-1 hover:bg-gray-100 rounded",children:t.jsx(Ae,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),t.jsx("input",{type:"date",value:(x==null?void 0:x.date)||"",onChange:_=>v(A=>({...A,date:_.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Editor"}),t.jsxs("select",{value:b.userId,onChange:_=>h(A=>({...A,userId:_.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Select editor..."}),sm.map(_=>t.jsx("option",{value:_.id,children:_.name},_.id))]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),t.jsx("select",{value:b.startHour,onChange:_=>h(A=>({...A,startHour:_.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:tm.map(_=>t.jsxs("option",{value:_,children:[_.toString().padStart(2,"0"),":00"]},_))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),t.jsx("select",{value:b.endHour,onChange:_=>h(A=>({...A,endHour:_.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:tm.map(_=>t.jsxs("option",{value:_,children:[_.toString().padStart(2,"0"),":00"]},_))})]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:E,disabled:!b.userId,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Schedule"})]})]})]})})]})}const Gb=[{id:1,type:"media_upload",user:"John Doe",target:"CAM-042",message:"uploaded 15 media files",time:"2 min ago",group:"Alpha"},{id:2,type:"issue_created",user:"Jane Smith",target:"ISSUE-127",message:"reported missing footage issue",time:"5 min ago",group:"Beta"},{id:3,type:"backup_complete",user:"System",target:"DISK-003",message:"completed backup verification",time:"10 min ago"},{id:4,type:"user_login",user:"Mike Johnson",message:"logged in from Desktop Agent",time:"15 min ago",group:"Alpha"},{id:5,type:"issue_resolved",user:"Sarah Wilson",target:"ISSUE-125",message:"resolved corrupt file issue",time:"20 min ago",group:"QA"},{id:6,type:"media_edit",user:"Tom Brown",target:"VID-2024-001",message:"edited metadata",time:"25 min ago",group:"Alpha"},{id:7,type:"user_joined",user:"Admin",target:"Emily Davis",message:"added new editor to Group Beta",time:"30 min ago"},{id:8,type:"camera_bind",user:"John Doe",target:"CAM-055",message:"bound camera to SD card",time:"45 min ago",group:"Alpha"},{id:9,type:"backup_started",user:"System",target:"DISK-004",message:"started backup process",time:"1 hour ago"},{id:10,type:"qa_approved",user:"QA Lead",target:"25 files",message:"approved for publishing",time:"1 hour ago",group:"QA"},{id:11,type:"settings_changed",user:"Admin",message:"updated system settings",time:"2 hours ago"},{id:12,type:"event_started",user:"Admin",target:"TEST-2024",message:"activated event",time:"3 hours ago"}],Qb={media_upload:{icon:ul,color:"text-blue-500",bg:"bg-blue-100"},media_edit:{icon:rp,color:"text-purple-500",bg:"bg-purple-100"},issue_created:{icon:W,color:"text-red-500",bg:"bg-red-100"},issue_resolved:{icon:Y,color:"text-green-500",bg:"bg-green-100"},backup_complete:{icon:X,color:"text-green-500",bg:"bg-green-100"},backup_started:{icon:X,color:"text-yellow-500",bg:"bg-yellow-100"},user_login:{icon:Iv,color:"text-blue-500",bg:"bg-blue-100"},user_logout:{icon:Ic,color:"text-gray-500",bg:"bg-gray-100"},user_joined:{icon:$c,color:"text-green-500",bg:"bg-green-100"},camera_bind:{icon:st,color:"text-purple-500",bg:"bg-purple-100"},qa_approved:{icon:Y,color:"text-green-500",bg:"bg-green-100"},settings_changed:{icon:Lr,color:"text-gray-500",bg:"bg-gray-100"},event_started:{icon:ae,color:"text-blue-500",bg:"bg-blue-100"}};function Kb(){const{user:e}=de(),[s,r]=y.useState(Gb),[a,n]=y.useState("all"),[l,i]=y.useState(!0),[o,c]=y.useState(!1),d=s.filter(p=>a==="all"?!0:p.type.includes(a)),u=async()=>{c(!0),await new Promise(p=>setTimeout(p,1e3)),c(!1)},x=p=>{const N=Qb[p]||{icon:ae,color:"text-gray-500",bg:"bg-gray-100"},m=N.icon;return t.jsx("div",{className:`p-2 rounded-full ${N.bg}`,children:t.jsx(m,{className:`w-4 h-4 ${N.color}`})})},v=s.length,b=s.filter(p=>p.type.includes("issue")).length,h=s.filter(p=>p.type.includes("media")).length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Activity Feed"}),t.jsx("p",{className:"text-gray-500",children:"Real-time system activity"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i(!l),className:`flex items-center gap-2 px-3 py-2 rounded-lg border ${l?"bg-green-50 border-green-200 text-green-700":"border-gray-300"}`,children:[t.jsx("span",{className:`w-2 h-2 rounded-full ${l?"bg-green-500 animate-pulse":"bg-gray-400"}`}),l?"Live":"Paused"]}),t.jsxs("button",{onClick:u,disabled:o,className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[t.jsx(Be,{className:`w-4 h-4 ${o?"animate-spin":""}`}),"Refresh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(ae,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v}),t.jsx("p",{className:"text-sm text-gray-500",children:"Activities Today"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(nt,{className:"w-5 h-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h}),t.jsx("p",{className:"text-sm text-gray-500",children:"Media Activities"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(W,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b}),t.jsx("p",{className:"text-sm text-gray-500",children:"Issue Activities"})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Oc,{className:"w-4 h-4 text-gray-400"}),t.jsxs("select",{value:a,onChange:p=>n(p.target.value),className:"border-0 bg-transparent text-sm font-medium focus:ring-0",children:[t.jsx("option",{value:"all",children:"All Activities"}),t.jsx("option",{value:"media",children:"Media"}),t.jsx("option",{value:"issue",children:"Issues"}),t.jsx("option",{value:"backup",children:"Backups"}),t.jsx("option",{value:"user",children:"Users"})]})]}),t.jsxs("span",{className:"text-sm text-gray-500",children:[d.length," activities"]})]}),t.jsx("div",{className:"divide-y divide-gray-100",children:d.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ae,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No activities found"})]}):d.map(p=>t.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-3",children:[x(p.type),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("p",{className:"text-sm text-gray-900",children:[t.jsx("span",{className:"font-medium",children:p.user})," ",p.message,p.target&&t.jsxs("span",{className:"font-medium text-blue-600",children:[" ",p.target]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(ge,{className:"w-3 h-3 text-gray-400"}),t.jsx("span",{className:"text-xs text-gray-400",children:p.time}),p.group&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-300",children:""}),t.jsxs("span",{className:"text-xs text-gray-500",children:["Group ",p.group]})]})]})]})]})},p.id))}),t.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:t.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Load more activities"})})]})]})}const Jb=[{category:"Getting Started",icon:Ev,questions:[{q:"How do I set up the Desktop Agent?",a:"Download the Desktop Agent from the downloads section. Install it, then log in with your credentials. The agent will automatically connect to the server and sync your assigned cameras."},{q:"How do I join a group?",a:"Groups are assigned by your Group Leader or Admin. Contact them to be added to a specific group. Once added, you'll see the group in your dashboard."},{q:"What are the different user roles?",a:"Admin: Full system access. Team Lead: Operational management. Group Leader: Manages editors in their group. QA Lead: Quality control oversight. Backup Lead: Storage management. Editor: Media ingestion via Desktop Agent."}]},{category:"Media Management",icon:nt,questions:[{q:"How do I upload media files?",a:"Media files are uploaded automatically through the Desktop Agent when you process SD cards. Insert the SD card, select the camera, and the agent will sync the files."},{q:"What file formats are supported?",a:"The system supports MP4, MOV, AVI for video and JPG, PNG, RAW for images. Maximum file size is determined by your system settings."},{q:"How do I search for specific media?",a:"Use the Media Library search. You can filter by date, camera, group, event, and status. Use the advanced search for more specific queries."}]},{category:"Issues & Quality Control",icon:W,questions:[{q:"How do I report an issue?",a:'Click "Report Issue" from the Issues page or directly from a media item. Select the issue type, add a description, and submit. The issue will be routed to QA.'},{q:"What happens when an issue is escalated?",a:"Escalated issues are flagged for immediate attention and notify Team Leads. They appear at the top of the issue queue with high priority."},{q:"How does the QA review process work?",a:"QA team members review media in the Quality Control queue. They can approve, reject, or flag items for re-processing. Approved items move to the backup queue."}]},{category:"Backups & Storage",icon:X,questions:[{q:"How are backups performed?",a:"Backups are managed through the Backup Dashboard. Media is backed up to registered disks. The system tracks backup status and verification for each file."},{q:"What does backup verification mean?",a:"Verification ensures backup integrity by comparing checksums. Verified backups are confirmed to be complete and uncorrupted."},{q:"How do I check storage capacity?",a:"The Storage Forecast page shows current usage and predictions. You'll receive alerts when disks approach capacity thresholds."}]}],Yb=[{title:"Editor Quick Start Guide",icon:gs,description:"Basic guide for new editors"},{title:"Group Leader Handbook",icon:Ne,description:"Managing your team effectively"},{title:"Camera Setup Guide",icon:st,description:"Binding cameras and SD cards"},{title:"Backup Procedures",icon:X,description:"Best practices for data backup"},{title:"Quality Control Standards",icon:wt,description:"QA review guidelines"},{title:"System Administration",icon:Lr,description:"Admin configuration guide"}];function Xb(){const[e,s]=y.useState("Getting Started"),[r,a]=y.useState(null),[n,l]=y.useState(""),i=Jb.map(o=>({...o,questions:o.questions.filter(c=>c.q.toLowerCase().includes(n.toLowerCase())||c.a.toLowerCase().includes(n.toLowerCase()))})).filter(o=>o.questions.length>0);return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Help & Documentation"}),t.jsx("p",{className:"text-gray-500",children:"Guides, FAQs, and support resources"})]})}),t.jsxs("div",{className:"relative",children:[t.jsx(Gt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search help articles...",value:n,onChange:o=>l(o.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Frequently Asked Questions"}),i.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[t.jsx(Co,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsxs("p",{className:"text-gray-500",children:['No results found for "',n,'"']})]}):i.map(o=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsxs("button",{onClick:()=>s(e===o.category?null:o.category),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(o.icon,{className:"w-5 h-5 text-blue-600"})}),t.jsx("span",{className:"font-medium text-gray-900",children:o.category}),t.jsxs("span",{className:"text-sm text-gray-400",children:["(",o.questions.length,")"]})]}),e===o.category?t.jsx(dl,{className:"w-5 h-5 text-gray-400"}):t.jsx(Rr,{className:"w-5 h-5 text-gray-400"})]}),e===o.category&&t.jsx("div",{className:"border-t border-gray-100 divide-y divide-gray-100",children:o.questions.map((c,d)=>t.jsxs("div",{className:"p-4",children:[t.jsxs("button",{onClick:()=>a(r===`${o.category}-${d}`?null:`${o.category}-${d}`),className:"w-full flex items-start justify-between text-left",children:[t.jsx("span",{className:"font-medium text-gray-700 pr-4",children:c.q}),r===`${o.category}-${d}`?t.jsx(dl,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-1"}):t.jsx(Rr,{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-1"})]}),r===`${o.category}-${d}`&&t.jsx("p",{className:"mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:c.a})]},d))})]},o.category))]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[t.jsx("div",{className:"p-4 border-b border-gray-100",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Quick Guides"})}),t.jsx("div",{className:"divide-y divide-gray-100",children:Yb.map(o=>t.jsxs("a",{href:"#",className:"flex items-center gap-3 p-4 hover:bg-gray-50 transition-colors",children:[t.jsx(o.icon,{className:"w-5 h-5 text-gray-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.title}),t.jsx("p",{className:"text-xs text-gray-500",children:o.description})]}),t.jsx(Tv,{className:"w-4 h-4 text-gray-400"})]},o.title))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:[t.jsx(Fv,{className:"w-8 h-8 mb-4"}),t.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Need More Help?"}),t.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Can't find what you're looking for? Contact our support team."}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("a",{href:"mailto:support@neliumsystems.com",className:"flex items-center gap-2 text-white hover:text-blue-100",children:[t.jsx(Vs,{className:"w-4 h-4"}),"support@neliumsystems.com"]}),t.jsxs("a",{href:"tel:+254700000000",className:"flex items-center gap-2 text-white hover:text-blue-100",children:[t.jsx(Ol,{className:"w-4 h-4"}),"+254 700 000 000"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"System Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Version"}),t.jsx("span",{className:"font-medium",children:"1.0.0"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Build"}),t.jsx("span",{className:"font-medium",children:"2024.12.26"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Developer"}),t.jsx("span",{className:"font-medium",children:"Nelium Systems"})]})]})]})]})]})]})}function lp({assigned:e,completed:s,showNumbers:r=!0}){const a=e>0?Math.round(s/e*100):0,n=e-s;return t.jsxs("div",{className:"w-full",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-300",style:{width:`${a}%`}})}),r&&t.jsxs("span",{className:"text-xs text-gray-500 min-w-[60px] text-right",children:[s,"/",e]})]}),n>0&&t.jsxs("p",{className:"text-xs text-orange-600 mt-0.5",children:[n," pending"]})]})}function Zb({editor:e}){const r=(()=>{const n=e.mediaAssigned-e.mediaCompleted;return n===0?{label:"Available",color:"text-green-600",bg:"bg-green-100",icon:Y,priority:1}:n<=5?{label:"Light Load",color:"text-blue-600",bg:"bg-blue-100",icon:jr,priority:2}:n<=15?{label:"Normal",color:"text-yellow-600",bg:"bg-yellow-100",icon:Fc,priority:3}:{label:"Heavy Load",color:"text-red-600",bg:"bg-red-100",icon:xs,priority:4}})(),a=r.icon;return t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-all",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-medium",children:e.name.charAt(0)})}),t.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white ${e.isOnline?"bg-green-500":"bg-gray-400"}`})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.name}),t.jsx("p",{className:"text-xs text-gray-500",children:e.group})]})]}),t.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${r.bg} ${r.color}`,children:[t.jsx(a,{className:"w-3 h-3"}),r.label]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Status"}),t.jsx("span",{className:e.isOnline?"text-green-600":"text-gray-500",children:e.isOnline?e.currentActivity||"Online":`Offline  ${tj(e.lastSeen)}`})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Workload"}),t.jsxs("span",{className:"font-medium",children:[e.mediaAssigned-e.mediaCompleted," pending"]})]}),t.jsx(lp,{assigned:e.mediaAssigned,completed:e.mediaCompleted}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-1",children:[t.jsxs("span",{children:["Avg: ",e.avgProcessingTime," min/file"]}),t.jsxs("span",{children:[e.mediaCompleted," completed"]})]})]})]})}function ej({group:e}){const s=e.totalMedia>0?Math.round(e.completedMedia/e.totalMedia*100):0,r=e.totalMedia-e.completedMedia,a=e.editorCount>0?Math.round(r/e.editorCount):0;return t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:e.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:[e.code,"  ",e.editorCount," editors"]})]}),t.jsxs("div",{className:`text-2xl font-bold ${s>=80?"text-green-600":s>=50?"text-yellow-600":"text-red-600"}`,children:[s,"%"]})]}),t.jsx(lp,{assigned:e.totalMedia,completed:e.completedMedia}),t.jsxs("div",{className:"flex items-center justify-between mt-3 text-sm",children:[t.jsxs("span",{className:"text-gray-500",children:[r," pending"]}),t.jsxs("span",{className:"text-gray-500",children:["~",a," per editor"]})]})]})}function tj(e){const s=Math.floor((new Date-new Date(e))/1e3);if(s<60)return"just now";const r=Math.floor(s/60);if(r<60)return`${r}m ago`;const a=Math.floor(r/60);return a<24?`${a}h ago`:`${Math.floor(a/24)}d ago`}function sj(){const{activeEvent:e,isAdmin:s,isTeamLead:r,isGroupLeader:a}=de(),[n,l]=y.useState([]),[i,o]=y.useState([]),[c,d]=y.useState(!0),[u,x]=y.useState("all"),[v,b]=y.useState("all"),[h,p]=y.useState("workload"),[N,m]=y.useState(!0),[f,g]=y.useState(new Date),k=y.useCallback(async()=>{if(!(e!=null&&e.id)){l([]),o([]),d(!1);return}try{const w=await vv.getOverview(e.id),_=(w.editors||[]).map(S=>{var U,R,T,V;return{id:S.id,name:S.name,email:S.email,group:((R=(U=S.groups)==null?void 0:U[0])==null?void 0:R.name)||"Unassigned",groupId:((V=(T=S.groups)==null?void 0:T[0])==null?void 0:V.id)||null,isOnline:S.is_online,lastSeen:S.last_seen_at,currentActivity:S.current_activity,mediaAssigned:S.media_assigned||0,mediaCompleted:S.media_completed||0,avgProcessingTime:S.avg_processing_time||0}}),A=(w.groups||[]).map(S=>({id:S.id,name:S.name,code:S.code,totalMedia:S.total_media||0,completedMedia:S.completed_media||0,editorCount:S.editor_count||0}));l(_),o(A),g(new Date)}catch(w){console.error("Failed to fetch work allocation:",w)}finally{d(!1)}},[e==null?void 0:e.id]);y.useEffect(()=>{k()},[k]),y.useEffect(()=>{let w;return N&&(e!=null&&e.id)&&(w=setInterval(k,5e3)),()=>{w&&clearInterval(w)}},[N,e==null?void 0:e.id,k]);const C=!!(e!=null&&e.id),E=n.filter(w=>!(u!=="all"&&w.groupId!==parseInt(u)||v==="online"&&!w.isOnline||v==="offline"&&w.isOnline||v==="available"&&w.mediaAssigned-w.mediaCompleted>0||v==="light"&&w.mediaAssigned-w.mediaCompleted>5)).sort((w,_)=>h==="workload"?w.mediaAssigned-w.mediaCompleted-(_.mediaAssigned-_.mediaCompleted):h==="name"?w.name.localeCompare(_.name):h==="group"?w.group.localeCompare(_.group):0),j={totalEditors:n.length,onlineEditors:n.filter(w=>w.isOnline).length,availableEditors:n.filter(w=>w.isOnline&&w.mediaAssigned-w.mediaCompleted===0).length,lightLoadEditors:n.filter(w=>w.isOnline&&w.mediaAssigned-w.mediaCompleted>0&&w.mediaAssigned-w.mediaCompleted<=5).length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Work Allocation"}),t.jsxs("p",{className:"text-gray-500",children:["Assign and balance editor workloads",e!=null&&e.name?`  Active event: ${e.name}`:""]})]}),!C&&t.jsx("div",{className:"p-4 rounded-xl bg-amber-50 border border-amber-200 text-amber-800 text-sm",children:"You must activate an event before managing work allocation."}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:["Team Status",N&&t.jsxs("span",{className:"flex items-center gap-1.5 text-sm font-normal text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live"]})]}),t.jsxs("p",{className:"text-gray-500",children:["Real-time editor availability  Last updated: ",f.toLocaleTimeString()]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("button",{onClick:()=>m(!N),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${N?"bg-green-50 border-green-200 text-green-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[t.jsx(zt,{className:`w-3 h-3 ${N?"fill-green-500 text-green-500":"text-gray-400"}`}),N?"Live Updates On":"Live Updates Off"]})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(Ne,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.totalEditors}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total Editors"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(Ia,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.onlineEditors}),t.jsx("p",{className:"text-sm text-gray-500",children:"Online Now"})]})]})}),t.jsx("div",{className:"bg-green-50 rounded-xl border border-green-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(Y,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-700",children:j.availableEditors}),t.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Available for Work"})]})]})}),t.jsx("div",{className:"bg-blue-50 rounded-xl border border-blue-200 p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(jr,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-blue-700",children:j.lightLoadEditors}),t.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Light Workload"})]})]})})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Group Workload"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(w=>t.jsx(ej,{group:w},w.id))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Editor Status",t.jsx("span",{className:"ml-2 text-sm font-normal text-gray-500",children:"(sorted by availability - assign work to those at the top)"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:u,onChange:w=>x(w.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Groups"}),i.map(w=>t.jsx("option",{value:w.id,children:w.name},w.id))]}),t.jsxs("select",{value:v,onChange:w=>b(w.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"online",children:"Online Only"}),t.jsx("option",{value:"available",children:"Available"}),t.jsx("option",{value:"light",children:"Light Load"})]}),t.jsxs("select",{value:h,onChange:w=>p(w.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"workload",children:"Sort by Workload"}),t.jsx("option",{value:"name",children:"Sort by Name"}),t.jsx("option",{value:"group",children:"Sort by Group"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(w=>t.jsx(Zb,{editor:w},w.id))}),E.length===0&&t.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200",children:[t.jsx(Ne,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No editors match the filter"})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[t.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Assignment Tips"}),t.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Green (Available)"})," - No pending work, ready for new assignments"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Blue (Light Load)"})," - 1-5 pending items, can take more work"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Yellow (Normal)"})," - 6-15 pending items, moderate workload"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Red (Heavy Load)"})," - 15+ pending items, avoid assigning more"]})]})]})]})}function rj({session:e}){const s=e.files_total>0?Math.round(e.files_copied/e.files_total*100):0,r=()=>e.status==="completed"?"border-green-200 bg-green-50":e.status==="early_removal"||s<25?"border-red-200 bg-red-50":s<75?"border-yellow-200 bg-yellow-50":"border-blue-200 bg-blue-50",a=()=>e.status==="completed"?t.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-xs font-medium",children:[t.jsx(Y,{className:"w-3 h-3"})," Complete"]}):e.status==="early_removal"?t.jsxs("span",{className:"flex items-center gap-1 text-red-600 text-xs font-medium",children:[t.jsx(Ws,{className:"w-3 h-3"})," Early Removal!"]}):e.status==="active"?t.jsxs("span",{className:"flex items-center gap-1 text-blue-600 text-xs font-medium",children:[t.jsx(Ov,{className:"w-3 h-3 animate-spin"})," Copying"]}):t.jsx("span",{className:"text-gray-500 text-xs",children:e.status});return t.jsxs("div",{className:`rounded-xl border-2 p-4 transition-all ${r()}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:t.jsx(st,{className:"w-5 h-5 text-gray-700"})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:["Camera ",e.camera_number,e.sd_label||""]}),t.jsx("p",{className:"text-sm text-gray-500",children:e.event_name||"Unknown Event"})]})]}),a()]}),t.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-600",children:[t.jsx(Qt,{className:"w-4 h-4"}),t.jsx("span",{children:e.editor_name||"Unknown"}),t.jsx("span",{className:"text-gray-300",children:""}),t.jsx("span",{children:e.group_code||""})]}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[t.jsxs("span",{className:"text-gray-600",children:[e.files_copied," / ",e.files_total," files"]}),t.jsxs("span",{className:"font-medium",children:[s,"%"]})]}),t.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full transition-all duration-500 ${s===100?"bg-green-500":s<25?"bg-red-500":s<75?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${s}%`}})})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ge,{className:"w-3 h-3"}),"Started ",new Date(e.started_at).toLocaleTimeString()]}),e.files_pending>0&&t.jsxs("span",{className:"text-orange-600 font-medium",children:[e.files_pending," pending"]})]})]})}function aj({removal:e}){return t.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(W,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-red-900",children:"Early SD Removal"}),t.jsxs("p",{className:"text-sm text-red-700",children:["Camera ",e.camera_number,e.sd_label," - ",e.files_pending," files not copied"]}),t.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[e.editor_name,"  ",new Date(e.removed_at).toLocaleTimeString()]})]})]})})}function nj({camera:e}){const r=e.health_score>=80?{bg:"bg-green-50",border:"border-green-200",icon:"text-green-500"}:e.health_score>=50?{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-500"}:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-500"};return t.jsxs("div",{className:`rounded-lg border ${r.border} ${r.bg} p-3 flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zt,{className:`w-3 h-3 fill-current ${r.icon}`}),t.jsxs("span",{className:"font-medium text-gray-900",children:["Camera ",e.camera_number]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("span",{className:"text-sm font-medium",children:[e.health_score,"%"]}),e.open_issues>0&&t.jsxs("span",{className:"ml-2 text-xs text-red-600",children:[e.open_issues," issues"]})]})]})}function lj(){const{activeEvent:e,isAdmin:s,isTeamLead:r,isGroupLeader:a}=de(),[n,l]=y.useState(!0),[i,o]=y.useState(new Date),[c,d]=y.useState(!0),[u,x]=y.useState({activeSessions:[],earlyRemovals:[],cameraHealth:[],stats:{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),v=y.useCallback(async()=>{try{if(!(e!=null&&e.id)){x({activeSessions:[],earlyRemovals:[],cameraHealth:[],stats:{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),d(!1);return}const b=await Ge.getLiveOperations(e.id);x({activeSessions:b.activeSessions||[],earlyRemovals:b.earlyRemovals||[],cameraHealth:b.cameraHealth||[],stats:b.stats||{totalActiveSessions:0,editorsOnline:0,camerasHealthy:0,camerasAttention:0,earlyRemovalsToday:0}}),o(new Date)}catch(b){console.error("Failed to fetch live operations:",b)}finally{d(!1)}},[e==null?void 0:e.id]);return y.useEffect(()=>{v()},[v]),y.useEffect(()=>{let b;return n&&(b=setInterval(v,3e3)),()=>{b&&clearInterval(b)}},[n,v]),c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[t.jsx(ae,{className:"w-7 h-7 text-blue-600"}),"Live Operations",n&&t.jsxs("span",{className:"flex items-center gap-1.5 text-sm font-normal text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live"]})]}),t.jsxs("p",{className:"text-gray-500",children:["Real-time SD sessions and camera activity  Updated: ",i.toLocaleTimeString()]}),e!=null&&e.name?t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Active event: ",t.jsx("span",{className:"font-medium text-blue-600",children:e.name})]}):null]}),t.jsxs("button",{onClick:()=>l(!n),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${n?"bg-green-50 border-green-200 text-green-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[n?t.jsx(qs,{className:"w-4 h-4"}):t.jsx(Da,{className:"w-4 h-4"}),n?"Live Updates On":"Live Updates Off"]})]}),!(e!=null&&e.id)&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-sm text-amber-800",children:"You must activate an event before viewing live operations."}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-700",children:u.stats.totalActiveSessions}),t.jsx("div",{className:"text-sm text-blue-600",children:"Active Sessions"})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-green-700",children:u.stats.editorsOnline}),t.jsx("div",{className:"text-sm text-green-600",children:"Editors Online"})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-green-700",children:u.stats.camerasHealthy}),t.jsx("div",{className:"text-sm text-green-600",children:"Cameras Healthy"})]}),t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-yellow-700",children:u.stats.camerasAttention}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Need Attention"})]}),t.jsxs("div",{className:`rounded-xl p-4 text-center ${u.stats.earlyRemovalsToday>0?"bg-red-50 border border-red-200":"bg-gray-50 border border-gray-200"}`,children:[t.jsx("div",{className:`text-3xl font-bold ${u.stats.earlyRemovalsToday>0?"text-red-700":"text-gray-400"}`,children:u.stats.earlyRemovalsToday}),t.jsx("div",{className:`text-sm ${u.stats.earlyRemovalsToday>0?"text-red-600":"text-gray-500"}`,children:"Early Removals Today"})]})]}),u.earlyRemovals.length>0&&t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-semibold text-red-900 mb-3 flex items-center gap-2",children:[t.jsx(W,{className:"w-5 h-5"}),"Early Removal Warnings"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.earlyRemovals.map(b=>t.jsx(aj,{removal:b},b.id))})]}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(X,{className:"w-5 h-5 text-blue-600"}),"Active SD Sessions",t.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",u.activeSessions.filter(b=>b.status==="active").length," active)"]})]}),u.activeSessions.length===0?t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[t.jsx(X,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No active SD sessions"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Sessions will appear here when editors insert SD cards"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.activeSessions.map(b=>t.jsx(rj,{session:b},b.id))})]}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(st,{className:"w-5 h-5 text-gray-600"}),"Camera Health"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:u.cameraHealth.map(b=>t.jsx(nj,{camera:b},b.camera_number))}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Health based on issue frequency, severity, and resolution time"})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:t.jsxs("p",{className:"text-sm text-blue-700",children:[t.jsx("strong",{children:" Observation Only"}),"  This view is for monitoring. Problems should be addressed by contacting editors directly or through the Issues module."]})})]})}const ks={VERIFIED_BACKUP:"verified_backup",EDITOR_STREAM:"editor_stream",QA_CACHE:"qa_cache",OFFLINE:"offline"};function ij({media:e,onClose:s,canDownload:r,onDownload:a,user:n}){var N,m,f;const[l,i]=y.useState(!1),[o,c]=y.useState(!1),[d,u]=y.useState(null),[x,v]=y.useState(!0);y.useEffect(()=>{(()=>{e.backup_verified&&e.backup_available?u({type:ks.VERIFIED_BACKUP,label:"Verified Backup",icon:X,color:"text-green-600",bgColor:"bg-green-50",url:e.backup_stream_url||e.preview_url}):e.editor_online&&e.local_available?u({type:ks.EDITOR_STREAM,label:"Editor Stream (Live)",icon:qs,color:"text-blue-600",bgColor:"bg-blue-50",url:e.editor_stream_url||e.preview_url}):e.qa_cache_available?u({type:ks.QA_CACHE,label:"QA Review Cache",icon:wt,color:"text-yellow-600",bgColor:"bg-yellow-50",url:e.qa_cache_url}):u({type:ks.OFFLINE,label:"Source Offline",icon:Da,color:"text-red-600",bgColor:"bg-red-50",url:null}),v(!1)})()},[e]);const b=async()=>{var g,k;if(!o)try{await((k=yt.logPlayback)==null?void 0:k.call(yt,e.media_id,{source:d==null?void 0:d.type,reason:((g=e.issues)==null?void 0:g.length)>0?"issue_review":"admin_oversight"})),c(!0)}catch(C){console.error("Failed to log playback:",C)}i(!0)},h=async()=>{var g;if(a){try{await((g=yt.logDownload)==null?void 0:g.call(yt,e.media_id,{source:d==null?void 0:d.type}))}catch(k){console.error("Failed to log download:",k)}a(e)}};if(!e)return null;const p=(d==null?void 0:d.icon)||X;return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl max-w-5xl w-full max-h-[95vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.filename}),t.jsx("p",{className:"text-sm text-gray-500",children:e.media_id})]}),d&&t.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${d.bgColor}`,children:[t.jsx(p,{className:`w-4 h-4 ${d.color}`}),t.jsxs("span",{className:`text-sm font-medium ${d.color}`,children:["Source: ",d.label]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[r&&(d==null?void 0:d.type)!==ks.OFFLINE&&t.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(Oa,{className:"w-4 h-4"}),"Download"]}),r&&(d==null?void 0:d.type)!==ks.OFFLINE&&t.jsxs("button",{onClick:()=>navigator.clipboard.writeText((d==null?void 0:d.url)||""),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Copy stream URL",children:[t.jsx(Tc,{className:"w-4 h-4"}),"Copy URL"]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Ae,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"flex-1 bg-black relative",children:x?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):(d==null?void 0:d.type)===ks.OFFLINE?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Da,{className:"w-20 h-20 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-xl font-medium",children:"Source Offline"}),t.jsx("p",{className:"text-sm mt-2",children:"Video is not currently available for playback"}),t.jsx("p",{className:"text-xs mt-4 text-gray-500",children:"Backup disk may be disconnected or editor is offline"})]})}):l?t.jsx("video",{controls:!0,autoPlay:!0,className:"w-full h-full",src:(d==null?void 0:d.url)||e.preview_url,onEnded:()=>i(!1),children:"Your browser does not support video playback."}):t.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[t.jsxs("button",{onClick:b,className:"flex items-center gap-3 px-8 py-4 bg-white/10 hover:bg-white/20 rounded-full transition-colors text-white",children:[t.jsx(Ur,{className:"w-8 h-8"}),t.jsx("span",{className:"text-lg font-medium",children:"Play Video"})]}),t.jsx("p",{className:"absolute bottom-8 text-white/60 text-sm",children:"Playback will be logged for audit purposes"})]})}),t.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qt,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Person"}),t.jsx("span",{className:"font-medium",children:e.full_name||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vv,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Condition"}),t.jsx("span",{className:"font-medium",children:e.condition||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dc,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Region"}),t.jsx("span",{className:"font-medium",children:e.region||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(st,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Camera / SD"}),t.jsxs("span",{className:"font-medium",children:[e.camera_number||"?"," / ",e.sd_label||"?"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Indexed"}),t.jsx("span",{className:"font-medium",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qt,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 block text-xs",children:"Editor"}),t.jsx("span",{className:"font-medium",children:((N=e.editor)==null?void 0:N.name)||"N/A"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[((m=e.issues)==null?void 0:m.length)>0&&t.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-50 border border-red-200 rounded-full",children:[t.jsx(W,{className:"w-4 h-4 text-red-600"}),t.jsxs("span",{className:"text-sm text-red-700",children:[e.issues.length," Issue",e.issues.length>1?"s":""]})]}),t.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${e.backup_verified?"bg-green-50 border border-green-200":e.backup_pending?"bg-yellow-50 border border-yellow-200":"bg-gray-50 border border-gray-200"}`,children:[t.jsx(X,{className:`w-4 h-4 ${e.backup_verified?"text-green-600":e.backup_pending?"text-yellow-600":"text-gray-600"}`}),t.jsx("span",{className:`text-sm ${e.backup_verified?"text-green-700":e.backup_pending?"text-yellow-700":"text-gray-700"}`,children:e.backup_verified?"Backup Verified":e.backup_pending?"Backup Pending":"No Backup"})]})]}),((f=e.issues)==null?void 0:f.length)>0&&t.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Issue Notes"}),e.issues.map((g,k)=>{var C;return t.jsxs("div",{className:"text-sm text-red-700",children:[t.jsxs("span",{className:"font-medium",children:[(C=g.type)==null?void 0:C.replace("_"," "),":"]})," ",g.description||"No description"]},k)})]})]}),t.jsx("div",{className:"px-4 py-2 bg-gray-100 border-t border-gray-200 text-center",children:t.jsxs("p",{className:"text-xs text-gray-500",children:[t.jsx(wt,{className:"w-3 h-3 inline mr-1"}),"All playback actions are logged for audit. User: ",n==null?void 0:n.name," (",n==null?void 0:n.role,")"]})})]})})}function oj(){const{user:e,activeEvent:s,isAdmin:r,isTeamLead:a,isGroupLeader:n,isQA:l,isQALead:i}=de(),[o,c]=y.useState([]),[d,u]=y.useState(!1),[x,v]=y.useState(null),[b,h]=y.useState(!1),p=r()||a(),N=l()||i(),m=n(),f=p,g=p,k=p,C=p||m,[E,j]=y.useState({full_name:"",age:"",condition:"",region:"",camera_number:"",sd_label:"",editor_id:"",group_id:"",issue_type:"",issue_status:"",backup_status:"",date_from:"",date_to:"",page:1}),[w,_]=y.useState({current_page:1,last_page:1,total:0}),A=async R=>{if(R==null||R.preventDefault(),!(s!=null&&s.id)){c([]),_({current_page:1,last_page:1,total:0}),h(!0);return}u(!0),h(!0);try{const T={};p?Object.entries(E).forEach(([K,se])=>{se&&(T[K]=se)}):N?(E.issue_type&&(T.issue_type=E.issue_type),E.issue_status&&(T.issue_status=E.issue_status),E.camera_number&&(T.camera_number=E.camera_number),E.sd_label&&(T.sd_label=E.sd_label),T.has_issues=!0):m&&(E.issue_type&&(T.issue_type=E.issue_type),E.issue_status&&(T.issue_status=E.issue_status),E.camera_number&&(T.camera_number=E.camera_number),T.my_groups=!0),T.event_id=s.id;const V=await yt.search(T);c(V.data||[]),_({current_page:V.current_page||1,last_page:V.last_page||1,total:V.total||0})}catch(T){console.error("Search failed:",T)}finally{u(!1)}},S=async R=>{var T;if(f)try{const V=await((T=yt.getDownloadUrl)==null?void 0:T.call(yt,R.media_id));V!=null&&V.url?window.open(V.url,"_blank"):window.open(R.preview_url||R.backup_stream_url,"_blank")}catch(V){console.error("Download failed:",V)}},U=[{value:"no_audio",label:"No Audio"},{value:"low_audio",label:"Low Audio"},{value:"blurry",label:"Blurry Video"},{value:"shaky",label:"Shaky Video"},{value:"cut_interview",label:"Cut Interview"},{value:"filename_error",label:"Filename Error"},{value:"duplicate",label:"Duplicate"},{value:"other",label:"Other"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Search & Playback"}),t.jsx("p",{className:"text-gray-500",children:p?"Global search across all indexed media  find any video ever indexed":N?"Search videos with reported issues only":m?"Search issues within your groups":"Search indexed media"}),s!=null&&s.name?t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Active event: ",t.jsx("span",{className:"font-medium text-blue-600",children:s.name})]}):null]}),!(s!=null&&s.id)&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-sm text-amber-800",children:"You must activate an event before searching media."}),N&&t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 flex items-start gap-3",children:[t.jsx(Pr,{className:"w-5 h-5 text-purple-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-purple-800",children:"QA Search Restrictions"}),t.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"You can only search videos with reported issues. Search by name, condition, region, editor, or group is not available. This is enforced at API level."})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:t.jsxs("form",{onSubmit:A,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[g&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Full Name"}),t.jsx("input",{type:"text",value:E.full_name,onChange:R=>j({...E,full_name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Search by name..."})]}),g&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Age"}),t.jsx("input",{type:"number",value:E.age,onChange:R=>j({...E,age:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Age"})]}),C&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Condition"}),t.jsx("input",{type:"text",value:E.condition,onChange:R=>j({...E,condition:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Cripple"})]}),k&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Region"}),t.jsx("input",{type:"text",value:E.region,onChange:R=>j({...E,region:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Kisumu"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Camera Number"}),t.jsx("input",{type:"text",value:E.camera_number,onChange:R=>j({...E,camera_number:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 10"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"SD Card Label"}),t.jsx("input",{type:"text",value:E.sd_label,onChange:R=>j({...E,sd_label:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 10B"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Issue Type"}),t.jsxs("select",{value:E.issue_type,onChange:R=>j({...E,issue_type:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Types"}),U.map(R=>t.jsx("option",{value:R.value,children:R.label},R.value))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Issue Status"}),t.jsxs("select",{value:E.issue_status,onChange:R=>j({...E,issue_status:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Any Status"}),t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"acknowledged",children:"Acknowledged"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"})]})]}),p&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Backup Status"}),t.jsxs("select",{value:E.backup_status,onChange:R=>j({...E,backup_status:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Any Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"backed_up",children:"Backed Up"}),t.jsx("option",{value:"verified",children:"Verified"})]})]}),p&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"From Date"}),t.jsx("input",{type:"date",value:E.date_from,onChange:R=>j({...E,date_from:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"To Date"}),t.jsx("input",{type:"date",value:E.date_to,onChange:R=>j({...E,date_to:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[t.jsx("button",{type:"button",onClick:()=>j({full_name:"",age:"",condition:"",region:"",camera_number:"",sd_label:"",editor_id:"",group_id:"",issue_type:"",issue_status:"",backup_status:"",date_from:"",date_to:"",page:1}),className:"text-gray-600 hover:text-gray-800",children:"Clear Filters"}),t.jsxs("button",{type:"submit",disabled:d||!(s!=null&&s.id),className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[t.jsx(Gt,{className:"w-4 h-4"}),d?"Searching...":"Search"]})]})]})}),b&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:t.jsxs("h3",{className:"font-semibold text-gray-900",children:[w.total," Result",w.total!==1?"s":""," Found"]})}),d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.length===0?t.jsxs("div",{className:"p-8 text-center text-gray-500",children:[t.jsx(nt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No videos found matching your search criteria"})]}):t.jsx("div",{className:"divide-y divide-gray-100",children:o.map(R=>{var T,V;return t.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center gap-4",children:[t.jsx("div",{className:"w-24 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:R.thumbnail_url?t.jsx("img",{src:R.thumbnail_url,alt:"",className:"w-full h-full object-cover"}):t.jsx(Mv,{className:"w-8 h-8 text-gray-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-medium text-gray-900 truncate",children:R.filename}),((T=R.issues)==null?void 0:T.length)>0&&t.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs font-medium",children:"Issue"}),t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${R.backup_verified?"bg-green-100 text-green-700":R.backup_pending?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:R.backup_verified?"Verified":R.backup_pending?"Pending":"No Backup"})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[p&&R.full_name&&t.jsx("span",{children:R.full_name}),t.jsxs("span",{children:["Camera ",R.camera_number||"?"]}),t.jsxs("span",{children:["SD ",R.sd_label||"?"]}),((V=R.editor)==null?void 0:V.name)&&t.jsxs("span",{children:["Editor: ",R.editor.name]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[R.backup_available&&t.jsx("span",{className:"flex items-center gap-1 text-green-600",children:t.jsx(X,{className:"w-4 h-4"})}),R.editor_online&&t.jsx("span",{className:"flex items-center gap-1 text-blue-600",children:t.jsx(qs,{className:"w-4 h-4"})}),!R.backup_available&&!R.editor_online&&t.jsx("span",{className:"flex items-center gap-1 text-red-600",children:t.jsx(Da,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>v(R),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[t.jsx(Ur,{className:"w-4 h-4"}),"Play"]}),f&&t.jsx("button",{onClick:()=>S(R),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Download",children:t.jsx(Oa,{className:"w-4 h-4"})})]})]},R.id)})}),w.last_page>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",w.current_page," of ",w.last_page]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{j({...E,page:w.current_page-1}),A()},disabled:w.current_page===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Previous"}),t.jsx("button",{onClick:()=>{j({...E,page:w.current_page+1}),A()},disabled:w.current_page===w.last_page,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 hover:bg-gray-50",children:"Next"})]})]})]}),x&&t.jsx(ij,{media:x,onClose:()=>v(null),canDownload:f,onDownload:S,user:e})]})}function ie({children:e,roles:s}){const{user:r,loading:a,hasAnyRole:n}=de();return a?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?s&&!n(s)?t.jsx(fo,{to:"/"}):t.jsx(Yv,{children:e}):t.jsx(fo,{to:"/login"})}function cj(){return t.jsx(bv,{children:t.jsx(Nv,{children:t.jsxs(Df,{children:[t.jsxs(Af,{children:[t.jsx(Z,{path:"/login",element:t.jsx(eb,{})}),t.jsx(Z,{path:"/register",element:t.jsx(tb,{})}),t.jsx(Z,{path:"/forgot-password",element:t.jsx(sb,{})}),t.jsx(Z,{path:"/reset-password",element:t.jsx(rb,{})}),t.jsx(Z,{path:"/",element:t.jsx(ie,{children:t.jsx(xb,{})})}),t.jsx(Z,{path:"/analytics-dashboard",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(hb,{})})}),t.jsx(Z,{path:"/live-operations",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(lj,{})})}),t.jsx(Z,{path:"/events",element:t.jsx(ie,{roles:["admin","team-lead"],children:t.jsx(fb,{})})}),t.jsx(Z,{path:"/groups",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(yb,{})})}),t.jsx(Z,{path:"/cameras",element:t.jsx(ie,{roles:["admin","team-lead"],children:t.jsx(vb,{})})}),t.jsx(Z,{path:"/search",element:t.jsx(ie,{roles:["admin","team-lead","group-leader","qa"],children:t.jsx(oj,{})})}),t.jsx(Z,{path:"/media",element:t.jsx(ie,{roles:["admin","team-lead"],children:t.jsx(jb,{})})}),t.jsx(Z,{path:"/quality-control",element:t.jsx(ie,{roles:["admin","team-lead","qa","group-leader"],children:t.jsx(Nb,{})})}),t.jsx(Z,{path:"/issues",element:t.jsx(ie,{roles:["admin","team-lead","group-leader","qa"],children:t.jsx(kb,{})})}),t.jsx(Z,{path:"/healing-cases",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(Sb,{})})}),t.jsx(Z,{path:"/backups",element:t.jsx(ie,{roles:["admin","team-lead","backup"],children:t.jsx(_b,{})})}),t.jsx(Z,{path:"/storage-forecast",element:t.jsx(ie,{roles:["admin","team-lead","backup"],children:t.jsx(Eb,{})})}),t.jsx(Z,{path:"/data-protection",element:t.jsx(ie,{roles:["admin","team-lead"],children:t.jsx(Ab,{})})}),t.jsx(Z,{path:"/users",element:t.jsx(ie,{roles:["admin","team-lead","group-leader","qa-lead","backup-lead"],children:t.jsx(Mb,{})})}),t.jsx(Z,{path:"/approvals",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(Ob,{})})}),t.jsx(Z,{path:"/audit-logs",element:t.jsx(ie,{roles:["admin"],children:t.jsx(Db,{})})}),t.jsx(Z,{path:"/settings",element:t.jsx(ie,{roles:["admin"],children:t.jsx(Fb,{})})}),t.jsx(Z,{path:"/profile",element:t.jsx(ie,{children:t.jsx($b,{})})}),t.jsx(Z,{path:"/notifications",element:t.jsx(ie,{children:t.jsx(zb,{})})}),t.jsx(Z,{path:"/reports",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(Hb,{})})}),t.jsx(Z,{path:"/shifts",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(Wb,{})})}),t.jsx(Z,{path:"/activity-feed",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(Kb,{})})}),t.jsx(Z,{path:"/help",element:t.jsx(ie,{children:t.jsx(Xb,{})})}),t.jsx(Z,{path:"/work-allocation",element:t.jsx(ie,{roles:["admin","team-lead","group-leader"],children:t.jsx(sj,{})})}),t.jsx(Z,{path:"*",element:t.jsx(fo,{to:"/"})})]}),t.jsx(Zv,{})]})})})}Ni.createRoot(document.getElementById("root")).render(t.jsx(To.StrictMode,{children:t.jsx(cj,{})}));
